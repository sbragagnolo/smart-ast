base 64 content
base64ababPreICOToken1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gQWJhYi5pbyBwcmVJQ08gDQovLyBUaGUgTUlUIExpY2VuY2UNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gU2FmZSBtYXRocywgYm9ycm93ZWQgZnJvbSBPcGVuWmVwcGVsaW4NCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmxpYnJhcnkgU2FmZU1hdGggew0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gQWRkIGEgbnVtYmVyIHRvIGFub3RoZXIgbnVtYmVyLCBjaGVja2luZyBmb3Igb3ZlcmZsb3dzDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHVpbnQgYyA9IGEgKyBiOw0KICAgICAgICBhc3NlcnQoYyA+PSBhICYmIGMgPj0gYik7DQogICAgICAgIHJldHVybiBjOw0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFN1YnRyYWN0IGEgbnVtYmVyIGZyb20gYW5vdGhlciBudW1iZXIsIGNoZWNraW5nIGZvciB1bmRlcmZsb3dzDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIGFzc2VydChiIDw9IGEpOw0KICAgICAgICByZXR1cm4gYSAtIGI7DQogICAgfQ0KfQ0KDQoNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIE93bmVkIGNvbnRyYWN0DQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb250cmFjdCBPd25lZCB7DQogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7DQogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsNCg0KICAgIGZ1bmN0aW9uIE93bmVkKCkgew0KICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgfQ0KDQogICAgbW9kaWZpZXIgb25seU93bmVyIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93Ow0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgew0KICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsNCiAgICB9DQogDQogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBuZXdPd25lcikgew0KICAgICAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsNCiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gRVJDMjAgVG9rZW4sIHdpdGggdGhlIGFkZGl0aW9uIG9mIHN5bWJvbCwgbmFtZSBhbmQgZGVjaW1hbHMNCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMA0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KY29udHJhY3QgRVJDMjBUb2tlbiBpcyBPd25lZCB7DQogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBUb3RhbCBTdXBwbHkNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICB1aW50MjU2IF90b3RhbFN1cHBseSA9IDA7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBCYWxhbmNlcyBmb3IgZWFjaCBhY2NvdW50DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gT3duZXIgb2YgYWNjb3VudCBhcHByb3ZlcyB0aGUgdHJhbnNmZXIgb2YgYW4gYW1vdW50IHRvIGFub3RoZXIgYWNjb3VudA0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gR2V0IHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpIHsNCiAgICAgICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gR2V0IHRoZSBhY2NvdW50IGJhbGFuY2Ugb2YgYW5vdGhlciBhY2NvdW50IHdpdGggYWRkcmVzcyBfb3duZXINCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgYmFsYW5jZQ0KICAgICAgICAgICAgJiYgX2Ftb3VudCA+IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb24temVybyB0cmFuc2Zlcg0KICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dICAgICAvLyBPdmVyZmxvdyBjaGVjaw0KICAgICAgICApIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOw0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOw0KICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUNCiAgICAvLyBfdmFsdWUgYW1vdW50LiBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiBpdCBvdmVyd3JpdGVzIHRoZQ0KICAgIC8vIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoDQogICAgICAgIGFkZHJlc3MgX3NwZW5kZXIsDQogICAgICAgIHVpbnQyNTYgX2Ftb3VudA0KICAgICkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsNCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBTcGVuZGVyIG9mIHRva2VucyB0cmFuc2ZlciBhbiBhbW91bnQgb2YgdG9rZW5zIGZyb20gdGhlIHRva2VuIG93bmVyJ3MNCiAgICAvLyBiYWxhbmNlIHRvIHRoZSBzcGVuZGVyJ3MgYWNjb3VudC4gVGhlIG93bmVyIG9mIHRoZSB0b2tlbnMgbXVzdCBhbHJlYWR5DQogICAgLy8gaGF2ZSBhcHByb3ZlKC4uLiktZCB0aGlzIHRyYW5zZmVyDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKA0KICAgICAgICBhZGRyZXNzIF9mcm9tLA0KICAgICAgICBhZGRyZXNzIF90bywNCiAgICAgICAgdWludDI1NiBfYW1vdW50DQogICAgKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50ICAgICAgICAgICAgICAgICAgLy8gRnJvbSBhL2MgaGFzIGJhbGFuY2UNCiAgICAgICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgICAgLy8gVHJhbnNmZXIgYXBwcm92ZWQNCiAgICAgICAgICAgICYmIF9hbW91bnQgPiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9uLXplcm8gdHJhbnNmZXINCiAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSAgLy8gT3ZlcmZsb3cgY2hlY2sNCiAgICAgICAgKSB7DQogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOw0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7DQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gUmV0dXJucyB0aGUgYW1vdW50IG9mIHRva2VucyBhcHByb3ZlZCBieSB0aGUgb3duZXIgdGhhdCBjYW4gYmUNCiAgICAvLyB0cmFuc2ZlcnJlZCB0byB0aGUgc3BlbmRlcidzIGFjY291bnQNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoDQogICAgICAgIGFkZHJlc3MgX293bmVyLCANCiAgICAgICAgYWRkcmVzcyBfc3BlbmRlcg0KICAgICkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLA0KICAgICAgICB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCg0KY29udHJhY3QgQWJhYlByZUlDT1Rva2VuIGlzIEVSQzIwVG9rZW4gew0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gVG9rZW4gaW5mb3JtYXRpb24NCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCAgID0gInBBQSI7DQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lICAgICA9ICJBYmFiUHJlSUNPVG9rZW4iOw0KICAgIHVpbnQ4ICBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsNCg0KICAgIHVpbnQyNTYgcHVibGljIFNUQVJUREFURTsgIA0KICAgIHVpbnQyNTYgcHVibGljIEVORERBVEU7ICAgIA0KICAgIHVpbnQyNTYgcHVibGljIEJVWVBSSUNFOyAgIA0KICAgIHVpbnQyNTYgcHVibGljIENBUDsNCg0KICAgIGZ1bmN0aW9uIEFiYWJQcmVJQ09Ub2tlbigpIHsNCiAgICAgICAgU1RBUlREQVRFID0gMTQ5OTk1MTU5MzsgICAgICAgIC8vIDIwMTctMDctMTNUMTM6MTM6MTNVVEMgdG8gdWludDI1NiA9IDE0OTk5NTE1OTMNCiAgICAgICAgRU5EREFURSAgID0gMTUwMDgxNTU5MzsgICAgICAgIC8vIDIwMTctMDctMjNUMTM6MTM6MTNVVEMgdG8gdWludDI1NiA9IDE1MDA4MTU1OTMNCiAgICAgICAgQlVZUFJJQ0UgID0gNDAwMDsgICAgICAgICAgICAgIC8vIGluIGV0aCB3aWxsIGFjdHVhbGl6ZSBiZWZvcmUgc3RhcnQuIGNhbGMgJDAuMDUgQCAkMjAwIEVUSC9VU0QgLy8gIDQwMDAgcEFBIHBlciBFVEgNCiAgICAgICAgQ0FQICAgICAgID0gMjUwMCoxIGV0aGVyOyAgICAgIC8vIGluIGV0aCAoJDUwMEsgLyAwLjA1ICkgLyBldGhlclByaWNlDQogICAgfQ0KCQ0KICAgIGZ1bmN0aW9uIEFjdHVhbGl6ZVByaWNlQmVmb3JlU3RhcnQodWludDI1NiBfc3RhcnQsIHVpbnQyNTYgX2VuZCwgdWludDI1NiBfYnV5UHJpY2UsIHVpbnQyNTYgX2NhcCkgDQogICAgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgDQogICAgew0KICAgICAgICByZXF1aXJlKG5vdyA8IFNUQVJUREFURSk7DQogICAgICAgIFNUQVJUREFURSA9IF9zdGFydDsNCiAgICAgICAgRU5EREFURSAgID0gX2VuZDsNCiAgICAgICAgQlVZUFJJQ0UgID0gX2J1eVByaWNlOw0KICAgICAgICBDQVAgICAgICAgPSBfY2FwOyANCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxFdGhlcnM7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBCdXkgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIC8vIE5vIGNvbnRyaWJ1dGlvbnMgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgY3Jvd2RzYWxlDQogICAgICAgIHJlcXVpcmUobm93ID49IFNUQVJUREFURSk7DQogICAgICAgIC8vIE5vIGNvbnRyaWJ1dGlvbnMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3Jvd2RzYWxlDQogICAgICAgIHJlcXVpcmUobm93IDw9IEVORERBVEUpOw0KICAgICAgICAvLyBObyAwIGNvbnRyaWJ1dGlvbnMNCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsNCg0KICAgICAgICAvLyBBZGQgRVRIIHJhaXNlZCB0byB0b3RhbA0KICAgICAgICB0b3RhbEV0aGVycyA9IHRvdGFsRXRoZXJzLmFkZChtc2cudmFsdWUpOw0KICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIGNhcA0KICAgICAgICByZXF1aXJlKHRvdGFsRXRoZXJzIDw9IENBUCk7DQoNCiAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUgKiBCVVlQUklDRTsNCg0KICAgICAgICAvLyBDaGVjayB0b2tlbnMgPiAwDQogICAgICAgIHJlcXVpcmUodG9rZW5zID4gMCk7DQoNCiAgICAgICAgLy8gQWRkIHRvIHRvdGFsIHN1cHBseQ0KICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKHRva2Vucyk7DQoNCiAgICAgICAgLy8gQWRkIHRvIGJhbGFuY2VzDQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRva2Vucyk7DQoNCiAgICAgICAgLy8gTG9nIGV2ZW50cw0KICAgICAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIHRva2Vucyk7DQoNCiAgICAgICAgLy8gTW92ZSB0aGUgZnVuZHMgdG8gYSBzYWZlIHdhbGxldA0KICAgICAgICBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOw0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudCwgd2l0aCBhDQogICAgLy8gY2hlY2sgdGhhdCB0aGUgY3Jvd2RzYWxlIGlzIGZpbmFsaXNlZA0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAvLyBDYW5ub3QgdHJhbnNmZXIgYmVmb3JlIGNyb3dkc2FsZSBlbmRzIG9yIGNhcCByZWFjaGVkDQogICAgICAgIHJlcXVpcmUobm93ID4gRU5EREFURSB8fCB0b3RhbEV0aGVycyA9PSBDQVApOw0KICAgICAgICAvLyBTdGFuZGFyZCB0cmFuc2Zlcg0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsNCiAgICB9DQoNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFNwZW5kZXIgb2YgdG9rZW5zIHRyYW5zZmVyIGFuIGFtb3VudCBvZiB0b2tlbnMgZnJvbSB0aGUgdG9rZW4gb3duZXIncw0KICAgIC8vIGJhbGFuY2UgdG8gYW5vdGhlciBhY2NvdW50LCB3aXRoIGEgY2hlY2sgdGhhdCB0aGUgY3Jvd2RzYWxlIGlzDQogICAgLy8gZmluYWxpc2VkDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIA0KICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpDQogICAgew0KICAgICAgICAvLyBDYW5ub3QgdHJhbnNmZXIgYmVmb3JlIGNyb3dkc2FsZSBlbmRzIG9yIGNhcCByZWFjaGVkDQogICAgICAgIHJlcXVpcmUobm93ID4gRU5EREFURSB8fCB0b3RhbEV0aGVycyA9PSBDQVApOw0KICAgICAgICAvLyBTdGFuZGFyZCB0cmFuc2ZlckZyb20NCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsNCiAgICB9DQoNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIE93bmVyIGNhbiB0cmFuc2ZlciBvdXQgYW55IGFjY2lkZW50YWxseSBzZW50IEVSQzIwIHRva2Vucw0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCBhbW91bnQpDQogICAgICBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSANCiAgICB7DQogICAgICAgIHJldHVybiBFUkMyMFRva2VuKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIGFtb3VudCk7DQogICAgfQ0KfQ=='