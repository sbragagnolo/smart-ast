base 64 content
base64aequitas
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCi8qDQogKiBUaGUgTUlUIExpY2Vuc2UgKE1JVCkNCiAqDQogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5DQogKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbA0KICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cw0KICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbA0KICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzDQogKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOg0KICoNCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluDQogKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4NCiAqDQogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUg0KICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksDQogKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUNCiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVINCiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sDQogKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElODQogKiBUSEUgU09GVFdBUkUNCiovDQoNCg0KLy8gQSBiYXNlIGNvbnRyYWN0IHRoYXQgaW1wbGVtZW50cyB0aGUgZm9sbG93aW5nIGNvbmNlcHRzOg0KLy8gMS4gQSBzbWFydCBjb250cmFjdCB3aXRoIGFuIG93bmVyDQovLyAyLiBNZXRob2RzIHRoYXQgY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBvd25lcg0KLy8gMy4gVHJhbnNmZXJhYmlsaXR5IG9mIG93bmVyc2hpcA0KY29udHJhY3QgT3duZWQgew0KICAgIC8vIFRoZSBhZGRyZXNzIG9mIHRoZSBvd25lcg0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgLy8gQ29uc3RydWN0b3INCiAgICBmdW5jdGlvbiBPd25lZCgpIHsNCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICAgIH0NCg0KICAgIC8vIEEgbW9kaWZpZXIgdGhhdCBwcm92aWRlcyBhIHByZS1jaGVjayBhcyB0byB3aGV0aGVyIHRoZSBzZW5kZXIgaXMgdGhlIG93bmVyDQogICAgbW9kaWZpZXIgX29ubHlPd25lciB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSByZXZlcnQoKTsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICAvLyBUcmFuc2ZlcnMgb3duZXJzaGlwIHRvIG5ld093bmVyLCBnaXZlbiB0aGF0IHRoZSBzZW5kZXIgaXMgdGhlIG93bmVyDQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgX29ubHlPd25lciB7DQogICAgICAgIG93bmVyID0gbmV3T3duZXI7DQogICAgfQ0KfQ0KDQovLyBBYnN0cmFjdCBjb250cmFjdCBmb3IgdGhlIGZ1bGwgRVJDIDIwIFRva2VuIHN0YW5kYXJkDQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCmNvbnRyYWN0IFRva2VuIGlzIE93bmVkIHsNCiAgICAvKiBUaGlzIGlzIGEgc2xpZ2h0IGNoYW5nZSB0byB0aGUgRVJDMjAgYmFzZSBzdGFuZGFyZC4NCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsNCiAgICBpcyByZXBsYWNlZCB3aXRoOg0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuDQogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90DQogICAgY3VycmVudGx5IHJlY29nbmlzZWQgYXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIG1hdGNoaW5nIGFic3RyYWN0DQogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLg0KICAgICovDQogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsNCgkNCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkDQogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7DQoNCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgDQogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudA0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQNCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWANCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXINCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50DQogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZA0KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMNCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2Zlcg0KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zDQogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMNCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50DQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7DQoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCn0NCg0KLy8gSW1wbGVtZW50YXRpb24gb2YgVG9rZW4gY29udHJhY3QNCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gew0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLg0KICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLg0KICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCgkJcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQp9DQoNCg0KDQovKg0KVGhpcyBUb2tlbiBDb250cmFjdCBpbXBsZW1lbnRzIHRoZSBzdGFuZGFyZCB0b2tlbiBmdW5jdGlvbmFsaXR5IChodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjApIGFzIHdlbGwgYXMgdGhlIGZvbGxvd2luZyBPUFRJT05BTCBleHRyYXMgaW50ZW5kZWQgZm9yIHVzZSBieSBodW1hbnMuDQoNCkluIG90aGVyIHdvcmRzLiBUaGlzIGlzIGludGVuZGVkIGZvciBkZXBsb3ltZW50IGluIHNvbWV0aGluZyBsaWtlIGEgVG9rZW4gRmFjdG9yeSBvciBNaXN0IHdhbGxldCwgYW5kIHRoZW4gdXNlZCBieSBodW1hbnMuDQpJbWFnaW5lIGNvaW5zLCBjdXJyZW5jaWVzLCBzaGFyZXMsIHZvdGluZyB3ZWlnaHQsIGV0Yy4NCk1hY2hpbmUtYmFzZWQsIHJhcGlkIGNyZWF0aW9uIG9mIG1hbnkgdG9rZW5zIHdvdWxkIG5vdCBuZWNlc3NhcmlseSBuZWVkIHRoZXNlIGV4dHJhIGZlYXR1cmVzIG9yIHdpbGwgYmUgbWludGVkIGluIG90aGVyIG1hbm5lcnMuDQoNCjEpIEluaXRpYWwgRmluaXRlIFN1cHBseSAodXBvbiBjcmVhdGlvbiBvbmUgc3BlY2lmaWVzIGhvdyBtdWNoIGlzIG1pbnRlZCkuDQoyKSBJbiB0aGUgYWJzZW5jZSBvZiBhIHRva2VuIHJlZ2lzdHJ5OiBPcHRpb25hbCBEZWNpbWFsLCBTeW1ib2wgJiBOYW1lLg0KMykgT3B0aW9uYWwgYXBwcm92ZUFuZENhbGwoKSBmdW5jdGlvbmFsaXR5IHRvIG5vdGlmeSBhIGNvbnRyYWN0IGlmIGFuIGFwcHJvdmFsKCkgaGFzIG9jY3VycmVkLg0KDQouKi8NCmNvbnRyYWN0IEh1bWFuU3RhbmRhcmRUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsNCg0KICAgIGZ1bmN0aW9uKCkgew0KICAgICAgICAvL2lmIGV0aGVyIGlzIHNlbnQgdG8gdGhpcyBhZGRyZXNzLCBzZW5kIGl0IGJhY2suDQogICAgICAgIHJldmVydCgpOw0KICAgIH0NCg0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQoNCiAgICAvKg0KICAgIE5PVEU6DQogICAgVGhlIGZvbGxvd2luZyB2YXJpYWJsZXMgYXJlIE9QVElPTkFMIHZhbml0aWVzLiBPbmUgZG9lcyBub3QgaGF2ZSB0byBpbmNsdWRlIHRoZW0uDQogICAgVGhleSBhbGxvdyBvbmUgdG8gY3VzdG9taXNlIHRoZSB0b2tlbiBjb250cmFjdCAmIGluIG5vIHdheSBpbmZsdWVuY2VzIHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHkuDQogICAgU29tZSB3YWxsZXRzL2ludGVyZmFjZXMgbWlnaHQgbm90IGV2ZW4gYm90aGVyIHRvIGxvb2sgYXQgdGhpcyBpbmZvcm1hdGlvbi4NCiAgICAqLw0KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgICAgLy9mYW5jeSBuYW1lOiBlZyBTaW1vbiBCdWNrcw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsgICAgICAgICAgICAgICAgLy9Ib3cgbWFueSBkZWNpbWFscyB0byBzaG93LiBpZS4gVGhlcmUgY291bGQgMTAwMCBiYXNlIHVuaXRzIHdpdGggMyBkZWNpbWFscy4gTWVhbmluZyAwLjk4MCBTQlggPSA5ODAgYmFzZSB1bml0cy4gSXQncyBsaWtlIGNvbXBhcmluZyAxIHdlaSB0byAxIGV0aGVyLg0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOyAgICAgICAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlZyBTQlgNCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnSDAuMSc7ICAgICAgIC8vaHVtYW4gMC4xIHN0YW5kYXJkLiBKdXN0IGFuIGFyYml0cmFyeSB2ZXJzaW9uaW5nIHNjaGVtZS4NCg0KICAgIGZ1bmN0aW9uIEh1bWFuU3RhbmRhcmRUb2tlbih1aW50MjU2IF9pbml0aWFsQW1vdW50LCBzdHJpbmcgX3Rva2VuTmFtZSwgdWludDggX2RlY2ltYWxVbml0cywgc3RyaW5nIF90b2tlblN5bWJvbCkgew0KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IF9pbml0aWFsQW1vdW50Ow0KICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2Vucw0KICAgICAgICB0b3RhbFN1cHBseSA9IF9pbml0aWFsQW1vdW50Ow0KICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5DQogICAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOw0KICAgICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMNCiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOw0KICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMNCiAgICAgICAgc3ltYm9sID0gX3Rva2VuU3ltYm9sOw0KICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3Nlcw0KICAgIH0NCg0KICAgIC8qIEFwcHJvdmVzIGFuZCB0aGVuIGNhbGxzIHRoZSByZWNlaXZpbmcgY29udHJhY3QgKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCg0KICAgICAgICAvL2NhbGwgdGhlIHJlY2VpdmVBcHByb3ZhbCBmdW5jdGlvbiBvbiB0aGUgY29udHJhY3QgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQuIFRoaXMgY3JhZnRzIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgbWFudWFsbHkgc28gb25lIGRvZXNuJ3QgaGF2ZSB0byBpbmNsdWRlIGEgY29udHJhY3QgaW4gaGVyZSBqdXN0IGZvciB0aGlzLg0KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkNCiAgICAgICAgLy9pdCBpcyBhc3N1bWVkIHRoYXQgd2hlbiBkb2VzIHRoaXMgdGhhdCB0aGUgY2FsbCAqc2hvdWxkKiBzdWNjZWVkLCBvdGhlcndpc2Ugb25lIHdvdWxkIHVzZSB2YW5pbGxhIGFwcHJvdmUgaW5zdGVhZC4NCiAgICAgICAgaWYgKCFfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKHNoYTMoInJlY2VpdmVBcHByb3ZhbChhZGRyZXNzLHVpbnQyNTYsYWRkcmVzcyxieXRlcykiKSkpLCBtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpKSB7cmV2ZXJ0KCk7fQ0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQp9DQoNCg0KDQpjb250cmFjdCBDYXBpdGFsTWluaW5nVG9rZW4gaXMgSHVtYW5TdGFuZGFyZFRva2VuIHsNCg0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQoNCiAgICAvLyBWYW5pdHkgdmFyaWFibGVzDQogICAgdWludDI1NiBwdWJsaWMgc2ltdWxhdGVkQmxvY2tOdW1iZXI7DQoNCiAgICB1aW50MjU2IHB1YmxpYyByZXdhcmRTY2FyY2l0eUZhY3RvcjsgLy8gVGhlIGZhY3RvciBieSB3aGljaCB0aGUgcmV3YXJkIHJlZHVjZXMNCiAgICB1aW50MjU2IHB1YmxpYyByZXdhcmRSZWR1Y3Rpb25SYXRlOyAvLyBUaGUgbnVtYmVyIG9mIGJsb2NrcyBiZWZvcmUgdGhlIHJld2FyZCByZWR1Y2VzDQoNCiAgICAvLyBSZXdhcmQgcmVsYXRlZCB2YXJpYWJsZXMNCiAgICB1aW50MjU2IHB1YmxpYyBibG9ja0ludGVydmFsOyAvLyBTaW11bGF0ZSBpbnRlbmRlZCBibG9ja3RpbWUgb2YgQml0Q29pbg0KICAgIHVpbnQyNTYgcHVibGljIHJld2FyZFZhbHVlOyAvLyA1MCB1bml0cywgdG8gOCBkZWNpbWFsIHBsYWNlcw0KICAgIHVpbnQyNTYgcHVibGljIGluaXRpYWxSZXdhcmQ7IC8vIEFzc2lnbm1lbnQgb2YgaW5pdGlhbCByZXdhcmQNCg0KICAgIC8vIFBheW91dCByZWxhdGVkIHZhcmlhYmxlcw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gQWNjb3VudCkgcHVibGljIHBlbmRpbmdQYXlvdXRzOyAvLyBLZWVwIHRyYWNrIG9mIHBlci1hZGRyZXNzIGNvbnRyaWJ1dGlvbnMgaW4gdGhpcyByZXdhcmQgYmxvY2sNCiAgICBtYXBwaW5nICh1aW50ID0+IHVpbnQpIHB1YmxpYyB0b3RhbEJsb2NrQ29udHJpYnV0aW9uOyAvLyBLZWVwIHRyYWNrIG9mIHRvdGFsIGV0aGVyIGNvbnRyaWJ1dGlvbiBwZXIgYmxvY2sNCiAgICBtYXBwaW5nICh1aW50ID0+IGJvb2wpIHB1YmxpYyBtaW5lZEJsb2NrOyAvLyBDaGVja3MgaWYgYmxvY2sgaXMgbWluZWQNCg0KICAgIC8vIGNvbnRhaW5zIGFsbCB2YXJpYWJsZXMgcmVxdWlyZWQgdG8gZGlzYnVyc2UgQVFUIHRvIGEgY29udHJpYnV0b3IgZmFpcmx5DQogICAgc3RydWN0IEFjY291bnQgew0KICAgICAgICBhZGRyZXNzIGFkZHI7DQogICAgICAgIHVpbnQgYmxvY2tQYXlvdXQ7DQogICAgICAgIHVpbnQgbGFzdENvbnRyaWJ1dGlvbkJsb2NrTnVtYmVyOw0KICAgICAgICB1aW50IGJsb2NrQ29udHJpYnV0aW9uOw0KICAgIH0NCg0KICAgIHVpbnQgcHVibGljIHRpbWVPZkxhc3RCbG9jazsgLy8gVmFyaWFibGUgdG8ga2VlcCB0cmFjayBvZiB3aGVuIHJld2FyZHMgd2VyZSBnaXZlbg0KDQogICAgLy8gQ29uc3RydWN0b3INCiAgICBmdW5jdGlvbiBDYXBpdGFsTWluaW5nVG9rZW4oc3RyaW5nIF9uYW1lLCB1aW50OCBfZGVjaW1hbHMsIHN0cmluZyBfc3ltYm9sLCBzdHJpbmcgX3ZlcnNpb24sDQogICAgdWludDI1NiBfaW5pdGlhbEFtb3VudCwgdWludCBfc2ltdWxhdGVkQmxvY2tOdW1iZXIsIHVpbnQgX3Jld2FyZFNjYXJjaXR5RmFjdG9yLA0KICAgIHVpbnQgX3Jld2FyZEhhbHZlbmluZ1JhdGUsIHVpbnQgX2Jsb2NrSW50ZXJ2YWwsIHVpbnQgX3Jld2FyZFZhbHVlKQ0KICAgIEh1bWFuU3RhbmRhcmRUb2tlbihfaW5pdGlhbEFtb3VudCwgX25hbWUsIF9kZWNpbWFscywgX3N5bWJvbCkgew0KICAgICAgICB2ZXJzaW9uID0gX3ZlcnNpb247DQogICAgICAgIHNpbXVsYXRlZEJsb2NrTnVtYmVyID0gX3NpbXVsYXRlZEJsb2NrTnVtYmVyOw0KICAgICAgICByZXdhcmRTY2FyY2l0eUZhY3RvciA9IF9yZXdhcmRTY2FyY2l0eUZhY3RvcjsNCiAgICAgICAgcmV3YXJkUmVkdWN0aW9uUmF0ZSA9IF9yZXdhcmRIYWx2ZW5pbmdSYXRlOw0KICAgICAgICBibG9ja0ludGVydmFsID0gX2Jsb2NrSW50ZXJ2YWw7DQogICAgICAgIHJld2FyZFZhbHVlID0gX3Jld2FyZFZhbHVlOw0KICAgICAgICBpbml0aWFsUmV3YXJkID0gX3Jld2FyZFZhbHVlOw0KICAgICAgICB0aW1lT2ZMYXN0QmxvY2sgPSBub3c7DQogICAgfQ0KDQogICAgLy8gZnVuY3Rpb24gdG8gY2FsbCB0byBjb250cmlidXRlIEV0aGVyIHRvLCBpbiBleGNoYW5nZSBmb3IgQVFUIGluIHRoZSBuZXh0IGJsb2NrDQogICAgLy8gbWluZSBvciB1cGRhdGVBY2NvdW50IG11c3QgYmUgY2FsbGVkIGF0IGxlYXN0IDEwIG1pbnV0ZXMgZnJvbSB0aW1lT2ZMYXN0QmxvY2sgdG8gZ2V0IHRoZSByZXdhcmQNCiAgICAvLyBtaW5pbXVtIHJlcXVpcmVkIGNvbnRyaWJ1dGlvbiBpcyAwLjA1IEV0aGVyDQogICAgZnVuY3Rpb24gbWluZSgpIHBheWFibGUgX3VwZGF0ZUJsb2NrQW5kUmV3YXJkUmF0ZSgpIF91cGRhdGVBY2NvdW50KCkgew0KICAgICAgICAvLyBBdCB0aGlzIHBvaW50IGl0IGlzIHNhZmUgdG8gYXNzdW1lIHRoYXQgdGhlIHNlbmRlciBoYXMgcmVjZWl2ZWQgYWxsIGhpcyBwYXlvdXRzIGZvciBwcmV2aW91cyBibG9ja3MNCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gNTAgZmlubmV5KTsNCiAgICAgICAgdG90YWxCbG9ja0NvbnRyaWJ1dGlvbltzaW11bGF0ZWRCbG9ja051bWJlcl0gKz0gbXNnLnZhbHVlOw0KICAgICAgICAvLyBVcGRhdGUgdG90YWwgY29udHJpYnV0aW9uDQoNCiAgICAgICAgaWYgKHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdLmFkZHIgIT0gbXNnLnNlbmRlcikgey8vIElmIHRoZSBzZW5kZXIgaGFzIG5vdCBjb250cmlidXRlZCBkdXJpbmcgdGhpcyBpbnRlcnZhbA0KICAgICAgICAgICAgLy8gQWRkIGhpcyBhZGRyZXNzIGFuZCBwYXlvdXQgZGV0YWlscyB0byB0aGUgY29udHJpYnV0b3IgbWFwDQogICAgICAgICAgICBwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXSA9IEFjY291bnQobXNnLnNlbmRlciwgcmV3YXJkVmFsdWUsIHNpbXVsYXRlZEJsb2NrTnVtYmVyLA0KICAgICAgICAgICAgcGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0uYmxvY2tDb250cmlidXRpb24gKyBtc2cudmFsdWUpOw0KICAgICAgICAgICAgbWluZWRCbG9ja1tzaW11bGF0ZWRCbG9ja051bWJlcl0gPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugey8vIHRoZSBzZW5kZXIgaGFzIGNvbnRyaWJ1dGVkIGR1cmluZyB0aGlzIGludGVydmFsDQogICAgICAgICAgICByZXF1aXJlKHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdLmxhc3RDb250cmlidXRpb25CbG9ja051bWJlciA9PSBzaW11bGF0ZWRCbG9ja051bWJlcik7DQogICAgICAgICAgICBwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXS5ibG9ja0NvbnRyaWJ1dGlvbiArPSBtc2cudmFsdWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIF91cGRhdGVCbG9ja0FuZFJld2FyZFJhdGUoKSB7DQogICAgICAgIC8vIFN0b3AgdXBkYXRlIGlmIHRoZSB0aW1lIHNpbmNlIGxhc3QgYmxvY2sgaXMgbGVzcyB0aGFuIHNwZWNpZmllZCBpbnRlcnZhbA0KICAgICAgICBpZiAoKG5vdyAtIHRpbWVPZkxhc3RCbG9jaykgPj0gYmxvY2tJbnRlcnZhbCAmJiBtaW5lZEJsb2NrW3NpbXVsYXRlZEJsb2NrTnVtYmVyXSA9PSB0cnVlKSB7DQogICAgICAgICAgICB0aW1lT2ZMYXN0QmxvY2sgPSBub3c7DQogICAgICAgICAgICBzaW11bGF0ZWRCbG9ja051bWJlciArPSAxOw0KICAgICAgICAgICAgLy8gdXBkYXRlIHJld2FyZCBhY2NvcmRpbmcgdG8gYmxvY2sgbnVtYmVyDQogICAgICAgICAgICByZXdhcmRWYWx1ZSA9IGluaXRpYWxSZXdhcmQgLyAoMiAqKiAoc2ltdWxhdGVkQmxvY2tOdW1iZXIgLyByZXdhcmRSZWR1Y3Rpb25SYXRlKSk7IC8vIOW+jOOBp+aiqOaymeOBoeOCg+OCk+OBqOS4reacrOOBleOCk+OBq+imi+OBpuOCguOCieOBo+OBn+OBu+OBhuOBjOOBhOOBhCggJiMxODA74oiA772AICkNCiAgICAgICAgICAgIC8vIOavjuWbnuavjuWbnuioiOeul+OBmeOCi+OCiOOCinNpbXVsYXRlZEJsb2NrTnVtYmVyJXJld2FyZFJlZHVjdGlvblJhdGXjgb/jgZ/jgYTjgarmnaHku7bjgafjgoTjgaPjgZ/jgonjg4jjg6njg7Pjgrbjgq/jgrfjg6fjg7PjgYzlronjgY/jgarjgorjgZ3jgYYNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIF91cGRhdGVBY2NvdW50KCkgew0KICAgICAgICBpZiAocGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0uYWRkciA9PSBtc2cuc2VuZGVyICYmIHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdLmxhc3RDb250cmlidXRpb25CbG9ja051bWJlciA8IHNpbXVsYXRlZEJsb2NrTnVtYmVyKSB7DQogICAgICAgICAgICAvLyDjgoLjgYbjg5bjg63jg4Pjgq/jg4Hjgqfjg7zjg7Pjgavjga7jgaPjgabjgYTjgovjgYvjgonjgoTjgornm7TjgZvjgarjgYTjgYzjgZPjgozmsJfmjIHjgaHmgqrjgY/jgarjgYTvvJ8NCiAgICAgICAgICAgIHVpbnQgcGF5b3V0ID0gcGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0uYmxvY2tDb250cmlidXRpb24gKiBwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXS5ibG9ja1BheW91dCAvIHRvdGFsQmxvY2tDb250cmlidXRpb25bcGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0ubGFzdENvbnRyaWJ1dGlvbkJsb2NrTnVtYmVyXTsgLy/jgIDjgZPjgozliIbjgYvjgorjgaXjgonjgYTjgYvjgonmmYLplpPjgYLjgozjgbDliIbjgZHjgabjgoTjgaPjgaYNCiAgICAgICAgICAgIHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdID0gQWNjb3VudCgwLCAwLCAwLCAwKTsNCiAgICAgICAgICAgIC8vIG1pbnQgY29pbnMNCiAgICAgICAgICAgIHRvdGFsU3VwcGx5ICs9IHBheW91dDsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHBheW91dDsNCiAgICAgICAgICAgIC8vIGJyb2FkY2FzdCB0cmFuc2ZlciBldmVudCB0byBvd25lcg0KICAgICAgICAgICAgVHJhbnNmZXIoMCwgb3duZXIsIHBheW91dCk7DQogICAgICAgICAgICAvLyBicm9hZGNhc3QgdHJhbnNmZXIgZXZlbnQgZnJvbSBvd25lciB0byBwYXllZQ0KICAgICAgICAgICAgVHJhbnNmZXIob3duZXIsIG1zZy5zZW5kZXIsIHBheW91dCk7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1cGRhdGVBY2NvdW50KCkgX3VwZGF0ZUJsb2NrQW5kUmV3YXJkUmF0ZSgpIF91cGRhdGVBY2NvdW50KCkge30NCg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIoKSBfb25seU93bmVyKCkgew0KICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOw0KICAgIH0NCn0NCg0KLy8gVGhpcyBjb250cmFjdCBkZWZpbmVzIHNwZWNpZmljIHBhcmFtZXRlcnMgdGhhdCBtYWtlIHRoZSBpbml0aWFsaXplZCBjb2luIEJpdGNvaW4tbGlrZQ0KY29udHJhY3QgQWVxdWl0YXMgaXMgQ2FwaXRhbE1pbmluZ1Rva2VuIHsNCiAgICAvLyBDb25zdHJ1Y3Rvcg0KICAgIGZ1bmN0aW9uIEFlcXVpdGFzKCkgQ2FwaXRhbE1pbmluZ1Rva2VuKA0KICAgICAgICAgICAgIkFlcXVpdGFzIiwgICAgICAgICAgICAgLy8gbmFtZQ0KICAgICAgICAgICAgOCwgICAgICAgICAgICAgICAgICAgICAgLy8gZGVjaW1hbHMNCiAgICAgICAgICAgICJBUVQiLCAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbA0KICAgICAgICAgICAgIjAuMSIsICAgICAgICAgICAgICAgICAgLy8gdmVyc2lvbg0KICAgICAgICAgICAgMCwgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbEFtb3VudA0KICAgICAgICAgICAgMCwgICAgICAgICAgICAgICAgICAgICAgLy8gc2ltdWxhdGVkQmxvY2tOdW1iZXINCiAgICAgICAgICAgIDIsICAgICAgICAgICAgICAgICAgICAgIC8vIHJld2FyZFNjYXJjaXR5RmFjdG9yDQogICAgICAgICAgICAyMTAwMDAsICAgICAgICAgICAgICAgICAvLyByZXdhcmRSZWR1Y3Rpb25SYXRlDQogICAgICAgICAgICAxMCBtaW51dGVzLCAgICAgICAgICAgICAvLyBibG9ja0ludGVydmFsDQogICAgICAgICAgICA1MDAwMDAwMDAwICAgICAgICAgICAgICAvLyByZXdhcmRWYWx1ZQ0KICAgICl7fQ0KfQ=='