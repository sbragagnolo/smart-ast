base 64 content
base64agoraToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7DQogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7DQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsNCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCg0KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCmNvbnRyYWN0IEFnb3JhVG9rZW4gaXMgRVJDMjBJbnRlcmZhY2Ugew0KDQogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJBZ29yYSI7DQogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkFHTyI7DQogIHVpbnQ4ICBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsNCg0KICB1aW50MjU2IGNvbnN0YW50IG1pbmltdW1Ub1JhaXNlID0gNTAwIGV0aGVyOw0KICB1aW50MjU2IGNvbnN0YW50IGljb1N0YXJ0QmxvY2sgPSA0MTE2ODAwOw0KICB1aW50MjU2IGNvbnN0YW50IGljb1ByZW1pdW1FbmRCbG9jayA9IGljb1N0YXJ0QmxvY2sgKyA3ODc3NjsgLy8gVHdvIHdlZWtzDQogIHVpbnQyNTYgY29uc3RhbnQgaWNvRW5kQmxvY2sgPSBpY29TdGFydEJsb2NrICsgMzE1MTA2OyAvLyBUd28gbW9udGhzDQoNCiAgYWRkcmVzcyBvd25lcjsNCiAgdWludDI1NiByYWlzZWQgPSAwOw0KICB1aW50MjU2IGNyZWF0ZWQgPSAwOw0KDQogIHN0cnVjdCBCYWxhbmNlU25hcHNob3Qgew0KICAgIGJvb2wgaW5pdGlhbGl6ZWQ7DQogICAgdWludDI1NiB2YWx1ZTsNCiAgfQ0KDQogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBzaGFyZXM7DQogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCiAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQogIG1hcHBpbmcodWludDI1NiA9PiBtYXBwaW5nIChhZGRyZXNzID0+IEJhbGFuY2VTbmFwc2hvdCkpIGJhbGFuY2VzQXRCbG9jazsNCg0KICBmdW5jdGlvbiBBZ29yYVRva2VuKCkgew0KICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgfQ0KDQogIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09DQogIC8vIEVSQzIwIExvZ2ljIEltcGxlbWVudGF0aW9uDQogIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09DQoNCiAgLy8gUmV0dXJucyB0aGUgYmFsYW5jZSBvZiBhbiBhZGRyZXNzLg0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICB9DQoNCiAgLy8gTWFrZSBhIHRyYW5zZmVyIG9mIEFHTyBiZXR3ZWVuIHR3byBhZGRyZXNzZXMuDQogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgLy8gRnJlZXplIGZvciBkZXYgdGVhbQ0KICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBvd25lciAmJiBfdG8gIT0gb3duZXIpOw0KDQogICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJg0KICAgICAgICBfdmFsdWUgPiAwICYmDQogICAgICAgIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7DQogICAgICAvLyBXZSBuZWVkIHRvIHJlZ2lzdGVyIHRoZSBiYWxhbmNlIGtub3duIGZvciB0aGUgbGFzdCByZWZlcmVuY2UgYmxvY2suDQogICAgICAvLyBUaGF0IHdheSwgd2UgY2FuIGJlIHN1cmUgdGhhdCB3aGVuIHRoZSBDbGFpbWVyIHdhbnRzIHRvIGNoZWNrIHRoZSBiYWxhbmNlDQogICAgICAvLyB0aGUgc3lzdGVtIGNhbiBiZSBwcm90ZWN0ZWQgYWdhaW5zdCBkb3VibGUtc3BlbmRpbmcgQUdPIHRva2VucyBjbGFpbWluZy4NCiAgICAgIHVpbnQyNTYgcmVmZXJlbmNlQmxvY2tOdW1iZXIgPSBsYXRlc3RSZWZlcmVuY2VCbG9ja051bWJlcigpOw0KICAgICAgcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKG1zZy5zZW5kZXIsIHJlZmVyZW5jZUJsb2NrTnVtYmVyKTsNCiAgICAgIHJlZ2lzdGVyQmFsYW5jZUZvclJlZmVyZW5jZShfdG8sIHJlZmVyZW5jZUJsb2NrTnVtYmVyKTsNCg0KICAgICAgLy8gU3RhbmRhcmQgdHJhbnNmZXIgc3R1ZmYNCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogIH0NCg0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAvLyBGcmVlemUgZm9yIGRldiB0ZWFtDQogICAgcmVxdWlyZShfdG8gIT0gb3duZXIpOw0KDQogICAgaWYoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJg0KICAgICAgIF92YWx1ZSA+IDAgJiYNCiAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYNCiAgICAgICBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgew0KICAgICAgLy8gU2FtZSBhcyBgdHJhbnNmZXJgIDoNCiAgICAgIC8vIFdlIG5lZWQgdG8gcmVnaXN0ZXIgdGhlIGJhbGFuY2Uga25vd24gZm9yIHRoZSBsYXN0IHJlZmVyZW5jZSBibG9jay4NCiAgICAgIC8vIFRoYXQgd2F5LCB3ZSBjYW4gYmUgc3VyZSB0aGF0IHdoZW4gdGhlIENsYWltZXIgd2FudHMgdG8gY2hlY2sgdGhlIGJhbGFuY2UNCiAgICAgIC8vIHRoZSBzeXN0ZW0gY2FuIGJlIHByb3RlY3RlZCBhZ2FpbnN0IGRvdWJsZS1zcGVuZGluZyBBR08gdG9rZW5zIGNsYWltaW5nLg0KICAgICAgdWludDI1NiByZWZlcmVuY2VCbG9ja051bWJlciA9IGxhdGVzdFJlZmVyZW5jZUJsb2NrTnVtYmVyKCk7DQogICAgICByZWdpc3RlckJhbGFuY2VGb3JSZWZlcmVuY2UoX2Zyb20sIHJlZmVyZW5jZUJsb2NrTnVtYmVyKTsNCiAgICAgIHJlZ2lzdGVyQmFsYW5jZUZvclJlZmVyZW5jZShfdG8sIHJlZmVyZW5jZUJsb2NrTnVtYmVyKTsNCg0KICAgICAgLy8gU3RhbmRhcmQgdHJhbnNmZXJGcm9tIHN0dWZmDQogICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOw0KICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0NCiAgfQ0KDQogIC8vIEFwcHJvdmUgYSBwYXltZW50IGZyb20gbXNnLnNlbmRlciBhY2NvdW50IHRvIGFub3RoZXIgb25lLg0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAvLyBGcmVlemUgZm9yIGRldiB0ZWFtDQogICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IG93bmVyKTsNCg0KICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiAgLy8gQ2hlY2tzIHRoZSBhbGxvd2FuY2Ugb2YgYW4gYWNjb3VudCBhZ2FpbnN0IGFub3RoZXIgb25lLiAoV29ya3Mgd2l0aCBhcHByb3ZhbCkuDQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgfQ0KDQogIC8vIFJldHVybnMgdGhlIHRvdGFsIHN1cHBseSBvZiB0b2tlbiBpc3N1ZWQuDQogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkgeyByZXR1cm4gY3JlYXRlZDsgfQ0KDQogIC8vID09PT09PT09PT09PT09PT09PT09PT09PQ0KICAvLyBJQ08gTG9naWMgSW1wbGVtZW50YXRpb24NCiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09DQoNCiAgLy8gSUNPIFN0YXR1cyBvdmVydmlldy4gVXNlZCBmb3IgQWdvcmEgbGFuZGluZyBwYWdlDQogIGZ1bmN0aW9uIGljb092ZXJ2aWV3KCkgY29uc3RhbnQgcmV0dXJucygNCiAgICB1aW50MjU2IGN1cnJlbnRseVJhaXNlZCwNCiAgICB1aW50MjU2IHRva2Vuc0NyZWF0ZWQsDQogICAgdWludDI1NiBkZXZlbG9wZXJzVG9rZW5zDQogICl7DQogICAgY3VycmVudGx5UmFpc2VkID0gcmFpc2VkOw0KICAgIHRva2Vuc0NyZWF0ZWQgPSBjcmVhdGVkOw0KICAgIGRldmVsb3BlcnNUb2tlbnMgPSBiYWxhbmNlc1tvd25lcl07DQogIH0NCg0KICAvLyBHZXQgQWdvcmEgdG9rZW5zIHdpdGggYSBFdGhlciBwYXltZW50Lg0KICBmdW5jdGlvbiBidXkoKSBwYXlhYmxlIHsNCiAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IGljb1N0YXJ0QmxvY2sgJiYgYmxvY2subnVtYmVyIDwgaWNvRW5kQmxvY2sgJiYgbXNnLnNlbmRlciAhPSBvd25lcik7DQoNCiAgICB1aW50MjU2IHRva2VuQW1vdW50ID0gbXNnLnZhbHVlICogKChibG9jay5udW1iZXIgPCBpY29QcmVtaXVtRW5kQmxvY2spID8gNTUwIDogNTAwKTsNCg0KICAgIHNoYXJlc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7DQogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5BbW91bnQ7DQogICAgYmFsYW5jZXNbb3duZXJdICs9IHRva2VuQW1vdW50IC8gNjsNCg0KICAgIHJhaXNlZCArPSBtc2cudmFsdWU7DQogICAgY3JlYXRlZCArPSB0b2tlbkFtb3VudDsNCiAgfQ0KDQogIC8vIE1ldGhvZCB1c2UgYnkgdGhlIGNyZWF0b3JzLiBSZXF1aXJlcyB0aGUgSUNPIHRvIGJlIGEgc3VjY2Vzcy4NCiAgLy8gVXNlZCB0byByZXRyaWV2ZSB0aGUgRXRoZXJzIHJhaXNlZCBmcm9tIHRoZSBJQ08uDQogIC8vIFRoYXQgd2F5LCBBZ29yYSBpcyBiZWNvbWluZyBwb3NzaWJsZSA6KS4NCiAgZnVuY3Rpb24gd2l0aGRyYXcodWludDI1NiBhbW91bnQpIHsNCiAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IGljb0VuZEJsb2NrICYmIHJhaXNlZCA+PSBtaW5pbXVtVG9SYWlzZSAmJiBtc2cuc2VuZGVyID09IG93bmVyKTsNCiAgICBvd25lci50cmFuc2ZlcihhbW91bnQpOw0KICB9DQoNCiAgLy8gTWV0aG9kcyB1c2UgYnkgdGhlIElDTyBpbnZlc3RvcnMuIFJlcXVpcmVzIHRoZSBJQ08gdG8gYmUgYSBmYWlsLg0KICBmdW5jdGlvbiByZWZpbGwoKSB7DQogICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBpY29FbmRCbG9jayAmJiByYWlzZWQgPCBtaW5pbXVtVG9SYWlzZSk7DQogICAgdWludDI1NiBzaGFyZSA9IHNoYXJlc1ttc2cuc2VuZGVyXTsNCiAgICBzaGFyZXNbbXNnLnNlbmRlcl0gPSAwOw0KICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoc2hhcmUpOw0KICB9DQoNCiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAvLyBDbGFpbWVyIExvZ2ljIEltcGxlbWVudGF0aW9uDQogIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgLy8gVGhpcyBwYXJ0IGlzIHVzZWQgYnkgdGhlIGNsYWltZXIuDQogIC8vIFRoZSBjbGFpbWVyIGNhbiBhc2sgdGhlIGJhbGFuY2Ugb2YgYW4gdXNlciBhdCBhIHJlZmVyZW5jZSBibG9jay4NCiAgLy8gVGhhdCB3YXksIHRoZSBjbGFpbWVyIGlzIHByb3RlY3RlZCBhZ2FpbnN0IGRvdWJsZS1zcGVuZGluZyBBR08gY2xhaW1pbmdzLg0KDQogIC8vIFRoaXMgbWV0aG9kIGlzIHRyaWdnZXJlZCBieSBgdHJhbnNmZXJgIGFuZCBgdHJhbnNmZXJGcm9tYC4NCiAgLy8gSXQgc2F2ZXMgdGhlIGJhbGFuY2Uga25vd24gYXQgYSByZWZlcmVuY2UgYmxvY2sgb25seSBpZiB0aGVyZSBpcyBubyBiYWxhbmNlDQogIC8vIHNhdmVkIGZvciB0aGlzIGJsb2NrIHlldC4NCiAgLy8gTWVhbmluZyB0aGF0IHRoaXMgaXMgYSB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gc2luY2UgdGhlIGxhc3QgcmVmZXJlbmNlIGJsb2NrLA0KICAvLyBzbyB0aGlzIGJhbGFuY2UgY2FuIGJlIHVzZXMgYXMgdGhlIHJlZmVyZW5jZS4NCiAgZnVuY3Rpb24gcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IHJlZmVyZW5jZUJsb2NrTnVtYmVyKSBwcml2YXRlIHsNCiAgICBpZiAoYmFsYW5jZXNBdEJsb2NrW3JlZmVyZW5jZUJsb2NrTnVtYmVyXVtfb3duZXJdLmluaXRpYWxpemVkKSB7IHJldHVybjsgfQ0KICAgIGJhbGFuY2VzQXRCbG9ja1tyZWZlcmVuY2VCbG9ja051bWJlcl1bX293bmVyXS5pbml0aWFsaXplZCA9IHRydWU7DQogICAgYmFsYW5jZXNBdEJsb2NrW3JlZmVyZW5jZUJsb2NrTnVtYmVyXVtfb3duZXJdLnZhbHVlID0gYmFsYW5jZXNbX293bmVyXTsNCiAgfQ0KDQogIC8vIFdoYXQgaXMgdGhlIGxhdGVzdCByZWZlcmVuY2UgYmxvY2sgbnVtYmVyID8NCiAgZnVuY3Rpb24gbGF0ZXN0UmVmZXJlbmNlQmxvY2tOdW1iZXIoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJsb2NrTnVtYmVyKSB7DQogICAgcmV0dXJuIChibG9jay5udW1iZXIgLSBibG9jay5udW1iZXIgJSAxNTc1NTMpOw0KICB9DQoNCiAgLy8gV2hhdCBpcyB0aGUgYmFsYW5jZSBvZiBhbiB1c2VyIGF0IGEgYmxvY2sgPw0KICAvLyBJZiB0aGUgdXNlciBoYXZlIG1hZGUgKG9yIHJlY2VpdmVkKSBhIHRyYW5zZmVyIG9mIEFHTyB0b2tlbiBzaW5jZSB0aGUNCiAgLy8gbGFzdCByZWZlcmVuY2UgYmxvY2ssIGl0cyBiYWxhbmNlIHdpbGwgYmUgd3JpdHRlbiBpbiB0aGUgYGJhbGFuY2VzQXRCbG9ja2ANCiAgLy8gbWFwcGluZy4gU28gd2UgY2FuIHJldHJpZXZlIGl0IGZyb20gaGVyZS4NCiAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgdXNlciBoYXZuJ3QgbWFkZSBhIHRyYW5zYWN0aW9uIHNpbmNlIHRoZSBsYXN0IHJlZmVyZW5jZQ0KICAvLyBibG9jaywgdGhlIGJhbGFuY2Ugb2YgQUdPIHRva2VuIGlzIHN0aWxsIGdvb2QuDQogIGZ1bmN0aW9uIGJhbGFuY2VBdEJsb2NrKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IGJsb2NrTnVtYmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICBpZihiYWxhbmNlc0F0QmxvY2tbYmxvY2tOdW1iZXJdW19vd25lcl0uaW5pdGlhbGl6ZWQpIHsNCiAgICAgIHJldHVybiBiYWxhbmNlc0F0QmxvY2tbYmxvY2tOdW1iZXJdW19vd25lcl0udmFsdWU7DQogICAgfQ0KICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICB9DQp9'