base 64 content
base64agoraToken1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7DQogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7DQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsNCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCg0KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCmNvbnRyYWN0IEFnb3JhVG9rZW4gaXMgRVJDMjBJbnRlcmZhY2Ugew0KDQogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJBZ29yYSI7DQogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkFHTyI7DQogIHVpbnQ4ICBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsNCg0KICB1aW50MjU2IGNvbnN0YW50IG1pbmltdW1Ub1JhaXNlID0gMTAwMCBldGhlcjsNCiAgdWludDI1NiBjb25zdGFudCBpY29TdGFydEJsb2NrID0gNDExNjgwMDsNCiAgdWludDI1NiBjb25zdGFudCBpY29QcmVtaXVtRW5kQmxvY2sgPSBpY29TdGFydEJsb2NrICsgNzg3NzY7IC8vIFR3byB3ZWVrcw0KICB1aW50MjU2IGNvbnN0YW50IGljb0VuZEJsb2NrID0gaWNvU3RhcnRCbG9jayArIDMxNTEwNjsgLy8gVHdvIG1vbnRocw0KDQogIGFkZHJlc3Mgb3duZXI7DQogIHVpbnQyNTYgcmFpc2VkID0gMDsNCiAgdWludDI1NiBjcmVhdGVkID0gMDsNCg0KICBzdHJ1Y3QgQmFsYW5jZVNuYXBzaG90IHsNCiAgICBib29sIGluaXRpYWxpemVkOw0KICAgIHVpbnQyNTYgdmFsdWU7DQogIH0NCg0KICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1Nikgc2hhcmVzOw0KICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQogIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KICBtYXBwaW5nKHVpbnQyNTYgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBCYWxhbmNlU25hcHNob3QpKSBiYWxhbmNlc0F0QmxvY2s7DQoNCiAgZnVuY3Rpb24gQWdvcmFUb2tlbigpIHsNCiAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogIH0NCg0KICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAvLyBFUkMyMCBMb2dpYyBJbXBsZW1lbnRhdGlvbg0KICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQogIC8vIFJldHVybnMgdGhlIGJhbGFuY2Ugb2YgYW4gYWRkcmVzcy4NCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgfQ0KDQogIC8vIE1ha2UgYSB0cmFuc2ZlciBvZiBBR08gYmV0d2VlbiB0d28gYWRkcmVzc2VzLg0KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIC8vIEZyZWV6ZSBmb3IgZGV2IHRlYW0NCiAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gb3duZXIpOw0KDQogICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJg0KICAgICAgICBfdmFsdWUgPiAwICYmDQogICAgICAgIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7DQogICAgICAvLyBXZSBuZWVkIHRvIHJlZ2lzdGVyIHRoZSBiYWxhbmNlIGtub3duIGZvciB0aGUgbGFzdCByZWZlcmVuY2UgYmxvY2suDQogICAgICAvLyBUaGF0IHdheSwgd2UgY2FuIGJlIHN1cmUgdGhhdCB3aGVuIHRoZSBDbGFpbWVyIHdhbnRzIHRvIGNoZWNrIHRoZSBiYWxhbmNlDQogICAgICAvLyB0aGUgc3lzdGVtIGNhbiBiZSBwcm90ZWN0ZWQgYWdhaW5zdCBkb3VibGUtc3BlbmRpbmcgQUdPIHRva2VucyBjbGFpbWluZy4NCiAgICAgIHVpbnQyNTYgcmVmZXJlbmNlQmxvY2tOdW1iZXIgPSBsYXRlc3RSZWZlcmVuY2VCbG9ja051bWJlcigpOw0KICAgICAgcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKG1zZy5zZW5kZXIsIHJlZmVyZW5jZUJsb2NrTnVtYmVyKTsNCiAgICAgIHJlZ2lzdGVyQmFsYW5jZUZvclJlZmVyZW5jZShfdG8sIHJlZmVyZW5jZUJsb2NrTnVtYmVyKTsNCg0KICAgICAgLy8gU3RhbmRhcmQgdHJhbnNmZXIgc3R1ZmYNCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogIH0NCg0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICBpZihiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmDQogICAgICAgX3ZhbHVlID4gMCAmJg0KICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJg0KICAgICAgIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7DQogICAgICAvLyBTYW1lIGFzIGB0cmFuc2ZlcmAgOg0KICAgICAgLy8gV2UgbmVlZCB0byByZWdpc3RlciB0aGUgYmFsYW5jZSBrbm93biBmb3IgdGhlIGxhc3QgcmVmZXJlbmNlIGJsb2NrLg0KICAgICAgLy8gVGhhdCB3YXksIHdlIGNhbiBiZSBzdXJlIHRoYXQgd2hlbiB0aGUgQ2xhaW1lciB3YW50cyB0byBjaGVjayB0aGUgYmFsYW5jZQ0KICAgICAgLy8gdGhlIHN5c3RlbSBjYW4gYmUgcHJvdGVjdGVkIGFnYWluc3QgZG91YmxlLXNwZW5kaW5nIEFHTyB0b2tlbnMgY2xhaW1pbmcuDQogICAgICB1aW50MjU2IHJlZmVyZW5jZUJsb2NrTnVtYmVyID0gbGF0ZXN0UmVmZXJlbmNlQmxvY2tOdW1iZXIoKTsNCiAgICAgIHJlZ2lzdGVyQmFsYW5jZUZvclJlZmVyZW5jZShfZnJvbSwgcmVmZXJlbmNlQmxvY2tOdW1iZXIpOw0KICAgICAgcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKF90bywgcmVmZXJlbmNlQmxvY2tOdW1iZXIpOw0KDQogICAgICAvLyBTdGFuZGFyZCB0cmFuc2ZlckZyb20gc3R1ZmYNCiAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICB9DQoNCiAgLy8gQXBwcm92ZSBhIHBheW1lbnQgZnJvbSBtc2cuc2VuZGVyIGFjY291bnQgdG8gYW5vdGhlciBvbmUuDQogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIC8vIEZyZWV6ZSBmb3IgZGV2IHRlYW0NCiAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gb3duZXIpOw0KDQogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvLyBDaGVja3MgdGhlIGFsbG93YW5jZSBvZiBhbiBhY2NvdW50IGFnYWluc3QgYW5vdGhlciBvbmUuIChXb3JrcyB3aXRoIGFwcHJvdmFsKS4NCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICB9DQoNCiAgLy8gUmV0dXJucyB0aGUgdG90YWwgc3VwcGx5IG9mIHRva2VuIGlzc3VlZC4NCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7IHJldHVybiBjcmVhdGVkOyB9DQoNCiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09DQogIC8vIElDTyBMb2dpYyBJbXBsZW1lbnRhdGlvbg0KICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0NCg0KICAvLyBJQ08gU3RhdHVzIG92ZXJ2aWV3LiBVc2VkIGZvciBBZ29yYSBsYW5kaW5nIHBhZ2UNCiAgZnVuY3Rpb24gaWNvT3ZlcnZpZXcoKSBjb25zdGFudCByZXR1cm5zKA0KICAgIHVpbnQyNTYgY3VycmVudGx5UmFpc2VkLA0KICAgIHVpbnQyNTYgdG9rZW5zQ3JlYXRlZCwNCiAgICB1aW50MjU2IGRldmVsb3BlcnNUb2tlbnMNCiAgKXsNCiAgICBjdXJyZW50bHlSYWlzZWQgPSByYWlzZWQ7DQogICAgdG9rZW5zQ3JlYXRlZCA9IGNyZWF0ZWQ7DQogICAgZGV2ZWxvcGVyc1Rva2VucyA9IGJhbGFuY2VzW293bmVyXTsNCiAgfQ0KDQogIC8vIEdldCBBZ29yYSB0b2tlbnMgd2l0aCBhIEV0aGVyIHBheW1lbnQuDQogIGZ1bmN0aW9uKCkgcGF5YWJsZSB7DQogICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBpY29TdGFydEJsb2NrICYmIGJsb2NrLm51bWJlciA8IGljb0VuZEJsb2NrKTsNCg0KICAgIHVpbnQyNTYgdG9rZW5BbW91bnQgPSBtc2cudmFsdWUgKiAoKGJsb2NrLm51bWJlciA8IGljb1ByZW1pdW1FbmRCbG9jaykgPyA1NTAgOiA1MDApOw0KDQogICAgc2hhcmVzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlbkFtb3VudDsNCiAgICBiYWxhbmNlc1tvd25lcl0gKz0gdG9rZW5BbW91bnQgLyA2Ow0KDQogICAgcmFpc2VkICs9IG1zZy52YWx1ZTsNCiAgICBjcmVhdGVkICs9IHRva2VuQW1vdW50Ow0KICB9DQoNCiAgLy8gTWV0aG9kIHVzZSBieSB0aGUgY3JlYXRvcnMuIFJlcXVpcmVzIHRoZSBJQ08gdG8gYmUgYSBzdWNjZXNzLg0KICAvLyBVc2VkIHRvIHJldHJpZXZlIHRoZSBFdGhlcnMgcmFpc2VkIGZyb20gdGhlIElDTy4NCiAgLy8gVGhhdCB3YXksIEFnb3JhIGlzIGJlY29taW5nIHBvc3NpYmxlIDopLg0KICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50MjU2IGFtb3VudCkgew0KICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID4gaWNvRW5kQmxvY2sgJiYgcmFpc2VkID49IG1pbmltdW1Ub1JhaXNlICYmIG1zZy5zZW5kZXIgPT0gb3duZXIpOw0KICAgIG93bmVyLnRyYW5zZmVyKGFtb3VudCk7DQogIH0NCg0KICAvLyBNZXRob2RzIHVzZSBieSB0aGUgSUNPIGludmVzdG9ycy4gUmVxdWlyZXMgdGhlIElDTyB0byBiZSBhIGZhaWwuDQogIGZ1bmN0aW9uIHJlZmlsbCgpIHsNCiAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IGljb0VuZEJsb2NrICYmIHJhaXNlZCA8IG1pbmltdW1Ub1JhaXNlKTsNCiAgICB1aW50MjU2IHNoYXJlID0gc2hhcmVzW21zZy5zZW5kZXJdOw0KICAgIHNoYXJlc1ttc2cuc2VuZGVyXSA9IDA7DQogICAgbXNnLnNlbmRlci50cmFuc2ZlcihzaGFyZSk7DQogIH0NCg0KICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogIC8vIENsYWltZXIgTG9naWMgSW1wbGVtZW50YXRpb24NCiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAvLyBUaGlzIHBhcnQgaXMgdXNlZCBieSB0aGUgY2xhaW1lci4NCiAgLy8gVGhlIGNsYWltZXIgY2FuIGFzayB0aGUgYmFsYW5jZSBvZiBhbiB1c2VyIGF0IGEgcmVmZXJlbmNlIGJsb2NrLg0KICAvLyBUaGF0IHdheSwgdGhlIGNsYWltZXIgaXMgcHJvdGVjdGVkIGFnYWluc3QgZG91YmxlLXNwZW5kaW5nIEFHTyBjbGFpbWluZ3MuDQoNCiAgLy8gVGhpcyBtZXRob2QgaXMgdHJpZ2dlcmVkIGJ5IGB0cmFuc2ZlcmAgYW5kIGB0cmFuc2ZlckZyb21gLg0KICAvLyBJdCBzYXZlcyB0aGUgYmFsYW5jZSBrbm93biBhdCBhIHJlZmVyZW5jZSBibG9jayBvbmx5IGlmIHRoZXJlIGlzIG5vIGJhbGFuY2UNCiAgLy8gc2F2ZWQgZm9yIHRoaXMgYmxvY2sgeWV0Lg0KICAvLyBNZWFuaW5nIHRoYXQgdGhpcyBpcyBhIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBzaW5jZSB0aGUgbGFzdCByZWZlcmVuY2UgYmxvY2ssDQogIC8vIHNvIHRoaXMgYmFsYW5jZSBjYW4gYmUgdXNlcyBhcyB0aGUgcmVmZXJlbmNlLg0KICBmdW5jdGlvbiByZWdpc3RlckJhbGFuY2VGb3JSZWZlcmVuY2UoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgcmVmZXJlbmNlQmxvY2tOdW1iZXIpIHByaXZhdGUgew0KICAgIGlmIChiYWxhbmNlc0F0QmxvY2tbcmVmZXJlbmNlQmxvY2tOdW1iZXJdW19vd25lcl0uaW5pdGlhbGl6ZWQpIHsgcmV0dXJuOyB9DQogICAgYmFsYW5jZXNBdEJsb2NrW3JlZmVyZW5jZUJsb2NrTnVtYmVyXVtfb3duZXJdLmluaXRpYWxpemVkID0gdHJ1ZTsNCiAgICBiYWxhbmNlc0F0QmxvY2tbcmVmZXJlbmNlQmxvY2tOdW1iZXJdW19vd25lcl0udmFsdWUgPSBiYWxhbmNlc1tfb3duZXJdOw0KICB9DQoNCiAgLy8gV2hhdCBpcyB0aGUgbGF0ZXN0IHJlZmVyZW5jZSBibG9jayBudW1iZXIgPw0KICBmdW5jdGlvbiBsYXRlc3RSZWZlcmVuY2VCbG9ja051bWJlcigpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmxvY2tOdW1iZXIpIHsNCiAgICByZXR1cm4gKGJsb2NrLm51bWJlciAtIGJsb2NrLm51bWJlciAlIDE1NzU1Myk7DQogIH0NCg0KICAvLyBXaGF0IGlzIHRoZSBiYWxhbmNlIG9mIGFuIHVzZXIgYXQgYSBibG9jayA/DQogIC8vIElmIHRoZSB1c2VyIGhhdmUgbWFkZSAob3IgcmVjZWl2ZWQpIGEgdHJhbnNmZXIgb2YgQUdPIHRva2VuIHNpbmNlIHRoZQ0KICAvLyBsYXN0IHJlZmVyZW5jZSBibG9jaywgaXRzIGJhbGFuY2Ugd2lsbCBiZSB3cml0dGVuIGluIHRoZSBgYmFsYW5jZXNBdEJsb2NrYA0KICAvLyBtYXBwaW5nLiBTbyB3ZSBjYW4gcmV0cmlldmUgaXQgZnJvbSBoZXJlLg0KICAvLyBPdGhlcndpc2UsIGlmIHRoZSB1c2VyIGhhdm4ndCBtYWRlIGEgdHJhbnNhY3Rpb24gc2luY2UgdGhlIGxhc3QgcmVmZXJlbmNlDQogIC8vIGJsb2NrLCB0aGUgYmFsYW5jZSBvZiBBR08gdG9rZW4gaXMgc3RpbGwgZ29vZC4NCiAgZnVuY3Rpb24gYmFsYW5jZUF0QmxvY2soYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgYmxvY2tOdW1iZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgIGlmKGJhbGFuY2VzQXRCbG9ja1tibG9ja051bWJlcl1bX293bmVyXS5pbml0aWFsaXplZCkgew0KICAgICAgcmV0dXJuIGJhbGFuY2VzQXRCbG9ja1tibG9ja051bWJlcl1bX293bmVyXS52YWx1ZTsNCiAgICB9DQogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogIH0NCn0='