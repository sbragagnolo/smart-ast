base 64 content
base64agoraToken2
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7DQogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7DQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsNCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCg0KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCmNvbnRyYWN0IEFnb3JhVG9rZW4gaXMgRVJDMjBJbnRlcmZhY2Ugew0KICBhZGRyZXNzIGNvbnRyYWN0T3duZXI7DQogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJBZ29yYSI7DQogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkFHTyI7DQogIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDA7DQoNCiAgc3RydWN0IEJhbGFuY2VTbmFwc2hvdCB7DQogICAgYm9vbCBpbml0aWFsaXplZDsNCiAgICB1aW50MjU2IHZhbHVlOw0KICB9DQoNCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCiAgbWFwcGluZyh1aW50MjU2ID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gQmFsYW5jZVNuYXBzaG90KSkgYmFsYW5jZXNBdEJsb2NrOw0KDQogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGNyZWF0b3JTdXBwbHkgPSAzMDAwMDAwMDsNCiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgc2VyaWVzQVN1cHBseSA9IDEwMDAwMDAwOw0KICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBzZXJpZXNCU3VwcGx5ID0gMzAwMDAwMDA7DQogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHNlcmllc0NTdXBwbHkgPSA2MDAwMDAwMDsNCg0KICB1aW50MjU2IHB1YmxpYyBjdXJyZW50bHlSZWxlYXNlZCA9IDA7DQogIHVpbnQyNTYgcHVibGljIHZhbHVlUmFpc2VkID0gMDsNCg0KICAvLyBXaGVuIGJ1aWxkaW5nIHRoZSBjb250cmFjdCwgd2UgcmVsZWFzZSAzMCwwMDAsMDAwIHRva2Vucw0KICAvLyB0byB0aGUgY3JlYXRvciBhZGRyZXNzLg0KICBmdW5jdGlvbiBBZ29yYVRva2VuKCkgew0KICAgIGNvbnRyYWN0T3duZXIgPSBtc2cuc2VuZGVyOw0KICAgIGJhbGFuY2VzW2NvbnRyYWN0T3duZXJdID0gY3JlYXRvclN1cHBseTsNCiAgICBjdXJyZW50bHlSZWxlYXNlZCArPSBjcmVhdG9yU3VwcGx5Ow0KICB9DQoNCiAgLy8gRVJDMjAgTG9naWMgSW1wbGVtZW50YXRpb24NCg0KICAvLyBSZXR1cm5zIHRoZSBiYWxhbmNlIG9mIGFuIGFkZHJlc3MuDQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogIH0NCg0KICAvLyBNYWtlIGEgdHJhbnNmZXIgb2YgQUdPIGJldHdlZW4gdHdvIGFkZHJlc3Nlcy4NCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsNCiAgICAgIC8vIFdlIG5lZWQgdG8gcmVnaXN0ZXIgdGhlIGJhbGFuY2Uga25vd24gZm9yIHRoZSBsYXN0IHJlZmVyZW5jZSBibG9jay4NCiAgICAgIC8vIFRoYXQgd2F5LCB3ZSBjYW4gYmUgc3VyZSB0aGF0IHdoZW4gdGhlIENsYWltZXIgd2FudHMgdG8gY2hlY2sgdGhlIGJhbGFuY2UNCiAgICAgIC8vIHRoZSBzeXN0ZW0gY2FuIGJlIHByb3RlY3RlZCBhZ2FpbnN0IGRvdWJsZS1zcGVuZGluZyBBR08gdG9rZW5zIGNsYWltaW5nLg0KICAgICAgcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKG1zZy5zZW5kZXIpOw0KICAgICAgcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKF90byk7DQoNCiAgICAgIC8vIFN0YW5kYXJkIHRyYW5zZmVyIHN0dWZmDQogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICB9DQoNCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgaWYoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSkgew0KICAgICAgLy8gU2FtZSBhcyBgdHJhbnNmZXJgIDoNCiAgICAgIC8vIFdlIG5lZWQgdG8gcmVnaXN0ZXIgdGhlIGJhbGFuY2Uga25vd24gZm9yIHRoZSBsYXN0IHJlZmVyZW5jZSBibG9jay4NCiAgICAgIC8vIFRoYXQgd2F5LCB3ZSBjYW4gYmUgc3VyZSB0aGF0IHdoZW4gdGhlIENsYWltZXIgd2FudHMgdG8gY2hlY2sgdGhlIGJhbGFuY2UNCiAgICAgIC8vIHRoZSBzeXN0ZW0gY2FuIGJlIHByb3RlY3RlZCBhZ2FpbnN0IGRvdWJsZS1zcGVuZGluZyBBR08gdG9rZW5zIGNsYWltaW5nLg0KICAgICAgcmVnaXN0ZXJCYWxhbmNlRm9yUmVmZXJlbmNlKF9mcm9tKTsNCiAgICAgIHJlZ2lzdGVyQmFsYW5jZUZvclJlZmVyZW5jZShfdG8pOw0KDQogICAgICAvLyBTdGFuZGFyZCB0cmFuc2ZlckZyb20gc3R1ZmYNCiAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICB9DQoNCiAgLy8gQXBwcm92ZSBhIHBheW1lbnQgZnJvbSBtc2cuc2VuZGVyIGFjY291bnQgdG8gYW5vdGhlciBvbmUuDQogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiAgLy8gQ2hlY2tzIHRoZSBhbGxvd2FuY2Ugb2YgYW4gYWNjb3VudCBhZ2FpbnN0IGFub3RoZXIgb25lLiAoV29ya3Mgd2l0aCBhcHByb3ZhbCkuDQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgfQ0KDQogIC8vIFJldHVybnMgdGhlIHRvdGFsIHN1cHBseSBvZiB0b2tlbiBpc3N1ZWQuDQogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkgew0KICAgIHJldHVybiBjcmVhdG9yU3VwcGx5ICsgc2VyaWVzQVN1cHBseSArIHNlcmllc0JTdXBwbHkgKyBzZXJpZXNDU3VwcGx5Ow0KICB9DQoNCiAgLy8gSUNPIExvZ2ljIEltcGxlbWVudGF0aW9uDQoNCiAgLy8gR2V0IHRva2VucyB3aXRoIGEgRXRoZXIgcGF5bWVudC4NCiAgZnVuY3Rpb24oKSBwYXlhYmxlIHsNCiAgICAvLyBSZXF1aXJlIHRvIGJlIGFmdGVyIGJsb2NrIDQxMTY4MDAgdG8gc3RhcnQgdGhlIElDTy4NCiAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IDQxMTY4MDApOw0KDQogICAgLy8gUmVxdWlyZSBhIHZhbHVlIHRvIGJlIHNlbnQuDQogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMCk7DQoNCiAgICAvLyBSZXRyaWV2ZSB0aGUgY3VycmVudCByb3VuZCBpbmZvcm1hdGlvbg0KICAgIHZhcihwcmljZVBlclRob3VzYW5kcywgc3VwcGx5UmVtYWluaW5nKSA9IGN1cnJlbnRSb3VuZEluZm9ybWF0aW9uKCk7DQoNCiAgICAvLyBSZXF1aXJlIGEgcm91bmQgdG8gYmUgc3RhcnRlZCAoY3VycmVudFJvdW5kSW5mb3JtYXRpb24gcmV0dXJuIDAsMCBpZiBubw0KICAgIC8vIHJvdW5kIGlzIGluIHByb2dyZXNzKS4NCiAgICByZXF1aXJlKHByaWNlUGVyVGhvdXNhbmRzID4gMCk7DQoNCiAgICAvLyBNYWtlIHRoZSBjYWxjdWxhdGlvbiA6IGhvdyBtYW55IEFHTyB0b2tlbiBmb3IgdGhpcyBFdGhlciB2YWx1ZS4NCiAgICB1aW50MjU2IHRva2VuVG9SZWNlaXZlID0gKG1zZy52YWx1ZSAqIDEwMDAgLyBwcmljZVBlclRob3VzYW5kcyk7DQoNCiAgICAvLyBSZXF1aXJlIHRoZXJlIGlzIGVub3VnaCB0b2tlbiByZW1haW5pbmcgaW4gdGhlIHN1cHBseS4NCiAgICByZXF1aXJlKHRva2VuVG9SZWNlaXZlIDw9IHN1cHBseVJlbWFpbmluZyk7DQoNCiAgICAvLyBDcmVkaXRzIHRoZSB1c2VyIGJhbGFuY2Ugd2l0aCB0aGlzIHRva2Vucy4NCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlblRvUmVjZWl2ZTsNCiAgICBjdXJyZW50bHlSZWxlYXNlZCArPSB0b2tlblRvUmVjZWl2ZTsNCiAgICB2YWx1ZVJhaXNlZCArPSBtc2cudmFsdWU7DQogIH0NCg0KICAvLyBSZXR1cm5zIHRoZSBjdXJyZW50IElDTyByb3VuZCBpbmZvcm1hdGlvbi4NCiAgLy8gcHJpY2VQZXJUaG91c2FuZHMgaXMgdGhlIGN1cnJlbnQgWCBldGhlciA9IDEwMDAgQUdPDQogIC8vIHN1cHBseVJlbWFpbmluZyBpcyB0aGUgcmVtYWluaW5nIHN1cHBseSBvZiBldGhlciBhdCB0aGlzIHByaWNlDQogIGZ1bmN0aW9uIGN1cnJlbnRSb3VuZEluZm9ybWF0aW9uKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBwcmljZVBlclRob3VzYW5kcywgdWludDI1NiBzdXBwbHlSZW1haW5pbmcpIHsNCiAgICBpZihjdXJyZW50bHlSZWxlYXNlZCA+PSAzMDAwMDAwMCAmJiBjdXJyZW50bHlSZWxlYXNlZCA8IDQwMDAwMDAwKSB7DQogICAgICByZXR1cm4oMC43NSBldGhlciwgNDAwMDAwMDAtY3VycmVudGx5UmVsZWFzZWQpOw0KICAgIH0gZWxzZSBpZihjdXJyZW50bHlSZWxlYXNlZCA+PSA0MDAwMDAwMCAmJiBjdXJyZW50bHlSZWxlYXNlZCA8IDcwMDAwMDAwKSB7DQogICAgICByZXR1cm4oMS4yNSBldGhlciwgNzAwMDAwMDAtY3VycmVudGx5UmVsZWFzZWQpOw0KICAgIH0gZWxzZSBpZihjdXJyZW50bHlSZWxlYXNlZCA+PSA3MDAwMDAwMCAmJiBjdXJyZW50bHlSZWxlYXNlZCA8IDEzMDAwMDAwMCkgew0KICAgICAgcmV0dXJuKDEuNSBldGhlciwgMTMwMDAwMDAwLWN1cnJlbnRseVJlbGVhc2VkKTsNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuKDAsMCk7DQogICAgfQ0KICB9DQoNCiAgLy8gTWV0aG9kIHVzZSBieSB0aGUgY3JlYXRvcnMuIFVzZWQgdG8gcmV0cmlldmUgdGhlIEV0aGVycyByYWlzZWQgZnJvbSB0aGUgSUNPLg0KICAvLyBUaGF0IHdheSwgQWdvcmEgaXMgYmVjb21pbmcgcG9zc2libGUgOikuDQogIGZ1bmN0aW9uIHdpdGhkcmF3SUNPKHVpbnQyNTYgYW1vdW50KSB7DQogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbnRyYWN0T3duZXIpOw0KICAgIGNvbnRyYWN0T3duZXIudHJhbnNmZXIoYW1vdW50KTsNCiAgfQ0KDQogIC8vIENsYWltaW5nIExvZ2ljIEltcGxlbWVudGF0aW9uDQogIC8vIFRoaXMgcGFydCBpcyB1c2VkIGJ5IHRoZSBjbGFpbWVyLg0KICAvLyBUaGUgY2xhaW1lciBjYW4gYXNrIHRoZSBiYWxhbmNlIG9mIGFuIHVzZXIgYXQgYSByZWZlcmVuY2UgYmxvY2suDQogIC8vIFRoYXQgd2F5LCB0aGUgY2xhaW1lciBpcyBwcm90ZWN0ZWQgYWdhaW5zdCBkb3VibGUtc3BlbmRpbmcgQUdPIGNsYWltaW5ncy4NCg0KICAvLyBUaGlzIG1ldGhvZCBpcyB0cmlnZ2VyZWQgYnkgYHRyYW5zZmVyYCBhbmQgYHRyYW5zZmVyRnJvbWAuDQogIC8vIEl0IHNhdmVzIHRoZSBiYWxhbmNlIGtub3duIGF0IGEgcmVmZXJlbmNlIGJsb2NrIG9ubHkgaWYgdGhlcmUgaXMgbm8gYmFsYW5jZQ0KICAvLyBzYXZlZCBmb3IgdGhpcyBibG9jayB5ZXQuDQogIC8vIE1lYW5pbmcgdGhhdCB0aGlzIGlzIGEgdGhlIGZpcnN0IHRyYW5zYWN0aW9uIHNpbmNlIHRoZSBsYXN0IHJlZmVyZW5jZSBibG9jaywNCiAgLy8gc28gdGhpcyBiYWxhbmNlIGNhbiBiZSB1c2VzIGFzIHRoZSByZWZlcmVuY2UuDQogIGZ1bmN0aW9uIHJlZ2lzdGVyQmFsYW5jZUZvclJlZmVyZW5jZShhZGRyZXNzIF9vd25lcikgcHJpdmF0ZSB7DQogICAgdWludDI1NiByZWZlcmVuY2VCbG9ja051bWJlciA9IGxhdGVzdFJlZmVyZW5jZUJsb2NrTnVtYmVyKCk7DQogICAgaWYgKGJhbGFuY2VzQXRCbG9ja1tyZWZlcmVuY2VCbG9ja051bWJlcl1bX293bmVyXS5pbml0aWFsaXplZCkgeyByZXR1cm47IH0NCiAgICBiYWxhbmNlc0F0QmxvY2tbcmVmZXJlbmNlQmxvY2tOdW1iZXJdW19vd25lcl0uaW5pdGlhbGl6ZWQgPSB0cnVlOw0KICAgIGJhbGFuY2VzQXRCbG9ja1tyZWZlcmVuY2VCbG9ja051bWJlcl1bX293bmVyXS52YWx1ZSA9IGJhbGFuY2VzW19vd25lcl07DQogIH0NCg0KICAvLyBXaGF0IGlzIHRoZSBsYXRlc3QgcmVmZXJlbmNlIGJsb2NrIG51bWJlciA/DQogIGZ1bmN0aW9uIGxhdGVzdFJlZmVyZW5jZUJsb2NrTnVtYmVyKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBibG9ja051bWJlcikgew0KICAgIHJldHVybiAoYmxvY2subnVtYmVyIC0gYmxvY2subnVtYmVyICUgMTU3NTUzKTsNCiAgfQ0KDQogIC8vIFdoYXQgaXMgdGhlIHZhbGFuY2Ugb2YgYW4gdXNlciBhdCBhIGJsb2NrID8NCiAgLy8gSWYgdGhlIHVzZXIgaGF2ZSBtYWRlIChvciByZWNlaXZlZCkgYSB0cmFuc2ZlciBvZiBBR08gdG9rZW4gc2luY2UgdGhlDQogIC8vIGxhc3QgcmVmZXJlbmNlIGJsb2NrLCBpdHMgYmFsYW5jZSB3aWxsIGJlIHdyaXR0ZW4gaW4gdGhlIGBiYWxhbmNlc0F0QmxvY2tgDQogIC8vIG1hcHBpbmcuIFNvIHdlIGNhbiByZXRyaWV2ZSBpdCBmcm9tIGhlcmUuDQogIC8vIE90aGVyd2lzZSwgaWYgdGhlIHVzZXIgaGF2bid0IG1hZGUgYSB0cmFuc2FjdGlvbiBzaW5jZSB0aGUgbGFzdCByZWZlcmVuY2UNCiAgLy8gYmxvY2ssIHRoZSBiYWxhbmNlIG9mIEFHTyB0b2tlbiBpcyBzdGlsbCBnb29kLg0KICBmdW5jdGlvbiBiYWxhbmNlQXRCbG9jayhhZGRyZXNzIF9vd25lciwgdWludDI1NiBibG9ja051bWJlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgaWYoYmFsYW5jZXNBdEJsb2NrW2Jsb2NrTnVtYmVyXVtfb3duZXJdLmluaXRpYWxpemVkKSB7DQogICAgICByZXR1cm4gYmFsYW5jZXNBdEJsb2NrW2Jsb2NrTnVtYmVyXVtfb3duZXJdLnZhbHVlOw0KICAgIH0NCiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgfQ0KfQ=='