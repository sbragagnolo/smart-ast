base 64 content
base64agriChainMasterContract
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsgDQovL3YuMTYwOXJldjE3MDMyMzAxIEV6bGFiIDIwMTYgYWxsLXJpZ2h0cyByZXNldmVkIHN1cHBvcnRAZXpsYWIuaXQNCi8vc3BlY2lhbCBwdXJwb3NlIGNvbnRyYWN0IGZvciBDYW50aW5hVm9scG9uZSBmdXJ0aGVyIGluZm8gaHR0cHM6Ly9hZ3JpY2hhaW4uaXQvZC8weDE2MDU2NGQzNDZmNmU5ZmIzZDkzYzAzNGYyMDdlY2Y5NzkxYjc3MzkNCg0KLy9jb21tb24gYmFzZSBjb250cmFjdA0KY29udHJhY3QgQmFzZUFncmlDaGFpbkNvbnRyYWN0IHsNCiAgICBhZGRyZXNzIGNyZWF0b3I7IA0KICAgIGJvb2wgcHVibGljIGlzU2VhbGVkOw0KICAgIGZ1bmN0aW9uIEJhc2VBZ3JpQ2hhaW5Db250cmFjdCgpIHB1YmxpYyAgICB7ICBjcmVhdG9yID0gbXNnLnNlbmRlcjsgRXZlbnRDcmVhdGVkKHRoaXMsY3JlYXRvcik7IH0NCiAgICBtb2RpZmllciBvbmx5SWZOb3RTZWFsZWQoKSAvL3NlbWFudGljIHdoZW4gc2VhbGVkIGlzIG5vdCBwb3NzaWJsZSB0byBjaGFuZ2Ugc2Vuc2libGUgZGF0YQ0KICAgIHsNCiAgICAgICAgaWYgKGlzU2VhbGVkKQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgb25seUJ5KGFkZHJlc3MgX2FjY291bnQpIC8vc2VtYW50aWMgb25seSBfYWNjb3VudCBjYW4gb3BlcmF0ZQ0KICAgIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gX2FjY291bnQpDQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24ga2lsbCgpIG9ubHlCeShjcmVhdG9yKSAgIHsgc3VpY2lkZShjcmVhdG9yKTsgfSAgICAgDQogICAgZnVuY3Rpb24gc2V0Q3JlYXRvcihhZGRyZXNzIF9jcmVhdG9yKSAgb25seUJ5KGNyZWF0b3IpICB7IGNyZWF0b3IgPSBfY3JlYXRvcjsgICAgIH0NCiAgICBmdW5jdGlvbiBzZXRTZWFsZWQoKSAgb25seUJ5KGNyZWF0b3IpICB7IGlzU2VhbGVkID0gdHJ1ZTsgIEV2ZW50U2VhbGVkKHRoaXMpOyAgIH0gLy9zZWFsIGRvd24gY29udHJhY3Qgbm90IHJldmVyc2libGUNCg0KICAgIGV2ZW50IEV2ZW50Q3JlYXRlZChhZGRyZXNzIHNlbGYsYWRkcmVzcyBjcmVhdG9yKTsNCiAgICBldmVudCBFdmVudFNlYWxlZChhZGRyZXNzIHNlbGYpOyAvL2ludm9rZWQgd2hlbiBjb250cmFjdCBpcyBzZWFsZWQNCiAgICBldmVudCBFdmVudENoYW5nZWQoYWRkcmVzcyBzZWxmLHN0cmluZyBwcm9wZXJ0eSk7IC8vIGdlbmVyaWMgcHJvcGVydHkgY2hhbmdlDQogICAgZXZlbnQgRXZlbnRDaGFuZ2VkSW50MzIoYWRkcmVzcyBzZWxmLHN0cmluZyBwcm9wZXJ0eSxpbnQzMiB2YWx1ZSk7IC8vSW50MzIgcHJvcGVydHkgY2hhbmdlDQogICAgZXZlbnQgRXZlbnRDaGFuZ2VkU3RyaW5nKGFkZHJlc3Mgc2VsZixzdHJpbmcgcHJvcGVydHksc3RyaW5nIHZhbHVlKTsgLy9zdHJpbmcgcHJvcGVydHkgQ2hhbmdlDQogICAgZXZlbnQgRXZlbnRDaGFuZ2VkQWRkcmVzcyhhZGRyZXNzIHNlbGYsc3RyaW5nIHByb3BlcnR5LGFkZHJlc3MgdmFsdWUpOyAvL2FkZHJlc3MgcHJvcGVydHkgQ2hhbmdlZA0KICAgIA0KICANCn0NCg0KDQovL0NoYWluZWRDb250cmFjdA0KY29udHJhY3QgQWdyaUNoYWluQ29udHJhY3QgICBpcyBCYXNlQWdyaUNoYWluQ29udHJhY3QgICAgDQp7ICAgICBzdHJpbmcgcHVibGljIEFncmlDaGFpblR5cGU7DQogICAgICBhZGRyZXNzIHB1YmxpYyAgQWdyaUNoYWluTmV4dERhdGE7DQogICAgICBhZGRyZXNzIHB1YmxpYyAgQWdyaUNoYWluUHJldkRhdGE7DQogICAgICBhZGRyZXNzIHB1YmxpYyAgQWdyaUNoYWluUm9vdERhdGE7DQogICAgDQogICAgZnVuY3Rpb24gICBBZ3JpQ2hhaW5EYXRhQ29udHJhY3QoKSBwdWJsaWMNCiAgICB7DQogICAgICAgIEFncmlDaGFpbk5leHREYXRhPWFkZHJlc3ModGhpcyk7DQogICAgICAgIEFncmlDaGFpblByZXZEYXRhPWFkZHJlc3ModGhpcyk7DQogICAgICAgIEFncmlDaGFpblJvb3REYXRhPWFkZHJlc3ModGhpcyk7DQogICAgfQ0KICAgIA0KICAgICANCiAgICAgIA0KICAgICAgDQogICAgICANCiAgICBmdW5jdGlvbiBzZXRDaGFpbihzdHJpbmcgX1R5cGUsYWRkcmVzcyBfTmV4dCxhZGRyZXNzIF9QcmV2LCBhZGRyZXNzIF9Sb290KSAgb25seUJ5KGNyZWF0b3IpICANCiAgICB7DQogICAgICAgICBBZ3JpQ2hhaW5UeXBlPV9UeXBlOw0KICAgICAgICAgQWdyaUNoYWluTmV4dERhdGE9X05leHQ7DQogICAgICAgICBBZ3JpQ2hhaW5QcmV2RGF0YT1fUHJldjsNCiAgICAgICAgIEFncmlDaGFpblJvb3REYXRhPV9Sb290Ow0KICAgICAgICAgRXZlbnRDaGFuZ2VkKHRoaXMsJ0NoYWluJyk7DQogICAgfQ0KICAgIA0KICAgICBmdW5jdGlvbiBzZXRDaGFpbk5leHQoYWRkcmVzcyBfTmV4dCkgIG9ubHlCeShjcmVhdG9yKSAgDQogICAgew0KICAgICAgICAgQWdyaUNoYWluTmV4dERhdGE9X05leHQ7DQogICAgICAgICBFdmVudENoYW5nZWRBZGRyZXNzKHRoaXMsJ0NoYWluTmV4dCcsX05leHQpOw0KICAgIH0NCiAgIA0KDQogICAgZnVuY3Rpb24gc2V0Q2hhaW5QcmV2KGFkZHJlc3MgX1ByZXYpICBvbmx5QnkoY3JlYXRvcikgIA0KICAgIHsNCiAgICAgICAgIEFncmlDaGFpblByZXZEYXRhPV9QcmV2Ow0KICAgICAgICAgRXZlbnRDaGFuZ2VkQWRkcmVzcyh0aGlzLCdDaGFpbk5leHQnLF9QcmV2KTsNCiAgICB9DQogICAgDQogICANCiAgIGZ1bmN0aW9uIHNldENoYWluUm9vdChhZGRyZXNzIF9Sb290KSAgb25seUJ5KGNyZWF0b3IpICANCiAgICB7DQogICAgICAgICBBZ3JpQ2hhaW5Sb290RGF0YT1fUm9vdDsNCiAgICAgICAgIEV2ZW50Q2hhbmdlZEFkZHJlc3ModGhpcywnQ2hhaW5Sb290JyxfUm9vdCk7DQogICAgfQ0KICAgIA0KICAgICBmdW5jdGlvbiBzZXRDaGFpblR5cGUoc3RyaW5nIF9UeXBlKSAgb25seUJ5KGNyZWF0b3IpICANCiAgICB7DQogICAgICAgICBBZ3JpQ2hhaW5UeXBlPV9UeXBlOw0KICAgICAgICAgRXZlbnRDaGFuZ2VkU3RyaW5nKHRoaXMsJ0NoYWluVHlwZScsX1R5cGUpOw0KICAgIH0NCiAgICAgIA0KfQ0KDQoNCi8vIE1hc3RlciBhY3Rpdml0aWVzIA0KY29udHJhY3QgQWdyaUNoYWluTWFzdGVyQ29udHJhY3QgICBpcyBBZ3JpQ2hhaW5Db250cmFjdCAgICANCnsgIA0KICAgIGFkZHJlc3MgcHVibGljICBBZ3JpQ2hhaW5Db250ZXh0OyAgLy9Db250ZXh0IERhdGEgQ2hhaW4NCiAgICBhZGRyZXNzIHB1YmxpYyAgQWdyaUNoYWluQ3VsdGl2YXRpb247ICAvL0N1bHRpdmF0aW9uIERhdGEgQ2hhaW4NCiAgICBhZGRyZXNzIHB1YmxpYyAgQWdyaUNoYWluUHJvZHVjdGlvbjsgICAvL1Byb2R1Y3Rpb24gRGF0YSBDaGFpbg0KICAgIGFkZHJlc3MgcHVibGljICBBZ3JpQ2hhaW5EaXN0cmlidXRpb247IC8vRGlzdHJpYnV0aW9uIERhdGEgQ2hhaW4NCiAgICBhZGRyZXNzIHB1YmxpYyAgQWdyaUNoYWluRG9jdW1lbnRzOyAvL0Rpc3RyaWJ1dGlvbiBEYXRhIENoYWluDQoNCiAgICBmdW5jdGlvbiAgIEFncmlDaGFpbk1hc3RlckNvbnRyYWN0KCkgcHVibGljDQogICAgeyANCiAgICAgICBBZ3JpQ2hhaW5Db250ZXh0PWFkZHJlc3ModGhpcyk7DQogICAgICAgQWdyaUNoYWluQ3VsdGl2YXRpb249YWRkcmVzcyh0aGlzKTsNCiAgICAgICBBZ3JpQ2hhaW5Qcm9kdWN0aW9uPWFkZHJlc3ModGhpcyk7DQogICAgICAgQWdyaUNoYWluRGlzdHJpYnV0aW9uPWFkZHJlc3ModGhpcyk7DQogICAgICAgDQogICAgfQ0KICAgIGZ1bmN0aW9uIHNldEFncmlDaGFpblByb2R1Y3Rpb24oYWRkcmVzcyBfQWdyaUNoYWluKSAgb25seUJ5KGNyZWF0b3IpIG9ubHlJZk5vdFNlYWxlZCgpDQogICAgew0KICAgICAgICAgQWdyaUNoYWluUHJvZHVjdGlvbiA9IF9BZ3JpQ2hhaW47DQogICAgICAgICBFdmVudENoYW5nZWRBZGRyZXNzKHRoaXMsJ0FncmlDaGFpblByb2R1Y3Rpb24nLF9BZ3JpQ2hhaW4pOw0KICAgIH0NCiAgICBmdW5jdGlvbiBzZXRBZ3JpQ2hhaW5DdWx0aXZhdGlvbihhZGRyZXNzIF9BZ3JpQ2hhaW4pICBvbmx5QnkoY3JlYXRvcikgb25seUlmTm90U2VhbGVkKCkNCiAgICB7DQogICAgICAgICBBZ3JpQ2hhaW5DdWx0aXZhdGlvbiA9IF9BZ3JpQ2hhaW47DQogICAgICAgICBFdmVudENoYW5nZWRBZGRyZXNzKHRoaXMsJ0FncmlDaGFpbkN1bHRpdmF0aW9uJyxfQWdyaUNoYWluKTsNCiAgICB9DQogICAgZnVuY3Rpb24gc2V0QWdyaUNoYWluRGlzdHJpYnV0aW9uKGFkZHJlc3MgX0FncmlDaGFpbikgIG9ubHlCeShjcmVhdG9yKSBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgIEFncmlDaGFpbkRpc3RyaWJ1dGlvbiA9IF9BZ3JpQ2hhaW47DQogICAgICAgICBFdmVudENoYW5nZWRBZGRyZXNzKHRoaXMsJ0FncmlDaGFpbkRpc3RyaWJ1dGlvbicsX0FncmlDaGFpbik7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHNldEFncmlDaGFpbkRvY3VtZW50cyhhZGRyZXNzIF9BZ3JpQ2hhaW4pICBvbmx5QnkoY3JlYXRvcikgb25seUlmTm90U2VhbGVkKCkNCiAgICB7DQogICAgICAgICBBZ3JpQ2hhaW5Eb2N1bWVudHMgPSBfQWdyaUNoYWluOw0KICAgICAgICAgRXZlbnRDaGFuZ2VkQWRkcmVzcyh0aGlzLCdBZ3JpQ2hhaW5Eb2N1bWVudHMnLF9BZ3JpQ2hhaW4pOw0KICAgIH0NCiAgICBmdW5jdGlvbiBzZXRBZ3JpQ2hhaW5Db250ZXh0KGFkZHJlc3MgX0FncmlDaGFpbikgIG9ubHlCeShjcmVhdG9yKSBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgIEFncmlDaGFpbkNvbnRleHQgPSBfQWdyaUNoYWluOw0KICAgICAgICAgRXZlbnRDaGFuZ2VkQWRkcmVzcyh0aGlzLCdBZ3JpQ2hhaW5Db250ZXh0JyxfQWdyaUNoYWluKTsNCiAgICB9DQogICAgDQp9DQoNCg0KDQovLyBsZWdhY3kgcHJvZHVjdGlvbiBjb250cmFjdCANCmNvbnRyYWN0IEFncmlDaGFpblByb2R1Y3Rpb25Db250cmFjdCAgIGlzIEJhc2VBZ3JpQ2hhaW5Db250cmFjdCAgICANCnsgIA0KICAgIHN0cmluZyAgcHVibGljICBPcmdhbml6YXRpb247ICAgICAgLy9Qcm9kdWN0aW9uIE9yZ2FuaXphdGlvbg0KICAgIHN0cmluZyAgcHVibGljICBQcm9kdWN0IDsgICAgICAgICAgLy9Qcm9kdWN0DQogICAgc3RyaW5nICBwdWJsaWMgIERlc2NyaXB0aW9uIDsgICAgICAvL0Rlc2NyaXB0aW9uDQogICAgYWRkcmVzcyBwdWJsaWMgIEFncmlDaGFpbkRhdGE7ICAgICAvL1Byb2R1Y3Rpb25EYXRhDQogICAgc3RyaW5nICBwdWJsaWMgIEFncmlDaGFpblNlYWw7ICAgICAvL1NlY3VyaXR5U2VhbA0KICAgIHN0cmluZyAgcHVibGljICBOb3RlcyA7DQogICAgDQogICAgZnVuY3Rpb24gICBBZ3JpQ2hhaW5Qcm9kdWN0aW9uQ29udHJhY3QoKSBwdWJsaWMNCiAgICB7IA0KICAgICAgIEFncmlDaGFpbkRhdGE9YWRkcmVzcyh0aGlzKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2V0T3JnYW5pemF0aW9uKHN0cmluZyBfT3JnYW5pemF0aW9uKSAgb25seUJ5KGNyZWF0b3IpICBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgICBPcmdhbml6YXRpb24gPSBfT3JnYW5pemF0aW9uOw0KICAgICAgICAgIEV2ZW50Q2hhbmdlZFN0cmluZyh0aGlzLCdPcmdhbml6YXRpb24nLF9Pcmdhbml6YXRpb24pOw0KDQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHNldFByb2R1Y3Qoc3RyaW5nIF9Qcm9kdWN0KSAgb25seUJ5KGNyZWF0b3IpIG9ubHlJZk5vdFNlYWxlZCgpDQogICAgew0KICAgICAgICAgIFByb2R1Y3QgPSBfUHJvZHVjdDsNCiAgICAgICAgICBFdmVudENoYW5nZWRTdHJpbmcodGhpcywnUHJvZHVjdCcsX1Byb2R1Y3QpOw0KICAgICAgICANCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24oc3RyaW5nIF9EZXNjcmlwdGlvbikgIG9ubHlCeShjcmVhdG9yKSBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgICBEZXNjcmlwdGlvbiA9IF9EZXNjcmlwdGlvbjsNCiAgICAgICAgICBFdmVudENoYW5nZWRTdHJpbmcodGhpcywnRGVzY3JpcHRpb24nLF9EZXNjcmlwdGlvbik7DQogICAgfQ0KICAgIGZ1bmN0aW9uIHNldEFncmlDaGFpbkRhdGEoYWRkcmVzcyBfQWdyaUNoYWluRGF0YSkgIG9ubHlCeShjcmVhdG9yKSBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgIEFncmlDaGFpbkRhdGEgPSBfQWdyaUNoYWluRGF0YTsNCiAgICAgICAgIEV2ZW50Q2hhbmdlZEFkZHJlc3ModGhpcywnQWdyaUNoYWluRGF0YScsX0FncmlDaGFpbkRhdGEpOw0KICAgIH0NCiAgICANCiAgICANCiAgICBmdW5jdGlvbiBzZXRBZ3JpQ2hhaW5TZWFsKHN0cmluZyBfQWdyaUNoYWluU2VhbCkgIG9ubHlCeShjcmVhdG9yKSBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgIEFncmlDaGFpblNlYWwgPSBfQWdyaUNoYWluU2VhbDsNCiAgICAgICAgIEV2ZW50Q2hhbmdlZFN0cmluZyh0aGlzLCdBZ3JpQ2hhaW5TZWFsJyxfQWdyaUNoYWluU2VhbCk7DQogICAgfQ0KICAgIA0KICAgIA0KICAgICANCiAgICBmdW5jdGlvbiBzZXROb3RlcyhzdHJpbmcgX05vdGVzKSAgb25seUJ5KGNyZWF0b3IpDQogICAgew0KICAgICAgICAgTm90ZXMgPSAgX05vdGVzOw0KICAgICAgICAgRXZlbnRDaGFuZ2VkKHRoaXMsJ05vdGVzJyk7DQogICAgfQ0KfQ0KDQoNCg0KLy9Mb2dnZWREYXRhDQpjb250cmFjdCBBZ3JpQ2hhaW5EYXRhQ29udHJhY3QgICBpcyBBZ3JpQ2hhaW5Db250cmFjdCAgICANCnsgIA0KICAgICAgc3RyaW5nIHB1YmxpYyBBZ3JpQ2hhaW5MYWJlbDsNCiAgICAgIHN0cmluZyBwdWJsaWMgQWdyaUNoYWluTGFiZWxJbnQ7DQogICAgICBzdHJpbmcgcHVibGljIEFncmlDaGFpbkRlc2NyaXB0aW9uOw0KICAgICAgc3RyaW5nIHB1YmxpYyBBZ3JpQ2hhaW5EZXNjcmlwdGlvbkludDsNCiAgICAgIA0KICAgIA0KICAgIC8vbWFpbiBsYW5ndWFnZSBkYXRhICANCiAgICBmdW5jdGlvbiBzZXREYXRhKHN0cmluZyBfTGFiZWwsc3RyaW5nIF9EZXNjcmlwdGlvbikgIG9ubHlCeShjcmVhdG9yKSBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgIA0KICAgICAgICAgIEFncmlDaGFpbkxhYmVsPV9MYWJlbDsNCiAgICAgICAgICBBZ3JpQ2hhaW5EZXNjcmlwdGlvbj1fRGVzY3JpcHRpb247DQogICAgICAgICAgRXZlbnRDaGFuZ2VkKHRoaXMsJ0RhdGEnKTsNCiAgICB9DQogICANCiAgICAvL0ludGVybmF0aW9uYWwgbGFuZ3VhZ2UgZGF0YQ0KICAgIGZ1bmN0aW9uIHNldERhdGFJbnQoc3RyaW5nIF9MYWJlbEludCxzdHJpbmcgX0Rlc2NyaXB0aW9uSW50KSAgb25seUJ5KGNyZWF0b3IpIG9ubHlJZk5vdFNlYWxlZCgpDQogICAgew0KICAgICAgICAgIA0KICAgICAgICAgIEFncmlDaGFpbkxhYmVsSW50PV9MYWJlbEludDsNCiAgICAgICAgICBBZ3JpQ2hhaW5EZXNjcmlwdGlvbkludD1fRGVzY3JpcHRpb25JbnQ7DQogICAgICAgICAgRXZlbnRDaGFuZ2VkKHRoaXMsJ0RhdGFJbnQnKTsNCiAgICB9DQogICANCiAgICAgIA0KfQ0KDQovL0V4dGVybmFsIERvY3VtZW50RGF0YQ0KLy90aGUgZXh0ZW5hbCBkb2N1bWVudCBpcyBoYXNoZWQgIGFuZCBjaGFpbmVkIGFzIGRlc2NyaWJlZCBieSB0aGlzIGNvbnRyYWN0DQpjb250cmFjdCBBZ3JpQ2hhaW5Eb2N1bWVudENvbnRyYWN0ICAgaXMgQWdyaUNoYWluRGF0YUNvbnRyYWN0ICAgIA0KeyAgDQogICAgIA0KICAgIHN0cmluZyAgcHVibGljICBFbWl0dGVyOyAgICAgIC8vT3JnYW5pemF0aW9uDQoNCiAgICBzdHJpbmcgIHB1YmxpYyAgTmFtZTsgICAgICAgICAvL05hbWUNCiAgICBzdHJpbmcgIHB1YmxpYyAgTmFtZUludDsgICAgICAgICAvL05hbWUgSW50ZXJuYXRpb25hbA0KDQogICAgc3RyaW5nICBwdWJsaWMgIEZpbGVOYW1lOyAgICAgLy9GaWxlTmFtZQ0KICAgIHN0cmluZyAgcHVibGljICBGaWxlSGFzaDsgICAgIC8vRmlsZUhhc2gNCiAgICBzdHJpbmcgIHB1YmxpYyAgRmlsZURhdGE7ICAgICAvL0ZpbGVEYXRhDQogICANCiAgICBzdHJpbmcgIHB1YmxpYyAgRmlsZU5hbWVJbnQ7ICAvL0ZpbGVOYW1lIEludGVybmF0aW9uYWwNCiAgICBzdHJpbmcgIHB1YmxpYyAgRmlsZUhhc2hJbnQ7ICAvL0ZpbGVIYXNoIEludGVybmF0aW9uYWwNCiAgICBzdHJpbmcgIHB1YmxpYyAgRmlsZURhdGFJbnQ7ICAvL0ZpbGVEYXRhIEludGVybmF0aW9uYWwNCg0KICAgIHN0cmluZyAgcHVibGljICBOb3RlcyA7DQogICAgYWRkcmVzcyBwdWJsaWMgIEN1cnJlbnRSZXZpc2lvbjsgDQogICAgDQogICAgZnVuY3Rpb24gICBBZ3JpQ2hhaW5Eb2N1bWVudENvbnRyYWN0KCkgcHVibGljDQogICAgew0KICAgICAgICBDdXJyZW50UmV2aXNpb249YWRkcmVzcyh0aGlzKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2V0RG9jdW1lbnREYXRhKHN0cmluZyBfRW1pdHRlcixzdHJpbmcgX05hbWUsIHN0cmluZyBfRmlsZU5hbWUsc3RyaW5nIF9GaWxlSGFzaCxzdHJpbmcgX0ZpbGVEYXRhKSAgb25seUJ5KGNyZWF0b3IpIG9ubHlJZk5vdFNlYWxlZCgpDQogICAgew0KICAgICAgICAgIEVtaXR0ZXI9X0VtaXR0ZXI7DQogICAgICAgICAgTmFtZT1fTmFtZTsNCiAgICAgICAgICBGaWxlTmFtZT1fRmlsZU5hbWU7DQogICAgICAgICAgRmlsZUhhc2g9X0ZpbGVIYXNoOw0KICAgICAgICAgIEZpbGVEYXRhPV9GaWxlRGF0YTsgICAgICAgICAgDQogICAgICAgICAgRXZlbnRDaGFuZ2VkKHRoaXMsJ3NldERvY3VtZW50RGF0YScpOw0KICAgICAgIA0KICAgIH0gDQogICAgDQogICAgZnVuY3Rpb24gc2V0Q3VycmVudFJldmlzaW9uKGFkZHJlc3MgX1JldmlzaW9uKSAgb25seUJ5KGNyZWF0b3IpICANCiAgICB7DQogICAgICAgICAgQ3VycmVudFJldmlzaW9uID0gX1JldmlzaW9uOw0KICAgICAgICAgIEV2ZW50Q2hhbmdlZEFkZHJlc3ModGhpcywnQ3VycmVudFJldmlzaW9uJyxfUmV2aXNpb24pOw0KICAgICAgICANCiAgICB9IA0KICAgICANCiAgICAgDQogICAgZnVuY3Rpb24gc2V0Tm90ZXMoc3RyaW5nIF9Ob3RlcykgIG9ubHlCeShjcmVhdG9yKQ0KICAgIHsNCiAgICAgICAgIE5vdGVzID0gIF9Ob3RlczsNCiAgICAgICAgIA0KICAgIH0NCn0NCg0KDQovL1Byb2R1Y3Rpb24gUXVudGl0eSBjb3VudGVyIGNvbnRyYWN0DQovL3RoZSBzcGVkaWZpZWQgcHJvZHVjdGlvbiBzaSBhY2NvdW50ZWQgYnkgdGhpcyBjb250cmFjdA0KY29udHJhY3QgQWdyaUNoYWluUHJvZHVjdGlvbkxvdENvbnRyYWN0ICAgaXMgQWdyaUNoYWluRGF0YUNvbnRyYWN0ICAgIA0KeyAgDQogICAgDQogICAgIGludDMyICBwdWJsaWMgUXVhbnRpdHlJbml0aWFsOw0KICAgICBpbnQzMiAgcHVibGljIFF1YW50aXR5QXZhaWxhYmxlOw0KICAgICBzdHJpbmcgcHVibGljIFF1YW50aXR5VW5pdDsNCiAgICANCiAgICBmdW5jdGlvbiBJbml0UXVhbnRpdHkoaW50MzIgX0luaXRpYWwsc3RyaW5nIF9Vbml0KSAgb25seUJ5KGNyZWF0b3IpICBvbmx5SWZOb3RTZWFsZWQoKQ0KICAgIHsNCiAgICAgICAgICBRdWFudGl0eUluaXRpYWwgPSBfSW5pdGlhbDsNCiAgICAgICAgICBRdWFudGl0eUF2YWlsYWJsZSA9IF9Jbml0aWFsOw0KICAgICAgICAgIFF1YW50aXR5VW5pdCA9IF9Vbml0Ow0KICAgICAgICAgIEV2ZW50Q2hhbmdlZEludDMyKHRoaXMsJ1F1YW50aXR5SW5pdGlhbCcsX0luaXRpYWwpOw0KDQogICAgfQ0KICANCiAgICBmdW5jdGlvbiBVc2VRdWFudGl0eShpbnQzMiBfVXNlKSAgb25seUJ5KGNyZWF0b3IpICANCiAgICB7DQogICAgICAgICAgUXVhbnRpdHlBdmFpbGFibGUgPSBRdWFudGl0eUF2YWlsYWJsZS1fVXNlOw0KICAgICAgICAgIEV2ZW50Q2hhbmdlZEludDMyKHRoaXMsJ1F1YW50aXR5QXZhaWxhYmxlJyxRdWFudGl0eUF2YWlsYWJsZSk7DQoNCiAgICB9DQogIA0KfQ=='