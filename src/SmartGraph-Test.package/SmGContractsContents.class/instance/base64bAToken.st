base 64 content
base64bAToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KLyogdGFraW5nIGlkZWFzIGZyb20gRmlyc3RCbG9vZCB0b2tlbiAqLw0KY29udHJhY3QgU2FmZU1hdGggew0KDQogICAgLyogZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7ICovDQogICAgLyogICBpZiAoIWFzc2VydGlvbikgeyAqLw0KICAgIC8qICAgICB0aHJvdzsgKi8NCiAgICAvKiAgIH0gKi8NCiAgICAvKiB9ICAgICAgLy8gYXNzZXJ0IG5vIGxvbmdlciBuZWVkZWQgb25jZSBzb2xpZGl0eSBpcyBvbiAwLjQuMTAgKi8NCg0KICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHJldHVybnModWludDI1Nikgew0KICAgICAgdWludDI1NiB6ID0geCArIHk7DQogICAgICBhc3NlcnQoKHogPj0geCkgJiYgKHogPj0geSkpOw0KICAgICAgcmV0dXJuIHo7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2FmZVN1YnRyYWN0KHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsNCiAgICAgIGFzc2VydCh4ID49IHkpOw0KICAgICAgdWludDI1NiB6ID0geCAtIHk7DQogICAgICByZXR1cm4gejsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzYWZlTXVsdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7DQogICAgICB1aW50MjU2IHogPSB4ICogeTsNCiAgICAgIGFzc2VydCgoeCA9PSAwKXx8KHoveCA9PSB5KSk7DQogICAgICByZXR1cm4gejsNCiAgICB9DQoNCn0NCg0KY29udHJhY3QgVG9rZW4gew0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOw0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOw0KfQ0KDQoNCi8qICBFUkMgMjAgdG9rZW4gKi8NCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gew0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgew0KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsNCiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQp9DQoNCmNvbnRyYWN0IEJBVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgU2FmZU1hdGggew0KDQogICAgLy8gbWV0YWRhdGENCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiQmFzaWMgQXR0ZW50aW9uIFRva2VuIjsNCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJCQVQiOw0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7DQogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7DQoNCiAgICAvLyBjb250cmFjdHMNCiAgICBhZGRyZXNzIHB1YmxpYyBldGhGdW5kRGVwb3NpdDsgICAgICAvLyBkZXBvc2l0IGFkZHJlc3MgZm9yIEVUSCBmb3IgQnJhdmUgSW50ZXJuYXRpb25hbA0KICAgIGFkZHJlc3MgcHVibGljIGJhdEZ1bmREZXBvc2l0OyAgICAgIC8vIGRlcG9zaXQgYWRkcmVzcyBmb3IgQnJhdmUgSW50ZXJuYXRpb25hbCB1c2UgYW5kIEJBVCBVc2VyIEZ1bmQNCg0KICAgIC8vIGNyb3dkc2FsZSBwYXJhbWV0ZXJzDQogICAgYm9vbCBwdWJsaWMgaXNGaW5hbGl6ZWQ7ICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byB0cnVlIGluIG9wZXJhdGlvbmFsIHN0YXRlDQogICAgdWludDI1NiBwdWJsaWMgZnVuZGluZ1N0YXJ0QmxvY2s7DQogICAgdWludDI1NiBwdWJsaWMgZnVuZGluZ0VuZEJsb2NrOw0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGJhdEZ1bmQgPSA1MDAgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAgIC8vIDUwMG0gQkFUIHJlc2VydmVkIGZvciBCcmF2ZSBJbnRsIHVzZQ0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuRXhjaGFuZ2VSYXRlID0gNjQwMDsgLy8gNjQwMCBCQVQgdG9rZW5zIHBlciAxIEVUSA0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuQ3JlYXRpb25DYXAgPSAgMTUwMCAqICgxMCoqNikgKiAxMCoqZGVjaW1hbHM7DQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5DcmVhdGlvbk1pbiA9ICA2NzUgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOw0KDQoNCiAgICAvLyBldmVudHMNCiAgICBldmVudCBMb2dSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOw0KICAgIGV2ZW50IENyZWF0ZUJBVChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQoNCiAgICAvLyBjb25zdHJ1Y3Rvcg0KICAgIGZ1bmN0aW9uIEJBVG9rZW4oDQogICAgICAgIGFkZHJlc3MgX2V0aEZ1bmREZXBvc2l0LA0KICAgICAgICBhZGRyZXNzIF9iYXRGdW5kRGVwb3NpdCwNCiAgICAgICAgdWludDI1NiBfZnVuZGluZ1N0YXJ0QmxvY2ssDQogICAgICAgIHVpbnQyNTYgX2Z1bmRpbmdFbmRCbG9jaykNCiAgICB7DQogICAgICBpc0ZpbmFsaXplZCA9IGZhbHNlOyAgICAgICAgICAgICAgICAgICAvL2NvbnRyb2xzIHByZSB0aHJvdWdoIGNyb3dkc2FsZSBzdGF0ZQ0KICAgICAgZXRoRnVuZERlcG9zaXQgPSBfZXRoRnVuZERlcG9zaXQ7DQogICAgICBiYXRGdW5kRGVwb3NpdCA9IF9iYXRGdW5kRGVwb3NpdDsNCiAgICAgIGZ1bmRpbmdTdGFydEJsb2NrID0gX2Z1bmRpbmdTdGFydEJsb2NrOw0KICAgICAgZnVuZGluZ0VuZEJsb2NrID0gX2Z1bmRpbmdFbmRCbG9jazsNCiAgICAgIHRvdGFsU3VwcGx5ID0gYmF0RnVuZDsNCiAgICAgIGJhbGFuY2VzW2JhdEZ1bmREZXBvc2l0XSA9IGJhdEZ1bmQ7ICAgIC8vIERlcG9zaXQgQnJhdmUgSW50bCBzaGFyZQ0KICAgICAgQ3JlYXRlQkFUKGJhdEZ1bmREZXBvc2l0LCBiYXRGdW5kKTsgIC8vIGxvZ3MgQnJhdmUgSW50bCBmdW5kDQogICAgfQ0KDQogICAgLy8vIEBkZXYgQWNjZXB0cyBldGhlciBhbmQgY3JlYXRlcyBuZXcgQkFUIHRva2Vucy4NCiAgICBmdW5jdGlvbiBjcmVhdGVUb2tlbnMoKSBwYXlhYmxlIGV4dGVybmFsIHsNCiAgICAgIGlmIChpc0ZpbmFsaXplZCkgdGhyb3c7DQogICAgICBpZiAoYmxvY2subnVtYmVyIDwgZnVuZGluZ1N0YXJ0QmxvY2spIHRocm93Ow0KICAgICAgaWYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykgdGhyb3c7DQogICAgICBpZiAobXNnLnZhbHVlID09IDApIHRocm93Ow0KDQogICAgICB1aW50MjU2IHRva2VucyA9IHNhZmVNdWx0KG1zZy52YWx1ZSwgdG9rZW5FeGNoYW5nZVJhdGUpOyAvLyBjaGVjayB0aGF0IHdlJ3JlIG5vdCBvdmVyIHRvdGFscw0KICAgICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gc2FmZUFkZCh0b3RhbFN1cHBseSwgdG9rZW5zKTsNCg0KICAgICAgLy8gcmV0dXJuIG1vbmV5IGlmIHNvbWV0aGluZyBnb2VzIHdyb25nDQogICAgICBpZiAodG9rZW5DcmVhdGlvbkNhcCA8IGNoZWNrZWRTdXBwbHkpIHRocm93OyAgLy8gb2RkIGZyYWN0aW9ucyB3b24ndCBiZSBmb3VuZA0KDQogICAgICB0b3RhbFN1cHBseSA9IGNoZWNrZWRTdXBwbHk7DQogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlbnM7ICAvLyBzYWZlQWRkIG5vdCBuZWVkZWQ7IGJhZCBzZW1hbnRpY3MgdG8gdXNlIGhlcmUNCiAgICAgIENyZWF0ZUJBVChtc2cuc2VuZGVyLCB0b2tlbnMpOyAgLy8gbG9ncyB0b2tlbiBjcmVhdGlvbg0KICAgIH0NCg0KICAgIC8vLyBAZGV2IEVuZHMgdGhlIGZ1bmRpbmcgcGVyaW9kIGFuZCBzZW5kcyB0aGUgRVRIIGhvbWUNCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIGV4dGVybmFsIHsNCiAgICAgIGlmIChpc0ZpbmFsaXplZCkgdGhyb3c7DQogICAgICBpZiAobXNnLnNlbmRlciAhPSBldGhGdW5kRGVwb3NpdCkgdGhyb3c7IC8vIGxvY2tzIGZpbmFsaXplIHRvIHRoZSB1bHRpbWF0ZSBFVEggb3duZXINCiAgICAgIGlmKHRvdGFsU3VwcGx5IDwgdG9rZW5DcmVhdGlvbk1pbikgdGhyb3c7ICAgICAgLy8gaGF2ZSB0byBzZWxsIG1pbmltdW0gdG8gbW92ZSB0byBvcGVyYXRpb25hbA0KICAgICAgaWYoYmxvY2subnVtYmVyIDw9IGZ1bmRpbmdFbmRCbG9jayAmJiB0b3RhbFN1cHBseSAhPSB0b2tlbkNyZWF0aW9uQ2FwKSB0aHJvdzsNCiAgICAgIC8vIG1vdmUgdG8gb3BlcmF0aW9uYWwNCiAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsNCiAgICAgIGlmKCFldGhGdW5kRGVwb3NpdC5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93OyAgLy8gc2VuZCB0aGUgZXRoIHRvIEJyYXZlIEludGVybmF0aW9uYWwNCiAgICB9DQoNCiAgICAvLy8gQGRldiBBbGxvd3MgY29udHJpYnV0b3JzIHRvIHJlY292ZXIgdGhlaXIgZXRoZXIgaW4gdGhlIGNhc2Ugb2YgYSBmYWlsZWQgZnVuZGluZyBjYW1wYWlnbi4NCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBleHRlcm5hbCB7DQogICAgICBpZihpc0ZpbmFsaXplZCkgdGhyb3c7ICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2ZW50cyByZWZ1bmQgaWYgb3BlcmF0aW9uYWwNCiAgICAgIGlmIChibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrKSB0aHJvdzsgLy8gcHJldmVudHMgcmVmdW5kIHVudGlsIHNhbGUgcGVyaW9kIGlzIG92ZXINCiAgICAgIGlmKHRvdGFsU3VwcGx5ID49IHRva2VuQ3JlYXRpb25NaW4pIHRocm93OyAgLy8gbm8gcmVmdW5kcyBpZiB3ZSBzb2xkIGVub3VnaA0KICAgICAgaWYobXNnLnNlbmRlciA9PSBiYXRGdW5kRGVwb3NpdCkgdGhyb3c7ICAgIC8vIEJyYXZlIEludGwgbm90IGVudGl0bGVkIHRvIGEgcmVmdW5kDQogICAgICB1aW50MjU2IGJhdFZhbCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOw0KICAgICAgaWYgKGJhdFZhbCA9PSAwKSB0aHJvdzsNCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsNCiAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1YnRyYWN0KHRvdGFsU3VwcGx5LCBiYXRWYWwpOyAvLyBleHRyYSBzYWZlDQogICAgICB1aW50MjU2IGV0aFZhbCA9IGJhdFZhbCAvIHRva2VuRXhjaGFuZ2VSYXRlOyAgICAgLy8gc2hvdWxkIGJlIHNhZmU7IHByZXZpb3VzIHRocm93cyBjb3ZlcnMgZWRnZXMNCiAgICAgIExvZ1JlZnVuZChtc2cuc2VuZGVyLCBldGhWYWwpOyAgICAgICAgICAgICAgIC8vIGxvZyBpdCANCiAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGV0aFZhbCkpIHRocm93OyAgICAgICAvLyBpZiB5b3UncmUgdXNpbmcgYSBjb250cmFjdDsgbWFrZSBzdXJlIGl0IHdvcmtzIHdpdGggLnNlbmQgZ2FzIGxpbWl0cw0KICAgIH0NCg0KfQ=='