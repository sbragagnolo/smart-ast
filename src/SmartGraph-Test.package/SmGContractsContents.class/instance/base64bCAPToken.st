base 64 content
base64bCAPToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xOw0KDQovKioNCiAqIEVSQy0yMCBzdGFuZGFyZCB0b2tlbiBpbnRlcmZhY2UsIGFzIGRlZmluZWQNCiAqIDxhIGhyZWY9Imh0dHA6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwIj5oZXJlPC9hPi4NCiAqLw0KY29udHJhY3QgVG9rZW4gew0KICAvKioNCiAgICogR2V0IHRvdGFsIG51bWJlciBvZiB0b2tlbnMgaW4gY2lyY3VsYXRpb24uDQogICAqDQogICAqIEByZXR1cm4gdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbg0KICAgKi8NCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkgKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOw0KDQogIC8qKg0KICAgKiBHZXQgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIGdpdmVuIG93bmVyLg0KICAgKg0KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byB0aGUNCiAgICAgICAgICAgIG93bmVyIG9mDQogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzDQogICAqLw0KICBmdW5jdGlvbiBiYWxhbmNlT2YgKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOw0KDQogIC8qKg0KICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIgdG8gZ2l2ZW4gcmVjaXBpZW50Lg0KICAgKg0KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZg0KICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MNCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlDQogICAqLw0KICBmdW5jdGlvbiB0cmFuc2ZlciAoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogIC8qKg0KICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4gcmVjaXBpZW50Lg0KICAgKg0KICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4NCiAgICAgICAgICAgIHJlY2lwaWVudA0KICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UNCiAgICovDQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSAoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKQ0KICByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogIC8qKg0KICAgKiBBbGxvdyBnaXZlbiBzcGVuZGVyIHRvIHRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlci4NCiAgICoNCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgdG8gYWxsb3cgdGhlIG93bmVyIG9mIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tDQogICAgICAgICAgICBtZXNzYWdlIHNlbmRlcg0KICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gYWxsb3cgdG8gdHJhbnNmZXINCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VuIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsbHkgYXBwcm92ZWQsIGZhbHNlIG90aGVyd2lzZQ0KICAgKi8NCiAgZnVuY3Rpb24gYXBwcm92ZSAoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgLyoqDQogICAqIFRlbGwgaG93IG1hbnkgdG9rZW5zIGdpdmVuIHNwZW5kZXIgaXMgY3VycmVudGx5IGFsbG93ZWQgdG8gdHJhbnNmZXIgZnJvbQ0KICAgKiBnaXZlbiBvd25lci4NCiAgICoNCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQNCiAgICogICAgICAgIGZyb20gdGhlIG93bmVyIG9mDQogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQNCiAgICogICAgICAgIGJ5IHRoZSBvd25lciBvZg0KICAgKiBAcmV0dXJuIG51bWJlciBvZiB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBjdXJyZW50bHkgYWxsb3dlZCB0byB0cmFuc2Zlcg0KICAgKiAgICAgICAgIGZyb20gZ2l2ZW4gb3duZXINCiAgICovDQogIGZ1bmN0aW9uIGFsbG93YW5jZSAoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50DQogIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCg0KICAvKioNCiAgICogTG9nZ2VkIHdoZW4gdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgZnJvbSBvbmUgb3duZXIgdG8gYW5vdGhlci4NCiAgICoNCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3Mgb2YgdGhlIG93bmVyLCB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBmcm9tDQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBvZiB0aGUgb3duZXIsIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHRvDQogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0cmFuc2ZlcnJlZA0KICAgKi8NCiAgZXZlbnQgVHJhbnNmZXIgKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOw0KDQogIC8qKg0KICAgKiBMb2dnZWQgd2hlbiBvd25lciBhcHByb3ZlZCBoaXMgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkIGJ5IHNvbWUgc3BlbmRlci4NCiAgICoNCiAgICogQHBhcmFtIF9vd25lciBvd25lciB3aG8gYXBwcm92ZWQgaGlzIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZA0KICAgKiBAcGFyYW0gX3NwZW5kZXIgc3BlbmRlciB3aG8gd2VyZSBhbGxvd2VkIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMgYmVsb25naW5nDQogICAqICAgICAgICB0byB0aGUgb3duZXINCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIGJlbG9uZ2luZyB0byB0aGUgb3duZXIsIGFwcHJvdmVkIHRvIGJlDQogICAqICAgICAgICB0cmFuc2ZlcnJlZCBieSB0aGUgc3BlbmRlcg0KICAgKi8NCiAgZXZlbnQgQXBwcm92YWwgKA0KICAgIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOw0KfQ0KDQovKg0KICogU2FmZSBNYXRoIFNtYXJ0IENvbnRyYWN0LiAgQ29weXJpZ2h0ICYjMTY5OyAyMDE2IGJ5IEFCREsgQ29uc3VsdGluZy4NCiAqLw0KLyoqDQogKiBQcm92aWRlcyBtZXRob2RzIHRvIHNhZmVseSBhZGQsIHN1YnRyYWN0IGFuZCBtdWx0aXBseSB1aW50MjU2IG51bWJlcnMuDQogKi8NCmNvbnRyYWN0IFNhZmVNYXRoIHsNCiAgdWludDI1NiBjb25zdGFudCBwcml2YXRlIE1BWF9VSU5UMjU2ID0NCiAgICAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7DQoNCiAgLyoqDQogICAqIEFkZCB0d28gdWludDI1NiB2YWx1ZXMsIHRocm93IGluIGNhc2Ugb2Ygb3ZlcmZsb3cuDQogICAqDQogICAqIEBwYXJhbSB4IGZpcnN0IHZhbHVlIHRvIGFkZA0KICAgKiBAcGFyYW0geSBzZWNvbmQgdmFsdWUgdG8gYWRkDQogICAqIEByZXR1cm4geCArIHkNCiAgICovDQogIGZ1bmN0aW9uIHNhZmVBZGQgKHVpbnQyNTYgeCwgdWludDI1NiB5KQ0KICBjb25zdGFudCBpbnRlcm5hbA0KICByZXR1cm5zICh1aW50MjU2IHopIHsNCiAgICBpZiAoeCA+IE1BWF9VSU5UMjU2IC0geSkgdGhyb3c7DQogICAgcmV0dXJuIHggKyB5Ow0KICB9DQoNCiAgLyoqDQogICAqIFN1YnRyYWN0IG9uZSB1aW50MjU2IHZhbHVlIGZyb20gYW5vdGhlciwgdGhyb3cgaW4gY2FzZSBvZiB1bmRlcmZsb3cuDQogICAqDQogICAqIEBwYXJhbSB4IHZhbHVlIHRvIHN1YnRyYWN0IGZyb20NCiAgICogQHBhcmFtIHkgdmFsdWUgdG8gc3VidHJhY3QNCiAgICogQHJldHVybiB4IC0geQ0KICAgKi8NCiAgZnVuY3Rpb24gc2FmZVN1YiAodWludDI1NiB4LCB1aW50MjU2IHkpDQogIGNvbnN0YW50IGludGVybmFsDQogIHJldHVybnMgKHVpbnQyNTYgeikgew0KICAgIGlmICh4IDwgeSkgdGhyb3c7DQogICAgcmV0dXJuIHggLSB5Ow0KICB9DQoNCiAgLyoqDQogICAqIE11bHRpcGx5IHR3byB1aW50MjU2IHZhbHVlcywgdGhyb3cgaW4gY2FzZSBvZiBvdmVyZmxvdy4NCiAgICoNCiAgICogQHBhcmFtIHggZmlyc3QgdmFsdWUgdG8gbXVsdGlwbHkNCiAgICogQHBhcmFtIHkgc2Vjb25kIHZhbHVlIHRvIG11bHRpcGx5DQogICAqIEByZXR1cm4geCAqIHkNCiAgICovDQogIGZ1bmN0aW9uIHNhZmVNdWwgKHVpbnQyNTYgeCwgdWludDI1NiB5KQ0KICBjb25zdGFudCBpbnRlcm5hbA0KICByZXR1cm5zICh1aW50MjU2IHopIHsNCiAgICBpZiAoeSA9PSAwKSByZXR1cm4gMDsgLy8gUHJldmVudCBkaXZpc2lvbiBieSB6ZXJvIGF0IHRoZSBuZXh0IGxpbmUNCiAgICBpZiAoeCA+IE1BWF9VSU5UMjU2IC8geSkgdGhyb3c7DQogICAgcmV0dXJuIHggKiB5Ow0KICB9DQp9DQoNCi8qDQogKiBBYnN0cmFjdCBUb2tlbiBTbWFydCBDb250cmFjdC4gIENvcHlyaWdodCAmIzE2OTsgMjAxNyBieSBBQkRLIENvbnN1bHRpbmcuDQogKi8NCg0KLyoqDQogKiBBYnN0cmFjdCBUb2tlbiBTbWFydCBDb250cmFjdCB0aGF0IGNvdWxkIGJlIHVzZWQgYXMgYSBiYXNlIGNvbnRyYWN0IGZvcg0KICogRVJDLTIwIHRva2VuIGNvbnRyYWN0cy4NCiAqLw0KY29udHJhY3QgQWJzdHJhY3RUb2tlbiBpcyBUb2tlbiwgU2FmZU1hdGggew0KICAvKioNCiAgICogQ3JlYXRlIG5ldyBBYnN0cmFjdCBUb2tlbiBjb250cmFjdC4NCiAgICovDQogIGZ1bmN0aW9uIEFic3RyYWN0VG9rZW4gKCkgew0KICAgIC8vIERvIG5vdGhpbmcNCiAgfQ0KDQogIC8qKg0KICAgKiBHZXQgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIGdpdmVuIG93bmVyLg0KICAgKg0KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byB0aGUNCiAgICAgICAgICAgIG93bmVyIG9mDQogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzDQogICAqLw0KICBmdW5jdGlvbiBiYWxhbmNlT2YgKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICByZXR1cm4gYWNjb3VudHMgW19vd25lcl07DQogIH0NCg0KICAvKioNCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyIHRvIGdpdmVuIHJlY2lwaWVudC4NCiAgICoNCiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzDQogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQ0KICAgKi8NCiAgZnVuY3Rpb24gdHJhbnNmZXIgKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgaWYgKGFjY291bnRzIFttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOw0KICAgIGlmIChfdmFsdWUgPiAwICYmIG1zZy5zZW5kZXIgIT0gX3RvKSB7DQogICAgICBhY2NvdW50cyBbbXNnLnNlbmRlcl0gPSBzYWZlU3ViIChhY2NvdW50cyBbbXNnLnNlbmRlcl0sIF92YWx1ZSk7DQogICAgICBhY2NvdW50cyBbX3RvXSA9IHNhZmVBZGQgKGFjY291bnRzIFtfdG9dLCBfdmFsdWUpOw0KICAgICAgVHJhbnNmZXIgKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICB9DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvKioNCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuIHJlY2lwaWVudC4NCiAgICoNCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gdGhlIG93bmVyIG9mDQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mDQogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuDQogICAgICAgICAgICByZWNpcGllbnQNCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlDQogICAqLw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20gKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkNCiAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgaWYgKGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOw0KICAgIGlmIChhY2NvdW50cyBbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7DQoNCiAgICBhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0gPQ0KICAgICAgc2FmZVN1YiAoYWxsb3dhbmNlcyBbX2Zyb21dW21zZy5zZW5kZXJdLCBfdmFsdWUpOw0KDQogICAgaWYgKF92YWx1ZSA+IDAgJiYgX2Zyb20gIT0gX3RvKSB7DQogICAgICBhY2NvdW50cyBbX2Zyb21dID0gc2FmZVN1YiAoYWNjb3VudHMgW19mcm9tXSwgX3ZhbHVlKTsNCiAgICAgIGFjY291bnRzIFtfdG9dID0gc2FmZUFkZCAoYWNjb3VudHMgW190b10sIF92YWx1ZSk7DQogICAgICBUcmFuc2ZlciAoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICB9DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvKioNCiAgICogQWxsb3cgZ2l2ZW4gc3BlbmRlciB0byB0cmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIuDQogICAqDQogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGFsbG93IHRoZSBvd25lciBvZiB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbQ0KICAgICAgICAgICAgbWVzc2FnZSBzZW5kZXINCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGFsbG93IHRvIHRyYW5zZmVyDQogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbiB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bGx5IGFwcHJvdmVkLCBmYWxzZSBvdGhlcndpc2UNCiAgICovDQogIGZ1bmN0aW9uIGFwcHJvdmUgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICBhbGxvd2FuY2VzIFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgQXBwcm92YWwgKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KDQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvKioNCiAgICogVGVsbCBob3cgbWFueSB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBjdXJyZW50bHkgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tDQogICAqIGdpdmVuIG93bmVyLg0KICAgKg0KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgYWxsb3dlZCB0byBiZSB0cmFuc2ZlcnJlZA0KICAgKiAgICAgICAgZnJvbSB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgYWxsb3dlZCB0byBiZSB0cmFuc2ZlcnJlZA0KICAgKiAgICAgICAgYnkgdGhlIG93bmVyIG9mDQogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBnaXZlbiBzcGVuZGVyIGlzIGN1cnJlbnRseSBhbGxvd2VkIHRvIHRyYW5zZmVyDQogICAqICAgICAgICAgZnJvbSBnaXZlbiBvd25lcg0KICAgKi8NCiAgZnVuY3Rpb24gYWxsb3dhbmNlIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQNCiAgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICByZXR1cm4gYWxsb3dhbmNlcyBbX293bmVyXVtfc3BlbmRlcl07DQogIH0NCg0KICAvKioNCiAgICogTWFwcGluZyBmcm9tIGFkZHJlc3NlcyBvZiB0b2tlbiBob2xkZXJzIHRvIHRoZSBudW1iZXJzIG9mIHRva2VucyBiZWxvbmdpbmcNCiAgICogdG8gdGhlc2UgdG9rZW4gaG9sZGVycy4NCiAgICovDQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYWNjb3VudHM7DQoNCiAgLyoqDQogICAqIE1hcHBpbmcgZnJvbSBhZGRyZXNzZXMgb2YgdG9rZW4gaG9sZGVycyB0byB0aGUgbWFwcGluZyBvZiBhZGRyZXNzZXMgb2YNCiAgICogc3BlbmRlcnMgdG8gdGhlIGFsbG93YW5jZXMgc2V0IGJ5IHRoZXNlIHRva2VuIGhvbGRlcnMgdG8gdGhlc2Ugc3BlbmRlcnMuDQogICAqLw0KICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHByaXZhdGUgYWxsb3dhbmNlczsNCn0NCg0KDQovKg0KICogU3RhbmRhcmQgVG9rZW4gU21hcnQgQ29udHJhY3QuICBDb3B5cmlnaHQgJiMxNjk7IDIwMTYgYnkgQUJESyBDb25zdWx0aW5nLg0KICovDQoNCg0KLyoqDQogKiBTdGFuZGFyZCBUb2tlbiBTbWFydCBDb250cmFjdCB0aGF0IGltcGxlbWVudHMgRVJDLTIwIHRva2VuIHdpdGggc3BlY2lhbA0KICogdW5saW1pdGVkIHN1cHBseSAidG9rZW4gaXNzdWVyIiBhY2NvdW50Lg0KICovDQpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEFic3RyYWN0VG9rZW4gew0KICB1aW50MjU2IGNvbnN0YW50IHByaXZhdGUgTUFYX1VJTlQyNTYgPQ0KICAgIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsNCg0KICAvKioNCiAgICogQ3JlYXRlIG5ldyBTdGFuZGFyZCBUb2tlbiBjb250cmFjdCB3aXRoIGdpdmVuICJ0b2tlbiBpc3N1ZXIiIGFjY291bnQuDQogICAqDQogICAqIEBwYXJhbSBfdG9rZW5Jc3N1ZXIgYWRkcmVzcyBvZiAidG9rZW4gaXNzdWVyIiBhY2NvdW50DQogICAqLw0KICBmdW5jdGlvbiBTdGFuZGFyZFRva2VuIChhZGRyZXNzIF90b2tlbklzc3VlcikgQWJzdHJhY3RUb2tlbiAoKSB7DQogICAgdG9rZW5Jc3N1ZXIgPSBfdG9rZW5Jc3N1ZXI7DQogICAgYWNjb3VudHMgW190b2tlbklzc3Vlcl0gPSBNQVhfVUlOVDI1NjsNCiAgfQ0KDQogIC8qKg0KICAgKiBHZXQgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbi4NCiAgICoNCiAgICogQHJldHVybiB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uDQogICAqLw0KICBmdW5jdGlvbiB0b3RhbFN1cHBseSAoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkgew0KICAgIHJldHVybiBzYWZlU3ViIChNQVhfVUlOVDI1NiwgYWNjb3VudHMgW3Rva2VuSXNzdWVyXSk7DQogIH0NCg0KICAvKioNCiAgICogR2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byBnaXZlbiBvd25lci4NCiAgICoNCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlDQogICAgICAgICAgICBvd25lciBvZg0KICAgKiBAcmV0dXJuIG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byB0aGUgb3duZXIgb2YgZ2l2ZW4gYWRkcmVzcw0KICAgKi8NCiAgZnVuY3Rpb24gYmFsYW5jZU9mIChhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgcmV0dXJuIF9vd25lciA9PSB0b2tlbklzc3VlciA/IDAgOiBBYnN0cmFjdFRva2VuLmJhbGFuY2VPZiAoX293bmVyKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBBZGRyZXNzIG9mICJ0b2tlbiBpc3N1ZXIiIGFjY291bnQuDQogICAqLw0KICBhZGRyZXNzIHByaXZhdGUgdG9rZW5Jc3N1ZXI7DQp9DQoNCi8qKg0KICogQmxvY2tjaGFpbiBDYXBpdGFsIFRva2VuIFNtYXJ0IENvbnRyYWN0Lg0KICovDQpjb250cmFjdCBCQ0FQVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7DQogIC8qKg0KICAgKiBDcmVhdGUgbmV3IEJsb2NrY2hhaW4gQ2FwaXRhbCBUb2tlbiBjb250cmFjdCB3aXRoIGdpdmVuIHRva2VuIGlzc3Vlcg0KICAgKiBhZGRyZXNzLg0KICAgKg0KICAgKiBAcGFyYW0gX3Rva2VuSXNzdWVyIGFkZHJlc3Mgb2YgdG9rZW4gaXNzdWVyDQogICAqLw0KICBmdW5jdGlvbiBCQ0FQVG9rZW4gKGFkZHJlc3MgX3Rva2VuSXNzdWVyKQ0KICAgIFN0YW5kYXJkVG9rZW4gKF90b2tlbklzc3Vlcikgew0KICAgIG93bmVyID0gX3Rva2VuSXNzdWVyOw0KICB9DQoNCiAgLyoqDQogICAqIEZyZWV6ZSB0b2tlbiB0cmFuc2ZlcnMuDQogICAqLw0KICBmdW5jdGlvbiBmcmVlemVUcmFuc2ZlcnMgKCkgew0KICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsNCg0KICAgIGlmICghdHJhbnNmZXJzRnJvemVuKSB7DQogICAgICB0cmFuc2ZlcnNGcm96ZW4gPSB0cnVlOw0KICAgICAgRnJlZXplICgpOw0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBVbmZyZWV6ZSB0b2tlbiB0cmFuc2ZlcnMuDQogICAqLw0KICBmdW5jdGlvbiB1bmZyZWV6ZVRyYW5zZmVycyAoKSB7DQogICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93Ow0KDQogICAgaWYgKHRyYW5zZmVyc0Zyb3plbikgew0KICAgICAgdHJhbnNmZXJzRnJvemVuID0gZmFsc2U7DQogICAgICBVbmZyZWV6ZSAoKTsNCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyIHRvIGdpdmVuIHJlY2lwaWVudC4NCiAgICoNCiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzDQogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQ0KICAgKi8NCiAgZnVuY3Rpb24gdHJhbnNmZXIgKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgaWYgKHRyYW5zZmVyc0Zyb3plbikgcmV0dXJuIGZhbHNlOw0KICAgIGVsc2UgcmV0dXJuIEFic3RyYWN0VG9rZW4udHJhbnNmZXIgKF90bywgX3ZhbHVlKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4gcmVjaXBpZW50Lg0KICAgKg0KICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YNCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4NCiAgICAgICAgICAgIHJlY2lwaWVudA0KICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UNCiAgICovDQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSAoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKQ0KICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICBpZiAodHJhbnNmZXJzRnJvemVuKSByZXR1cm4gZmFsc2U7DQogICAgZWxzZSByZXR1cm4gQWJzdHJhY3RUb2tlbi50cmFuc2ZlckZyb20gKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogIH0NCg0KICAvKioNCiAgICogTG9nZ2VkIHdoZW4gdHJhbnNmZXJzIHdlcmUgZnJvemVuLg0KICAgKi8NCiAgZXZlbnQgRnJlZXplICgpOw0KDQogIC8qKg0KICAgKiBMb2dnZWQgd2hlbiB0cmFuc2ZlcnMgd2VyZSB1bmZyb3plbi4NCiAgICovDQogIGV2ZW50IFVuZnJlZXplICgpOw0KDQogIC8qKg0KICAgKiBBZGRyZXNzIG9mIHRoZSBvd25lciBvZiBzbWFydCBjb250cmFjdC4gIE9ubHkgb3duZXIgaXMgYWxsb3dlZCB0bw0KICAgKiBmcmVlemUvdW5mcmVlemUgdHJhbnNmZXJzLg0KICAgKi8NCiAgYWRkcmVzcyBvd25lcjsNCg0KICAvKioNCiAgICogV2hldGhlciB0cmFuc2ZlcnMgYXJlIGN1cnJlbnRseSBmcm96ZW4gb3Igbm90Lg0KICAgKi8NCiAgYm9vbCB0cmFuc2ZlcnNGcm96ZW4gPSBmYWxzZTsNCn0='