base 64 content
base64bITSDToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KbGlicmFyeSBTYWZlTWF0aCB7DQogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgew0KICAgIHVpbnQgYyA9IGEgKiBiOw0KICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7DQogICAgcmV0dXJuIGM7DQogIH0NCg0KICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICBhc3NlcnQoYiA+IDApOw0KICAgIHVpbnQgYyA9IGEgLyBiOw0KICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOw0KICAgIHJldHVybiBjOw0KICB9DQoNCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgYXNzZXJ0KGIgPD0gYSk7DQogICAgcmV0dXJuIGEgLSBiOw0KICB9DQoNCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgdWludCBjID0gYSArIGI7DQogICAgYXNzZXJ0KGMgPj0gYSk7DQogICAgcmV0dXJuIGM7DQogIH0NCg0KICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgew0KICAgIHJldHVybiBhID49IGIgPyBhIDogYjsNCiAgfQ0KDQogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7DQogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7DQogIH0NCg0KICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7DQogIH0NCg0KICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsNCiAgfQ0KDQogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgew0KICAgIGlmICghYXNzZXJ0aW9uKSB7DQogICAgICB0aHJvdzsNCiAgICB9DQogIH0NCn0NCg0KLyoNCiAqIEVSQzIwQmFzaWMNCiAqIFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UNCiAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqLw0KY29udHJhY3QgRVJDMjBCYXNpYyB7DQogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5Ow0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOw0KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsNCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7DQp9DQoNCi8qDQogKiBFUkMyMCBpbnRlcmZhY2UNCiAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqLw0KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7DQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsNCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpOw0KICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsNCn0NCg0KLyoNCiAqIEJhc2ljIHRva2VuDQogKiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcw0KICovDQpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgew0KICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsNCg0KICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7DQoNCiAgLyoNCiAgICogRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sgIA0KICAgKi8NCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgew0KICAgICBpZihtc2cuZGF0YS5sZW5ndGggPCBzaXplICsgNCkgew0KICAgICAgIHRocm93Ow0KICAgICB9DQogICAgIF87DQogIH0NCg0KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHsNCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOw0KICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOw0KICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7DQogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogIH0NCiAgDQp9DQoNCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgew0KDQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsNCg0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB7DQogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsNCg0KICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldA0KICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsNCg0KICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOw0KICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsNCiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7DQogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHsNCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsNCiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgfQ0KDQp9DQoNCmNvbnRyYWN0IE93bmFibGUgew0KICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCg0KICBmdW5jdGlvbiBPd25hYmxlKCkgew0KICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgfQ0KDQogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsNCiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgew0KICAgICAgdGhyb3c7DQogICAgfQ0KICAgIF87DQogIH0NCg0KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgew0KICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7DQogICAgICBvd25lciA9IG5ld093bmVyOw0KICAgIH0NCiAgfQ0KDQp9DQoNCmNvbnRyYWN0IEJJVFNEVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7DQogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50Ow0KDQogIGV2ZW50IEJJVFNEVG9rZW5Jbml0aWFsaXplZChhZGRyZXNzIF9vd25lcik7DQogIGV2ZW50IE93bmVyVG9rZW5zQWxsb2NhdGVkKHVpbnQgX2Ftb3VudCk7DQogIGV2ZW50IFRlYW1Ub2tlbnNBbGxvY2F0ZWQodWludCBfYW1vdW50KTsNCiAgZXZlbnQgVG9rZW5zQ3JlYXRlZChhZGRyZXNzIGluZGV4ZWQgX3Rva2VuSG9sZGVyLCB1aW50MjU2IF9jb250cmlidXRpb25BbW91bnQsIHVpbnQyNTYgX3Rva2VuQW1vdW50KTsNCiAgZXZlbnQgU2FsZVN0YXJ0ZWQodWludCBfc2FsZVN0YXJ0aW1lKTsNCg0KICBzdHJpbmcgcHVibGljIG5hbWUgPSAiQklUU0RUb2tlbiI7DQogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkJJVFNEIjsNCg0KICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDM7DQogIHVpbnQgcHVibGljIG11bHRpcGxpZXIgPSAxMCoqZGVjaW1hbHM7DQogIHVpbnQgcHVibGljIGV0aGVyUmF0aW8gPSBTYWZlTWF0aC5kaXYoMSBldGhlciwgbXVsdGlwbGllcik7DQoNCiAgdWludCBwdWJsaWMgVE9UQUxfU1VQUExZID0gU2FmZU1hdGgubXVsKDcwMDAwMDAsIG11bHRpcGxpZXIpOw0KICB1aW50IHB1YmxpYyBURUFNX1NVUFBMWSA9IFNhZmVNYXRoLm11bCg3MDAwMDAsIG11bHRpcGxpZXIpOw0KICB1aW50IHB1YmxpYyBQUklDRSA9IDMwMDsgLy8xIEV0aGVyIGJ1eXMgMzAwIEJJVFNEDQogIHVpbnQgcHVibGljIE1JTl9QVVJDSEFTRSA9IDEwKioxODsgLy8gMSBFdGhlcg0KDQogIHVpbnQyNTYgcHVibGljIHNhbGVTdGFydFRpbWUgPSAwOw0KICBib29sIHB1YmxpYyB0ZWFtVG9rZW5zQWxsb2NhdGVkID0gZmFsc2U7DQogIGJvb2wgcHVibGljIG93bmVyVG9rZW5zQWxsb2NhdGVkID0gZmFsc2U7DQoNCiAgZnVuY3Rpb24gQklUU0RUb2tlbigpIHsNCiAgICBCSVRTRFRva2VuSW5pdGlhbGl6ZWQobXNnLnNlbmRlcik7DQogIH0NCg0KICBmdW5jdGlvbiBhbGxvY2F0ZVRlYW1Ub2tlbnMoKSBwdWJsaWMgew0KICAgIGlmICh0ZWFtVG9rZW5zQWxsb2NhdGVkKSB7DQogICAgICB0aHJvdzsNCiAgICB9DQogICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChURUFNX1NVUFBMWSk7DQogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoVEVBTV9TVVBQTFkpOw0KICAgIHRlYW1Ub2tlbnNBbGxvY2F0ZWQgPSB0cnVlOw0KICAgIFRlYW1Ub2tlbnNBbGxvY2F0ZWQoVEVBTV9TVVBQTFkpOw0KICB9DQoNCiAgZnVuY3Rpb24gY2FuQnV5VG9rZW5zKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsNCiAgICAvL1NhbGUgcnVucyBmb3IgMzEgZGF5cw0KICAgIGlmIChzYWxlU3RhcnRUaW1lID09IDApIHsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgaWYgKGdldE5vdygpID4gU2FmZU1hdGguYWRkKHNhbGVTdGFydFRpbWUsIDMxIGRheXMpKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiAgZnVuY3Rpb24gc3RhcnRTYWxlKCkgb25seU93bmVyIHsNCiAgICAvL011c3QgYWxsb2NhdGUgdGVhbSB0b2tlbnMgYmVmb3JlIHN0YXJ0aW5nIHNhbGUsIG9yIHlvdSBtYXkgbG9zZSB0aGUgb3Bwb3J0dW5pdHkNCiAgICAvL3RvIGRvIHNvIGlmIHRoZSB3aG9sZSBzdXBwbHkgaXMgc29sZCB0byB0aGUgY3Jvd2QuDQogICAgaWYgKCF0ZWFtVG9rZW5zQWxsb2NhdGVkKSB7DQogICAgICB0aHJvdzsNCiAgICB9DQogICAgLy9DYW4gb25seSBzdGFydCBvbmNlDQogICAgaWYgKHNhbGVTdGFydFRpbWUgIT0gMCkgew0KICAgICAgdGhyb3c7DQogICAgfQ0KICAgIHNhbGVTdGFydFRpbWUgPSBnZXROb3coKTsNCiAgICBTYWxlU3RhcnRlZChzYWxlU3RhcnRUaW1lKTsNCiAgfQ0KDQogIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgIGNyZWF0ZVRva2Vucyhtc2cuc2VuZGVyKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGNyZWF0ZVRva2VucyhhZGRyZXNzIHJlY2lwaWVudCkgcGF5YWJsZSB7DQoNCiAgICAvL09ubHkgYWxsb3cgcHVyY2hhc2VzIG92ZXIgdGhlIE1JTl9QVVJDSEFTRQ0KICAgIGlmIChtc2cudmFsdWUgPCBNSU5fUFVSQ0hBU0UpIHsNCiAgICAgIHRocm93Ow0KICAgIH0NCg0KICAgIC8vUmVqZWN0IGlmIHNhbGUgaGFzIGNvbXBsZXRlZA0KICAgIGlmICghY2FuQnV5VG9rZW5zKCkpIHsNCiAgICAgIHRocm93Ow0KICAgIH0NCg0KICAgIC8vT3RoZXJ3aXNlIGdlbmVyYXRlIHRva2Vucw0KICAgIHVpbnQgdG9rZW5zID0gbXNnLnZhbHVlLm11bChQUklDRSk7DQoNCiAgICAvL0FkZCBvbiBhbnkgYm9udXMNCiAgICB1aW50IGJvbnVzUGVyY2VudGFnZSA9IFNhZmVNYXRoLmFkZCgxMDAsIGJvbnVzKCkpOw0KICAgIGlmIChib251c1BlcmNlbnRhZ2UgIT0gMTAwKSB7DQogICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKHBlcmNlbnQoYm9udXNQZXJjZW50YWdlKSkuZGl2KHBlcmNlbnQoMTAwKSk7DQogICAgfQ0KDQogICAgdG9rZW5zID0gdG9rZW5zLmRpdihldGhlclJhdGlvKTsNCg0KICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKHRva2Vucyk7DQoNCiAgICAvL0Rvbid0IGFsbG93IHRvdGFsU3VwcGx5IHRvIGJlIGxhcmdlciB0aGFuIFRPVEFMX1NVUFBMWQ0KICAgIGlmICh0b3RhbFN1cHBseSA+IFRPVEFMX1NVUFBMWSkgew0KICAgICAgdGhyb3c7DQogICAgfQ0KDQogICAgYmFsYW5jZXNbcmVjaXBpZW50XSA9IGJhbGFuY2VzW3JlY2lwaWVudF0uYWRkKHRva2Vucyk7DQoNCiAgICAvL1RyYW5zZmVyIEV0aGVyIHRvIG93bmVyDQogICAgb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsNCg0KICAgIFRva2Vuc0NyZWF0ZWQocmVjaXBpZW50LCBtc2cudmFsdWUsIHRva2Vucyk7DQoNCiAgfQ0KDQogIC8vRnVuY3Rpb24gdG8gYXNzaWduIHRlYW0gJiBib3VudHkgdG9rZW5zIHRvIG93bmVyDQogIGZ1bmN0aW9uIGFsbG9jYXRlT3duZXJUb2tlbnMoKSBwdWJsaWMgew0KDQogICAgLy9DYW4gb25seSBiZSBjYWxsZWQgb25jZQ0KICAgIGlmIChvd25lclRva2Vuc0FsbG9jYXRlZCkgew0KICAgICAgdGhyb3c7DQogICAgfQ0KDQogICAgLy9DYW4gb25seSBiZSBjYWxsZWQgYWZ0ZXIgc2FsZSBoYXMgY29tcGxldGVkDQogICAgaWYgKChzYWxlU3RhcnRUaW1lID09IDApIHx8IGNhbkJ1eVRva2VucygpKSB7DQogICAgICB0aHJvdzsNCiAgICB9DQoNCiAgICBvd25lclRva2Vuc0FsbG9jYXRlZCA9IHRydWU7DQoNCiAgICB1aW50IGFtb3VudFRvQWxsb2NhdGUgPSBTYWZlTWF0aC5zdWIoVE9UQUxfU1VQUExZLCB0b3RhbFN1cHBseSk7DQogICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChhbW91bnRUb0FsbG9jYXRlKTsNCiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChhbW91bnRUb0FsbG9jYXRlKTsNCg0KICAgIE93bmVyVG9rZW5zQWxsb2NhdGVkKGFtb3VudFRvQWxsb2NhdGUpOw0KDQogIH0NCg0KICBmdW5jdGlvbiBib251cygpIGNvbnN0YW50IHJldHVybnModWludCkgew0KDQogICAgdWludCBlbGFwc2VkID0gU2FmZU1hdGguc3ViKGdldE5vdygpLCBzYWxlU3RhcnRUaW1lKTsNCg0KICAgIGlmIChlbGFwc2VkIDwgMSB3ZWVrcykgcmV0dXJuIDEwOw0KICAgIGlmIChlbGFwc2VkIDwgMiB3ZWVrcykgcmV0dXJuIDU7DQoNCiAgICByZXR1cm4gMDsNCiAgfQ0KDQogIGZ1bmN0aW9uIHBlcmNlbnQodWludDI1NiBwKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgcmV0dXJuIHAubXVsKDEwKioxNik7DQogIH0NCg0KICAvL0Z1bmN0aW9uIGlzIG1vY2tlZCBmb3IgdGVzdHMNCiAgZnVuY3Rpb24gZ2V0Tm93KCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgIHJldHVybiBub3c7DQogIH0NCg0KfQ=='