base 64 content
base64basicCoinManager
	^'Y29udHJhY3QgVG9rZW4gew0KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsNCiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7DQoNCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOw0KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOw0KfQ0KDQovLyBPd25lci1zcGVjaWZpYyBjb250cmFjdCBpbnRlcmZhY2UNCmNvbnRyYWN0IE93bmVkIHsNCiAgZXZlbnQgTmV3T3duZXIoYWRkcmVzcyBpbmRleGVkIG9sZCwgYWRkcmVzcyBpbmRleGVkIGN1cnJlbnQpOw0KDQogIG1vZGlmaWVyIG9ubHlfb3duZXIgew0KICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsNCiAgICBfOw0KICB9DQoNCiAgYWRkcmVzcyBwdWJsaWMgb3duZXIgPSBtc2cuc2VuZGVyOw0KDQogIGZ1bmN0aW9uIHNldE93bmVyKGFkZHJlc3MgX25ldykgb25seV9vd25lciB7DQogICAgTmV3T3duZXIob3duZXIsIF9uZXcpOw0KICAgIG93bmVyID0gX25ldzsNCiAgfQ0KfQ0KDQovLyBUb2tlblJlZyBpbnRlcmZhY2UNCmNvbnRyYWN0IFRva2VuUmVnIHsNCiAgZnVuY3Rpb24gcmVnaXN0ZXIoYWRkcmVzcyBfYWRkciwgc3RyaW5nIF90bGEsIHVpbnQgX2Jhc2UsIHN0cmluZyBfbmFtZSkgcGF5YWJsZSByZXR1cm5zIChib29sKTsNCiAgZnVuY3Rpb24gcmVnaXN0ZXJBcyhhZGRyZXNzIF9hZGRyLCBzdHJpbmcgX3RsYSwgdWludCBfYmFzZSwgc3RyaW5nIF9uYW1lLCBhZGRyZXNzIF9vd25lcikgcGF5YWJsZSByZXR1cm5zIChib29sKTsNCiAgZnVuY3Rpb24gdW5yZWdpc3Rlcih1aW50IF9pZCk7DQogIGZ1bmN0aW9uIHNldEZlZSh1aW50IF9mZWUpOw0KICBmdW5jdGlvbiB0b2tlbkNvdW50KCkgY29uc3RhbnQgcmV0dXJucyAodWludCk7DQogIGZ1bmN0aW9uIHRva2VuKHVpbnQgX2lkKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzIGFkZHIsIHN0cmluZyB0bGEsIHVpbnQgYmFzZSwgc3RyaW5nIG5hbWUsIGFkZHJlc3Mgb3duZXIpOw0KICBmdW5jdGlvbiBmcm9tQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGlkLCBzdHJpbmcgdGxhLCB1aW50IGJhc2UsIHN0cmluZyBuYW1lLCBhZGRyZXNzIG93bmVyKTsNCiAgZnVuY3Rpb24gZnJvbVRMQShzdHJpbmcgX3RsYSkgY29uc3RhbnQgcmV0dXJucyAodWludCBpZCwgYWRkcmVzcyBhZGRyLCB1aW50IGJhc2UsIHN0cmluZyBuYW1lLCBhZGRyZXNzIG93bmVyKTsNCiAgZnVuY3Rpb24gbWV0YSh1aW50IF9pZCwgYnl0ZXMzMiBfa2V5KSBjb25zdGFudCByZXR1cm5zIChieXRlczMyKTsNCiAgZnVuY3Rpb24gc2V0TWV0YSh1aW50IF9pZCwgYnl0ZXMzMiBfa2V5LCBieXRlczMyIF92YWx1ZSk7DQogIGZ1bmN0aW9uIHRyYW5zZmVyVExBKHN0cmluZyBfdGxhLCBhZGRyZXNzIF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgZnVuY3Rpb24gZHJhaW4oKTsNCiAgdWludCBwdWJsaWMgZmVlOw0KfQ0KDQovLyBCYXNpY0NvaW4sIEVDUjIwIHRva2VucyB0aGF0IGFsbCBiZWxvbmcgdG8gdGhlIG93bmVyIGZvciBzZW5kaW5nIGFyb3VuZA0KY29udHJhY3QgQmFzaWNDb2luIGlzIE93bmVkLCBUb2tlbiB7DQogIC8vIHRoaXMgaXMgYXMgYmFzaWMgYXMgY2FuIGJlLCBvbmx5IHRoZSBhc3NvY2lhdGVkIGJhbGFuY2UgJiBhbGxvd2FuY2VzDQogIHN0cnVjdCBBY2NvdW50IHsNCiAgICB1aW50IGJhbGFuY2U7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBhbGxvd2FuY2VPZjsNCiAgfQ0KDQogIC8vIHRoZSBiYWxhbmNlIHNob3VsZCBiZSBhdmFpbGFibGUNCiAgbW9kaWZpZXIgd2hlbl9vd25zKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIHsNCiAgICBpZiAoYWNjb3VudHNbX293bmVyXS5iYWxhbmNlIDwgX2Ftb3VudCkgdGhyb3c7DQogICAgXzsNCiAgfQ0KDQogIC8vIGFuIGFsbG93YW5jZSBzaG91bGQgYmUgYXZhaWxhYmxlDQogIG1vZGlmaWVyIHdoZW5faGFzX2FsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYW1vdW50KSB7DQogICAgaWYgKGFjY291bnRzW19vd25lcl0uYWxsb3dhbmNlT2ZbX3NwZW5kZXJdIDwgX2Ftb3VudCkgdGhyb3c7DQogICAgXzsNCiAgfQ0KDQogIC8vIG5vIEVUSCBzaG91bGQgYmUgc2VudCB3aXRoIHRoZSB0cmFuc2FjdGlvbg0KICBtb2RpZmllciB3aGVuX25vX2V0aCB7DQogICAgaWYgKG1zZy52YWx1ZSA+IDApIHRocm93Ow0KICAgIF87DQogIH0NCg0KICAvLyBhIHZhbHVlIHNob3VsZCBiZSA+IDANCiAgbW9kaWZpZXIgd2hlbl9ub25femVybyh1aW50IF92YWx1ZSkgew0KICAgIGlmIChfdmFsdWUgPT0gMCkgdGhyb3c7DQogICAgXzsNCiAgfQ0KDQogIC8vIHRoZSBiYXNlLCB0b2tlbnMgZGVub3RlZCBpbiBtaWNyb3MNCiAgdWludCBjb25zdGFudCBwdWJsaWMgYmFzZSA9IDEwMDAwMDA7DQoNCiAgLy8gYXZhaWxhYmxlIHRva2VuIHN1cHBseQ0KICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsNCg0KICAvLyBzdG9yYWdlIGFuZCBtYXBwaW5nIG9mIGFsbCBiYWxhbmNlcyAmIGFsbG93YW5jZXMNCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBBY2NvdW50KSBhY2NvdW50czsNCg0KICAvLyBjb25zdHJ1Y3RvciBzZXRzIHRoZSBwYXJhbWV0ZXJzIG9mIGV4ZWN1dGlvbiwgX3RvdGFsU3VwcGx5IGlzIGFsbCB1bml0cw0KICBmdW5jdGlvbiBCYXNpY0NvaW4odWludCBfdG90YWxTdXBwbHksIGFkZHJlc3MgX293bmVyKSB3aGVuX25vX2V0aCB3aGVuX25vbl96ZXJvKF90b3RhbFN1cHBseSkgew0KICAgIHRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5Ow0KICAgIG93bmVyID0gX293bmVyOw0KICAgIGFjY291bnRzW19vd25lcl0uYmFsYW5jZSA9IHRvdGFsU3VwcGx5Ow0KICB9DQoNCiAgLy8gYmFsYW5jZSBvZiBhIHNwZWNpZmljIGFkZHJlc3MNCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX3dobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgIHJldHVybiBhY2NvdW50c1tfd2hvXS5iYWxhbmNlOw0KICB9DQoNCiAgLy8gdHJhbnNmZXINCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB3aGVuX25vX2V0aCB3aGVuX293bnMobXNnLnNlbmRlciwgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgIGFjY291bnRzW21zZy5zZW5kZXJdLmJhbGFuY2UgLT0gX3ZhbHVlOw0KICAgIGFjY291bnRzW190b10uYmFsYW5jZSArPSBfdmFsdWU7DQoNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8vIHRyYW5zZmVyIHZpYSBhbGxvd2FuY2UNCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgd2hlbl9ub19ldGggd2hlbl9vd25zKF9mcm9tLCBfdmFsdWUpIHdoZW5faGFzX2FsbG93YW5jZShfZnJvbSwgbXNnLnNlbmRlciwgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICBhY2NvdW50c1tfZnJvbV0uYWxsb3dhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgIGFjY291bnRzW19mcm9tXS5iYWxhbmNlIC09IF92YWx1ZTsNCiAgICBhY2NvdW50c1tfdG9dLmJhbGFuY2UgKz0gX3ZhbHVlOw0KDQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvLyBhcHByb3ZlIGFsbG93YW5jZXMNCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgd2hlbl9ub19ldGggcmV0dXJucyAoYm9vbCkgew0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgIGFjY291bnRzW21zZy5zZW5kZXJdLmFsbG93YW5jZU9mW19zcGVuZGVyXSArPSBfdmFsdWU7DQoNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8vIGF2YWlsYWJsZSBhbGxvd2FuY2UNCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgcmV0dXJuIGFjY291bnRzW19vd25lcl0uYWxsb3dhbmNlT2ZbX3NwZW5kZXJdOw0KICB9DQoNCiAgLy8gbm8gZGVmYXVsdCBmdW5jdGlvbiwgc2ltcGxlIGNvbnRyYWN0IG9ubHksIGVudHJ5LWxldmVsIHVzZXJzDQogIGZ1bmN0aW9uKCkgew0KICAgIHRocm93Ow0KICB9DQp9DQoNCi8vIE1hbmFnZXMgQmFzaWNDb2luIGluc3RhbmNlcywgaW5jbHVkaW5nIHRoZSBkZXBsb3ltZW50ICYgcmVnaXN0cmF0aW9uDQpjb250cmFjdCBCYXNpY0NvaW5NYW5hZ2VyIGlzIE93bmVkIHsNCiAgLy8gYSBzdHJ1Y3R1cmUgd3JhcHBpbmcgYSBkZXBsb3llZCBCYXNpY0NvaW4NCiAgc3RydWN0IENvaW4gew0KICAgIGFkZHJlc3MgY29pbjsNCiAgICBhZGRyZXNzIG93bmVyOw0KICAgIGFkZHJlc3MgdG9rZW5yZWc7DQogIH0NCg0KICAvLyBhIG5ldyBCYXNpY0NvaW4gaGFzIGJlZW4gZGVwbG95ZWQNCiAgZXZlbnQgQ3JlYXRlZChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCB0b2tlbnJlZywgYWRkcmVzcyBpbmRleGVkIGNvaW4pOw0KDQogIC8vIGEgbGlzdCBvZiBhbGwgdGhlIGRlcGxveWVkIEJhc2ljQ29pbnMNCiAgQ29pbltdIGNvaW5zOw0KDQogIC8vIGFsbCBCYXNpY0NvaW5zIGZvciBhIHNwZWNpZmljIG93bmVyDQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludFtdKSBvd25lZENvaW5zOw0KDQogIC8vIHRoZSBiYXNlLCB0b2tlbnMgZGVub3RlZCBpbiBtaWNyb3MgKG1hdGNoZXMgdXAgd2l0aCBCYXNpY0NvaW4gaW50ZXJmYWNlIGFib3ZlKQ0KICB1aW50IGNvbnN0YW50IHB1YmxpYyBiYXNlID0gMTAwMDAwMDsNCg0KICAvLyByZXR1cm4gdGhlIG51bWJlciBvZiBkZXBsb3llZA0KICBmdW5jdGlvbiBjb3VudCgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsNCiAgICByZXR1cm4gY29pbnMubGVuZ3RoOw0KICB9DQoNCiAgLy8gZ2V0IGEgc3BlY2lmaWMgZGVwbG95bWVudA0KICBmdW5jdGlvbiBnZXQodWludCBfaW5kZXgpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MgY29pbiwgYWRkcmVzcyBvd25lciwgYWRkcmVzcyB0b2tlbnJlZykgew0KICAgIENvaW4gYyA9IGNvaW5zW19pbmRleF07DQoNCiAgICBjb2luID0gYy5jb2luOw0KICAgIG93bmVyID0gYy5vd25lcjsNCiAgICB0b2tlbnJlZyA9IGMudG9rZW5yZWc7DQogIH0NCg0KICAvLyByZXR1cm5zIHRoZSBudW1iZXIgb2YgY29pbnMgZm9yIGEgc3BlY2lmaWMgb3duZXINCiAgZnVuY3Rpb24gY291bnRCeU93bmVyKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgcmV0dXJuIG93bmVkQ29pbnNbX293bmVyXS5sZW5ndGg7DQogIH0NCg0KICAvLyByZXR1cm5zIGEgc3BlY2lmaWMgaW5kZXggYnkgb3duZXINCiAgZnVuY3Rpb24gZ2V0QnlPd25lcihhZGRyZXNzIF9vd25lciwgdWludCBfaW5kZXgpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MgY29pbiwgYWRkcmVzcyBvd25lciwgYWRkcmVzcyB0b2tlbnJlZykgew0KICAgIHJldHVybiBnZXQob3duZWRDb2luc1tfb3duZXJdW19pbmRleF0pOw0KICB9DQoNCiAgLy8gZGVwbG95IGEgbmV3IEJhc2ljQ29pbiBvbiB0aGUgYmxvY2tjaGFpbg0KICBmdW5jdGlvbiBkZXBsb3kodWludCBfdG90YWxTdXBwbHksIHN0cmluZyBfdGxhLCBzdHJpbmcgX25hbWUsIGFkZHJlc3MgX3Rva2VucmVnKSBwYXlhYmxlIHJldHVybnMgKGJvb2wpIHsNCiAgICBUb2tlblJlZyB0b2tlbnJlZyA9IFRva2VuUmVnKF90b2tlbnJlZyk7DQogICAgQmFzaWNDb2luIGNvaW4gPSBuZXcgQmFzaWNDb2luKF90b3RhbFN1cHBseSwgbXNnLnNlbmRlcik7DQoNCiAgICB1aW50IG93bmVyQ291bnQgPSBjb3VudEJ5T3duZXIobXNnLnNlbmRlcik7DQogICAgdWludCBmZWUgPSB0b2tlbnJlZy5mZWUoKTsNCg0KICAgIG93bmVkQ29pbnNbbXNnLnNlbmRlcl0ubGVuZ3RoID0gb3duZXJDb3VudCArIDE7DQogICAgb3duZWRDb2luc1ttc2cuc2VuZGVyXVtvd25lckNvdW50XSA9IGNvaW5zLmxlbmd0aDsNCiAgICBjb2lucy5wdXNoKENvaW4oY29pbiwgbXNnLnNlbmRlciwgdG9rZW5yZWcpKTsNCiAgICB0b2tlbnJlZy5yZWdpc3RlckFzLnZhbHVlKGZlZSkoY29pbiwgX3RsYSwgYmFzZSwgX25hbWUsIG1zZy5zZW5kZXIpOw0KDQogICAgQ3JlYXRlZChtc2cuc2VuZGVyLCB0b2tlbnJlZywgY29pbik7DQoNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8vIG93bmVyIGNhbiB3aXRoZHJhdyBhbGwgY29sbGVjdGVkIGZ1bmRzDQogIGZ1bmN0aW9uIGRyYWluKCkgb25seV9vd25lciB7DQogICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQodGhpcy5iYWxhbmNlKSkgew0KICAgICAgdGhyb3c7DQogICAgfQ0KICB9DQp9'