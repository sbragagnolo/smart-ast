base 64 content
base64blackjack
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3Qgb3duZWQgew0KICBhZGRyZXNzIHB1YmxpYyBvd25lcjsgDQogIG1vZGlmaWVyIG9ubHlPd25lciB7DQogICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikNCiAgICAgICAgICB0aHJvdzsNCiAgICAgIF87DQogIH0NCiAgZnVuY3Rpb24gb3duZWQoKSB7IG93bmVyID0gbXNnLnNlbmRlcjsgfQ0KICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXJ7DQogICAgb3duZXIgPSBuZXdPd25lcjsNCiAgfQ0KfQ0KDQpjb250cmFjdCBtb3J0YWwgaXMgb3duZWR7DQogIGZ1bmN0aW9uIGNsb3NlKCkgb25seU93bmVyIHsNCiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsNCiAgICB9DQp9DQpjb250cmFjdCBibGFja2phY2sgaXMgbW9ydGFsIHsNCiAgc3RydWN0IEdhbWUgew0KICAgIC8qKiB0aGUgZ2FtZSBpZCBpcyB1c2VkIHRvIHJlZmVyZW5jZSB0aGUgZ2FtZSAqKi8NCiAgICB1aW50IGlkOw0KICAgIC8qKiB0aGUgaGFzaCBvZiB0aGUgKHBhcnRpYWwpIGRlY2sgKiovDQogICAgYnl0ZXMzMiBkZWNrOw0KICAgIC8qKiB0aGUgaGFzaCBvZiB0aGUgY2FzaW5vIHNlZWQgdXNlZCBmb3IgcmFuZG9tbmVzcyBnZW5lcmF0aW9uIGFuZCBkZWNrLWhhc2hpbmcqKi8NCiAgICBieXRlczMyIHNlZWQ7DQogICAgLyoqIHRoZSBwbGF5ZXIgYWRkcmVzcyAqKi8NCiAgICBhZGRyZXNzIHBsYXllcjsNCiAgICAvKiogdGhlIGJldCAqKi8NCiAgICB1aW50IGJldDsNCiAgICAvKiogdGhlIHRpbWVzdGFtcCBvZiB0aGUgc3RhcnQgb2YgdGhlIGdhbWUsIGdhbWUgZW5kcyBhdXRvbWF0aWNhbGx5IGFmdGVyIGNlcnRhaW4gdGltZSBpbnRlcnZhbCBwYXNzZWQgKiovDQogICAgdWludCBzdGFydDsNCiAgfQ0KDQogIC8qKiB0aGUgdmFsdWUgb2YgdGhlIGNhcmRzOiBBY2UsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCBKLCBRLCBLIC4gQWNlIGNhbiBiZSAxIG9yIDExLCBvZiBjb3Vyc2UuIA0KICAgKiAgIHRoZSB2YWx1ZSBvZiBhIGNhcmQgY2FuIGJlIGRldGVybWluZWQgYnkgbG9va2luZyB1cCBjYXJkVmFsdWVzW2NhcmRJZCUxM10qKi8NCiAgdWludDhbMTNdIGNhcmRWYWx1ZXMgPSBbMTEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMCwgMTAsIDEwXTsNCg0KICAvKiogdXNlIHRoZSBnYW1lIGlkIHRvIHJlZmVyZW5jZSB0aGUgZ2FtZXMgKiovDQogIG1hcHBpbmcodWludCA9PiBHYW1lKSBnYW1lczsNCiAgLyoqIHRoZSBtaW5pbXVtIGJldCoqLw0KICB1aW50IHB1YmxpYyBtaW5pbXVtQmV0Ow0KICAvKiogdGhlIG1heGltdW0gYmV0ICoqLw0KICB1aW50IHB1YmxpYyBtYXhpbXVtQmV0Ow0KICAvKiogdGhlIGFkZHJlc3Mgd2hpY2ggc2lnbnMgdGhlIG51bWJlciBvZiBjYXJkcyBkZWFsdCAqKi8NCiAgYWRkcmVzcyBwdWJsaWMgc2lnbmVyOw0KICANCiAgLyoqIG5vdGlmeSBsaXN0ZW5lcnMgdGhhdCBhIG5ldyByb3VuZCBvZiBibGFja2phY2sgc3RhcnRlZCAqKi8NCiAgZXZlbnQgTmV3R2FtZSh1aW50IGluZGV4ZWQgaWQsIGJ5dGVzMzIgZGVjaywgYnl0ZXMzMiBzcnZTZWVkLCBieXRlczMyIGNTZWVkLCBhZGRyZXNzIHBsYXllciwgdWludCBiZXQpOw0KICAvKiogbm90aWZ5IGxpc3RlbmVycyBvZiB0aGUgZ2FtZSBvdXRjb21lICoqLw0KICBldmVudCBSZXN1bHQodWludCBpbmRleGVkIGlkLCBhZGRyZXNzIHBsYXllciwgdWludCB3aW4pOw0KICAvKiogbm90aWZ5IGxpc3RlbmVycyB0aGF0IGFuIGVycm9yIG9jY3VycmVkKiovDQogIGV2ZW50IEVycm9yKHVpbnQgZXJyb3JDb2RlKTsNCg0KICAvKiogY29uc3RydWN0dXIuIGluaXRpYWxpemUgdGhlIGNvbnRyYWN0IHdpdGggYSBtaW5pbXVtIGJldCBhbmQgYSBzaWduZXIgYWRkcmVzcy4gKiovDQogIGZ1bmN0aW9uIGJsYWNramFjayh1aW50IG1pbkJldCwgdWludCBtYXhCZXQsIGFkZHJlc3Mgc2lnbmVyQWRkcmVzcykgcGF5YWJsZXsNCiAgICBtaW5pbXVtQmV0ID0gbWluQmV0Ow0KICAgIG1heGltdW1CZXQgPSBtYXhCZXQ7DQogICAgc2lnbmVyID0gc2lnbmVyQWRkcmVzczsNCiAgfQ0KDQogIC8qKiANCiAgICogICBpbml0aWFsaXplcyBhIHJvdW5kIG9mIGJsYWNramFjayB3aXRoIGFuIGlkLCB0aGUgaGFzaCBvZiB0aGUgKHBhcnRpYWwpIGRlY2sgYW5kIHRoZSBoYXNoIG9mIHRoZSBzZXJ2ZXIgc2VlZC4gDQogICAqICAgYWNjZXB0cyB0aGUgYmV0Lg0KICAgKiAgIHRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIGJldCBpcyB0b28gbG93IG9yIGEgZ2FtZSB3aXRoIHRoZSBnaXZlbiBpZCBhbHJlYWR5IGV4aXN0cy4NCiAgICoqLw0KICBmdW5jdGlvbiBpbml0R2FtZSh1aW50IGlkLCBieXRlczMyIGRlY2ssIGJ5dGVzMzIgc3J2U2VlZCwgYnl0ZXMzMiBjU2VlZCkgcGF5YWJsZSB7DQogICAgLy90aHJvdyBpZiBiZXQgaXMgdG9vIGxvdyBvciB0b28gaGlnaA0KICAgIGlmIChtc2cudmFsdWUgPCBtaW5pbXVtQmV0IHx8IG1zZy52YWx1ZSA+IG1heGltdW1CZXQpIHRocm93Ow0KICAgIC8vdGhyb3cgaWYgdXNlciBjb3VsZCBub3QgYmUgcGFpdWQgb3V0IGluIGNhc2Ugb2Ygc3VpdGVkIGJsYWNramFjaw0KICAgIGlmIChtc2cudmFsdWUgKiAzID4gYWRkcmVzcyh0aGlzKS5iYWxhbmNlKSB0aHJvdzsNCiAgICBfaW5pdEdhbWUoaWQsIGRlY2ssIHNydlNlZWQsIGNTZWVkLCBtc2cudmFsdWUpOw0KICB9DQoNCiAgLyoqIA0KICAgKiBmaXJzdCBjaGVja3MgaWYgZGVjayBhbmQgdGhlIHBsYXllcidzIG51bWJlciBvZiBjYXJkcyBhcmUgY29ycmVjdCwgdGhlbiBjaGVja3MgaWYgdGhlIHBsYXllciB3b24gYW5kIGlmIHNvLCBzZW5kcyB0aGUgd2luLg0KICAgKiovDQogIGZ1bmN0aW9uIHN0YW5kKHVpbnQgZ2FtZUlkLCB1aW50OFtdIGRlY2ssIGJ5dGVzMzIgc2VlZCwgdWludDggbnVtQ2FyZHMsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSB7DQogICAgdWludCB3aW4gPSBfc3RhbmQoZ2FtZUlkLGRlY2ssc2VlZCxudW1DYXJkcyx2LHIscywgdHJ1ZSk7DQogIH0NCiAgDQogIC8qKg0KICAqICAgZmlyc3Qgc3RhbmRzLCB0aGVuIGluaXRzIGEgbmV3IGdhbWUgd2l0aCBvbmx5IG9uZSB0cmFuc2FjdGlvbg0KICAqKi8NCiAgZnVuY3Rpb24gc3RhbmRBbmRSZWJldCh1aW50IG9sZEdhbWVJZCwgdWludDhbXSBvbGREZWNrLCBieXRlczMyIG9sZFNlZWQsIHVpbnQ4IG51bUNhcmRzLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcywgdWludCBuZXdHYW1lSWQsIGJ5dGVzMzIgbmV3RGVjaywgYnl0ZXMzMiBuZXdTcnZTZWVkLCBieXRlczMyIG5ld0NTZWVkKXsNCiAgICB1aW50IHdpbiA9IF9zdGFuZChvbGRHYW1lSWQsb2xkRGVjayxvbGRTZWVkLG51bUNhcmRzLHYscixzLCBmYWxzZSk7DQogICAgdWludCBiZXQgPSBnYW1lc1tvbGRHYW1lSWRdLmJldDsNCiAgICBpZih3aW4gPj0gYmV0KXsNCiAgICAgIF9pbml0R2FtZShuZXdHYW1lSWQsIG5ld0RlY2ssIG5ld1NydlNlZWQsIG5ld0NTZWVkLCBiZXQpOw0KICAgICAgd2luLT1iZXQ7DQogICAgfQ0KICAgIGlmKHdpbj4wICYmICFtc2cuc2VuZGVyLnNlbmQod2luKSl7Ly9wYXkgdGhlIHJlc3QNCiAgICAgIHRocm93Ow0KICAgIH0NCiAgfQ0KICANCiAgLyoqIA0KICAgKiAgIGludGVybmFsIGZ1bmN0aW9uIHRvIGluaXRpYWxpemUgYSByb3VuZCBvZiBibGFja2phY2sgd2l0aCBhbiBpZCwgdGhlIGhhc2ggb2YgdGhlIChwYXJ0aWFsKSBkZWNrLCANCiAgICogICB0aGUgaGFzaCBvZiB0aGUgc2VydmVyIHNlZWQgYW5kIHRoZSBiZXQuIA0KICAgKiovDQogIGZ1bmN0aW9uIF9pbml0R2FtZSh1aW50IGlkLCBieXRlczMyIGRlY2ssIGJ5dGVzMzIgc3J2U2VlZCwgYnl0ZXMzMiBjU2VlZCwgdWludCBiZXQpIGludGVybmFsew0KICAgIC8vdGhyb3cgaWYgZ2FtZSB3aXRoIGlkIGFscmVhZHkgZXhpc3RzLiBsYXRlciBtYXliZSB0aHJvdyBvbmx5IGlmIGdhbWUgd2l0aCBpZCBpcyBzdGlsbCBydW5uaW5nDQogICAgaWYgKGdhbWVzW2lkXS5wbGF5ZXIgIT0gMHgwKSB0aHJvdzsNCiAgICBnYW1lc1tpZF0gPSBHYW1lKGlkLCBkZWNrLCBzcnZTZWVkLCBtc2cuc2VuZGVyLCBiZXQsIG5vdyk7DQogICAgTmV3R2FtZShpZCwgZGVjaywgc3J2U2VlZCwgY1NlZWQsIG1zZy5zZW5kZXIsIGJldCk7DQogIH0NCiAgDQogIC8qKg0KICAqIGZpcnN0IGNoZWNrcyBpZiBkZWNrIGFuZCB0aGUgcGxheWVyJ3MgbnVtYmVyIG9mIGNhcmRzIGFyZSBjb3JyZWN0LCB0aGVuIGNoZWNrcyBpZiB0aGUgcGxheWVyIHdvbiBhbmQgaWYgc28sIGNhbGN1bGF0ZXMgdGhlIHdpbi4NCiAgKiovDQogIGZ1bmN0aW9uIF9zdGFuZCh1aW50IGdhbWVJZCwgdWludDhbXSBkZWNrLCBieXRlczMyIHNlZWQsIHVpbnQ4IG51bUNhcmRzLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcywgYm9vbCBwYXlvdXQpIGludGVybmFsIHJldHVybnModWludCB3aW4pew0KICAgIEdhbWUgZ2FtZSA9IGdhbWVzW2dhbWVJZF07DQogICAgdWludCBzdGFydCA9IGdhbWUuc3RhcnQ7DQogICAgZ2FtZS5zdGFydCA9IDA7IC8vbWFrZSBzdXJlIG91dGNvbWUgaXNuJ3QgZGV0ZXJtaW5lZCBhIHNlY29uZCB0aW1lIHdoaWxlIHdpbiBwYXltZW50IGlzIHN0aWxsIHBlbmRpbmcgLT4gcHJldmVudCBkb3VibGUgcGF5b3V0DQogICAgaWYobXNnLnNlbmRlciE9Z2FtZS5wbGF5ZXIpew0KICAgICAgRXJyb3IoMSk7DQogICAgICByZXR1cm4gMDsNCiAgICB9DQogICAgaWYoIWNoZWNrRGVjayhnYW1lSWQsIGRlY2ssIHNlZWQpKXsNCiAgICAgIEVycm9yKDIpOw0KICAgICAgcmV0dXJuIDA7DQogICAgfQ0KICAgIGlmKCFjaGVja051bUNhcmRzKGdhbWVJZCwgbnVtQ2FyZHMsIHYsIHIsIHMpKXsNCiAgICAgIEVycm9yKDMpOw0KICAgICAgcmV0dXJuIDA7DQogICAgfQ0KICAgIGlmKHN0YXJ0ICsgMSBob3VycyA8IG5vdyl7DQogICAgICBFcnJvcig0KTsNCiAgICAgIHJldHVybiAwOw0KICAgIH0NCiAgICANCiAgICB3aW4gPSBkZXRlcm1pbmVPdXRjb21lKGdhbWVJZCwgZGVjaywgbnVtQ2FyZHMpOw0KICAgIGlmIChwYXlvdXQgJiYgd2luID4gMCAmJiAhbXNnLnNlbmRlci5zZW5kKHdpbikpew0KICAgICAgRXJyb3IoNSk7DQogICAgICBnYW1lLnN0YXJ0ID0gc3RhcnQ7DQogICAgICByZXR1cm4gMDsNCiAgICB9DQogICAgUmVzdWx0KGdhbWVJZCwgbXNnLnNlbmRlciwgd2luKTsNCiAgfQ0KICANCiAgLyoqDQogICogY2hlY2sgaWYgZGVjayBhbmQgY2FzaW5vIHNlZWQgYXJlIGNvcnJlY3QuDQogICoqLw0KICBmdW5jdGlvbiBjaGVja0RlY2sodWludCBnYW1lSWQsIHVpbnQ4W10gZGVjaywgYnl0ZXMzMiBzZWVkKSBjb25zdGFudCByZXR1cm5zIChib29sIGNvcnJlY3Qpew0KICAgIGlmKHNoYTMoc2VlZCkgIT0gZ2FtZXNbZ2FtZUlkXS5zZWVkKSByZXR1cm4gZmFsc2U7DQogICAgaWYoc2hhMyhjb252ZXJ0VG9CeXRlcyhkZWNrKSwgc2VlZCkgIT0gZ2FtZXNbZ2FtZUlkXS5kZWNrKSByZXR1cm4gZmFsc2U7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCiAgDQogIGZ1bmN0aW9uIGNvbnZlcnRUb0J5dGVzKHVpbnQ4W10gYnl0ZUFycmF5KSByZXR1cm5zIChieXRlcyBiKXsNCiAgICBiID0gbmV3IGJ5dGVzKGJ5dGVBcnJheS5sZW5ndGgpOw0KICAgIGZvcih1aW50OCBpID0gMDsgaSA8IGJ5dGVBcnJheS5sZW5ndGg7IGkrKykNCiAgICAgIGJbaV0gPSBieXRlKGJ5dGVBcnJheVtpXSk7DQogIH0NCiAgDQogIC8qKg0KICAqIGNoZWNrIGlmIHVzZXIgYW5kIGNhc2lubyBhZ3JlZSBvbiB0aGUgbnVtYmVyIG9mIGNhcmRzDQogICoqLw0KICBmdW5jdGlvbiBjaGVja051bUNhcmRzKHVpbnQgZ2FtZUlkLCB1aW50OCBudW1DYXJkcywgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgY29ycmVjdCl7DQogICAgYnl0ZXMzMiBtc2dIYXNoID0gc2hhMyhnYW1lSWQsbnVtQ2FyZHMpOw0KICAgIHJldHVybiBlY3JlY292ZXIobXNnSGFzaCwgdiwgciwgcykgPT0gc2lnbmVyOw0KICB9DQoNCiAgLyoqDQogICAqIGRldGVybWluZXMgdGhlIG91dGNvbWUgb2YgYSBnYW1lIGFuZCByZXR1cm5zIHRoZSB3aW4uIA0KICAgKiBpbiBjYXNlIG9mIGEgbG9zcywgd2luIGlzIDAuDQogICAqKi8NCiAgZnVuY3Rpb24gZGV0ZXJtaW5lT3V0Y29tZSh1aW50IGdhbWVJZCwgdWludDhbXSBjYXJkcywgdWludDggbnVtQ2FyZHMpIGNvbnN0YW50IHJldHVybnModWludCB3aW4pIHsNCiAgICB1aW50OCBwbGF5ZXJWYWx1ZSA9IGdldFBsYXllclZhbHVlKGNhcmRzLCBudW1DYXJkcyk7DQogICAgLy9idXN0IGlmIHZhbHVlID4gMjENCiAgICBpZiAocGxheWVyVmFsdWUgPiAyMSkgcmV0dXJuIDA7DQoNCiAgICB2YXIgKGRlYWxlclZhbHVlLCBkZWFsZXJCSikgPSBnZXREZWFsZXJWYWx1ZShjYXJkcywgbnVtQ2FyZHMpOw0KDQogICAgLy9wbGF5ZXIgd2lucw0KICAgIGlmIChwbGF5ZXJWYWx1ZSA9PSAyMSAmJiBudW1DYXJkcyA9PSAyICYmICFkZWFsZXJCSil7IC8vcGxheWVyIGJsYWNramFjayBidXQgbm8gZGVhbGVyIGJsYWNramFjaw0KICAgICAgaWYoaXNTdWl0ZWQoY2FyZHNbMF0sIGNhcmRzWzJdKSkNCiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0uYmV0ICogMzsgLy9wYXkgMiB0byAxDQogICAgICBlbHNlDQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLmJldCAqIDUgLyAyOyANCiAgICB9DQogICAgZWxzZSBpZihwbGF5ZXJWYWx1ZSA9PSAyMSAmJiBudW1DYXJkcyA9PSA1KSAvL2F1dG9tYXRpYyB3aW4gb24gNS1jYXJkIDIxDQogICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5iZXQgKiAyOw0KICAgIGVsc2UgaWYgKHBsYXllclZhbHVlID4gZGVhbGVyVmFsdWUgfHwgZGVhbGVyVmFsdWUgPiAyMSkNCiAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLmJldCAqIDI7DQogICAgLy90aWUNCiAgICBlbHNlIGlmIChwbGF5ZXJWYWx1ZSA9PSBkZWFsZXJWYWx1ZSkNCiAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLmJldDsNCiAgICAvL3BsYXllciBsb3Nlcw0KICAgIGVsc2UNCiAgICAgIHJldHVybiAwOw0KDQogIH0NCg0KICAvKioNCiAgICogICBjYWxjdWxhdGVzIHRoZSB2YWx1ZSBvZiBhIHBsYXllcidzIGhhbmQuDQogICAqICAgY2FyZHM6IGhvbGRzIHRoZSAocGFydGlhbCkgZGVjay4NCiAgICogICBudW1DYXJkczogdGhlIG51bWJlciBvZiBjYXJkcyB0aGUgcGxheWVyIGhvbGRzDQogICAqKi8NCiAgZnVuY3Rpb24gZ2V0UGxheWVyVmFsdWUodWludDhbXSBjYXJkcywgdWludDggbnVtQ2FyZHMpIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludDggcGxheWVyVmFsdWUpIHsNCiAgICAvL3BsYXllciByZWNlaXZlcyBmaXJzdCBhbmQgdGhpcmQgY2FyZCBhbmQgIGFsbCBmdXJ0aGVyIGNhcmRzIGFmdGVyIHRoZSA0LiB1bnRpbCBoZSBzdGFuZHMgDQogICAgLy9kZXRlcm1pbmUgdmFsdWUgb2YgdGhlIHBsYXllcidzIGhhbmQNCiAgICB1aW50OCBudW1BY2VzOw0KICAgIHVpbnQ4IGNhcmQ7DQogICAgZm9yICh1aW50OCBpID0gMDsgaSA8IG51bUNhcmRzICsgMjsgaSsrKSB7DQogICAgICBpZiAoaSAhPSAxICYmIGkgIT0gMykgeyAvLzEgYW5kIDMgYXJlIGRlYWxlciBjYXJkcw0KICAgICAgICBjYXJkID0gY2FyZHNbaV0gJTEzOw0KICAgICAgICBwbGF5ZXJWYWx1ZSArPSBjYXJkVmFsdWVzW2NhcmRdOw0KICAgICAgICBpZiAoY2FyZCA9PSAwKSBudW1BY2VzKys7DQogICAgICB9DQoNCiAgICB9DQogICAgd2hpbGUgKG51bUFjZXMgPiAwICYmIHBsYXllclZhbHVlID4gMjEpIHsNCiAgICAgIHBsYXllclZhbHVlIC09IDEwOw0KICAgICAgbnVtQWNlcy0tOw0KICAgIH0NCiAgfQ0KDQoNCiAgLyoqDQogICAqICAgY2FsY3VsYXRlcyB0aGUgdmFsdWUgb2YgYSBkZWFsZXIncyBoYW5kLg0KICAgKiAgIGNhcmRzOiBob2xkcyB0aGUgKHBhcnRpYWwpIGRlY2suDQogICAqICAgbnVtQ2FyZHM6IHRoZSBudW1iZXIgb2YgY2FyZHMgdGhlIHBsYXllciBob2xkcw0KICAgKiovDQogIGZ1bmN0aW9uIGdldERlYWxlclZhbHVlKHVpbnQ4W10gY2FyZHMsIHVpbnQ4IG51bUNhcmRzKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQ4IGRlYWxlclZhbHVlLCBib29sIGJqKSB7DQogICAgDQogICAgLy9kZWFsZXIgYWx3YXlzIHJlY2VpdmVzIHNlY29uZCBhbmQgZm9ydGggY2FyZA0KICAgIHVpbnQ4IGNhcmQgID0gY2FyZHNbMV0gJSAxMzsNCiAgICB1aW50OCBjYXJkMiA9IGNhcmRzWzNdICUgMTM7DQogICAgZGVhbGVyVmFsdWUgPSBjYXJkVmFsdWVzW2NhcmRdICsgY2FyZFZhbHVlc1tjYXJkMl07DQogICAgdWludDggbnVtQWNlczsNCiAgICBpZiAoY2FyZCA9PSAwKSBudW1BY2VzKys7DQogICAgaWYgKGNhcmQyID09IDApIG51bUFjZXMrKzsNCiAgICBpZiAoZGVhbGVyVmFsdWUgPiAyMSkgeyAvLzIgYWNlcyxjb3VudCBhcyAxMg0KICAgICAgZGVhbGVyVmFsdWUgLT0gMTA7DQogICAgICBudW1BY2VzLS07DQogICAgfQ0KICAgIGVsc2UgaWYoZGVhbGVyVmFsdWU9PTIxKXsNCiAgICAgIHJldHVybiAoMjEsIHRydWUpOw0KICAgIH0NCiAgICAvL3Rha2UgY2FyZHMgdW50aWwgdmFsdWUgcmVhY2hlcyAxNyBvciBtb3JlLiANCiAgICB1aW50OCBpOw0KICAgIHdoaWxlIChkZWFsZXJWYWx1ZSA8IDE3KSB7DQogICAgICBjYXJkID0gY2FyZHNbbnVtQ2FyZHMgKyBpICsgMl0gJSAxMyA7DQogICAgICBkZWFsZXJWYWx1ZSArPSBjYXJkVmFsdWVzW2NhcmRdOw0KICAgICAgaWYgKGNhcmQgPT0gMCkgbnVtQWNlcysrOw0KICAgICAgaWYgKGRlYWxlclZhbHVlID4gMjEgJiYgbnVtQWNlcyA+IDApIHsNCiAgICAgICAgZGVhbGVyVmFsdWUgLT0gMTA7DQogICAgICAgIG51bUFjZXMtLTsNCiAgICAgIH0NCiAgICAgIGkrKzsNCiAgICB9DQogIH0NCiAgDQogIC8qKiBkZXRlcm1pbmVzIGlmIHR3byBjYXJkcyBoYXZlIHRoZSBzYW1lIGNvbG9yICoqLw0KICBmdW5jdGlvbiBpc1N1aXRlZCh1aW50OCBjYXJkMSwgdWludDggY2FyZDIpIGludGVybmFsIHJldHVybnMoYm9vbCl7DQogICAgcmV0dXJuIGNhcmQxLzEzID09IGNhcmQyLzEzOw0KICB9DQogIA0KICAvKiogdGhlIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHNlbmQgZXRoZXIgdG8gaW5jcmVhc2UgdGhlIGNhc2lubyBiYW5rcm9sbCAqKi8NCiAgZnVuY3Rpb24oKSBwYXlhYmxlIG9ubHlPd25lcnsNCiAgfQ0KICANCiAgLyoqIGFsbG93cyB0aGUgb3duZXIgdG8gd2l0aGRyYXcgZnVuZHMgKiovDQogIGZ1bmN0aW9uIHdpdGhkcmF3KHVpbnQgYW1vdW50KSBvbmx5T3duZXJ7DQogICAgaWYoYW1vdW50IDwgYWRkcmVzcyh0aGlzKS5iYWxhbmNlKQ0KICAgICAgaWYoIW93bmVyLnNlbmQoYW1vdW50KSkNCiAgICAgICAgRXJyb3IoNik7DQogIH0NCiAgDQogIC8qKiBhbGxvd3MgdGhlIG93bmVyIHRvIGNoYW5nZSB0aGUgc2lnbmVyIGFkZHJlc3MgKiovDQogIGZ1bmN0aW9uIHNldFNpZ25lcihhZGRyZXNzIHNpZ25lckFkZHJlc3MpIG9ubHlPd25lcnsNCiAgICBzaWduZXIgPSBzaWduZXJBZGRyZXNzOw0KICB9DQogIA0KICAvKiogYWxsb3dzIHRoZSBvd25lciB0byBjaGFuZ2UgdGhlIG1pbmltdW0gYmV0ICoqLw0KICBmdW5jdGlvbiBzZXRNaW5pbXVtQmV0KHVpbnQgbmV3TWluKSBvbmx5T3duZXJ7DQogICAgbWluaW11bUJldCA9IG5ld01pbjsNCiAgfQ0KICANCiAgLyoqIGFsbG93cyB0aGUgb3duZXIgdG8gY2hhbmdlIHRoZSBteGltdW0gKiovDQogIGZ1bmN0aW9uIHNldE1heGltdW1CZXQodWludCBuZXdNYXgpIG9ubHlPd25lcnsNCiAgICBtaW5pbXVtQmV0ID0gbmV3TWF4Ow0KICB9DQp9'