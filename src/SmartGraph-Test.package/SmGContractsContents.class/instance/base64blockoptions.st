base 64 content
base64blockoptions
	^'cHJhZ21hIHNvbGlkaXR5XiAwLjQgLjg7DQoNCg0KY29udHJhY3QgRVJDMjAgew0KDQogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnModWludDI1Nik7DQoNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zKHVpbnQpOw0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyhib29sIG9rKTsNCg0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSByZXR1cm5zKGJvb2wgb2spOw0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyhib29sIG9rKTsNCg0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOw0KDQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7DQoNCn0NCg0KY29udHJhY3QgYmxvY2tvcHRpb25zIGlzIEVSQzIwDQoNCnsNCg0KICAgICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQogICAgICAvL1RvIHN0b3JlIG5hbWUgZm9yIHRva2VuDQogICAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiYmxvY2tvcHRpb25zIjsNCiAgICANCiAgICAgIC8vVG8gc3RvcmUgc3ltYm9sIGZvciB0b2tlbiAgICAgICANCiAgICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkJPUFQiOw0KICAgIA0KICAgICAgLy9UbyBzdG9yZSBkZWNpbWFsIHBsYWNlcyBmb3IgdG9rZW4NCiAgICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDg7ICAgIA0KICAgIA0KICAgICAgLy9UbyBzdG9yZSBjdXJyZW50IHN1cHBseSBvZiBCT1BUDQogICAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseT0yMDAwMDAwMCAqIDEwMDAwMDAwMDsNCiAgICAgIA0KICAgICAgIHVpbnQgcHJlX2ljb19zdGFydDsNCiAgICAgICB1aW50IHByZV9pY29fZW5kOw0KICAgICAgIHVpbnQgaWNvX3N0YXJ0Ow0KICAgICAgIHVpbnQgaWNvX2VuZDsNCiAgICAgICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcykgaW52ZXN0b3I7DQogICAgICAgbWFwcGluZyh1aW50ID0+IHVpbnQpIHdlaXJlY2VpdmVkOw0KICAgICAgIG1hcHBpbmcodWludCA9PiB1aW50KSBvcHRzU2VudDsNCiAgICAgIA0KICAgICAgICBldmVudCBwcmVpY28odWludCBjb3VudGVyLGFkZHJlc3MgaW52ZXN0b3JzLHVpbnQgd2VpUmVjZWl2ZWQsdWludCBib3B0c2VudCk7DQogICAgICAgIGV2ZW50IGljbyh1aW50IGNvdW50ZXIsYWRkcmVzcyBpbnZlc3RvcnMsdWludCB3ZWlSZWNlaXZlZCx1aW50IGJvcHRzZW50KTsNCiAgICAgICAgdWludCBjb3VudGVyPTA7DQogICAgICAgIHVpbnQgcHJvZml0X3NlbnQ9MDsNCiAgICAgICAgYm9vbCBzdG9wcGVkID0gZmFsc2U7DQogICAgICAgIA0KICAgICAgZnVuY3Rpb24gYmxvY2tvcHRpb25zKCkgcGF5YWJsZXsNCiAgICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gdG90YWxTdXBwbHkgOyAvL3RvIGhhbmRsZSA4IGRlY2ltYWwgcGxhY2VzDQogICAgICAgICAgcHJlX2ljb19zdGFydCA9IG5vdzsNCiAgICAgICAgICBwcmVfaWNvX2VuZCA9IHByZV9pY29fc3RhcnQgKyA3IGRheXM7DQogICAgICAgICAgDQogICAgICAgIH0NCiAgICAgIC8vbWFwIHRvIHN0b3JlIEJPUFQgYmFsYW5jZSBjb3JyZXNwb25kaW5nIHRvIGFkZHJlc3MNCiAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsNCiAgICANCiAgICAgIC8vVG8gc3RvcmUgc3BlbmRlciB3aXRoIGFsbG93ZWQgYW1vdW50IG9mIEJPUFQgdG8gc3BlbmQgY29ycmVzcG9uZGluZyB0byBCT1BUcyBob2xkZXIncyBhY2NvdW50DQogICAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7DQogICAgDQogICAgICAvL293bmVyIHZhcmlhYmxlIHRvIHN0b3JlIGNvbnRyYWN0IG93bmVyIGFjY291bnQNCiAgICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KICAgICAgDQogICAgICAvL21vZGlmaWVyIHRvIGNoZWNrIHRyYW5zYWN0aW9uIGluaXRpYXRvciBpcyBvbmx5IG93bmVyDQogICAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKQ0KICAgICAgICAgIF87DQogICAgICB9DQogICAgDQogICAgICAvL293bmVyc2hpcCBjYW4gYmUgdHJhbnNmZXJyZWQgdG8gcHJvdmlkZWQgbmV3T3duZXIuIEZ1bmN0aW9uIGNhbiBvbmx5IGJlIGluaXRpYXRlZCBieSBjb250cmFjdCBvd25lcidzIGFjY291bnQNCiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7DQogICAgICAgICAgYmFsYW5jZXNbbmV3T3duZXJdID0gYmFsYW5jZXNbb3duZXJdOw0KICAgICAgICAgIGJhbGFuY2VzW293bmVyXT0wOw0KICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7DQogICAgICB9DQoNCiAgICAgICAgLyoqDQogICAgICAgICogTXVsdGlwbGljYXRpb24gd2l0aCBzYWZldHkgY2hlY2sNCiAgICAgICAgKi8NCiAgICAgICAgZnVuY3Rpb24gTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgICAgdWludCBjID0gYSAqIGI7DQogICAgICAgICAgLy9jaGVjayByZXN1bHQgc2hvdWxkIG5vdCBiZSBvdGhlciB3aXNlIHVudGlsIGE9MA0KICAgICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7DQogICAgICAgICAgcmV0dXJuIGM7DQogICAgICAgIH0NCiAgICANCiAgICAgICAgLyoqDQogICAgICAgICogRGl2aXNpb24gd2l0aCBzYWZldHkgY2hlY2sNCiAgICAgICAgKi8NCiAgICAgICAgZnVuY3Rpb24gRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgICAgLy9vdmVyZmxvdyBjaGVjazsgYiBtdXN0IG5vdCBiZSAwDQogICAgICAgICAgYXNzZXJ0KGIgPiAwKTsNCiAgICAgICAgICB1aW50IGMgPSBhIC8gYjsNCiAgICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsNCiAgICAgICAgICByZXR1cm4gYzsNCiAgICAgICAgfQ0KICAgIA0KICAgICAgICAvKioNCiAgICAgICAgKiBTdWJ0cmFjdGlvbiB3aXRoIHNhZmV0eSBjaGVjaw0KICAgICAgICAqLw0KICAgICAgICBmdW5jdGlvbiBTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgICAvL2IgbXVzdCBiZSBncmVhdGVyIHRoYXQgYSBhcyB3ZSBuZWVkIHRvIHN0b3JlIHZhbHVlIGluIHVuc2lnbmVkIGludGVnZXINCiAgICAgICAgICBhc3NlcnQoYiA8PSBhKTsNCiAgICAgICAgICByZXR1cm4gYSAtIGI7DQogICAgICAgIH0NCiAgICANCiAgICAgICAgLyoqDQogICAgICAgICogQWRkaXRpb24gd2l0aCBzYWZldHkgY2hlY2sNCiAgICAgICAgKi8NCiAgICAgICAgZnVuY3Rpb24gQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgICAgdWludCBjID0gYSArIGI7DQogICAgICAgICAgLy9yZXN1bHQgbXVzdCBiZSBncmVhdGVyIGFzIGEgb3IgYiBjYW4gbm90IGJlIG5lZ2F0aXZlDQogICAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7DQogICAgICAgICAgcmV0dXJuIGM7DQogICAgICAgIH0NCiAgICANCiAgICAgIC8qKg0KICAgICAgICAqIGFzc2VydCB1c2VkIGluIGRpZmZlcmVudCBNYXRoIGZ1bmN0aW9ucw0KICAgICAgICAqLw0KICAgICAgICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsNCiAgICAgICAgICBpZiAoIWFzc2VydGlvbikgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgDQogICAgLy9JbXBsZW1lbnRhdGlvbiBmb3IgdHJhbnNmZXJyaW5nIEJPUFQgdG8gcHJvdmlkZWQgYWRkcmVzcyANCiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCl7DQoNCiAgICAgICAgdWludCBjaGVjayA9IGJhbGFuY2VzW293bmVyXSAtIF92YWx1ZTsNCiAgICAgICAgaWYobXNnLnNlbmRlciA9PSBvd25lciAmJiBub3c+PXByZV9pY29fc3RhcnQgJiYgbm93PD1wcmVfaWNvX2VuZCAmJiBjaGVjayA8IDE5MDAwMDAwMDAwMDAwMDApDQogICAgICAgIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmKG1zZy5zZW5kZXIgPT1vd25lciAmJiBub3c+PXByZV9pY29fZW5kICYmIG5vdzw9KHByZV9pY29fZW5kICsgMTYgZGF5cykgJiYgY2hlY2sgPCAxODUwMDAwMDAwMDAwMDAwKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZihtc2cuc2VuZGVyID09IG93bmVyICYmIGNoZWNrIDwgMTUwMDAwMDAwMDAwMDAwICYmIG5vdyA8IGljb19zdGFydCArIDE4MCBkYXlzKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAobXNnLnNlbmRlciA9PSBvd25lciAmJiBjaGVjayA8IDEwMDAwMDAwMDAwMDAwMCAmJiBub3cgPCBpY29fc3RhcnQgKyAzNjAgZGF5cykNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIgJiYgY2hlY2sgPCA1MDAwMDAwMDAwMDAwMCAmJiBub3cgPCBpY29fc3RhcnQgKyA1NDAgZGF5cykNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIC8vQ2hlY2sgcHJvdmlkZWQgQk9QVCBzaG91bGQgbm90IGJlIDANCiAgICAgICBlbHNlIGlmIChfdmFsdWUgPiAwKSB7DQogICAgICAgICAgLy9kZWR1Y3QgT1BUUyBhbW91bnQgZnJvbSB0cmFuc2FjdGlvbiBpbml0aWF0b3INCiAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfdmFsdWUpOw0KICAgICAgICAgIC8vQWRkIE9QVFMgdG8gYmFsYWNlIG9mIHRhcmdldCBhY2NvdW50DQogICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IEFkZChiYWxhbmNlc1tfdG9dLF92YWx1ZSk7DQogICAgICAgICAgLy9FbWl0IGV2ZW50IGZvciB0cmFuc2ZlcnJpbmcgQk9QVA0KICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlew0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgDQogICAgICAvL1RyYW5zZmVyIGluaXRpYXRlZCBieSBzcGVuZGVyIA0KICAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgIA0KICAgICAgICAvL0NoZWNrIHByb3ZpZGVkIEJPUFQgc2hvdWxkIG5vdCBiZSAwDQogICAgICAgIGlmIChfdmFsdWUgPiAwKSB7DQogICAgICAgICAgLy9HZXQgYW1vdW50IG9mIEJPUFQgZm9yIHdoaWNoIHNwZW5kZXIgaXMgYXV0aG9yaXplZA0KICAgICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07DQogICAgICAgICAgLy9BZGQgYW1vdW50IG9mIEJPUFQgaW4gdHJhcmdldCBhY2NvdW50J3MgYmFsYW5jZQ0KICAgICAgICAgIGJhbGFuY2VzW190b10gPSBBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsNCiAgICAgICAgICAvL0RlZHVjdCBCT1BUIGFtb3VudCBmcm9tIF9mcm9tIGFjY291bnQNCiAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBTdWIoYmFsYW5jZXNbX2Zyb21dLCBfdmFsdWUpOw0KICAgICAgICAgIC8vRGVkdWN0IEF1dGhvcml6ZWQgYW1vdW50IGZvciBzcGVuZGVyDQogICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBTdWIoX2FsbG93YW5jZSwgX3ZhbHVlKTsNCiAgICAgICAgICAvL0VtaXQgZXZlbnQgZm9yIFRyYW5zZmVyDQogICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgICANCiAgICAgIC8vR2V0IEJPUFQgYmFsYW5jZSBmb3IgcHJvdmlkZWQgYWRkcmVzcw0KICAgICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsNCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgICB9DQogICAgICANCiAgICAgIC8vQWRkIHNwZW5kZXIgdG8gYXV0aG9yaXplIGZvciBzcGVuZGluZyBzcGVjaWZpZWQgYW1vdW50IG9mIEJPUFQgDQogICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICAvL0VtaXQgZXZlbnQgZm9yIGFwcHJvdmFsIHByb3ZpZGVkIHRvIHNwZW5kZXINCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgICAgDQogICAgICAvL0dldCBCT1BUIGFtb3VudCB0aGF0IHNwZW5kZXIgY2FuIHNwZW5kIGZyb20gcHJvdmlkZWQgb3duZXIncyBhY2NvdW50IA0KICAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgew0KICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgIC8qCQ0KICAgICAgICogRmFpbHNhZmUgZHJhaW4NCiAgICAgICAqLw0KICAgIAlmdW5jdGlvbiBkcmFpbigpIG9ubHlPd25lciB7DQogICAgCQlvd25lci5zZW5kKHRoaXMuYmFsYW5jZSk7DQogICAgCX0NCgkNCiAgICAJZnVuY3Rpb24oKSBwYXlhYmxlIA0KICAgIAl7ICAgDQogICAgCSAgICBpZihzdG9wcGVkICYmIG1zZy5zZW5kZXIgIT0gb3duZXIpDQogICAgCSAgICByZXZlcnQoKTsNCiAgICAJICAgICBlbHNlIGlmKG1zZy5zZW5kZXIgPT0gb3duZXIpDQogICAgCSAgICB7DQogICAgCSAgICAgICAgcHJvZml0X3NlbnQgPSBtc2cudmFsdWU7DQogICAgCSAgICB9DQogICAgCSAgIGVsc2UgaWYobm93Pj1wcmVfaWNvX3N0YXJ0ICYmIG5vdzw9cHJlX2ljb19lbmQpDQogICAgCSAgICB7DQogICAgCSAgICAgICAgdWludCBjaGVjayA9IGJhbGFuY2VzW293bmVyXS0oKDQwMCptc2cudmFsdWUpLzEwMDAwMDAwMDAwKTsNCiAgICAJICAgICAgICBpZihjaGVjayA+PSAxOTAwMDAwMDAwMDAwMDAwKQ0KICAgICAgICAgICAgICAgIHByZV9pY28obXNnLnNlbmRlcixtc2cudmFsdWUpOw0KICAgIAkgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAobm93Pj1pY29fc3RhcnQgJiYgbm93PGljb19lbmQpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbWFpbl9pY28obXNnLnNlbmRlcixtc2cudmFsdWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICAgICANCiAgICAgICBmdW5jdGlvbiBwcmVfaWNvKGFkZHJlc3Mgc2VuZGVyLCB1aW50IHZhbHVlKXBheWFibGUNCiAgICAgICB7DQogICAgICAgICAgY291bnRlciA9IGNvdW50ZXIrMTsNCgkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7DQogICAgICAgICAgd2VpcmVjZWl2ZWRbY291bnRlcl09dmFsdWU7DQogICAgICAgICAgb3B0c1NlbnRbY291bnRlcl0gPSAoNDAwKnZhbHVlKS8xMDAwMDAwMDAwMDsNCiAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgIGJhbGFuY2VzW2ludmVzdG9yW2NvdW50ZXJdXSs9b3B0c1NlbnRbY291bnRlcl07DQogICAgICAgICAgcHJlaWNvKGNvdW50ZXIsaW52ZXN0b3JbY291bnRlcl0sd2VpcmVjZWl2ZWRbY291bnRlcl0sb3B0c1NlbnRbY291bnRlcl0pOw0KICAgICAgIH0NCiAgICAgICANCiAgICAgICBmdW5jdGlvbiAgbWFpbl9pY28oYWRkcmVzcyBzZW5kZXIsIHVpbnQgdmFsdWUpcGF5YWJsZQ0KICAgICAgIHsNCiAgICAgICAgICAgaWYobm93ID49IGljb19zdGFydCAmJiBub3cgPD0gKGljb19zdGFydCArIDcgZGF5cykpIC8vMjAlIGRpc2NvdW50IG9uIEJPUFQNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOw0KICAgIAkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7DQogICAgICAgICAgICAgIHdlaXJlY2VpdmVkW2NvdW50ZXJdPXZhbHVlOw0KICAgICAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICgyNTAqdmFsdWUpLzEwMDAwMDAwMDAwOw0KICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgICAgICBiYWxhbmNlc1tpbnZlc3Rvcltjb3VudGVyXV0rPW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgICAgICBpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgZWxzZSBpZiAobm93ID49IChpY29fc3RhcnQgKyA3IGRheXMpICYmIG5vdyA8PSAoaWNvX3N0YXJ0ICsgMTQgZGF5cykpIC8vMTAlIGRpc2NvdW50IG9uIEJPUFQNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOw0KICAgIAkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7DQogICAgICAgICAgICAgIHdlaXJlY2VpdmVkW2NvdW50ZXJdPXZhbHVlOw0KICAgICAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICgyMjAqdmFsdWUpLzEwMDAwMDAwMDAwOw0KICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgICAgICBiYWxhbmNlc1tpbnZlc3Rvcltjb3VudGVyXV0rPW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgICAgICBpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgZWxzZSBpZiAobm93ID49IChpY29fc3RhcnQgKyAxNCBkYXlzKSAmJiBub3cgPD0gKGljb19zdGFydCArIDMxIGRheXMpKSAvL25vIGRpc2NvdW50IG9uIEJPUFQNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOw0KICAgIAkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7DQogICAgICAgICAgICAgIHdlaXJlY2VpdmVkW2NvdW50ZXJdPXZhbHVlOw0KICAgICAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICgyMDAqdmFsdWUpLzEwMDAwMDAwMDAwOw0KICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgICAgICBiYWxhbmNlc1tpbnZlc3Rvcltjb3VudGVyXV0rPW9wdHNTZW50W2NvdW50ZXJdOw0KICAgICAgICAgICAgICBpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7DQogICAgICAgICAgIH0NCiAgICAgICB9DQogICAgICAgDQogICAgICAgZnVuY3Rpb24gc3RhcnRJQ08oKW9ubHlPd25lcg0KICAgICAgIHsNCiAgICAgICAgICAgaWNvX3N0YXJ0ID0gbm93Ow0KICAgICAgICAgICBpY29fZW5kPWljb19zdGFydCArIDMxIGRheXM7DQogICAgICAgICAgIHByZV9pY29fc3RhcnQgPSAwOw0KICAgICAgICAgICBwcmVfaWNvX2VuZCA9IDA7DQogICAgICAgICAgIA0KICAgICAgIH0NCiAgICAgICANCiAgICAgIA0KICAgICAgICBmdW5jdGlvbiBlbmRJQ08oKW9ubHlPd25lcg0KICAgICAgIHsNCiAgICAgICAgICBzdG9wcGVkPXRydWU7DQogICAgICAgICAgaWYoYmFsYW5jZXNbb3duZXJdID4gMTUwMDAwMDAwMDAwMDAwKQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgICAgdWludCBidXJuZWRUb2tlbnMgPSBiYWxhbmNlc1tvd25lcl0tMTUwMDAwMDAwMDAwMDAwOw0KICAgICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LWJ1cm5lZFRva2VuczsNCiAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gMTUwMDAwMDAwMDAwMDAwOw0KICAgICAgICAgIH0NCiAgICAgICB9DQp9'