base 64 content
base64builderDaoCasinoToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gRGFvLkNhc2lubyBDcm93ZHNhbGUgVG9rZW4gQ29udHJhY3QgKFVuZGVyIENvbnNpZGVyYXRpb24pDQovLw0KLy8gRW5qb3kuIChjKSBCb2treVBvb0JhaCAvIEJvayBDb25zdWx0aW5nIFB0eSBMdGQgMjAxNw0KLy8gVGhlIE1JVCBMaWNlbmNlIChVbmRlciBDb25zaWRlcmF0aW9uKS4NCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyBTYWZlIG1hdGhzLCBib3Jyb3dlZCBmcm9tIE9wZW5aZXBwZWxpbg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KbGlicmFyeSBTYWZlTWF0aCB7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBBZGQgYSBudW1iZXIgdG8gYW5vdGhlciBudW1iZXIsIGNoZWNraW5nIGZvciBvdmVyZmxvd3MNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgdWludCBjID0gYSArIGI7DQogICAgICAgIGFzc2VydChjID49IGEgJiYgYyA+PSBiKTsNCiAgICAgICAgcmV0dXJuIGM7DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gU3VidHJhY3QgYSBudW1iZXIgZnJvbSBhbm90aGVyIG51bWJlciwgY2hlY2tpbmcgZm9yIHVuZGVyZmxvd3MNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7DQogICAgICAgIHJldHVybiBhIC0gYjsNCiAgICB9DQp9DQoNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gT3duZWQgY29udHJhY3QNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmNvbnRyYWN0IE93bmVkIHsNCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCiAgICBhZGRyZXNzIHB1YmxpYyBuZXdPd25lcjsNCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOw0KDQogICAgZnVuY3Rpb24gT3duZWQoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5T3duZXIgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7DQogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOw0KICAgIH0NCiANCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7DQogICAgICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOw0KICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyBFUkMyMCBUb2tlbiwgd2l0aCB0aGUgYWRkaXRpb24gb2Ygc3ltYm9sLCBuYW1lIGFuZCBkZWNpbWFscw0KLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb250cmFjdCBFUkMyMFRva2VuIGlzIE93bmVkIHsNCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFRvdGFsIFN1cHBseQ0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIHVpbnQyNTYgX3RvdGFsU3VwcGx5ID0gMDsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBPd25lciBvZiBhY2NvdW50IGFwcHJvdmVzIHRoZSB0cmFuc2ZlciBvZiBhbiBhbW91bnQgdG8gYW5vdGhlciBhY2NvdW50DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBHZXQgdGhlIHRvdGFsIHRva2VuIHN1cHBseQ0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkgew0KICAgICAgICB0b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseTsNCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBvZiBhbm90aGVyIGFjY291bnQgd2l0aCBhZGRyZXNzIF9vd25lcg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudA0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAgICAgICAgICAgICAgICAvLyBVc2VyIGhhcyBiYWxhbmNlDQogICAgICAgICAgICAmJiBfYW1vdW50ID4gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyDQogICAgICAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10gICAgIC8vIE92ZXJmbG93IGNoZWNrDQogICAgICAgICkgew0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7DQogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZQ0KICAgIC8vIF92YWx1ZSBhbW91bnQuIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlDQogICAgLy8gY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gYXBwcm92ZSgNCiAgICAgICAgYWRkcmVzcyBfc3BlbmRlciwNCiAgICAgICAgdWludDI1NiBfYW1vdW50DQogICAgKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50Ow0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFNwZW5kZXIgb2YgdG9rZW5zIHRyYW5zZmVyIGFuIGFtb3VudCBvZiB0b2tlbnMgZnJvbSB0aGUgdG9rZW4gb3duZXIncw0KICAgIC8vIGJhbGFuY2UgdG8gdGhlIHNwZW5kZXIncyBhY2NvdW50LiBUaGUgb3duZXIgb2YgdGhlIHRva2VucyBtdXN0IGFscmVhZHkNCiAgICAvLyBoYXZlIGFwcHJvdmUoLi4uKS1kIHRoaXMgdHJhbnNmZXINCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oDQogICAgICAgIGFkZHJlc3MgX2Zyb20sDQogICAgICAgIGFkZHJlc3MgX3RvLA0KICAgICAgICB1aW50MjU2IF9hbW91bnQNCiAgICApIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQgICAgICAgICAgICAgICAgICAvLyBGcm9tIGEvYyBoYXMgYmFsYW5jZQ0KICAgICAgICAgICAgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAgICAvLyBUcmFuc2ZlciBhcHByb3ZlZA0KICAgICAgICAgICAgJiYgX2Ftb3VudCA+IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb24temVybyB0cmFuc2Zlcg0KICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dICAvLyBPdmVyZmxvdyBjaGVjaw0KICAgICAgICApIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7DQogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsNCiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBSZXR1cm5zIHRoZSBhbW91bnQgb2YgdG9rZW5zIGFwcHJvdmVkIGJ5IHRoZSBvd25lciB0aGF0IGNhbiBiZQ0KICAgIC8vIHRyYW5zZmVycmVkIHRvIHRoZSBzcGVuZGVyJ3MgYWNjb3VudA0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZSgNCiAgICAgICAgYWRkcmVzcyBfb3duZXIsIA0KICAgICAgICBhZGRyZXNzIF9zcGVuZGVyDQogICAgKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsDQogICAgICAgIHVpbnQyNTYgX3ZhbHVlKTsNCn0NCg0KDQpjb250cmFjdCBEYW9DYXNpbm9Ub2tlbiBpcyBFUkMyMFRva2VuIHsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFRva2VuIGluZm9ybWF0aW9uDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQkVUIjsNCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiRGFvLkNhc2lubyI7DQogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7DQoNCiAgICAvLyBEbyBub3QgdXNlIGBub3dgIGhlcmUNCiAgICB1aW50MjU2IHB1YmxpYyBTVEFSVERBVEU7DQogICAgdWludDI1NiBwdWJsaWMgRU5EREFURTsNCg0KICAgIC8vIENhcCBVU0QgMjVtaWwgQCAyOTYuMTQ3MCBFVEgvVVNEDQogICAgdWludDI1NiBwdWJsaWMgQ0FQOw0KDQogICAgLy8gQ2Fubm90IGhhdmUgYSBjb25zdGFudCBhZGRyZXNzIGhlcmUgLSBTb2xpZGl0eSBidWcNCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vc29saWRpdHkvaXNzdWVzLzI0NDENCiAgICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZzsNCg0KICAgIGZ1bmN0aW9uIERhb0Nhc2lub1Rva2VuKHVpbnQyNTYgX3N0YXJ0LCB1aW50MjU2IF9lbmQsIHVpbnQyNTYgX2NhcCwgYWRkcmVzcyBfbXVsdGlzaWcpIHsNCiAgICAgICAgU1RBUlREQVRFID0gX3N0YXJ0Ow0KICAgICAgICBFTkREQVRFICAgPSBfZW5kOw0KICAgICAgICBDQVAgICAgICAgPSBfY2FwOw0KICAgICAgICBtdWx0aXNpZyAgPSBfbXVsdGlzaWc7DQogICAgfQ0KDQogICAgLy8gPiBuZXcgRGF0ZSgiMjAxNy0wNi0yOVQxMzowMDowMCIpLmdldFRpbWUoKS8xMDAwDQogICAgLy8gMTQ5ODc0MTIwMA0KDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxFdGhlcnM7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBUb2tlbnMgcGVyIEVUSA0KICAgIC8vIERheSAgMSAgICA6IDIsMDAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyBEYXlzIDLigJMxNCA6IDEsODAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyBEYXlzIDE14oCTMTc6IDEsNzAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyBEYXlzIDE44oCTMjA6IDEsNjAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyBEYXlzIDIx4oCTMjM6IDEsNTAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyBEYXlzIDI04oCTMjY6IDEsNDAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyBEYXlzIDI34oCTMjg6IDEsMzAwIEJFVCA9IDEgRXRoZXINCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBidXlQcmljZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgcmV0dXJuIGJ1eVByaWNlQXQobm93KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBidXlQcmljZUF0KHVpbnQyNTYgYXQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgaWYgKGF0IDwgU1RBUlREQVRFKSB7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfSBlbHNlIGlmIChhdCA8IChTVEFSVERBVEUgKyAyIGRheXMpKSB7DQogICAgICAgICAgICByZXR1cm4gMjAwMDsNCiAgICAgICAgfSBlbHNlIGlmIChhdCA8IChTVEFSVERBVEUgKyAxNSBkYXlzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDE4MDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMTggZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiAxNzAwOw0KICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKFNUQVJUREFURSArIDIxIGRheXMpKSB7DQogICAgICAgICAgICByZXR1cm4gMTYwMDsNCiAgICAgICAgfSBlbHNlIGlmIChhdCA8IChTVEFSVERBVEUgKyAyNCBkYXlzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDE1MDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMjcgZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiAxNDAwOw0KICAgICAgICB9IGVsc2UgaWYgKGF0IDw9IEVORERBVEUpIHsNCiAgICAgICAgICAgIHJldHVybiAxMzAwOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEJ1eSB0b2tlbnMgZnJvbSB0aGUgY29udHJhY3QNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsNCiAgICAgICAgcHJveHlQYXltZW50KG1zZy5zZW5kZXIpOw0KICAgIH0NCg0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gRXhjaGFuZ2VzIGNhbiBidXkgb24gYmVoYWxmIG9mIHBhcnRpY2lwYW50DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgcGFydGljaXBhbnQpIHBheWFibGUgew0KICAgICAgICAvLyBObyBjb250cmlidXRpb25zIGJlZm9yZSB0aGUgc3RhcnQgb2YgdGhlIGNyb3dkc2FsZQ0KICAgICAgICByZXF1aXJlKG5vdyA+PSBTVEFSVERBVEUpOw0KICAgICAgICAvLyBObyBjb250cmlidXRpb25zIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGNyb3dkc2FsZQ0KICAgICAgICByZXF1aXJlKG5vdyA8PSBFTkREQVRFKTsNCiAgICAgICAgLy8gTm8gMCBjb250cmlidXRpb25zDQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7DQoNCiAgICAgICAgLy8gQWRkIEVUSCByYWlzZWQgdG8gdG90YWwNCiAgICAgICAgdG90YWxFdGhlcnMgPSB0b3RhbEV0aGVycy5hZGQobXNnLnZhbHVlKTsNCiAgICAgICAgLy8gQ2Fubm90IGV4Y2VlZCBjYXANCiAgICAgICAgcmVxdWlyZSh0b3RhbEV0aGVycyA8PSBDQVApOw0KDQogICAgICAgIC8vIFdoYXQgaXMgdGhlIEJFVCB0byBFVEggcmF0ZQ0KICAgICAgICB1aW50MjU2IF9idXlQcmljZSA9IGJ1eVByaWNlKCk7DQoNCiAgICAgICAgLy8gQ2FsY3VsYXRlICNCRVQgLSB0aGlzIGlzIHNhZmUgYXMgX2J1eVByaWNlIGlzIGtub3duDQogICAgICAgIC8vIGFuZCBtc2cudmFsdWUgaXMgcmVzdHJpY3RlZCB0byB2YWxpZCB2YWx1ZXMNCiAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUgKiBfYnV5UHJpY2U7DQoNCiAgICAgICAgLy8gQ2hlY2sgdG9rZW5zID4gMA0KICAgICAgICByZXF1aXJlKHRva2VucyA+IDApOw0KICAgICAgICAvLyBDb21wdXRlIHRva2VucyBmb3IgZm91bmRhdGlvbiAzMCUNCiAgICAgICAgLy8gTnVtYmVyIG9mIHRva2VucyByZXN0cmljdGVkIHNvIG1hdGhzIGlzIHNhZmUNCiAgICAgICAgdWludCBtdWx0aXNpZ1Rva2VucyA9IHRva2VucyAqIDMgLyA3Ow0KDQogICAgICAgIC8vIEFkZCB0byB0b3RhbCBzdXBwbHkNCiAgICAgICAgX3RvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5LmFkZCh0b2tlbnMpOw0KICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKG11bHRpc2lnVG9rZW5zKTsNCg0KICAgICAgICAvLyBBZGQgdG8gYmFsYW5jZXMNCiAgICAgICAgYmFsYW5jZXNbcGFydGljaXBhbnRdID0gYmFsYW5jZXNbcGFydGljaXBhbnRdLmFkZCh0b2tlbnMpOw0KICAgICAgICBiYWxhbmNlc1ttdWx0aXNpZ10gPSBiYWxhbmNlc1ttdWx0aXNpZ10uYWRkKG11bHRpc2lnVG9rZW5zKTsNCg0KICAgICAgICAvLyBMb2cgZXZlbnRzDQogICAgICAgIFRva2Vuc0JvdWdodChwYXJ0aWNpcGFudCwgbXNnLnZhbHVlLCB0b3RhbEV0aGVycywgdG9rZW5zLA0KICAgICAgICAgICAgbXVsdGlzaWdUb2tlbnMsIF90b3RhbFN1cHBseSwgX2J1eVByaWNlKTsNCiAgICAgICAgVHJhbnNmZXIoMHgwLCBwYXJ0aWNpcGFudCwgdG9rZW5zKTsNCiAgICAgICAgVHJhbnNmZXIoMHgwLCBtdWx0aXNpZywgbXVsdGlzaWdUb2tlbnMpOw0KDQogICAgICAgIC8vIE1vdmUgdGhlIGZ1bmRzIHRvIGEgc2FmZSB3YWxsZXQNCiAgICAgICAgbXVsdGlzaWcudHJhbnNmZXIobXNnLnZhbHVlKTsNCiAgICB9DQogICAgZXZlbnQgVG9rZW5zQm91Z2h0KGFkZHJlc3MgaW5kZXhlZCBidXllciwgdWludDI1NiBldGhlcnMsIA0KICAgICAgICB1aW50MjU2IG5ld0V0aGVyQmFsYW5jZSwgdWludDI1NiB0b2tlbnMsIHVpbnQyNTYgbXVsdGlzaWdUb2tlbnMsIA0KICAgICAgICB1aW50MjU2IG5ld1RvdGFsU3VwcGx5LCB1aW50MjU2IGJ1eVByaWNlKTsNCg0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gT3duZXIgdG8gYWRkIHByZWNvbW1pdG1lbnQgZnVuZGluZyB0b2tlbiBiYWxhbmNlIGJlZm9yZSB0aGUgY3Jvd2RzYWxlDQogICAgLy8gY29tbWVuY2VzDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gYWRkUHJlY29tbWl0bWVudChhZGRyZXNzIHBhcnRpY2lwYW50LCB1aW50IGJhbGFuY2UpIG9ubHlPd25lciB7DQogICAgICAgIHJlcXVpcmUobm93IDwgU1RBUlREQVRFKTsNCiAgICAgICAgcmVxdWlyZShiYWxhbmNlID4gMCk7DQogICAgICAgIGJhbGFuY2VzW3BhcnRpY2lwYW50XSA9IGJhbGFuY2VzW3BhcnRpY2lwYW50XS5hZGQoYmFsYW5jZSk7DQogICAgICAgIF90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS5hZGQoYmFsYW5jZSk7DQogICAgICAgIFRyYW5zZmVyKDB4MCwgcGFydGljaXBhbnQsIGJhbGFuY2UpOw0KICAgIH0NCg0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50LCB3aXRoIGENCiAgICAvLyBjaGVjayB0aGF0IHRoZSBjcm93ZHNhbGUgaXMgZmluYWxpc2VkDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBiZWZvcmUgY3Jvd2RzYWxlIGVuZHMgb3IgY2FwIHJlYWNoZWQNCiAgICAgICAgcmVxdWlyZShub3cgPiBFTkREQVRFIHx8IHRvdGFsRXRoZXJzID09IENBUCk7DQogICAgICAgIC8vIFN0YW5kYXJkIHRyYW5zZmVyDQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF9hbW91bnQpOw0KICAgIH0NCg0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gU3BlbmRlciBvZiB0b2tlbnMgdHJhbnNmZXIgYW4gYW1vdW50IG9mIHRva2VucyBmcm9tIHRoZSB0b2tlbiBvd25lcidzDQogICAgLy8gYmFsYW5jZSB0byBhbm90aGVyIGFjY291bnQsIHdpdGggYSBjaGVjayB0aGF0IHRoZSBjcm93ZHNhbGUgaXMNCiAgICAvLyBmaW5hbGlzZWQNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgDQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykNCiAgICB7DQogICAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBiZWZvcmUgY3Jvd2RzYWxlIGVuZHMgb3IgY2FwIHJlYWNoZWQNCiAgICAgICAgcmVxdWlyZShub3cgPiBFTkREQVRFIHx8IHRvdGFsRXRoZXJzID09IENBUCk7DQogICAgICAgIC8vIFN0YW5kYXJkIHRyYW5zZmVyRnJvbQ0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF9hbW91bnQpOw0KICAgIH0NCg0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gT3duZXIgY2FuIHRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gdHJhbnNmZXJBbnlFUkMyMFRva2VuKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCB1aW50IGFtb3VudCkNCiAgICAgIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIA0KICAgIHsNCiAgICAgICAgcmV0dXJuIEVSQzIwVG9rZW4odG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYW1vdW50KTsNCiAgICB9DQp9DQoNCmxpYnJhcnkgQ3JlYXRvckRhb0Nhc2lub1Rva2VuIHsNCiAgICBmdW5jdGlvbiBjcmVhdGUodWludDI1NiBfc3RhcnQsIHVpbnQyNTYgX2VuZCwgdWludDI1NiBfY2FwLCBhZGRyZXNzIF9tdWx0aXNpZykgcmV0dXJucyAoRGFvQ2FzaW5vVG9rZW4pDQogICAgeyByZXR1cm4gbmV3IERhb0Nhc2lub1Rva2VuKF9zdGFydCwgX2VuZCwgX2NhcCwgX211bHRpc2lnKTsgfQ0KDQogICAgZnVuY3Rpb24gdmVyc2lvbigpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykNCiAgICB7IHJldHVybiAidjAuNi4zIjsgfQ0KfQ0KDQovKioNCiAqIEB0aXRsZSBCdWlsZGVyIGJhc2VkIGNvbnRyYWN0DQogKi8NCmNvbnRyYWN0IEJ1aWxkZXIgaXMgT3duZWQgew0KICAgIC8qKg0KICAgICAqIEBkZXYgdGhpcyBldmVudCBlbWl0dGVkIGZvciBldmVyeSBidWlsZGVkIGNvbnRyYWN0DQogICAgICovDQogICAgZXZlbnQgQnVpbGRlZChhZGRyZXNzIGluZGV4ZWQgY2xpZW50LCBhZGRyZXNzIGluZGV4ZWQgaW5zdGFuY2UpOw0KIA0KICAgIC8qIEFkZHJlc3NlcyBidWlsZGVkIGNvbnRyYWN0cyBhdCBzZW5kZXIgKi8NCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYWRkcmVzc1tdKSBwdWJsaWMgZ2V0Q29udHJhY3RzT2Y7DQogDQogICAgLyoqDQogICAgICogQGRldiBHZXQgbGFzdCBhZGRyZXNzDQogICAgICogQHJldHVybiBsYXN0IGFkZHJlc3MgY29udHJhY3QNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRMYXN0Q29udHJhY3QoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7DQogICAgICAgIHZhciBzZW5kZXJfY29udHJhY3RzID0gZ2V0Q29udHJhY3RzT2ZbbXNnLnNlbmRlcl07DQogICAgICAgIHJldHVybiBzZW5kZXJfY29udHJhY3RzW3NlbmRlcl9jb250cmFjdHMubGVuZ3RoIC0gMV07DQogICAgfQ0KDQogICAgLyogQnVpbGRpbmcgYmVuZWZpY2lhcnkgKi8NCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsNCg0KICAgIC8qKg0KICAgICAqIEBkZXYgU2V0IGJlbmVmaWNpYXJ5DQogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBpcyBhZGRyZXNzIG9mIGJlbmVmaWNpYXJ5DQogICAgICovDQogICAgZnVuY3Rpb24gc2V0QmVuZWZpY2lhcnkoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIG9ubHlPd25lcg0KICAgIHsgYmVuZWZpY2lhcnkgPSBfYmVuZWZpY2lhcnk7IH0NCg0KICAgIC8qIEJ1aWxkaW5nIGNvc3QgICovDQogICAgdWludCBwdWJsaWMgYnVpbGRpbmdDb3N0V2VpOw0KDQogICAgLyoqDQogICAgICogQGRldiBTZXQgYnVpbGRpbmcgY29zdA0KICAgICAqIEBwYXJhbSBfYnVpbGRpbmdDb3N0V2VpIGlzIGNvc3QNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzZXRDb3N0KHVpbnQgX2J1aWxkaW5nQ29zdFdlaSkgb25seU93bmVyDQogICAgeyBidWlsZGluZ0Nvc3RXZWkgPSBfYnVpbGRpbmdDb3N0V2VpOyB9DQoNCiAgICAvKiBTZWN1cml0eSBjaGVjayByZXBvcnQgKi8NCiAgICBzdHJpbmcgcHVibGljIHNlY3VyaXR5Q2hlY2tVUkk7DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFNldCBzZWN1cml0eSBjaGVjayByZXBvcnQgVVJJDQogICAgICogQHBhcmFtIF91cmkgaXMgYW4gVVJJIHRvIHJlcG9ydA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHNldFNlY3VyaXR5Q2hlY2soc3RyaW5nIF91cmkpIG9ubHlPd25lcg0KICAgIHsgc2VjdXJpdHlDaGVja1VSSSA9IF91cmk7IH0NCn0NCg0KLyoqDQogKiBAdGl0bGUgQnVpbGRlckRhb0Nhc2lub1Rva2VuIGNvbnRyYWN0DQogKi8NCmNvbnRyYWN0IEJ1aWxkZXJEYW9DYXNpbm9Ub2tlbiBpcyBCdWlsZGVyIHsNCiAgICAvKioNCiAgICAgKiBAZGV2IFJ1biBzY3JpcHQgY3JlYXRpb24gY29udHJhY3QNCiAgICAgKiBAcGFyYW0gX2NsaWVudCBpcyBhIGNvbnRyYWN0IGRlc3RpbmF0aW9uIGFkZHJlc3MgKHplcm8gZm9yIHNlbmRlcikNCiAgICAgKiBAcmV0dXJuIGFkZHJlc3MgbmV3IGNvbnRyYWN0DQogICAgICovDQogICAgZnVuY3Rpb24gY3JlYXRlKHVpbnQyNTYgX3N0YXJ0LCB1aW50MjU2IF9lbmQsIHVpbnQyNTYgX2NhcCwgYWRkcmVzcyBfbXVsdGlzaWcsIGFkZHJlc3MgX2NsaWVudCkgcGF5YWJsZSByZXR1cm5zIChhZGRyZXNzKSB7DQogICAgICAgIGlmIChidWlsZGluZ0Nvc3RXZWkgPiAwICYmIGJlbmVmaWNpYXJ5ICE9IDApIHsNCiAgICAgICAgICAgIC8vIFRvbyBsb3cgdmFsdWUNCiAgICAgICAgICAgIGlmIChtc2cudmFsdWUgPCBidWlsZGluZ0Nvc3RXZWkpIHRocm93Ow0KICAgICAgICAgICAgLy8gQmVuZWZpY2lhcnkgc2VuZA0KICAgICAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5zZW5kKGJ1aWxkaW5nQ29zdFdlaSkpIHRocm93Ow0KICAgICAgICAgICAgLy8gUmVmdW5kDQogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gYnVpbGRpbmdDb3N0V2VpKSB7DQogICAgICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQobXNnLnZhbHVlIC0gYnVpbGRpbmdDb3N0V2VpKSkgdGhyb3c7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBSZWZ1bmQgYWxsDQogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gMCkgew0KICAgICAgICAgICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKG1zZy52YWx1ZSkpIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKF9jbGllbnQgPT0gMCkNCiAgICAgICAgICAgIF9jbGllbnQgPSBtc2cuc2VuZGVyOw0KIA0KICAgICAgICB2YXIgaW5zdCA9IENyZWF0b3JEYW9DYXNpbm9Ub2tlbi5jcmVhdGUoX3N0YXJ0LCBfZW5kLCBfY2FwLCBfbXVsdGlzaWcpOw0KICAgICAgICBnZXRDb250cmFjdHNPZltfY2xpZW50XS5wdXNoKGluc3QpOw0KICAgICAgICBCdWlsZGVkKF9jbGllbnQsIGluc3QpOw0KICAgICAgICBpbnN0LnRyYW5zZmVyT3duZXJzaGlwKF9jbGllbnQpOw0KICAgICAgICByZXR1cm4gaW5zdDsNCiAgICB9DQp9'