base 64 content
base64builderToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQovKioNCiAqIEB0aXRsZSBDb250cmFjdCBmb3Igb2JqZWN0IHRoYXQgaGF2ZSBhbiBvd25lcg0KICovDQpjb250cmFjdCBPd25lZCB7DQogICAgLyoqDQogICAgICogQ29udHJhY3Qgb3duZXIgYWRkcmVzcw0KICAgICAqLw0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgLyoqDQogICAgICogQGRldiBEZWxlZ2F0ZSBjb250cmFjdCB0byBhbm90aGVyIHBlcnNvbg0KICAgICAqIEBwYXJhbSBfb3duZXIgTmV3IG93bmVyIGFkZHJlc3MgDQogICAgICovDQogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfb3duZXIpIG9ubHlPd25lcg0KICAgIHsgb3duZXIgPSBfb3duZXI7IH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgT3duZXIgY2hlY2sgbW9kaWZpZXINCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5T3duZXIgeyBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7IF87IH0NCn0NCg0KLyoqDQogKiBAdGl0bGUgQ29tbW9uIHBhdHRlcm4gZm9yIGRlc3Ryb3lhYmxlIGNvbnRyYWN0cyANCiAqLw0KY29udHJhY3QgRGVzdHJveWFibGUgew0KICAgIGFkZHJlc3MgcHVibGljIGhhbW1lcjsNCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSGFtbWVyIHNldHRlcg0KICAgICAqIEBwYXJhbSBfaGFtbWVyIE5ldyBoYW1tZXIgYWRkcmVzcw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHNldEhhbW1lcihhZGRyZXNzIF9oYW1tZXIpIG9ubHlIYW1tZXINCiAgICB7IGhhbW1lciA9IF9oYW1tZXI7IH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgRGVzdHJveSBjb250cmFjdCBhbmQgc2NydWIgYSBkYXRhDQogICAgICogQG5vdGljZSBPbmx5IGhhbW1lciBjYW4gY2FsbCBpdCANCiAgICAgKi8NCiAgICBmdW5jdGlvbiBkZXN0cm95KCkgb25seUhhbW1lcg0KICAgIHsgc3VpY2lkZShtc2cuc2VuZGVyKTsgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBIYW1tZXIgY2hlY2sgbW9kaWZpZXINCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5SGFtbWVyIHsgaWYgKG1zZy5zZW5kZXIgIT0gaGFtbWVyKSB0aHJvdzsgXzsgfQ0KfQ0KDQovKioNCiAqIEB0aXRsZSBHZW5lcmljIG93bmVkIGRlc3Ryb3lhYmxlIGNvbnRyYWN0DQogKi8NCmNvbnRyYWN0IE9iamVjdCBpcyBPd25lZCwgRGVzdHJveWFibGUgew0KICAgIGZ1bmN0aW9uIE9iamVjdCgpIHsNCiAgICAgICAgb3duZXIgID0gbXNnLnNlbmRlcjsNCiAgICAgICAgaGFtbWVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQp9DQoNCi8vIFN0YW5kYXJkIHRva2VuIGludGVyZmFjZSAoRVJDIDIwKQ0KLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwDQpjb250cmFjdCBFUkMyMCANCnsNCi8vIEZ1bmN0aW9uczoNCiAgICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkDQogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KDQogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYA0KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkDQogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKTsNCg0KICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYA0KICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcg0KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkDQogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQoNCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMNCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2Zlcg0KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOw0KDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zDQogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudA0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7DQoNCi8vIEV2ZW50czoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCn0NCg0KLyoqDQogKiBAdGl0bGUgVG9rZW4gY29udHJhY3QgcmVwcmVzZW50cyBhbnkgYXNzZXQgaW4gZGlnaXRhbCBlY29ub215DQogKi8NCmNvbnRyYWN0IFRva2VuIGlzIE9iamVjdCwgRVJDMjAgew0KICAgIC8qIFNob3J0IGRlc2NyaXB0aW9uIG9mIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBuYW1lOw0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOw0KDQogICAgLyogVG90YWwgY291bnQgb2YgdG9rZW5zIGV4aXN0ICovDQogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCiAgICAvKiBGaXhlZCBwb2ludCBwb3NpdGlvbiAqLw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsNCiAgICANCiAgICAvKiBUb2tlbiBhcHByb3ZlbWVudCBzeXN0ZW0gKi8NCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7DQogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dhbmNlczsNCiANCiAgICAvKioNCiAgICAgKiBAZGV2IEdldCBiYWxhbmNlIG9mIHBsYWluIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX293bmVyIGlzIGEgdGFyZ2V0IGFkZHJlc3MNCiAgICAgKiBAcmV0dXJuIGFtb3VudCBvZiB0b2tlbnMgb24gYmFsYW5jZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikNCiAgICB7IHJldHVybiBiYWxhbmNlc1tfb3duZXJdOyB9DQogDQogICAgLyoqDQogICAgICogQGRldiBUYWtlIGFsbG93ZWQgdG9rZW5zDQogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zDQogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAgICAqIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikNCiAgICB7IHJldHVybiBhbGxvd2FuY2VzW19vd25lcl1bX3NwZW5kZXJdOyB9DQoNCiAgICAvKiBUb2tlbiBjb25zdHJ1Y3RvciAqLw0KICAgIGZ1bmN0aW9uIFRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgdWludCBfY291bnQpIHsNCiAgICAgICAgbmFtZSAgICAgICAgPSBfbmFtZTsNCiAgICAgICAgc3ltYm9sICAgICAgPSBfc3ltYm9sOw0KICAgICAgICBkZWNpbWFscyAgICA9IF9kZWNpbWFsczsNCiAgICAgICAgdG90YWxTdXBwbHkgPSBfY291bnQ7DQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gX2NvdW50Ow0KICAgIH0NCiANCiAgICAvKioNCiAgICAgKiBAZGV2IFRyYW5zZmVyIHNlbGYgdG9rZW5zIHRvIGdpdmVuIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX3RvIGRlc3RpbmF0aW9uIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX3ZhbHVlIGFtb3VudCBvZiB0b2tlbiB2YWx1ZXMgdG8gc2VuZA0KICAgICAqIEBub3RpY2UgYF92YWx1ZWAgdG9rZW5zIHdpbGwgYmUgc2VuZGVkIHRvIGBfdG9gDQogICAgICogQHJldHVybiBgdHJ1ZWAgd2hlbiB0cmFuc2ZlciBkb25lDQogICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gICAgICAgICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFRyYW5zZmVyIHdpdGggYXBwcm92ZW1lbnQgbWVjaGFpbnNtDQogICAgICogQHBhcmFtIF9mcm9tIHNvdXJjZSBhZGRyZXNzLCBgX3ZhbHVlYCB0b2tlbnMgc2hvbGQgYmUgYXBwcm92ZWQgZm9yIGBzZW5kZXJgDQogICAgICogQHBhcmFtIF90byBkZXN0aW5hdGlvbiBhZGRyZXNzDQogICAgICogQHBhcmFtIF92YWx1ZSBhbW91bnQgb2YgdG9rZW4gdmFsdWVzIHRvIHNlbmQgDQogICAgICogQG5vdGljZSBmcm9tIGBfZnJvbWAgd2lsbCBiZSBzZW5kZWQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gDQogICAgICogQHJldHVybiBgdHJ1ZWAgd2hlbiB0cmFuc2ZlciBpcyBkb25lDQogICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICB2YXIgYXZhaWwgPSBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXQ0KICAgICAgICAgICAgICAgICAgPiBiYWxhbmNlc1tfZnJvbV0gPyBiYWxhbmNlc1tfZnJvbV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl07DQogICAgICAgIGlmIChhdmFpbCA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICAgKz0gX3ZhbHVlOw0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEdpdmUgdG8gdGFyZ2V0IGFkZHJlc3MgYWJpbGl0eSBmb3Igc2VsZiB0b2tlbiBtYW5pcHVsYXRpb24gd2l0aG91dCBzZW5kaW5nDQogICAgICogQHBhcmFtIF9zcGVuZGVyIHRhcmdldCBhZGRyZXNzIChmdXR1cmUgcmVxdWVzdGVyKQ0KICAgICAqIEBwYXJhbSBfdmFsdWUgYW1vdW50IG9mIHRva2VuIHZhbHVlcyBmb3IgYXBwcm92aW5nDQogICAgICovDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSArPSBfdmFsdWU7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFJlc2V0IGNvdW50IG9mIHRva2VucyBhcHByb3ZlZCBmb3IgZ2l2ZW4gYWRkcmVzcw0KICAgICAqIEBwYXJhbSBfc3BlbmRlciB0YXJnZXQgYWRkcmVzcyAoZnV0dXJlIHJlcXVlc3RlcikNCiAgICAgKi8NCiAgICBmdW5jdGlvbiB1bmFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlcikNCiAgICB7IGFsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsgfQ0KfQ0KDQpsaWJyYXJ5IENyZWF0b3JUb2tlbiB7DQogICAgZnVuY3Rpb24gY3JlYXRlKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgdWludDI1NiBfY291bnQpIHJldHVybnMgKFRva2VuKQ0KICAgIHsgcmV0dXJuIG5ldyBUb2tlbihfbmFtZSwgX3N5bWJvbCwgX2RlY2ltYWxzLCBfY291bnQpOyB9DQoNCiAgICBmdW5jdGlvbiB2ZXJzaW9uKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKQ0KICAgIHsgcmV0dXJuICJ2MC42LjAgKDFiNDQzNWI4KSI7IH0NCg0KICAgIGZ1bmN0aW9uIGFiaSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykNCiAgICB7IHJldHVybiAnW3siY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJuYW1lIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJzdHJpbmcifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3NwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYXBwcm92ZSIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfb3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InNldE93bmVyIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoidG90YWxTdXBwbHkiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2Zyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il90byIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJ0cmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoiZGVjaW1hbHMiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQ4In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6ImhhbW1lciIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9vd25lciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiYmFsYW5jZU9mIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W10sIm5hbWUiOiJkZXN0cm95Iiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoib3duZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoic3ltYm9sIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJzdHJpbmcifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3RvIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfdmFsdWUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InRyYW5zZmVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9oYW1tZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InNldEhhbW1lciIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoiX293bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfc3BlbmRlciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiYWxsb3dhbmNlIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9zcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJ1bmFwcHJvdmUiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJuYW1lIjoiX25hbWUiLCJ0eXBlIjoic3RyaW5nIn0seyJuYW1lIjoiX3N5bWJvbCIsInR5cGUiOiJzdHJpbmcifSx7Im5hbWUiOiJfZGVjaW1hbHMiLCJ0eXBlIjoidWludDgifSx7Im5hbWUiOiJfY291bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwidHlwZSI6ImNvbnN0cnVjdG9yIn0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJfZnJvbSIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJuYW1lIjoiX3RvIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJUcmFuc2ZlciIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJuYW1lIjoiX293bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJfc3BlbmRlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiQXBwcm92YWwiLCJ0eXBlIjoiZXZlbnQifV0nOyB9DQp9DQoNCi8qKg0KICogQHRpdGxlIEJ1aWxkZXIgYmFzZWQgY29udHJhY3QNCiAqLw0KY29udHJhY3QgQnVpbGRlciBpcyBPYmplY3Qgew0KICAgIC8qKg0KICAgICAqIEBkZXYgdGhpcyBldmVudCBlbWl0dGVkIGZvciBldmVyeSBidWlsZGVkIGNvbnRyYWN0DQogICAgICovDQogICAgZXZlbnQgQnVpbGRlZChhZGRyZXNzIGluZGV4ZWQgY2xpZW50LCBhZGRyZXNzIGluZGV4ZWQgaW5zdGFuY2UpOw0KIA0KICAgIC8qIEFkZHJlc3NlcyBidWlsZGVkIGNvbnRyYWN0cyBhdCBzZW5kZXIgKi8NCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYWRkcmVzc1tdKSBwdWJsaWMgZ2V0Q29udHJhY3RzT2Y7DQogDQogICAgLyoqDQogICAgICogQGRldiBHZXQgbGFzdCBhZGRyZXNzDQogICAgICogQHJldHVybiBsYXN0IGFkZHJlc3MgY29udHJhY3QNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRMYXN0Q29udHJhY3QoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7DQogICAgICAgIHZhciBzZW5kZXJfY29udHJhY3RzID0gZ2V0Q29udHJhY3RzT2ZbbXNnLnNlbmRlcl07DQogICAgICAgIHJldHVybiBzZW5kZXJfY29udHJhY3RzW3NlbmRlcl9jb250cmFjdHMubGVuZ3RoIC0gMV07DQogICAgfQ0KDQogICAgLyogQnVpbGRpbmcgYmVuZWZpY2lhcnkgKi8NCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsNCg0KICAgIC8qKg0KICAgICAqIEBkZXYgU2V0IGJlbmVmaWNpYXJ5DQogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBpcyBhZGRyZXNzIG9mIGJlbmVmaWNpYXJ5DQogICAgICovDQogICAgZnVuY3Rpb24gc2V0QmVuZWZpY2lhcnkoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIG9ubHlPd25lcg0KICAgIHsgYmVuZWZpY2lhcnkgPSBfYmVuZWZpY2lhcnk7IH0NCg0KICAgIC8qIEJ1aWxkaW5nIGNvc3QgICovDQogICAgdWludCBwdWJsaWMgYnVpbGRpbmdDb3N0V2VpOw0KDQogICAgLyoqDQogICAgICogQGRldiBTZXQgYnVpbGRpbmcgY29zdA0KICAgICAqIEBwYXJhbSBfYnVpbGRpbmdDb3N0V2VpIGlzIGNvc3QNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzZXRDb3N0KHVpbnQgX2J1aWxkaW5nQ29zdFdlaSkgb25seU93bmVyDQogICAgeyBidWlsZGluZ0Nvc3RXZWkgPSBfYnVpbGRpbmdDb3N0V2VpOyB9DQoNCiAgICAvKiBTZWN1cml0eSBjaGVjayByZXBvcnQgKi8NCiAgICBzdHJpbmcgcHVibGljIHNlY3VyaXR5Q2hlY2tVUkk7DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFNldCBzZWN1cml0eSBjaGVjayByZXBvcnQgVVJJDQogICAgICogQHBhcmFtIF91cmkgaXMgYW4gVVJJIHRvIHJlcG9ydA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHNldFNlY3VyaXR5Q2hlY2soc3RyaW5nIF91cmkpIG9ubHlPd25lcg0KICAgIHsgc2VjdXJpdHlDaGVja1VSSSA9IF91cmk7IH0NCn0NCg0KLy8NCi8vIEFJUkEgQnVpbGRlciBmb3IgVG9rZW4gY29udHJhY3QNCi8vDQpjb250cmFjdCBCdWlsZGVyVG9rZW4gaXMgQnVpbGRlciB7DQogICAgLyoqDQogICAgICogQGRldiBSdW4gc2NyaXB0IGNyZWF0aW9uIGNvbnRyYWN0DQogICAgICogQHBhcmFtIF9uYW1lIGlzIG5hbWUgdG9rZW4NCiAgICAgKiBAcGFyYW0gX3N5bWJvbCBpcyBzeW1ib2wgdG9rZW4NCiAgICAgKiBAcGFyYW0gX2RlY2ltYWxzIGlzIGZpeGVkIHBvaW50IHBvc2l0aW9uDQogICAgICogQHBhcmFtIF9jb3VudCBpcyBjb3VudCBvZiB0b2tlbnMgZXhpc3QNCiAgICAgKiBAcGFyYW0gX2NsaWVudCBpcyBhIGNvbnRyYWN0IGRlc3RpbmF0aW9uIGFkZHJlc3MgKHplcm8gZm9yIHNlbmRlcikNCiAgICAgKiBAcmV0dXJuIGFkZHJlc3MgbmV3IGNvbnRyYWN0DQogICAgICovDQogICAgZnVuY3Rpb24gY3JlYXRlKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgdWludDI1NiBfY291bnQsIGFkZHJlc3MgX2NsaWVudCkgcGF5YWJsZSByZXR1cm5zIChhZGRyZXNzKSB7DQogICAgICAgIGlmIChidWlsZGluZ0Nvc3RXZWkgPiAwICYmIGJlbmVmaWNpYXJ5ICE9IDApIHsNCiAgICAgICAgICAgIC8vIFRvbyBsb3cgdmFsdWUNCiAgICAgICAgICAgIGlmIChtc2cudmFsdWUgPCBidWlsZGluZ0Nvc3RXZWkpIHRocm93Ow0KICAgICAgICAgICAgLy8gQmVuZWZpY2lhcnkgc2VuZA0KICAgICAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5zZW5kKGJ1aWxkaW5nQ29zdFdlaSkpIHRocm93Ow0KICAgICAgICAgICAgLy8gUmVmdW5kDQogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gYnVpbGRpbmdDb3N0V2VpKSB7DQogICAgICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQobXNnLnZhbHVlIC0gYnVpbGRpbmdDb3N0V2VpKSkgdGhyb3c7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBSZWZ1bmQgYWxsDQogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gMCkgew0KICAgICAgICAgICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKG1zZy52YWx1ZSkpIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKF9jbGllbnQgPT0gMCkNCiAgICAgICAgICAgIF9jbGllbnQgPSBtc2cuc2VuZGVyOw0KIA0KICAgICAgICB2YXIgaW5zdCA9IENyZWF0b3JUb2tlbi5jcmVhdGUoX25hbWUsIF9zeW1ib2wsIF9kZWNpbWFscywgX2NvdW50KTsNCiAgICAgICAgZ2V0Q29udHJhY3RzT2ZbX2NsaWVudF0ucHVzaChpbnN0KTsNCiAgICAgICAgQnVpbGRlZChfY2xpZW50LCBpbnN0KTsNCiAgICAgICAgaW5zdC50cmFuc2ZlcihfY2xpZW50LCBfY291bnQpOw0KICAgICAgICBpbnN0LnNldE93bmVyKF9jbGllbnQpOw0KICAgICAgICBpbnN0LnNldEhhbW1lcihfY2xpZW50KTsNCiAgICAgICAgcmV0dXJuIGluc3Q7DQogICAgfQ0KfQ=='