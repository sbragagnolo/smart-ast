base 64 content
base64burnableOpenPaymentFactory
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgQnVybmFibGVPcGVuUGF5bWVudCB7DQogICAgLy9CT1Agd2lsbCBzdGFydCB3aXRoIGEgcGF5ZXIgYnV0IG5vIHJlY2lwaWVudCAocmVjaXBpZW50PT0weDApDQogICAgYWRkcmVzcyBwdWJsaWMgcGF5ZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgcmVjaXBpZW50Ow0KICAgIGFkZHJlc3MgY29uc3RhbnQgYnVybkFkZHJlc3MgPSAweDA7DQogICAgDQogICAgLy9Ob3RlIHRoYXQgdGhlc2Ugd2lsbCB0cmFjaywgYnV0IG5vdCBpbmZsdWVuY2UgdGhlIEJPUCBsb2dpYy4NCiAgICB1aW50IHB1YmxpYyBhbW91bnREZXBvc2l0ZWQ7DQogICAgdWludCBwdWJsaWMgYW1vdW50QnVybmVkOw0KICAgIHVpbnQgcHVibGljIGFtb3VudFJlbGVhc2VkOw0KICAgIA0KICAgIC8vcGF5ZXJTdHJpbmcgYW5kIHJlY2lwaWVudFN0cmluZyBlbmFibGUgcnVkaW1lbnRhcnkgY29tbXVuaWNhdGlvbi9wdWJsaXNoaW5nLg0KICAgIC8vQWx0aG91Z2ggdGhlIHR3byBwYXJ0aWVzIG1pZ2h0IHF1aWNrbHkgbW92ZSB0byBhbm90aGVyIG1lZGl1bSB3aXRoIGJldHRlciBwcml2YWN5IG9yIGNvbnZlbmllbmNlLA0KICAgIC8vYmVnaW5uaW5nIHdpdGggdGhpcyBpcyBuaWNlIGJlY2F1c2UgaXQncyBhbHJlYWR5IHRydXN0bGVzcy90cmFuc3BhcmVudC9zaWduZWQvcHNldWRvbnltb3VzL2V0Yy4NCiAgICBzdHJpbmcgcHVibGljIHBheWVyU3RyaW5nOw0KICAgIHN0cmluZyBwdWJsaWMgcmVjaXBpZW50U3RyaW5nOw0KICAgIA0KICAgIC8vQW1vdW50IG9mIGV0aGVyIGEgcHJvc3BlY3RpdmUgcmVjaXBpZW50IG11c3QgcGF5IHRvIGJlY29tZSAocGVybWFuZW50bHkpIHRoZSByZWNpcGllbnQuIFNlZSBjb21taXQoKS4NCiAgICB1aW50IHB1YmxpYyBjb21taXRUaHJlc2hvbGQ7DQogICAgDQogICAgLy9XaGF0IGlmIHRoZSBwYXllciBmYWxscyBvZmYgdGhlIGZhY2Ugb2YgdGhlIHBsYW5ldD8NCiAgICAvL0EgQk9QIGlzIGluc3RhbnRpYXRlZCB3aXRoIGEgY2hvc2VuIGRlZmF1bHRBY3Rpb24sIGFuZCB0aGlzIGNhbm5vdCBiZSBjaGFuZ2VkLg0KICAgIGVudW0gRGVmYXVsdEFjdGlvbiB7Tm9uZSwgUmVsZWFzZSwgQnVybn0NCiAgICBEZWZhdWx0QWN0aW9uIHB1YmxpYyBkZWZhdWx0QWN0aW9uOw0KICAgIA0KICAgIC8vaWYgZGVmYXVsdEFjdGlvbiAhPSBOb25lLCBob3cgbG9uZyBzaG91bGQgd2Ugd2FpdCBiZWZvcmUgZ2l2aW5nIHVwPw0KICAgIC8vU2V0IGluIGNvbnN0cnVjdG9yOg0KICAgIHVpbnQgcHVibGljIGRlZmF1bHRUaW1lb3V0TGVuZ3RoOw0KICAgIA0KICAgIC8vQ2FsY3VsYXRlZCBmcm9tIGRlZmF1bHRUaW1lb3V0TGVuZ3RoIG9uIGEgc3VjY2Vzc2Z1bCByZWNpcGllbnQgY29tbWl0KCksDQogICAgLy9hcyB3ZWxsIGFzIHdoZW5ldmVyIHRoZSBwYXllciAob3IgcG9zc2libHkgdGhlIHJlY2lwaWVudCkgY2FsbHMgZGVsYXlEZWZhdWx0QWN0aW9uKCkNCiAgICB1aW50IHB1YmxpYyBkZWZhdWx0VHJpZ2dlclRpbWU7DQogICAgDQogICAgLy9Nb3N0IGFjdGlvbiBoYXBwZW5zIGluIHRoZSBDb21taXR0ZWQgc3RhdGUuDQogICAgZW51bSBTdGF0ZSB7T3BlbiwgQ29tbWl0dGVkLCBFeHBlbmRlZH0NCiAgICBTdGF0ZSBwdWJsaWMgc3RhdGU7DQogICAgLy9Ob3RlIHRoYXQgYSBCT1AgY2Fubm90IGdvIGZyb20gQ29tbWl0dGVkIGJhY2sgdG8gT3BlbiwgYnV0IGl0IGNhbiBnbyBmcm9tIEV4cGVuZGVkIGJhY2sgdG8gQ29tbWl0dGVkDQogICAgLy8odGhpcyB3b3VsZCByZXRhaW4gdGhlIGNvbW1pdHRlZCByZWNpcGllbnQpLiBTZWFyY2ggZm9yIEV4cGVuZGVkIGFuZCBVbmV4cGVuZGVkIGV2ZW50cyB0byBzZWUgaG93IHRoaXMgd29ya3MuDQogICAgDQogICAgbW9kaWZpZXIgaW5TdGF0ZShTdGF0ZSBzKSB7IGlmIChzICE9IHN0YXRlKSB0aHJvdzsgXzsgfQ0KICAgIG1vZGlmaWVyIG9ubHlQYXllcigpIHsgaWYgKG1zZy5zZW5kZXIgIT0gcGF5ZXIpIHRocm93OyBfOyB9DQogICAgbW9kaWZpZXIgb25seVJlY2lwaWVudCgpIHsgaWYgKG1zZy5zZW5kZXIgIT0gcmVjaXBpZW50KSB0aHJvdzsgXzsgfQ0KICAgIG1vZGlmaWVyIG9ubHlQYXllck9yUmVjaXBpZW50KCkgeyBpZiAoKG1zZy5zZW5kZXIgIT0gcGF5ZXIpICYmIChtc2cuc2VuZGVyICE9IHJlY2lwaWVudCkpIHRocm93OyBfOyB9DQogICAgDQogICAgZXZlbnQgRnVuZHNBZGRlZCh1aW50IGFtb3VudCk7Ly9UaGUgcGF5ZXIgaGFzIGFkZGVkIGZ1bmRzIHRvIHRoZSBCT1AuDQogICAgZXZlbnQgUGF5ZXJTdHJpbmdVcGRhdGVkKHN0cmluZyBuZXdQYXllclN0cmluZyk7DQogICAgZXZlbnQgUmVjaXBpZW50U3RyaW5nVXBkYXRlZChzdHJpbmcgbmV3UmVjaXBpZW50U3RyaW5nKTsNCiAgICBldmVudCBGdW5kc1JlY292ZXJlZCgpOw0KICAgIGV2ZW50IENvbW1pdHRlZChhZGRyZXNzIHJlY2lwaWVudCk7DQogICAgZXZlbnQgRnVuZHNCdXJuZWQodWludCBhbW91bnQpOw0KICAgIGV2ZW50IEZ1bmRzUmVsZWFzZWQodWludCBhbW91bnQpOw0KICAgIGV2ZW50IEV4cGVuZGVkKCk7DQogICAgZXZlbnQgVW5leHBlbmRlZCgpOw0KICAgIGV2ZW50IERlZmF1bHRBY3Rpb25EZWxheWVkKCk7DQogICAgZXZlbnQgRGVmYXVsdEFjdGlvbkNhbGxlZCgpOw0KICAgIA0KICAgIGZ1bmN0aW9uIEJ1cm5hYmxlT3BlblBheW1lbnQoYWRkcmVzcyBfcGF5ZXIsIHVpbnQgX2NvbW1pdFRocmVzaG9sZCwgRGVmYXVsdEFjdGlvbiBfZGVmYXVsdEFjdGlvbiwgdWludCBfZGVmYXVsdFRpbWVvdXRMZW5ndGgsIHN0cmluZyBfcGF5ZXJTdHJpbmcpDQogICAgcHVibGljDQogICAgcGF5YWJsZSB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKSB7DQogICAgICAgICAgICBGdW5kc0FkZGVkKG1zZy52YWx1ZSk7DQogICAgICAgICAgICBhbW91bnREZXBvc2l0ZWQgKz0gbXNnLnZhbHVlOw0KICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgc3RhdGUgPSBTdGF0ZS5PcGVuOw0KICAgICAgICBwYXllciA9IF9wYXllcjsNCiAgICAgICAgDQogICAgICAgIGNvbW1pdFRocmVzaG9sZCA9IF9jb21taXRUaHJlc2hvbGQ7DQogICAgICAgIA0KICAgICAgICBkZWZhdWx0QWN0aW9uID0gX2RlZmF1bHRBY3Rpb247DQogICAgICAgIGlmIChkZWZhdWx0QWN0aW9uICE9IERlZmF1bHRBY3Rpb24uTm9uZSkgDQogICAgICAgICAgICBkZWZhdWx0VGltZW91dExlbmd0aCA9IF9kZWZhdWx0VGltZW91dExlbmd0aDsNCiAgICAgICAgDQogICAgICAgIHBheWVyU3RyaW5nID0gX3BheWVyU3RyaW5nOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBnZXRGdWxsU3RhdGUoKQ0KICAgIHB1YmxpYw0KICAgIGNvbnN0YW50DQogICAgcmV0dXJucyAoU3RhdGUsIHN0cmluZywgYWRkcmVzcywgc3RyaW5nLCB1aW50LCB1aW50LCB1aW50LCB1aW50KSB7DQogICAgICAgIHJldHVybiAoc3RhdGUsIHBheWVyU3RyaW5nLCByZWNpcGllbnQsIHJlY2lwaWVudFN0cmluZywgYW1vdW50RGVwb3NpdGVkLCBhbW91bnRCdXJuZWQsIGFtb3VudFJlbGVhc2VkLCBkZWZhdWx0VHJpZ2dlclRpbWUpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBhZGRGdW5kcygpDQogICAgcHVibGljDQogICAgb25seVBheWVyKCkNCiAgICBwYXlhYmxlIHsNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIEZ1bmRzQWRkZWQobXNnLnZhbHVlKTsNCiAgICAgICAgYW1vdW50RGVwb3NpdGVkICs9IG1zZy52YWx1ZTsNCiAgICAgICAgaWYgKHN0YXRlID09IFN0YXRlLkV4cGVuZGVkKSB7DQogICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLkNvbW1pdHRlZDsNCiAgICAgICAgICAgIFVuZXhwZW5kZWQoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiByZWNvdmVyRnVuZHMoKQ0KICAgIHB1YmxpYw0KICAgIG9ubHlQYXllcigpDQogICAgaW5TdGF0ZShTdGF0ZS5PcGVuKQ0KICAgIHsNCiAgICAgICAgRnVuZHNSZWNvdmVyZWQoKTsNCiAgICAgICAgc2VsZmRlc3RydWN0KHBheWVyKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY29tbWl0KCkNCiAgICBwdWJsaWMNCiAgICBpblN0YXRlKFN0YXRlLk9wZW4pDQogICAgcGF5YWJsZQ0KICAgIHsNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IGNvbW1pdFRocmVzaG9sZCkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBpZiAobXNnLnZhbHVlID4gMCkgew0KICAgICAgICAgICAgRnVuZHNBZGRlZChtc2cudmFsdWUpOw0KICAgICAgICAgICAgYW1vdW50RGVwb3NpdGVkICs9IG1zZy52YWx1ZTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcmVjaXBpZW50ID0gbXNnLnNlbmRlcjsNCiAgICAgICAgc3RhdGUgPSBTdGF0ZS5Db21taXR0ZWQ7DQogICAgICAgIENvbW1pdHRlZChyZWNpcGllbnQpOw0KICAgICAgICANCiAgICAgICAgaWYgKGRlZmF1bHRBY3Rpb24gIT0gRGVmYXVsdEFjdGlvbi5Ob25lKSB7DQogICAgICAgICAgICBkZWZhdWx0VHJpZ2dlclRpbWUgPSBub3cgKyBkZWZhdWx0VGltZW91dExlbmd0aDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBpbnRlcm5hbEJ1cm4odWludCBhbW91bnQpDQogICAgcHJpdmF0ZQ0KICAgIGluU3RhdGUoU3RhdGUuQ29tbWl0dGVkKQ0KICAgIHJldHVybnMgKGJvb2wpDQogICAgew0KICAgICAgICBib29sIHN1Y2Nlc3MgPSBidXJuQWRkcmVzcy5zZW5kKGFtb3VudCk7DQogICAgICAgIGlmIChzdWNjZXNzKSB7DQogICAgICAgICAgICBGdW5kc0J1cm5lZChhbW91bnQpOw0KICAgICAgICAgICAgYW1vdW50QnVybmVkICs9IGFtb3VudDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA9PSAwKSB7DQogICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLkV4cGVuZGVkOw0KICAgICAgICAgICAgRXhwZW5kZWQoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGJ1cm4odWludCBhbW91bnQpDQogICAgcHVibGljDQogICAgaW5TdGF0ZShTdGF0ZS5Db21taXR0ZWQpDQogICAgb25seVBheWVyKCkNCiAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGludGVybmFsQnVybihhbW91bnQpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBpbnRlcm5hbFJlbGVhc2UodWludCBhbW91bnQpDQogICAgcHJpdmF0ZQ0KICAgIGluU3RhdGUoU3RhdGUuQ29tbWl0dGVkKQ0KICAgIHJldHVybnMgKGJvb2wpDQogICAgew0KICAgICAgICBib29sIHN1Y2Nlc3MgPSByZWNpcGllbnQuc2VuZChhbW91bnQpOw0KICAgICAgICBpZiAoc3VjY2Vzcykgew0KICAgICAgICAgICAgRnVuZHNSZWxlYXNlZChhbW91bnQpOw0KICAgICAgICAgICAgYW1vdW50UmVsZWFzZWQgKz0gYW1vdW50Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHsNCiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuRXhwZW5kZWQ7DQogICAgICAgICAgICBFeHBlbmRlZCgpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBzdWNjZXNzOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiByZWxlYXNlKHVpbnQgYW1vdW50KQ0KICAgIHB1YmxpYw0KICAgIGluU3RhdGUoU3RhdGUuQ29tbWl0dGVkKQ0KICAgIG9ubHlQYXllcigpDQogICAgcmV0dXJucyAoYm9vbCkNCiAgICB7DQogICAgICAgIHJldHVybiBpbnRlcm5hbFJlbGVhc2UoYW1vdW50KTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2V0UGF5ZXJTdHJpbmcoc3RyaW5nIF9zdHJpbmcpDQogICAgcHVibGljDQogICAgb25seVBheWVyKCkNCiAgICB7DQogICAgICAgIHBheWVyU3RyaW5nID0gX3N0cmluZzsNCiAgICAgICAgUGF5ZXJTdHJpbmdVcGRhdGVkKHBheWVyU3RyaW5nKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2V0UmVjaXBpZW50U3RyaW5nKHN0cmluZyBfc3RyaW5nKQ0KICAgIHB1YmxpYw0KICAgIG9ubHlSZWNpcGllbnQoKQ0KICAgIHsNCiAgICAgICAgcmVjaXBpZW50U3RyaW5nID0gX3N0cmluZzsNCiAgICAgICAgUmVjaXBpZW50U3RyaW5nVXBkYXRlZChyZWNpcGllbnRTdHJpbmcpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBkZWxheURlZmF1bHRBY3Rpb24oKQ0KICAgIHB1YmxpYw0KICAgIG9ubHlQYXllck9yUmVjaXBpZW50KCkNCiAgICBpblN0YXRlKFN0YXRlLkNvbW1pdHRlZCkNCiAgICB7DQogICAgICAgIGlmIChkZWZhdWx0QWN0aW9uID09IERlZmF1bHRBY3Rpb24uTm9uZSkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBEZWZhdWx0QWN0aW9uRGVsYXllZCgpOw0KICAgICAgICBkZWZhdWx0VHJpZ2dlclRpbWUgPSBub3cgKyBkZWZhdWx0VGltZW91dExlbmd0aDsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY2FsbERlZmF1bHRBY3Rpb24oKQ0KICAgIHB1YmxpYw0KICAgIG9ubHlQYXllck9yUmVjaXBpZW50KCkNCiAgICBpblN0YXRlKFN0YXRlLkNvbW1pdHRlZCkNCiAgICB7DQogICAgICAgIGlmIChkZWZhdWx0QWN0aW9uID09IERlZmF1bHRBY3Rpb24uTm9uZSkgdGhyb3c7DQogICAgICAgIGlmIChub3cgPCBkZWZhdWx0VHJpZ2dlclRpbWUpIHRocm93Ow0KICAgICAgICANCiAgICAgICAgRGVmYXVsdEFjdGlvbkNhbGxlZCgpOw0KICAgICAgICBpZiAoZGVmYXVsdEFjdGlvbiA9PSBEZWZhdWx0QWN0aW9uLkJ1cm4pIHsNCiAgICAgICAgICAgIGludGVybmFsQnVybih0aGlzLmJhbGFuY2UpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKGRlZmF1bHRBY3Rpb24gPT0gRGVmYXVsdEFjdGlvbi5SZWxlYXNlKSB7DQogICAgICAgICAgICBpbnRlcm5hbFJlbGVhc2UodGhpcy5iYWxhbmNlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KY29udHJhY3QgQnVybmFibGVPcGVuUGF5bWVudEZhY3Rvcnkgew0KICAgIGV2ZW50IE5ld0JPUChhZGRyZXNzIG5ld0JPUEFkZHJlc3MsIGFkZHJlc3MgcGF5ZXIsIHVpbnQgY29tbWl0VGhyZXNob2xkLCBCdXJuYWJsZU9wZW5QYXltZW50LkRlZmF1bHRBY3Rpb24gZGVmYXVsdEFjdGlvbiwgdWludCBkZWZhdWx0VGltZW91dExlbmd0aCwgc3RyaW5nIGluaXRpYWxQYXllclN0cmluZyk7DQogICAgDQogICAgZnVuY3Rpb24gbmV3QnVybmFibGVPcGVuUGF5bWVudChhZGRyZXNzIHBheWVyLCB1aW50IGNvbW1pdFRocmVzaG9sZCwgQnVybmFibGVPcGVuUGF5bWVudC5EZWZhdWx0QWN0aW9uIGRlZmF1bHRBY3Rpb24sIHVpbnQgZGVmYXVsdFRpbWVvdXRMZW5ndGgsIHN0cmluZyBpbml0aWFsUGF5ZXJTdHJpbmcpDQogICAgcHVibGljDQogICAgcGF5YWJsZQ0KICAgIHJldHVybnMgKGFkZHJlc3MpIHsNCiAgICAgICAgLy9wYXNzIGFsb25nIGFueSBldGhlciB0byB0aGUgY29uc3RydWN0b3INCiAgICAgICAgYWRkcmVzcyBuZXdCT1BBZGRyID0gKG5ldyBCdXJuYWJsZU9wZW5QYXltZW50KS52YWx1ZShtc2cudmFsdWUpKHBheWVyLCBjb21taXRUaHJlc2hvbGQsIGRlZmF1bHRBY3Rpb24sIGRlZmF1bHRUaW1lb3V0TGVuZ3RoLCBpbml0aWFsUGF5ZXJTdHJpbmcpOw0KICAgICAgICBOZXdCT1AobmV3Qk9QQWRkciwgcGF5ZXIsIGNvbW1pdFRocmVzaG9sZCwgZGVmYXVsdEFjdGlvbiwgZGVmYXVsdFRpbWVvdXRMZW5ndGgsIGluaXRpYWxQYXllclN0cmluZyk7DQogICAgICAgIHJldHVybiBuZXdCT1BBZGRyOw0KICAgIH0NCn0='