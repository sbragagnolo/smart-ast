base 64 content
base64burnableOpenPaymentFactory1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgQnVybmFibGVPcGVuUGF5bWVudCB7DQogICAgLy9CT1Agd2lsbCBzdGFydCB3aXRoIGEgcGF5ZXIgYnV0IG5vIHJlY2lwaWVudCAocmVjaXBpZW50PT0weDApDQogICAgYWRkcmVzcyBwdWJsaWMgcGF5ZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgcmVjaXBpZW50Ow0KICAgIGFkZHJlc3MgY29uc3RhbnQgYnVybkFkZHJlc3MgPSAweDA7DQogICAgDQogICAgLy9Ob3RlIHRoYXQgdGhlc2Ugd2lsbCB0cmFjaywgYnV0IG5vdCBpbmZsdWVuY2UgdGhlIEJPUCBsb2dpYy4NCiAgICB1aW50IHB1YmxpYyBhbW91bnREZXBvc2l0ZWQ7DQogICAgdWludCBwdWJsaWMgYW1vdW50QnVybmVkOw0KICAgIHVpbnQgcHVibGljIGFtb3VudFJlbGVhc2VkOw0KICAgIA0KICAgIC8vcGF5ZXJTdHJpbmcgYW5kIHJlY2lwaWVudFN0cmluZyBlbmFibGUgcnVkaW1lbnRhcnkgY29tbXVuaWNhdGlvbi9wdWJsaXNoaW5nLg0KICAgIC8vQWx0aG91Z2ggdGhlIHR3byBwYXJ0aWVzIG1pZ2h0IHF1aWNrbHkgbW92ZSB0byBhbm90aGVyIG1lZGl1bSB3aXRoIGJldHRlciBwcml2YWN5IG9yIGNvbnZlbmllbmNlLA0KICAgIC8vYmVnaW5uaW5nIHdpdGggdGhpcyBpcyBuaWNlIGJlY2F1c2UgaXQncyBhbHJlYWR5IHRydXN0bGVzcy90cmFuc3BhcmVudC9zaWduZWQvcHNldWRvbnltb3VzL2V0Yy4NCiAgICBzdHJpbmcgcHVibGljIHBheWVyU3RyaW5nOw0KICAgIHN0cmluZyBwdWJsaWMgcmVjaXBpZW50U3RyaW5nOw0KICAgIA0KICAgIC8vQW1vdW50IG9mIGV0aGVyIGEgcHJvc3BlY3RpdmUgcmVjaXBpZW50IG11c3QgcGF5IHRvIGJlY29tZSAocGVybWFuZW50bHkpIHRoZSByZWNpcGllbnQuIFNlZSBjb21taXQoKS4NCiAgICB1aW50IHB1YmxpYyBjb21taXRUaHJlc2hvbGQ7DQogICAgDQogICAgLy9XaGF0IGlmIHRoZSBwYXllciBmYWxscyBvZmYgdGhlIGZhY2Ugb2YgdGhlIHBsYW5ldD8NCiAgICAvL0EgQk9QIGlzIGluc3RhbnRpYXRlZCB3aXRoIGEgY2hvc2VuIGRlZmF1bHRBY3Rpb24sIGFuZCB0aGlzIGNhbm5vdCBiZSBjaGFuZ2VkLg0KICAgIGVudW0gRGVmYXVsdEFjdGlvbiB7Tm9uZSwgUmVsZWFzZSwgQnVybn0NCiAgICBEZWZhdWx0QWN0aW9uIHB1YmxpYyBkZWZhdWx0QWN0aW9uOw0KICAgIA0KICAgIC8vaWYgZGVmYXVsdEFjdGlvbiAhPSBOb25lLCBob3cgbG9uZyBzaG91bGQgd2Ugd2FpdCBiZWZvcmUgZ2l2aW5nIHVwPw0KICAgIC8vU2V0IGluIGNvbnN0cnVjdG9yOg0KICAgIHVpbnQgcHVibGljIGRlZmF1bHRUaW1lb3V0TGVuZ3RoOw0KICAgIA0KICAgIC8vQ2FsY3VsYXRlZCBmcm9tIGRlZmF1bHRUaW1lb3V0TGVuZ3RoIG9uIGEgc3VjY2Vzc2Z1bCByZWNpcGllbnQgY29tbWl0KCksDQogICAgLy9hcyB3ZWxsIGFzIHdoZW5ldmVyIHRoZSBwYXllciAob3IgcG9zc2libHkgdGhlIHJlY2lwaWVudCkgY2FsbHMgZGVsYXlEZWZhdWx0QWN0aW9uKCkNCiAgICB1aW50IHB1YmxpYyBkZWZhdWx0VHJpZ2dlclRpbWU7DQogICAgDQogICAgLy9Nb3N0IGFjdGlvbiBoYXBwZW5zIGluIHRoZSBDb21taXR0ZWQgc3RhdGUuDQogICAgZW51bSBTdGF0ZSB7T3BlbiwgQ29tbWl0dGVkLCBFeHBlbmRlZH0NCiAgICBTdGF0ZSBwdWJsaWMgc3RhdGU7DQogICAgLy9Ob3RlIHRoYXQgYSBCT1AgY2Fubm90IGdvIGZyb20gQ29tbWl0dGVkIGJhY2sgdG8gT3BlbiwgYnV0IGl0IGNhbiBnbyBmcm9tIEV4cGVuZGVkIGJhY2sgdG8gQ29tbWl0dGVkDQogICAgLy8odGhpcyB3b3VsZCByZXRhaW4gdGhlIGNvbW1pdHRlZCByZWNpcGllbnQpLiBTZWFyY2ggZm9yIEV4cGVuZGVkIGFuZCBVbmV4cGVuZGVkIGV2ZW50cyB0byBzZWUgaG93IHRoaXMgd29ya3MuDQogICAgDQogICAgbW9kaWZpZXIgaW5TdGF0ZShTdGF0ZSBzKSB7IGlmIChzICE9IHN0YXRlKSB0aHJvdzsgXzsgfQ0KICAgIG1vZGlmaWVyIG9ubHlQYXllcigpIHsgaWYgKG1zZy5zZW5kZXIgIT0gcGF5ZXIpIHRocm93OyBfOyB9DQogICAgbW9kaWZpZXIgb25seVJlY2lwaWVudCgpIHsgaWYgKG1zZy5zZW5kZXIgIT0gcmVjaXBpZW50KSB0aHJvdzsgXzsgfQ0KICAgIG1vZGlmaWVyIG9ubHlQYXllck9yUmVjaXBpZW50KCkgeyBpZiAoKG1zZy5zZW5kZXIgIT0gcGF5ZXIpICYmIChtc2cuc2VuZGVyICE9IHJlY2lwaWVudCkpIHRocm93OyBfOyB9DQogICAgDQogICAgZXZlbnQgRnVuZHNBZGRlZCh1aW50IGFtb3VudCk7Ly9UaGUgcGF5ZXIgaGFzIGFkZGVkIGZ1bmRzIHRvIHRoZSBCT1AuDQogICAgZXZlbnQgUGF5ZXJTdHJpbmdVcGRhdGVkKHN0cmluZyBuZXdQYXllclN0cmluZyk7DQogICAgZXZlbnQgUmVjaXBpZW50U3RyaW5nVXBkYXRlZChzdHJpbmcgbmV3UmVjaXBpZW50U3RyaW5nKTsNCiAgICBldmVudCBGdW5kc1JlY292ZXJlZCgpOw0KICAgIGV2ZW50IENvbW1pdHRlZChhZGRyZXNzIHJlY2lwaWVudCk7DQogICAgZXZlbnQgRnVuZHNCdXJuZWQodWludCBhbW91bnQpOw0KICAgIGV2ZW50IEZ1bmRzUmVsZWFzZWQodWludCBhbW91bnQpOw0KICAgIGV2ZW50IEV4cGVuZGVkKCk7DQogICAgZXZlbnQgVW5leHBlbmRlZCgpOw0KICAgIGV2ZW50IERlZmF1bHRBY3Rpb25EZWxheWVkKCk7DQogICAgZXZlbnQgRGVmYXVsdEFjdGlvbkNhbGxlZCgpOw0KICAgIA0KICAgIGZ1bmN0aW9uIEJ1cm5hYmxlT3BlblBheW1lbnQoYWRkcmVzcyBfcGF5ZXIsIHN0cmluZyBfcGF5ZXJTdHJpbmcsIHVpbnQgX2NvbW1pdFRocmVzaG9sZCwgRGVmYXVsdEFjdGlvbiBfZGVmYXVsdEFjdGlvbiwgdWludCBfZGVmYXVsdFRpbWVvdXRMZW5ndGgpDQogICAgcHVibGljDQogICAgcGF5YWJsZSB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKSB7DQogICAgICAgICAgICBGdW5kc0FkZGVkKG1zZy52YWx1ZSk7DQogICAgICAgICAgICBhbW91bnREZXBvc2l0ZWQgKz0gbXNnLnZhbHVlOw0KICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgc3RhdGUgPSBTdGF0ZS5PcGVuOw0KICAgICAgICBwYXllciA9IF9wYXllcjsNCiAgICAgICAgcGF5ZXJTdHJpbmcgPSBfcGF5ZXJTdHJpbmc7DQogICAgICAgIFBheWVyU3RyaW5nVXBkYXRlZChwYXllclN0cmluZyk7DQogICAgICAgIA0KICAgICAgICBjb21taXRUaHJlc2hvbGQgPSBfY29tbWl0VGhyZXNob2xkOw0KICAgICAgICANCiAgICAgICAgZGVmYXVsdEFjdGlvbiA9IF9kZWZhdWx0QWN0aW9uOw0KICAgICAgICBpZiAoZGVmYXVsdEFjdGlvbiAhPSBEZWZhdWx0QWN0aW9uLk5vbmUpIA0KICAgICAgICAgICAgZGVmYXVsdFRpbWVvdXRMZW5ndGggPSBfZGVmYXVsdFRpbWVvdXRMZW5ndGg7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGdldEZ1bGxTdGF0ZSgpDQogICAgcHVibGljDQogICAgY29uc3RhbnQNCiAgICByZXR1cm5zIChTdGF0ZSwgc3RyaW5nLCBhZGRyZXNzLCBzdHJpbmcsIHVpbnQsIHVpbnQsIHVpbnQsIHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIChzdGF0ZSwgcGF5ZXJTdHJpbmcsIHJlY2lwaWVudCwgcmVjaXBpZW50U3RyaW5nLCBhbW91bnREZXBvc2l0ZWQsIGFtb3VudEJ1cm5lZCwgYW1vdW50UmVsZWFzZWQsIGRlZmF1bHRUcmlnZ2VyVGltZSk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGFkZEZ1bmRzKCkNCiAgICBwdWJsaWMNCiAgICBvbmx5UGF5ZXIoKQ0KICAgIHBheWFibGUgew0KICAgICAgICBpZiAobXNnLnZhbHVlID09IDApIHRocm93Ow0KICAgICAgICANCiAgICAgICAgRnVuZHNBZGRlZChtc2cudmFsdWUpOw0KICAgICAgICBhbW91bnREZXBvc2l0ZWQgKz0gbXNnLnZhbHVlOw0KICAgICAgICBpZiAoc3RhdGUgPT0gU3RhdGUuRXhwZW5kZWQpIHsNCiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuQ29tbWl0dGVkOw0KICAgICAgICAgICAgVW5leHBlbmRlZCgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHJlY292ZXJGdW5kcygpDQogICAgcHVibGljDQogICAgb25seVBheWVyKCkNCiAgICBpblN0YXRlKFN0YXRlLk9wZW4pDQogICAgew0KICAgICAgICBGdW5kc1JlY292ZXJlZCgpOw0KICAgICAgICBzZWxmZGVzdHJ1Y3QocGF5ZXIpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjb21taXQoKQ0KICAgIHB1YmxpYw0KICAgIGluU3RhdGUoU3RhdGUuT3BlbikNCiAgICBwYXlhYmxlDQogICAgew0KICAgICAgICBpZiAobXNnLnZhbHVlIDwgY29tbWl0VGhyZXNob2xkKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKSB7DQogICAgICAgICAgICBGdW5kc0FkZGVkKG1zZy52YWx1ZSk7DQogICAgICAgICAgICBhbW91bnREZXBvc2l0ZWQgKz0gbXNnLnZhbHVlOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICByZWNpcGllbnQgPSBtc2cuc2VuZGVyOw0KICAgICAgICBzdGF0ZSA9IFN0YXRlLkNvbW1pdHRlZDsNCiAgICAgICAgQ29tbWl0dGVkKHJlY2lwaWVudCk7DQogICAgICAgIA0KICAgICAgICBpZiAoZGVmYXVsdEFjdGlvbiAhPSBEZWZhdWx0QWN0aW9uLk5vbmUpIHsNCiAgICAgICAgICAgIGRlZmF1bHRUcmlnZ2VyVGltZSA9IG5vdyArIGRlZmF1bHRUaW1lb3V0TGVuZ3RoOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGludGVybmFsQnVybih1aW50IGFtb3VudCkNCiAgICBwcml2YXRlDQogICAgaW5TdGF0ZShTdGF0ZS5Db21taXR0ZWQpDQogICAgcmV0dXJucyAoYm9vbCkNCiAgICB7DQogICAgICAgIGJvb2wgc3VjY2VzcyA9IGJ1cm5BZGRyZXNzLnNlbmQoYW1vdW50KTsNCiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIEZ1bmRzQnVybmVkKGFtb3VudCk7DQogICAgICAgICAgICBhbW91bnRCdXJuZWQgKz0gYW1vdW50Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHsNCiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuRXhwZW5kZWQ7DQogICAgICAgICAgICBFeHBlbmRlZCgpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICByZXR1cm4gc3VjY2VzczsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gYnVybih1aW50IGFtb3VudCkNCiAgICBwdWJsaWMNCiAgICBpblN0YXRlKFN0YXRlLkNvbW1pdHRlZCkNCiAgICBvbmx5UGF5ZXIoKQ0KICAgIHJldHVybnMgKGJvb2wpDQogICAgew0KICAgICAgICByZXR1cm4gaW50ZXJuYWxCdXJuKGFtb3VudCk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGludGVybmFsUmVsZWFzZSh1aW50IGFtb3VudCkNCiAgICBwcml2YXRlDQogICAgaW5TdGF0ZShTdGF0ZS5Db21taXR0ZWQpDQogICAgcmV0dXJucyAoYm9vbCkNCiAgICB7DQogICAgICAgIGJvb2wgc3VjY2VzcyA9IHJlY2lwaWVudC5zZW5kKGFtb3VudCk7DQogICAgICAgIGlmIChzdWNjZXNzKSB7DQogICAgICAgICAgICBGdW5kc1JlbGVhc2VkKGFtb3VudCk7DQogICAgICAgICAgICBhbW91bnRSZWxlYXNlZCArPSBhbW91bnQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPT0gMCkgew0KICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5FeHBlbmRlZDsNCiAgICAgICAgICAgIEV4cGVuZGVkKCk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHJlbGVhc2UodWludCBhbW91bnQpDQogICAgcHVibGljDQogICAgaW5TdGF0ZShTdGF0ZS5Db21taXR0ZWQpDQogICAgb25seVBheWVyKCkNCiAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGludGVybmFsUmVsZWFzZShhbW91bnQpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBzZXRQYXllclN0cmluZyhzdHJpbmcgX3N0cmluZykNCiAgICBwdWJsaWMNCiAgICBvbmx5UGF5ZXIoKQ0KICAgIHsNCiAgICAgICAgcGF5ZXJTdHJpbmcgPSBfc3RyaW5nOw0KICAgICAgICBQYXllclN0cmluZ1VwZGF0ZWQocGF5ZXJTdHJpbmcpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBzZXRSZWNpcGllbnRTdHJpbmcoc3RyaW5nIF9zdHJpbmcpDQogICAgcHVibGljDQogICAgb25seVJlY2lwaWVudCgpDQogICAgew0KICAgICAgICByZWNpcGllbnRTdHJpbmcgPSBfc3RyaW5nOw0KICAgICAgICBSZWNpcGllbnRTdHJpbmdVcGRhdGVkKHJlY2lwaWVudFN0cmluZyk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGRlbGF5RGVmYXVsdEFjdGlvbigpDQogICAgcHVibGljDQogICAgb25seVBheWVyT3JSZWNpcGllbnQoKQ0KICAgIGluU3RhdGUoU3RhdGUuQ29tbWl0dGVkKQ0KICAgIHsNCiAgICAgICAgaWYgKGRlZmF1bHRBY3Rpb24gPT0gRGVmYXVsdEFjdGlvbi5Ob25lKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIERlZmF1bHRBY3Rpb25EZWxheWVkKCk7DQogICAgICAgIGRlZmF1bHRUcmlnZ2VyVGltZSA9IG5vdyArIGRlZmF1bHRUaW1lb3V0TGVuZ3RoOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjYWxsRGVmYXVsdEFjdGlvbigpDQogICAgcHVibGljDQogICAgb25seVBheWVyT3JSZWNpcGllbnQoKQ0KICAgIGluU3RhdGUoU3RhdGUuQ29tbWl0dGVkKQ0KICAgIHsNCiAgICAgICAgaWYgKGRlZmF1bHRBY3Rpb24gPT0gRGVmYXVsdEFjdGlvbi5Ob25lKSB0aHJvdzsNCiAgICAgICAgaWYgKG5vdyA8IGRlZmF1bHRUcmlnZ2VyVGltZSkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBEZWZhdWx0QWN0aW9uQ2FsbGVkKCk7DQogICAgICAgIGlmIChkZWZhdWx0QWN0aW9uID09IERlZmF1bHRBY3Rpb24uQnVybikgew0KICAgICAgICAgICAgaW50ZXJuYWxCdXJuKHRoaXMuYmFsYW5jZSk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoZGVmYXVsdEFjdGlvbiA9PSBEZWZhdWx0QWN0aW9uLlJlbGVhc2UpIHsNCiAgICAgICAgICAgIGludGVybmFsUmVsZWFzZSh0aGlzLmJhbGFuY2UpOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpjb250cmFjdCBCdXJuYWJsZU9wZW5QYXltZW50RmFjdG9yeSB7DQogICAgZXZlbnQgTmV3Qk9QKGFkZHJlc3MgbmV3Qk9QQWRkcmVzcyk7DQogICAgDQogICAgZnVuY3Rpb24gbmV3QnVybmFibGVPcGVuUGF5bWVudChhZGRyZXNzIHBheWVyLCBzdHJpbmcgcGF5ZXJTdHJpbmcsIHVpbnQgY29tbWl0VGhyZXNob2xkLCBCdXJuYWJsZU9wZW5QYXltZW50LkRlZmF1bHRBY3Rpb24gZGVmYXVsdEFjdGlvbiwgdWludCBkZWZhdWx0VGltZW91dExlbmd0aCkNCiAgICBwdWJsaWMNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYWRkcmVzcykgew0KICAgICAgICAvL3Bhc3MgYWxvbmcgYW55IGV0aGVyIHRvIHRoZSBjb25zdHJ1Y3Rvcg0KICAgICAgICBhZGRyZXNzIG5ld0JPUEFkZHIgPSAobmV3IEJ1cm5hYmxlT3BlblBheW1lbnQpLnZhbHVlKG1zZy52YWx1ZSkocGF5ZXIsIHBheWVyU3RyaW5nLCBjb21taXRUaHJlc2hvbGQsIGRlZmF1bHRBY3Rpb24sIGRlZmF1bHRUaW1lb3V0TGVuZ3RoKTsNCiAgICAgICAgTmV3Qk9QKG5ld0JPUEFkZHIpOw0KICAgICAgICByZXR1cm4gbmV3Qk9QQWRkcjsNCiAgICB9DQp9'