base 64 content
base64burnableOpenPaymentFactory2
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgQnVybmFibGVPcGVuUGF5bWVudCB7DQogICAgLy9CT1Agd2lsbCBzdGFydCB3aXRoIGEgcGF5ZXIgYnV0IG5vIHJlY2lwaWVudCAocmVjaXBpZW50PT0weDApDQogICAgYWRkcmVzcyBwdWJsaWMgcGF5ZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgcmVjaXBpZW50Ow0KICAgIGFkZHJlc3MgY29uc3RhbnQgYnVybkFkZHJlc3MgPSAweDA7DQogICAgDQogICAgLy9Ob3RlIHRoYXQgdGhlc2Ugd2lsbCB0cmFjaywgYnV0IG5vdCBpbmZsdWVuY2UgdGhlIEJPUCBsb2dpYy4NCiAgICB1aW50IHB1YmxpYyBhbW91bnREZXBvc2l0ZWQ7DQogICAgdWludCBwdWJsaWMgYW1vdW50QnVybmVkOw0KICAgIHVpbnQgcHVibGljIGFtb3VudFJlbGVhc2VkOw0KICAgIA0KICAgIC8vcGF5ZXJTdHJpbmcgYW5kIHJlY2lwaWVudFN0cmluZyBlbmFibGUgcnVkaW1lbnRhcnkgY29tbXVuaWNhdGlvbi9wdWJsaXNoaW5nLg0KICAgIC8vQWx0aG91Z2ggdGhlIHR3byBwYXJ0aWVzIG1pZ2h0IHF1aWNrbHkgbW92ZSB0byBhbm90aGVyIG1lZGl1bSB3aXRoIGJldHRlciBwcml2YWN5IG9yIGNvbnZlbmllbmNlLA0KICAgIC8vYmVnaW5uaW5nIHdpdGggdGhpcyBpcyBuaWNlIGJlY2F1c2UgaXQncyBhbHJlYWR5IHRydXN0bGVzcy90cmFuc3BhcmVudC9zaWduZWQvcHNldWRvbnltb3VzL2V0Yy4NCiAgICBzdHJpbmcgcHVibGljIHBheWVyU3RyaW5nOw0KICAgIHN0cmluZyBwdWJsaWMgcmVjaXBpZW50U3RyaW5nOw0KICAgIA0KICAgIC8vQW1vdW50IG9mIGV0aGVyIGEgcHJvc3BlY3RpdmUgcmVjaXBpZW50IG11c3QgcGF5IHRvIGJlY29tZSAocGVybWFuZW50bHkpIHRoZSByZWNpcGllbnQuIFNlZSBjb21taXQoKS4NCiAgICB1aW50IHB1YmxpYyBjb21taXRUaHJlc2hvbGQ7DQogICAgDQogICAgLy9XaGF0IGlmIHRoZSBwYXllciBmYWxscyBvZmYgdGhlIGZhY2Ugb2YgdGhlIHBsYW5ldD8NCiAgICAvL0EgQk9QIGlzIGluc3RhbnRpYXRlZCB3aXRoIGEgY2hvc2VuIGRlZmF1bHRBY3Rpb24sIGFuZCB0aGlzIGNhbm5vdCBiZSBjaGFuZ2VkLg0KICAgIGVudW0gRGVmYXVsdEFjdGlvbiB7Tm9uZSwgUmVsZWFzZSwgQnVybn0NCiAgICBEZWZhdWx0QWN0aW9uIHB1YmxpYyBkZWZhdWx0QWN0aW9uOw0KICAgIA0KICAgIC8vaWYgZGVmYXVsdEFjdGlvbiAhPSBOb25lLCBob3cgbG9uZyBzaG91bGQgd2Ugd2FpdCBiZWZvcmUgZ2l2aW5nIHVwPw0KICAgIC8vU2V0IGluIGNvbnN0cnVjdG9yOg0KICAgIHVpbnQgcHVibGljIGRlZmF1bHRUaW1lb3V0TGVuZ3RoOw0KICAgIA0KICAgIC8vQ2FsY3VsYXRlZCBmcm9tIGRlZmF1bHRUaW1lb3V0TGVuZ3RoIG9uIGEgc3VjY2Vzc2Z1bCByZWNpcGllbnQgY29tbWl0KCksDQogICAgLy9hcyB3ZWxsIGFzIHdoZW5ldmVyIHRoZSBwYXllciAob3IgcG9zc2libHkgdGhlIHJlY2lwaWVudCkgY2FsbHMgZGVsYXlEZWZhdWx0QWN0aW9uKCkNCiAgICB1aW50IHB1YmxpYyBkZWZhdWx0VHJpZ2dlclRpbWU7DQogICAgDQogICAgLy9Nb3N0IGFjdGlvbiBoYXBwZW5zIGluIHRoZSBDb21taXR0ZWQgc3RhdGUuDQogICAgZW51bSBTdGF0ZSB7T3BlbiwgQ29tbWl0dGVkLCBFeHBlbmRlZH0NCiAgICBTdGF0ZSBwdWJsaWMgc3RhdGU7DQogICAgLy9Ob3RlIHRoYXQgYSBCT1AgY2Fubm90IGdvIGZyb20gQ29tbWl0dGVkIGJhY2sgdG8gT3BlbiwgYnV0IGl0IGNhbiBnbyBmcm9tIEV4cGVuZGVkIGJhY2sgdG8gQ29tbWl0dGVkDQogICAgLy8odGhpcyB3b3VsZCByZXRhaW4gdGhlIGNvbW1pdHRlZCByZWNpcGllbnQpLiBTZWFyY2ggZm9yIEV4cGVuZGVkIGFuZCBVbmV4cGVuZGVkIGV2ZW50cyB0byBzZWUgaG93IHRoaXMgd29ya3MuDQogICAgDQogICAgbW9kaWZpZXIgaW5TdGF0ZShTdGF0ZSBzKSB7IGlmIChzICE9IHN0YXRlKSB0aHJvdzsgXzsgfQ0KICAgIG1vZGlmaWVyIG9ubHlQYXllcigpIHsgaWYgKG1zZy5zZW5kZXIgIT0gcGF5ZXIpIHRocm93OyBfOyB9DQogICAgbW9kaWZpZXIgb25seVJlY2lwaWVudCgpIHsgaWYgKG1zZy5zZW5kZXIgIT0gcmVjaXBpZW50KSB0aHJvdzsgXzsgfQ0KICAgIG1vZGlmaWVyIG9ubHlQYXllck9yUmVjaXBpZW50KCkgeyBpZiAoKG1zZy5zZW5kZXIgIT0gcGF5ZXIpICYmIChtc2cuc2VuZGVyICE9IHJlY2lwaWVudCkpIHRocm93OyBfOyB9DQogICAgDQogICAgZXZlbnQgRnVuZHNBZGRlZCh1aW50IGFtb3VudCk7Ly9UaGUgcGF5ZXIgaGFzIGFkZGVkIGZ1bmRzIHRvIHRoZSBCT1AuDQogICAgZXZlbnQgUGF5ZXJTdHJpbmdVcGRhdGVkKHN0cmluZyBuZXdQYXllclN0cmluZyk7DQogICAgZXZlbnQgUmVjaXBpZW50U3RyaW5nVXBkYXRlZChzdHJpbmcgbmV3UmVjaXBpZW50U3RyaW5nKTsNCiAgICBldmVudCBGdW5kc1JlY292ZXJlZCgpOw0KICAgIGV2ZW50IENvbW1pdHRlZChhZGRyZXNzIHJlY2lwaWVudCk7DQogICAgZXZlbnQgRnVuZHNCdXJuZWQodWludCBhbW91bnQpOw0KICAgIGV2ZW50IEZ1bmRzUmVsZWFzZWQodWludCBhbW91bnQpOw0KICAgIGV2ZW50IEV4cGVuZGVkKCk7DQogICAgZXZlbnQgVW5leHBlbmRlZCgpOw0KICAgIGV2ZW50IERlZmF1bHRBY3Rpb25EZWxheWVkKCk7DQogICAgZXZlbnQgRGVmYXVsdEFjdGlvbkNhbGxlZCgpOw0KICAgIA0KICAgIGZ1bmN0aW9uIEJ1cm5hYmxlT3BlblBheW1lbnQoYWRkcmVzcyBfcGF5ZXIsIHN0cmluZyBfcGF5ZXJTdHJpbmcsIHVpbnQgX2NvbW1pdFRocmVzaG9sZCwgRGVmYXVsdEFjdGlvbiBfZGVmYXVsdEFjdGlvbiwgdWludCBfZGVmYXVsdFRpbWVvdXRMZW5ndGgpDQogICAgcHVibGljDQogICAgcGF5YWJsZSB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKSB7DQogICAgICAgICAgICBGdW5kc0FkZGVkKG1zZy52YWx1ZSk7DQogICAgICAgICAgICBhbW91bnREZXBvc2l0ZWQgKz0gbXNnLnZhbHVlOw0KICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgc3RhdGUgPSBTdGF0ZS5PcGVuOw0KICAgICAgICBwYXllciA9IF9wYXllcjsNCiAgICAgICAgcGF5ZXJTdHJpbmcgPSBfcGF5ZXJTdHJpbmc7DQogICAgICAgIFBheWVyU3RyaW5nVXBkYXRlZChwYXllclN0cmluZyk7DQogICAgICAgIA0KICAgICAgICBjb21taXRUaHJlc2hvbGQgPSBfY29tbWl0VGhyZXNob2xkOw0KICAgICAgICANCiAgICAgICAgZGVmYXVsdEFjdGlvbiA9IF9kZWZhdWx0QWN0aW9uOw0KICAgICAgICBpZiAoZGVmYXVsdEFjdGlvbiAhPSBEZWZhdWx0QWN0aW9uLk5vbmUpIA0KICAgICAgICAgICAgZGVmYXVsdFRpbWVvdXRMZW5ndGggPSBfZGVmYXVsdFRpbWVvdXRMZW5ndGg7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGdldEZ1bGxTdGF0ZSgpDQogICAgcHVibGljIA0KICAgIHJldHVybnMgKFN0YXRlLCBzdHJpbmcsIGFkZHJlc3MsIHN0cmluZywgdWludCwgdWludCwgdWludCwgdWludCkgew0KICAgICAgICByZXR1cm4gKHN0YXRlLCBwYXllclN0cmluZywgcmVjaXBpZW50LCByZWNpcGllbnRTdHJpbmcsIGFtb3VudERlcG9zaXRlZCwgYW1vdW50QnVybmVkLCBhbW91bnRSZWxlYXNlZCwgZGVmYXVsdFRyaWdnZXJUaW1lKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gYWRkRnVuZHMoKQ0KICAgIHB1YmxpYw0KICAgIG9ubHlQYXllcigpDQogICAgcGF5YWJsZSB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPT0gMCkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBGdW5kc0FkZGVkKG1zZy52YWx1ZSk7DQogICAgICAgIGFtb3VudERlcG9zaXRlZCArPSBtc2cudmFsdWU7DQogICAgICAgIGlmIChzdGF0ZSA9PSBTdGF0ZS5FeHBlbmRlZCkgew0KICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5Db21taXR0ZWQ7DQogICAgICAgICAgICBVbmV4cGVuZGVkKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gcmVjb3ZlckZ1bmRzKCkNCiAgICBwdWJsaWMNCiAgICBvbmx5UGF5ZXIoKQ0KICAgIGluU3RhdGUoU3RhdGUuT3BlbikNCiAgICB7DQogICAgICAgIEZ1bmRzUmVjb3ZlcmVkKCk7DQogICAgICAgIHNlbGZkZXN0cnVjdChwYXllcik7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGNvbW1pdCgpDQogICAgcHVibGljDQogICAgaW5TdGF0ZShTdGF0ZS5PcGVuKQ0KICAgIHBheWFibGUNCiAgICB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPCBjb21taXRUaHJlc2hvbGQpIHRocm93Ow0KICAgICAgICANCiAgICAgICAgaWYgKG1zZy52YWx1ZSA+IDApIHsNCiAgICAgICAgICAgIEZ1bmRzQWRkZWQobXNnLnZhbHVlKTsNCiAgICAgICAgICAgIGFtb3VudERlcG9zaXRlZCArPSBtc2cudmFsdWU7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHJlY2lwaWVudCA9IG1zZy5zZW5kZXI7DQogICAgICAgIHN0YXRlID0gU3RhdGUuQ29tbWl0dGVkOw0KICAgICAgICBDb21taXR0ZWQocmVjaXBpZW50KTsNCiAgICAgICAgDQogICAgICAgIGlmIChkZWZhdWx0QWN0aW9uICE9IERlZmF1bHRBY3Rpb24uTm9uZSkgew0KICAgICAgICAgICAgZGVmYXVsdFRyaWdnZXJUaW1lID0gbm93ICsgZGVmYXVsdFRpbWVvdXRMZW5ndGg7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gaW50ZXJuYWxCdXJuKHVpbnQgYW1vdW50KQ0KICAgIHByaXZhdGUNCiAgICBpblN0YXRlKFN0YXRlLkNvbW1pdHRlZCkNCiAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgYm9vbCBzdWNjZXNzID0gYnVybkFkZHJlc3Muc2VuZChhbW91bnQpOw0KICAgICAgICBpZiAoc3VjY2Vzcykgew0KICAgICAgICAgICAgRnVuZHNCdXJuZWQoYW1vdW50KTsNCiAgICAgICAgICAgIGFtb3VudEJ1cm5lZCArPSBhbW91bnQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPT0gMCkgew0KICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5FeHBlbmRlZDsNCiAgICAgICAgICAgIEV4cGVuZGVkKCk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHJldHVybiBzdWNjZXNzOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBidXJuKHVpbnQgYW1vdW50KQ0KICAgIHB1YmxpYw0KICAgIGluU3RhdGUoU3RhdGUuQ29tbWl0dGVkKQ0KICAgIG9ubHlQYXllcigpDQogICAgcmV0dXJucyAoYm9vbCkNCiAgICB7DQogICAgICAgIHJldHVybiBpbnRlcm5hbEJ1cm4oYW1vdW50KTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gaW50ZXJuYWxSZWxlYXNlKHVpbnQgYW1vdW50KQ0KICAgIHByaXZhdGUNCiAgICBpblN0YXRlKFN0YXRlLkNvbW1pdHRlZCkNCiAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgYm9vbCBzdWNjZXNzID0gcmVjaXBpZW50LnNlbmQoYW1vdW50KTsNCiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIEZ1bmRzUmVsZWFzZWQoYW1vdW50KTsNCiAgICAgICAgICAgIGFtb3VudFJlbGVhc2VkICs9IGFtb3VudDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA9PSAwKSB7DQogICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLkV4cGVuZGVkOw0KICAgICAgICAgICAgRXhwZW5kZWQoKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc3VjY2VzczsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gcmVsZWFzZSh1aW50IGFtb3VudCkNCiAgICBwdWJsaWMNCiAgICBpblN0YXRlKFN0YXRlLkNvbW1pdHRlZCkNCiAgICBvbmx5UGF5ZXIoKQ0KICAgIHJldHVybnMgKGJvb2wpDQogICAgew0KICAgICAgICByZXR1cm4gaW50ZXJuYWxSZWxlYXNlKGFtb3VudCk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHNldFBheWVyU3RyaW5nKHN0cmluZyBfc3RyaW5nKQ0KICAgIHB1YmxpYw0KICAgIG9ubHlQYXllcigpDQogICAgew0KICAgICAgICBwYXllclN0cmluZyA9IF9zdHJpbmc7DQogICAgICAgIFBheWVyU3RyaW5nVXBkYXRlZChwYXllclN0cmluZyk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHNldFJlY2lwaWVudFN0cmluZyhzdHJpbmcgX3N0cmluZykNCiAgICBwdWJsaWMNCiAgICBvbmx5UmVjaXBpZW50KCkNCiAgICB7DQogICAgICAgIHJlY2lwaWVudFN0cmluZyA9IF9zdHJpbmc7DQogICAgICAgIFJlY2lwaWVudFN0cmluZ1VwZGF0ZWQocmVjaXBpZW50U3RyaW5nKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZGVsYXlEZWZhdWx0QWN0aW9uKCkNCiAgICBwdWJsaWMNCiAgICBvbmx5UGF5ZXJPclJlY2lwaWVudCgpDQogICAgaW5TdGF0ZShTdGF0ZS5Db21taXR0ZWQpDQogICAgew0KICAgICAgICBpZiAoZGVmYXVsdEFjdGlvbiA9PSBEZWZhdWx0QWN0aW9uLk5vbmUpIHRocm93Ow0KICAgICAgICANCiAgICAgICAgRGVmYXVsdEFjdGlvbkRlbGF5ZWQoKTsNCiAgICAgICAgZGVmYXVsdFRyaWdnZXJUaW1lID0gbm93ICsgZGVmYXVsdFRpbWVvdXRMZW5ndGg7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGNhbGxEZWZhdWx0QWN0aW9uKCkNCiAgICBwdWJsaWMNCiAgICBvbmx5UGF5ZXJPclJlY2lwaWVudCgpDQogICAgaW5TdGF0ZShTdGF0ZS5Db21taXR0ZWQpDQogICAgew0KICAgICAgICBpZiAoZGVmYXVsdEFjdGlvbiA9PSBEZWZhdWx0QWN0aW9uLk5vbmUpIHRocm93Ow0KICAgICAgICBpZiAobm93IDwgZGVmYXVsdFRyaWdnZXJUaW1lKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIERlZmF1bHRBY3Rpb25DYWxsZWQoKTsNCiAgICAgICAgaWYgKGRlZmF1bHRBY3Rpb24gPT0gRGVmYXVsdEFjdGlvbi5CdXJuKSB7DQogICAgICAgICAgICBpbnRlcm5hbEJ1cm4odGhpcy5iYWxhbmNlKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChkZWZhdWx0QWN0aW9uID09IERlZmF1bHRBY3Rpb24uUmVsZWFzZSkgew0KICAgICAgICAgICAgaW50ZXJuYWxSZWxlYXNlKHRoaXMuYmFsYW5jZSk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmNvbnRyYWN0IEJ1cm5hYmxlT3BlblBheW1lbnRGYWN0b3J5IHsNCiAgICBldmVudCBOZXdCT1AoYWRkcmVzcyBuZXdCT1BBZGRyZXNzKTsNCiAgICANCiAgICBmdW5jdGlvbiBuZXdCdXJuYWJsZU9wZW5QYXltZW50KGFkZHJlc3MgcGF5ZXIsIHN0cmluZyBwYXllclN0cmluZywgdWludCBjb21taXRUaHJlc2hvbGQsIEJ1cm5hYmxlT3BlblBheW1lbnQuRGVmYXVsdEFjdGlvbiBkZWZhdWx0QWN0aW9uLCB1aW50IGRlZmF1bHRUaW1lb3V0TGVuZ3RoKQ0KICAgIHB1YmxpYw0KICAgIHBheWFibGUNCiAgICByZXR1cm5zIChhZGRyZXNzKSB7DQogICAgICAgIC8vcGFzcyBhbG9uZyBhbnkgZXRoZXIgdG8gdGhlIGNvbnN0cnVjdG9yDQogICAgICAgIGFkZHJlc3MgbmV3Qk9QQWRkciA9IChuZXcgQnVybmFibGVPcGVuUGF5bWVudCkudmFsdWUobXNnLnZhbHVlKShwYXllciwgcGF5ZXJTdHJpbmcsIGNvbW1pdFRocmVzaG9sZCwgZGVmYXVsdEFjdGlvbiwgZGVmYXVsdFRpbWVvdXRMZW5ndGgpOw0KICAgICAgICBOZXdCT1AobmV3Qk9QQWRkcik7DQogICAgICAgIHJldHVybiBuZXdCT1BBZGRyOw0KICAgIH0NCn0='