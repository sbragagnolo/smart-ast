base 64 content
base64campaign3
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQovLyBBYnN0cmFjdCBjb250cmFjdCBmb3IgdGhlIGZ1bGwgRVJDIDIwIFRva2VuIHN0YW5kYXJkDQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCg0KY29udHJhY3QgVG9rZW4gew0KICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLg0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOw0KICAgIGlzIHJlcGxhY2VkIHdpdGg6DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQogICAgVGhpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSB0b3RhbFN1cHBseS4NCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QNCiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QNCiAgICBmdW5jdGlvbiBieSB0aGUgY29tcGlsZXIuDQogICAgKi8NCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2Vucw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZA0KICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOw0KDQogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYA0KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkDQogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gDQogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyDQogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudA0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQNCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfYWRkcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zDQogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXINCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zDQogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudA0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOw0KDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCi8vRmlsZTogL1VzZXJzL2piYXlsaW5hL2dpdC9NVlAvU3RhbmRhcmRUb2tlbi5zb2wNCnByYWdtYSBzb2xpZGl0eSBeMC40LjQ7DQovKg0KWW91IHNob3VsZCBpbmhlcml0IGZyb20gU3RhbmRhcmRUb2tlbiBvciwgZm9yIGEgdG9rZW4gbGlrZSB5b3Ugd291bGQgd2FudCB0bw0KZGVwbG95IGluIHNvbWV0aGluZyBsaWtlIE1pc3QsIHNlZSBIdW1hblN0YW5kYXJkVG9rZW4uc29sLg0KKFRoaXMgaW1wbGVtZW50cyBPTkxZIHRoZSBzdGFuZGFyZCBmdW5jdGlvbnMgYW5kIE5PVEhJTkcgZWxzZS4NCklmIHlvdSBkZXBsb3kgdGhpcywgeW91IHdvbid0IGhhdmUgYW55dGhpbmcgdXNlZnVsLikNCg0KSW1wbGVtZW50cyBFUkMgMjAgVG9rZW4gc3RhbmRhcmQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMA0KLiovDQoNCg0KDQpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsNCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLg0KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUNCiAgICAgICAgLy9nb2VzIG9uLCB5b3UgbmVlZCB0byBjaGVjayBpZiBpdCBkb2Vzbid0IHdyYXAuDQogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLg0KICAgICAgICAvL2lmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsNCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLg0KICAgICAgICAvL2lmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgew0KICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgew0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7DQogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCn0NCg0KLy9GaWxlOiAvVXNlcnMvamJheWxpbmEvZ2l0L01WUC9IdW1hblN0YW5kYXJkVG9rZW4uc29sDQpwcmFnbWEgc29saWRpdHkgXjAuNC40Ow0KDQovKg0KVGhpcyBUb2tlbiBDb250cmFjdCBpbXBsZW1lbnRzIHRoZSBzdGFuZGFyZCB0b2tlbiBmdW5jdGlvbmFsaXR5DQooaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwKSBhcyB3ZWxsIGFzIHRoZSBmb2xsb3dpbmcgT1BUSU9OQUwNCmV4dHJhcyBpbnRlbmRlZCBmb3IgdXNlIGJ5IGh1bWFucy4NCg0KSW4gb3RoZXIgd29yZHMuIFRoaXMgaXMgaW50ZW5kZWQgZm9yIGRlcGxveW1lbnQgaW4gc29tZXRoaW5nIGxpa2UgYSBUb2tlbg0KRmFjdG9yeSBvciBNaXN0IHdhbGxldCwgYW5kIHRoZW4gdXNlZCBieSBodW1hbnMuDQpJbWFnaW5lIGNvaW5zLCBjdXJyZW5jaWVzLCBzaGFyZXMsIHZvdGluZyB3ZWlnaHQsIGV0Yy4NCk1hY2hpbmUtYmFzZWQsIHJhcGlkIGNyZWF0aW9uIG9mIG1hbnkgdG9rZW5zIHdvdWxkIG5vdCBuZWNlc3NhcmlseSBuZWVkIHRoZXNlDQpleHRyYSBmZWF0dXJlcyBvciB3aWxsIGJlIG1pbnRlZCBpbiBvdGhlciBtYW5uZXJzLg0KDQoxKSBJbml0aWFsIEZpbml0ZSBTdXBwbHkgKHVwb24gY3JlYXRpb24gb25lIHNwZWNpZmllcyBob3cgbXVjaCBpcyBtaW50ZWQpLg0KMikgSW4gdGhlIGFic2VuY2Ugb2YgYSB0b2tlbiByZWdpc3RyeTogT3B0aW9uYWwgRGVjaW1hbCwgU3ltYm9sICYgTmFtZS4NCjMpIE9wdGlvbmFsIGFwcHJvdmVBbmRDYWxsKCkgZnVuY3Rpb25hbGl0eSB0byBub3RpZnkgYSBjb250cmFjdCBpZiBhbiBhcHByb3ZhbCgpDQpoYXMgb2NjdXJyZWQuDQoNCiovDQoNCg0KDQpjb250cmFjdCBIdW1hblN0YW5kYXJkVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7DQoNCiAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgIC8vaWYgZXRoZXIgaXMgc2VudCB0byB0aGlzIGFkZHJlc3MsIHNlbmQgaXQgYmFjay4NCiAgICAgICAgdGhyb3c7DQogICAgfQ0KDQogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8NCg0KICAgIC8qDQogICAgTk9URToNCiAgICBUaGUgZm9sbG93aW5nIHZhcmlhYmxlcyBhcmUgT1BUSU9OQUwgdmFuaXRpZXMuIE9uZSBkb2VzIG5vdCBoYXZlIHRvIGluY2x1ZGUNCiAgICB0aGVtLg0KICAgIFRoZXkgYWxsb3cgb25lIHRvIGN1c3RvbWlzZSB0aGUgdG9rZW4gY29udHJhY3QgJiBpbiBubyB3YXkgaW5mbHVlbmNlcyB0aGUNCiAgICBjb3JlIGZ1bmN0aW9uYWxpdHkuDQogICAgU29tZSB3YWxsZXRzL2ludGVyZmFjZXMgbWlnaHQgbm90IGV2ZW4gYm90aGVyIHRvIGxvb2sgYXQgdGhpcyBpbmZvcm1hdGlvbi4NCiAgICAqLw0KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgICAgLy9mYW5jeSBuYW1lOiBlZyBTaW1vbiBCdWNrcw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsgICAgICAgICAgICAgICAgLy9Ib3cgbWFueSBkZWNpbWFscyB0byBzaG93Lg0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOyAgICAgICAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlZyBTQlgNCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnSDAuMSc7ICAgICAgIC8vQW4gYXJiaXRyYXJ5IHZlcnNpb25pbmcgc2NoZW1lLg0KDQogICAgZnVuY3Rpb24gSHVtYW5TdGFuZGFyZFRva2VuKA0KICAgICAgICB1aW50MjU2IF9pbml0aWFsQW1vdW50LA0KICAgICAgICBzdHJpbmcgX3Rva2VuTmFtZSwNCiAgICAgICAgdWludDggX2RlY2ltYWxVbml0cywNCiAgICAgICAgc3RyaW5nIF90b2tlblN5bWJvbA0KICAgICAgICApIHsNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfaW5pdGlhbEFtb3VudDsgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMNCiAgICAgICAgdG90YWxTdXBwbHkgPSBfaW5pdGlhbEFtb3VudDsgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQ0KICAgICAgICBuYW1lID0gX3Rva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMNCiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzDQogICAgICAgIHN5bWJvbCA9IF90b2tlblN5bWJvbDsgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzDQogICAgfQ0KLyoNCiAgICAvICogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdCAqIC8NCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCg0KICAgICAgICAvL2NhbGwgdGhlIHJlY2VpdmVBcHByb3ZhbCBmdW5jdGlvbiBvbiB0aGUgY29udHJhY3QgeW91IHdhbnQgdG8gYmUNCiAgICAgICAgLy9ub3RpZmllZC4gVGhpcyBjcmFmdHMgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBtYW51YWxseSBzbyBvbmUgZG9lc24ndA0KICAgICAgICAvL2hhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4NCiAgICAgICAgLy9yZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGJ5dGVzIF9leHRyYURhdGEpDQogICAgICAgIC8vaXQgaXMgYXNzdW1lZCB0aGF0IHdoZW4gZG9lcyB0aGlzIHRoYXQgdGhlIGNhbGwgKnNob3VsZCogc3VjY2VlZCwNCiAgICAgICAgLy9vdGhlcndpc2Ugb25lIHdvdWxkIHVzZSB2YW5pbGxhIGFwcHJvdmUgaW5zdGVhZC4NCiAgICAgICAgaWYoIV9zcGVuZGVyLmNhbGwoDQogICAgICAgIGJ5dGVzNChieXRlczMyKHNoYTMoInJlY2VpdmVBcHByb3ZhbChhZGRyZXNzLHVpbnQyNTYsYWRkcmVzcyxieXRlcykiKSkpLA0KICAgICAgICBtc2cuc2VuZGVyLA0KICAgICAgICBfdmFsdWUsDQogICAgICAgIHRoaXMsDQogICAgICAgIF9leHRyYURhdGEpKSB7IHRocm93OyB9DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiovDQp9DQoNCi8vRmlsZTogL1VzZXJzL2piYXlsaW5hL2dpdC9NVlAvQ2FtcGFpZ25Ub2tlbi5zb2wNCnByYWdtYSBzb2xpZGl0eSBeMC40LjQ7DQoNCg0KDQovLy8gQHRpdGxlIENhbXBhaWduVG9rZW4gQ29udHJhY3QNCi8vLyBAYXV0aG9yIEpvcmRpIEJheWxpbmENCi8vLyBAZGV2IFRoaXMgdG9rZW4gY29udHJhY3QgaXMgYSBjbG9uZSBvZiBDb25zZW5TeXMncyBIdW1hblN0YW5kYXJkVG9rZW4gd2l0aA0KLy8vIHRoZSBhcHByb3ZlQW5kQ2FsbCBmdW5jdGlvbiBvbWl0dGVkOyBpdCBpcyBFUkMgMjAgY29tcGxpYW50Lg0KDQpjb250cmFjdCBDYW1wYWlnblRva2VuIGlzIEh1bWFuU3RhbmRhcmRUb2tlbiB7DQoNCi8vLyBAZGV2IFRoZSB0b2tlbkNvbnRyb2xsZXIgaXMgdGhlIGFkZHJlc3MgdGhhdCBkZXBsb3llZCB0aGUgQ2FtcGFpZ25Ub2tlbiwgZm9yIHRoaXMNCi8vLyB0b2tlbiBpdCB3aWxsIGJlIGl0IHdpbGwgYmUgdGhlIENhbXBhaWduIENvbnRyYWN0DQoNCiAgICBhZGRyZXNzIHB1YmxpYyB0b2tlbkNvbnRyb2xsZXI7DQoNCi8vLyBAZGV2IFRoZSBvbmx5Q29udHJvbGxlciBtb2RpZmllciBvbmx5IGFsbG93cyB0aGUgdG9rZW5Db250cm9sbGVyIHRvIGNhbGwgdGhlIGZ1bmN0aW9uDQoNCiAgICBtb2RpZmllciBvbmx5Q29udHJvbGxlciB7IGlmIChtc2cuc2VuZGVyICE9IHRva2VuQ29udHJvbGxlcikgdGhyb3c7IF87IH0NCg0KLy8vIEBub3RpY2UgYENhbXBhaWduVG9rZW4oKWAgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgZGVwbG95cyBhIG5ldw0KLy8vIEh1bWFuU3RhbmRhcmRUb2tlbiB3aXRoIHRoZSBwYXJhbWV0ZXJzIG9mIDAgaW5pdGlhbCB0b2tlbnMsIHRoZSBuYW1lDQovLy8gIkNoYXJpdHlEQU8gVG9rZW4iIHRoZSBkZWNpbWFsIHBsYWNlIG9mIHRoZSBzbWFsbGVzdCB1bml0IGJlaW5nIDE4LCBhbmQgdGhlDQovLy8gY2FsbCBzaWduIGJlaW5nICJHSVZFIi4gSXQgd2lsbCBzZXQgdGhlIHRva2VuQ29udHJvbGxlciB0byBiZSB0aGUgY29udHJhY3QgdGhhdA0KLy8vIGNhbGxzIHRoZSBmdW5jdGlvbi4NCg0KICAgIGZ1bmN0aW9uIENhbXBhaWduVG9rZW4oKSBIdW1hblN0YW5kYXJkVG9rZW4oMCwiQ2hhcml0eURBTyBUb2tlbiIsMTgsIkdJVkUiKSB7DQogICAgICAgIHRva2VuQ29udHJvbGxlciA9IG1zZy5zZW5kZXI7DQogICAgfQ0KDQovLy8gQG5vdGljZSBgY3JlYXRlVG9rZW5zKClgIHdpbGwgY3JlYXRlIHRva2VucyBpZiB0aGUgY2FtcGFpZ24gaGFzIG5vdCBiZWVuDQovLy8gc2VhbGVkLg0KLy8vIEBkZXYgYGNyZWF0ZVRva2VucygpYCBpcyBjYWxsZWQgYnkgdGhlIGNhbXBhaWduIGNvbnRyYWN0IHdoZW4NCi8vLyBzb21lb25lIHNlbmRzIGV0aGVyIHRvIHRoYXQgY29udHJhY3Qgb3IgY2FsbHMgYGRvUGF5bWVudCgpYA0KLy8vIEBwYXJhbSBiZW5lZmljaWFyeSBUaGUgYWRkcmVzcyByZWNlaXZpbmcgdGhlIHRva2Vucw0KLy8vIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGhlIGFkZHJlc3MgaXMgcmVjZWl2aW5nDQovLy8gQHJldHVybiBUcnVlIGlmIHRva2VucyBhcmUgY3JlYXRlZA0KDQogICAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQgYW1vdW50DQogICAgKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKHNlYWxlZCgpKSB0aHJvdzsNCiAgICAgICAgYmFsYW5jZXNbYmVuZWZpY2lhcnldICs9IGFtb3VudDsgIC8vIENyZWF0ZSB0b2tlbnMgZm9yIHRoZSBiZW5lZmljaWFyeQ0KICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7ICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQ0KICAgICAgICBUcmFuc2ZlcigwLCBiZW5lZmljaWFyeSwgYW1vdW50KTsgLy8gQ3JlYXRlIGFuIEV2ZW50IGZvciB0aGUgY3JlYXRpb24NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQovLy8gQG5vdGljZSBgc2VhbCgpYCBlbmRzIHRoZSBDYW1wYWlnbiBieSBtYWtpbmcgaXQgaW1wb3NzaWJsZSB0byBjcmVhdGUgbW9yZQ0KLy8vIHRva2Vucy4NCi8vLyBAZGV2IGBzZWFsKClgIGNoYW5nZXMgdGhlIHRva2VuQ29udHJvbGxlciB0byAwIGFuZCB0aGVyZWZvcmUgY2FuIG9ubHkgYmUgY2FsbGVkIGJ5DQovLy8gdGhlIHRva2VuQ3JlYXRvciBjb250cmFjdCBvbmNlDQovLy8gQHJldHVybiBUcnVlIGlmIHRoZSBDYW1wYWlnbiBpcyBzZWFsZWQNCg0KICAgIGZ1bmN0aW9uIHNlYWwoKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpICB7DQogICAgICAgIHRva2VuQ29udHJvbGxlciA9IDA7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KLy8vIEBub3RpY2UgYHNlYWxlZCgpYCBjaGVja3MgdG8gc2VlIGlmIHRoZSB0aGUgQ2FtcGFpZ24gaGFzIGJlZW4gc2VhbGVkDQovLy8gQHJldHVybiBUcnVlIGlmIHRoZSBDYW1wYWlnbiBoYXMgYmVlbiBzZWFsZWQgYW5kIGNhbid0IHJlY2VpdmUgZnVuZHMNCg0KICAgIGZ1bmN0aW9uIHNlYWxlZCgpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIHRva2VuQ29udHJvbGxlciA9PSAwOw0KICAgIH0NCn0NCg0KLy9GaWxlOiAvVXNlcnMvamJheWxpbmEvZ2l0L01WUC9DYW1wYWlnbi5zb2wNCnByYWdtYSBzb2xpZGl0eSBeMC40LjQ7DQoNCg0KDQovLy8gQHRpdGxlIENhbXBhaWduVG9rZW4gQ29udHJhY3QNCi8vLyBAYXV0aG9yIEpvcmRpIEJheWxpbmENCi8vLyBAZGV2IFRoaXMgaXMgZGVzaWduZWQgdG8gY29udHJvbCB0aGUgQ2hhaXJ0eVRva2VuIGNvbnRyYWN0Lg0KDQpjb250cmFjdCBDYW1wYWlnbiB7DQoNCiAgICB1aW50IHB1YmxpYyBzdGFydEZ1bmRpbmdUaW1lOyAgICAgICAvLyBJbiBVTklYIFRpbWUgRm9ybWF0DQogICAgdWludCBwdWJsaWMgZW5kRnVuZGluZ1RpbWU7ICAgICAgICAgLy8gSW4gVU5JWCBUaW1lIEZvcm1hdA0KICAgIHVpbnQgcHVibGljIG1heGltdW1GdW5kaW5nOyAgICAgICAgIC8vIEluIHdlaQ0KICAgIHVpbnQgcHVibGljIHRvdGFsQ29sbGVjdGVkOyAgICAgICAgIC8vIEluIHdlaQ0KICAgIENhbXBhaWduVG9rZW4gcHVibGljIHRva2VuQ29udHJhY3Q7ICAvLyBUaGUgbmV3IHRva2VuIGZvciB0aGlzIENhbXBhaWduDQogICAgYWRkcmVzcyBwdWJsaWMgdmF1bHRDb250cmFjdDsgICAgICAgLy8gVGhlIGFkZHJlc3MgdG8gaG9sZCB0aGUgZnVuZHMgZG9uYXRlZA0KDQovLy8gQG5vdGljZSAnQ2FtcGFpZ24oKScgaW5pdGlhdGVzIHRoZSBDYW1wYWlnbiBieSBzZXR0aW5nIGl0cyBmdW5kaW5nDQovLy8gcGFyYW1ldGVycyBhbmQgY3JlYXRpbmcgdGhlIGRlcGxveWluZyB0aGUgdG9rZW4gY29udHJhY3QNCi8vLyBAZGV2IFRoZXJlIGFyZSBzZXZlcmFsIGNoZWNrcyB0byBtYWtlIHN1cmUgdGhlIHBhcmFtZXRlcnMgYXJlIGFjY2VwdGFibGUNCi8vLyBAcGFyYW0gX3N0YXJ0RnVuZGluZ1RpbWUgVGhlIFVOSVggdGltZSB0aGF0IHRoZSBDYW1wYWlnbiB3aWxsIGJlIGFibGUgdG8NCi8vLyBzdGFydCByZWNlaXZpbmcgZnVuZHMNCi8vLyBAcGFyYW0gX2VuZEZ1bmRpbmdUaW1lIFRoZSBVTklYIHRpbWUgdGhhdCB0aGUgQ2FtcGFpZ24gd2lsbCBzdG9wIGJlaW5nIGFibGUNCi8vLyB0byByZWNlaXZlIGZ1bmRzDQovLy8gQHBhcmFtIF9tYXhpbXVtRnVuZGluZyBJbiB3ZWksIHRoZSBNYXhpbXVtIGFtb3VudCB0aGF0IHRoZSBDYW1wYWlnbiBjYW4NCi8vLyByZWNlaXZlIChjdXJyZW50bHkgdGhlIG1heCBpcyBzZXQgYXQgMTAsMDAwIEVUSCBmb3IgdGhlIGJldGEpDQovLy8gQHBhcmFtIF92YXVsdENvbnRyYWN0IFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBzdG9yZSB0aGUgZG9uYXRlZCBmdW5kcw0KDQogICAgZnVuY3Rpb24gQ2FtcGFpZ24oDQogICAgICAgIHVpbnQgX3N0YXJ0RnVuZGluZ1RpbWUsDQogICAgICAgIHVpbnQgX2VuZEZ1bmRpbmdUaW1lLA0KICAgICAgICB1aW50IF9tYXhpbXVtRnVuZGluZywNCiAgICAgICAgYWRkcmVzcyBfdmF1bHRDb250cmFjdA0KICAgICkgew0KICAgICAgICBpZiAoKF9lbmRGdW5kaW5nVGltZSA8IG5vdykgfHwgICAgICAgICAgICAgICAgLy8gQ2Fubm90IHN0YXJ0IGluIHRoZSBwYXN0DQogICAgICAgICAgICAoX2VuZEZ1bmRpbmdUaW1lIDw9IF9zdGFydEZ1bmRpbmdUaW1lKSB8fA0KICAgICAgICAgICAgKF9tYXhpbXVtRnVuZGluZyA+IDEwMDAwIGV0aGVyKSB8fCAgICAgICAgLy8gVGhlIEJldGEgaXMgbGltaXRlZA0KICAgICAgICAgICAgKF92YXVsdENvbnRyYWN0ID09IDApKSAgICAgICAgICAgICAgICAgICAgLy8gVG8gcHJldmVudCBidXJuaW5nIEVUSA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgICB9DQogICAgICAgIHN0YXJ0RnVuZGluZ1RpbWUgPSBfc3RhcnRGdW5kaW5nVGltZTsNCiAgICAgICAgZW5kRnVuZGluZ1RpbWUgPSBfZW5kRnVuZGluZ1RpbWU7DQogICAgICAgIG1heGltdW1GdW5kaW5nID0gX21heGltdW1GdW5kaW5nOw0KICAgICAgICB0b2tlbkNvbnRyYWN0ID0gbmV3IENhbXBhaWduVG9rZW4gKCk7IC8vIERlcGxveXMgdGhlIFRva2VuIENvbnRyYWN0DQogICAgICAgIHZhdWx0Q29udHJhY3QgPSBfdmF1bHRDb250cmFjdDsNCiAgICB9DQoNCi8vLyBAZGV2IFRoZSBmYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBldGhlciBpcyBzZW50IHRvIHRoZSBjb250cmFjdCwgaXQNCi8vLyBzaW1wbHkgY2FsbHMgYGRvUGF5bWVudCgpYCB3aXRoIHRoZSBhZGRyZXNzIHRoYXQgc2VudCB0aGUgZXRoZXIgYXMgdGhlDQovLy8gYF9vd25lcmAuIFBheWFibGUgaXMgYSByZXF1aXJlZCBzb2xpZGl0eSBtb2RpZmllciBmb3IgZnVuY3Rpb25zIHRvIHJlY2VpdmUNCi8vLyBldGhlciwgd2l0aG91dCB0aGlzIG1vZGlmaWVyIHRoZXkgd2lsbCB0aHJvdw0KDQogICAgZnVuY3Rpb24gKCkgIHBheWFibGUgew0KICAgICAgICBkb1BheW1lbnQobXNnLnNlbmRlcik7DQogICAgfQ0KDQovLy8gQG5vdGljZSBgcHJveHlQYXltZW50KClgIGFsbG93cyB0aGUgY2FsbGVyIHRvIHNlbmQgZXRoZXIgdG8gdGhlIENhbXBhaWduIGFuZA0KLy8vIGhhdmUgdGhlIENhbXBhaWduVG9rZW5zIGNyZWF0ZWQgaW4gYW4gYWRkcmVzcyBvZiB0aGVpciBjaG9vc2luZw0KLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdGhhdCB3aWxsIGhvbGQgdGhlIG5ld2x5IGNyZWF0ZWQgQ2FtcGFpZ25Ub2tlbnMNCg0KICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIF9vd25lcikgcGF5YWJsZSB7DQogICAgICAgIGRvUGF5bWVudChfb3duZXIpOw0KICAgIH0NCg0KLy8vIEBkZXYgYGRvUGF5bWVudCgpYCBpcyBhbiBpbnRlcm5hbCBmdW5jdGlvbiB0aGF0IHNlbmRzIHRoZSBldGhlciB0aGF0IHRoaXMNCi8vLyBjb250cmFjdCByZWNlaXZlcyB0byB0aGUgYHZhdWx0Q29udHJhY3RgIGFuZCBjcmVhdGVzIGNhbXBhaWduVG9rZW5zIGluIHRoZQ0KLy8vIGFkZHJlc3Mgb2YgdGhlIGBfb3duZXJgIGFzc3VtaW5nIHRoZSBDYW1wYWlnbiBpcyBzdGlsbCBhY2NlcHRpbmcgZnVuZHMNCi8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBob2xkIHRoZSBuZXdseSBjcmVhdGVkIENhbXBhaWduVG9rZW5zDQoNCiAgICBmdW5jdGlvbiBkb1BheW1lbnQoYWRkcmVzcyBfb3duZXIpIGludGVybmFsIHsNCg0KLy8gRmlyc3Qgd2UgY2hlY2sgdGhhdCB0aGUgQ2FtcGFpZ24gaXMgYWxsb3dlZCB0byByZWNlaXZlIHRoaXMgZG9uYXRpb24NCiAgICAgICAgaWYgKChub3c8c3RhcnRGdW5kaW5nVGltZSkgfHwNCiAgICAgICAgICAgIChub3c+ZW5kRnVuZGluZ1RpbWUpIHx8DQogICAgICAgICAgICAodG9rZW5Db250cmFjdC50b2tlbkNvbnRyb2xsZXIoKSA9PSAwKSB8fCAgICAgICAgICAgLy8gRXh0cmEgY2hlY2sNCiAgICAgICAgICAgIChtc2cudmFsdWUgPT0gMCkgfHwNCiAgICAgICAgICAgICh0b3RhbENvbGxlY3RlZCArIG1zZy52YWx1ZSA+IG1heGltdW1GdW5kaW5nKSkNCiAgICAgICAgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KLy9UcmFjayBob3cgbXVjaCB0aGUgQ2FtcGFpZ24gaGFzIGNvbGxlY3RlZA0KICAgICAgICB0b3RhbENvbGxlY3RlZCArPSBtc2cudmFsdWU7DQoNCi8vU2VuZCB0aGUgZXRoZXIgdG8gdGhlIHZhdWx0Q29udHJhY3QNCiAgICAgICAgaWYgKCF2YXVsdENvbnRyYWN0LnNlbmQobXNnLnZhbHVlKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KLy8gQ3JlYXRlcyBhbiBlcXVhbCBhbW91bnQgb2YgQ2FtcGFpZ25Ub2tlbnMgYXMgZXRoZXIgc2VudC4gVGhlIG5ldyBDYW1wYWlnblRva2Vucw0KLy8gYXJlIGNyZWF0ZWQgaW4gdGhlIGBfb3duZXJgIGFkZHJlc3MNCiAgICAgICAgaWYgKCF0b2tlbkNvbnRyYWN0LmNyZWF0ZVRva2Vucyhfb3duZXIsIG1zZy52YWx1ZSkpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCg0KLy8vIEBub3RpY2UgYHNlYWwoKWAgZW5kcyB0aGUgQ2FtcGFpZ24gYnkgY2FsbGluZyBgc2VhbCgpYCBpbiB0aGUgQ2FtcGFpZ25Ub2tlbg0KLy8vIGNvbnRyYWN0DQovLy8gQGRldiBgc2VhbCgpYCBjYW4gb25seSBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgZnVuZGluZyBwZXJpb2QuDQoNCiAgICBmdW5jdGlvbiBzZWFsKCkgew0KICAgICAgICBpZiAobm93IDwgZW5kRnVuZGluZ1RpbWUpIHRocm93Ow0KICAgICAgICB0b2tlbkNvbnRyYWN0LnNlYWwoKTsNCiAgICB9DQoNCn0='