base 64 content
base64cofounditICO
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KY29udHJhY3Qgb3duZWQgew0KDQoJYWRkcmVzcyBwdWJsaWMgb3duZXI7DQoNCglmdW5jdGlvbiBvd25lZCgpIHsNCgkJb3duZXIgPSBtc2cuc2VuZGVyOw0KCX0NCg0KCW1vZGlmaWVyIG9ubHlPd25lciB7DQoJCWlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsNCgkJXzsNCgl9DQoNCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgew0KCQlvd25lciA9IG5ld093bmVyOw0KCX0NCn0NCg0KY29udHJhY3QgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKTsgfQ0KDQpjb250cmFjdCBJQ29mb3VuZGl0VG9rZW4gew0KCWZ1bmN0aW9uIG1pbnRUb2tlbnMoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCwgc3RyaW5nIF9yZWFzb24pOw0KCWZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7DQp9DQoNCmNvbnRyYWN0IENvZm91bmRpdElDTyBpcyBvd25lZHsNCg0KCXVpbnQyNTYgcHVibGljIHN0YXJ0QmxvY2s7DQoJdWludDI1NiBwdWJsaWMgZW5kQmxvY2s7DQoJdWludDI1NiBwdWJsaWMgbWluRXRoVG9SYWlzZTsNCgl1aW50MjU2IHB1YmxpYyBtYXhFdGhUb1JhaXNlOw0KCXVpbnQyNTYgcHVibGljIHRvdGFsRXRoUmFpc2VkOw0KCWFkZHJlc3MgcHVibGljIG11bHRpc2lnQWRkcmVzczsNCg0KCXVpbnQyNTYgcHVibGljIGljb1N1cHBseTsNCgl1aW50MjU2IHB1YmxpYyBzdHJhdGVnaWNSZXNlcnZlU3VwcGx5Ow0KCXVpbnQyNTYgcHVibGljIGNhc2hpbGFUb2tlblN1cHBseTsNCgl1aW50MjU2IHB1YmxpYyBpY29ub21pVG9rZW5TdXBwbHk7DQoJdWludDI1NiBwdWJsaWMgY29yZVRlYW1Ub2tlblN1cHBseTsNCg0KCUlDb2ZvdW5kaXRUb2tlbiBjb2ZvdW5kaXRUb2tlbkNvbnRyYWN0OwkNCgltYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHByZXNhbGVDb250cmlidXRvckFsbG93YW5jZTsNCgl1aW50MjU2IG5leHRGcmVlUGFydGljaXBhbnRJbmRleDsNCgltYXBwaW5nICh1aW50ID0+IGFkZHJlc3MpIHBhcnRpY2lwYW50SW5kZXg7DQoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvbjsNCg0KCXVpbnQyNTYgdXNlZEljb1N1cHBseTsNCgl1aW50MjU2IHVzZWRTdHJhdGVnaWNSZXNlcnZlU3VwcGx5Ow0KCXVpbnQyNTYgdXNlZENhc2hpbGFUb2tlblN1cHBseTsNCgl1aW50MjU2IHVzZWRJY29ub21pVG9rZW5TdXBwbHk7DQoJdWludDI1NiB1c2VkQ29yZVRlYW1Ub2tlblN1cHBseTsNCg0KCWJvb2wgaWNvSGFzU3RhcnRlZDsNCglib29sIG1pblRyZXNob2xkUmVhY2hlZDsNCglib29sIGljb0hhc1N1Y2Vzc2Z1bHlFbmRlZDsNCg0KCXVpbnQyNTYgbGFzdEV0aFJldHVybkluZGV4Ow0KCW1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgaGFzQ2xhaW1lZEV0aFdoZW5GYWlsOw0KCXVpbnQyNTYgbGFzdENmaUlzc3VhbmNlSW5kZXg7DQoNCglzdHJpbmcgaWNvU3RhcnRlZE1lc3NhZ2UgPSAiQ29mb3VuZGl0IGlzIGxhdW5jaGluZyEiOw0KCXN0cmluZyBpY29NaW5UcmVzaG9sZFJlYWNoZWRNZXNzYWdlID0gIkZpcmluZyBTdGFnZSAyISI7DQoJc3RyaW5nIGljb0VuZGVkU3VjY2Vzc2Z1bHlNZXNzYWdlID0gIk9yYml0IGFjaGlldmVkISI7DQoJc3RyaW5nIGljb0VuZGVkU3VjY2Vzc2Z1bHlXaXRoQ2FwTWVzc2FnZSA9ICJMZWF2aW5nIEVhcnRoIG9yYml0ISI7DQoJc3RyaW5nIGljb0ZhaWxlZE1lc3NhZ2UgPSAiUm9ja2V0IGNyYXNoZWQuIjsNCg0KCWV2ZW50IElDT1N0YXJ0ZWQodWludDI1NiBfYmxvY2tOdW1iZXIsIHN0cmluZyBfbWVzc2FnZSk7DQoJZXZlbnQgSUNPTWluVHJlc2hvbGRSZWFjaGVkKHVpbnQyNTYgX2Jsb2NrTnVtYmVyLCBzdHJpbmcgX21lc3NhZ2UpOw0KCWV2ZW50IElDT0VuZGVkU3VjY2Vzc2Z1bHkodWludDI1NiBfYmxvY2tOdW1iZXIsIHVpbnQyNTYgX2Ftb3VudFJhaXNlZCwgc3RyaW5nIF9tZXNzYWdlKTsNCglldmVudCBJQ09GYWlsZWQodWludDI1NiBfYmxvY2tOdW1iZXIsIHVpbnQyNTYgX2FtbW91bnRSYWlzZWQsIHN0cmluZyBfbWVzc2FnZSk7DQoJZXZlbnQgRXJyb3JTZW5kaW5nRVRIKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX2Ftb3VudCk7DQoNCglmdW5jdGlvbiBDb2ZvdW5kaXRJQ08odWludDI1NiBfc3RhcnRCbG9jaywgdWludDI1NiBfZW5kQmxvY2ssIGFkZHJlc3MgX211bHRpc2lnQWRkcmVzcykgew0KCQlzdGFydEJsb2NrID0gX3N0YXJ0QmxvY2s7DQoJCWVuZEJsb2NrID0gX2VuZEJsb2NrOw0KCQltaW5FdGhUb1JhaXNlID0gNDUyNSAqIDEwKioxODsNCgkJbWF4RXRoVG9SYWlzZSA9IDU2NTY1ICogMTAqKjE4Ow0KCQltdWx0aXNpZ0FkZHJlc3MgPSBfbXVsdGlzaWdBZGRyZXNzOw0KDQoJCWljb1N1cHBseSA9CSAJCQkJMTI1MDAwMDAwICogMTAqKjE4Ow0KCQlzdHJhdGVnaWNSZXNlcnZlU3VwcGx5ID0gCTEyNTAwMDAwMCAqIDEwKioxODsNCgkJY2FzaGlsYVRva2VuU3VwcGx5ID0gCQkxMDAwMDAwMDAgKiAxMCoqMTg7DQoJCWljb25vbWlUb2tlblN1cHBseSA9IAkJNTAwMDAwMDAgKiAxMCoqMTg7DQoJCWNvcmVUZWFtVG9rZW5TdXBwbHkgPQkJMTAwMDAwMDAwICogMTAqKjE4Ow0KCX0NCg0KCS8vIAkNCgkvKiBVc2VyIGFjY2Vzc2libGUgbWV0aG9kcyAqLyAJDQoJLy8gCQ0KDQoJLyogVXNlcnMgc2VuZCBFVEggYW5kIGVudGVyIHRoZSBjcm93ZHNhbGUqLyAJDQoJZnVuY3Rpb24gKCkgcGF5YWJsZSB7IAkJDQoJCWlmIChtc2cudmFsdWUgPT0gMCkgdGhyb3c7ICAJCQkJCQkJCQkJCQkvLyBDaGVjayBpZiBiYWxhbmNlIGlzIG5vdCAwIAkJDQoJCWlmIChpY29IYXNTdWNlc3NmdWx5RW5kZWQgfHwgYmxvY2subnVtYmVyID4gZW5kQmxvY2spIHRocm93OwkJCQkvLyBUaHJvdyBpZiBpY28gaGFzIGFscmVhZHkgZW5kZWQgCQkNCgkJaWYgKCFpY29IYXNTdGFydGVkKXsJCQkJCQkJCQkJCQkJCS8vIENoZWNrIGlmIHRoaXMgaXMgdGhlIGZpcnN0IHRyYW5zYWN0aW9uIG9mIGljbyAJCQkNCgkJCWlmIChibG9jay5udW1iZXIgPCBzdGFydEJsb2NrKXsJCQkJCQkJCQkJCS8vIENoZWNrIGlmIGljbyBzaG91bGQgc3RhcnQgCQkJCQ0KCQkJCWlmICghcHJlc2FsZUNvbnRyaWJ1dG9yQWxsb3dhbmNlW21zZy5zZW5kZXJdKSB0aHJvdzsJCQkJLy8gQ2hlY2sgaWYgdGhpcyBhZGRyZXNzIGlzIHBhcnQgb2YgcHJlc2FsZSBjb250cmlidXRvcnMgCQkJDQoJCQl9IAkJCQ0KCQkJZWxzZXsJCQkJCQkJCQkJCQkJCQkJCS8vIElmIElDTyBzaG91bGQgc3RhcnQgCQkJCQ0KCQkJCWljb0hhc1N0YXJ0ZWQgPSB0cnVlOwkJCQkJCQkJCQkJCS8vIFNldCB0aGF0IGljbyBoYXMgc3RhcnRlZCAJCQkJDQoJCQkJSUNPU3RhcnRlZChibG9jay5udW1iZXIsIGljb1N0YXJ0ZWRNZXNzYWdlKTsJCQkJCQkvLyBSYWlzZSBldmVudCAJCQkNCgkJCX0gCQkNCgkJfSAJCQ0KCQlpZiAocGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl0gPT0gMCl7IAkJCQkJCQkJLy8gQ2hlY2sgaWYgc2VuZGVyIGlzIGEgbmV3IHVzZXIgCQkJDQoJCQlwYXJ0aWNpcGFudEluZGV4W25leHRGcmVlUGFydGljaXBhbnRJbmRleF0gPSBtc2cuc2VuZGVyOwkJCQkvLyBBZGQgbmV3IHVzZXIgdG8gcGFydGljaXBhbnQgZGF0YSBzdHJ1Y3R1cmUgCQkJDQoJCQluZXh0RnJlZVBhcnRpY2lwYW50SW5kZXggKz0gMTsgCQkNCgkJfSAJCQ0KCQlpZiAobWF4RXRoVG9SYWlzZSA+ICh0b3RhbEV0aFJhaXNlZCArIG1zZy52YWx1ZSkpewkJCQkJCQkvLyBDaGVjayBpZiB1c2VyIHNlbnQgdG8gbXVjaCBldGggCQkJDQoJCQlwYXJ0aWNpcGFudENvbnRyaWJ1dGlvblttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7CQkJCQkJLy8gQWRkIGFjY291bnRzIGNvbnRyaWJ1dGlvbiAJCQkNCgkJCXRvdGFsRXRoUmFpc2VkICs9IG1zZy52YWx1ZTsJCQkJCQkJCQkJCS8vIEFkZCB0byB0b3RhbCBldGggUmFpc2VkIAkJCQ0KCQkJaWYgKCFtaW5UcmVzaG9sZFJlYWNoZWQgJiYgdG90YWxFdGhSYWlzZWQgPj0gbWluRXRoVG9SYWlzZSl7CQkJLy8gQ2hlY2sgaWYgbWluIHRyZXNob2xkIGhhcyBiZWVuIHJlYWNoZWQoRG8gdGhhdCBvbmUgdGltZSkgCQkJCQ0KCQkJCUlDT01pblRyZXNob2xkUmVhY2hlZChibG9jay5udW1iZXIsIGljb01pblRyZXNob2xkUmVhY2hlZE1lc3NhZ2UpOwkvLyBSYWlzZSBldmVudCAJCQkJDQoJCQkJbWluVHJlc2hvbGRSZWFjaGVkID0gdHJ1ZTsJCQkJCQkJCQkJCS8vIFNldCB0aGF0IHRyZXNob2xkIGhhcyBiZWVuIHJlYWNoZWQgCQkJDQoJCQl9IAkJDQoJCX1lbHNlewkJCQkJCQkJCQkJCQkJCQkJCS8vIElmIHVzZXIgc2VudCB0byBtdWNoIGV0aCAJCQkNCgkJCXVpbnQgbWF4Q29udHJpYnV0aW9uID0gbWF4RXRoVG9SYWlzZSAtIHRvdGFsRXRoUmFpc2VkOyAJCQkJCS8vIENhbGN1bGF0ZSBtYXggY29udHJpYnV0aW9uIAkJCQ0KCQkJcGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl0gKz0gbWF4Q29udHJpYnV0aW9uOwkJCQkJLy8gQWRkIG1heCBjb250cmlidXRpb24gdG8gYWNjb3VudCAJCQkNCgkJCXRvdGFsRXRoUmFpc2VkICs9IG1heENvbnRyaWJ1dGlvbjsJCQkJCQkJCQkJCQkJDQoJCQl1aW50IHRvUmV0dXJuID0gbXNnLnZhbHVlIC0gbWF4Q29udHJpYnV0aW9uOwkJCQkJCQkvLyBDYWxjdWxhdGUgaG93IG11Y2ggdXNlciBzaG91bGQgZ2V0IGJhY2sgCQkJDQoJCQlpY29IYXNTdWNlc3NmdWx5RW5kZWQgPSB0cnVlOwkJCQkJCQkJCQkJLy8gU2V0IHRoYXQgaWNvIGhhcyBzdWNjZXNzZnVsbHlFbmRlZCAJCQkNCgkJCUlDT0VuZGVkU3VjY2Vzc2Z1bHkoYmxvY2subnVtYmVyLCB0b3RhbEV0aFJhaXNlZCwgaWNvRW5kZWRTdWNjZXNzZnVseVdpdGhDYXBNZXNzYWdlKTsgCQkJDQoJCQlpZighbXNnLnNlbmRlci5zZW5kKHRvUmV0dXJuKSl7CQkJCQkJCQkJCQkvLyBSZWZvdW5kIGJhbGFuY2UgdGhhdCBpcyBvdmVyIHRoZSBjYXAgCQkJCQ0KCQkJCUVycm9yU2VuZGluZ0VUSChtc2cuc2VuZGVyLCB0b1JldHVybik7CQkJCQkJCQkvLyBSYWlzZSBldmVudCBmb3IgbWFudWFsIHJldHVybiBpZiB0cmFuc2FjdGlvbiB0aHJvd3MgCQkJDQoJCQl9IAkJDQoJCX0JCQkJCQkJCQkJCQkJCQkJCQkJLy8gRmVlbCBnb29kIGFib3V0IGFjaGl2aW5nIHRoZSBjYXAgCQ0KCX0gCQ0KDQoJLyogVXNlcnMgY2FuIGNsYWltIGV0aCBieSB0aGVtc2VsZiBpZiB0aGV5IHdhbnQgdG8gaW4gaW5zdGFuY2Ugb2YgZXRoIGZhbGl1cmUqLyAJDQoJZnVuY3Rpb24gY2xhaW1FdGhJZkZhaWxlZCgpeyAJCQ0KCQlpZiAoYmxvY2subnVtYmVyIDw9IGVuZEJsb2NrIHx8IHRvdGFsRXRoUmFpc2VkID49IG1pbkV0aFRvUmFpc2UpIHRocm93OwkvLyBDaGVjayB0aGF0IGljbyBoYXMgZmFpbGVkIDooIAkJDQoJCWlmIChwYXJ0aWNpcGFudENvbnRyaWJ1dGlvblttc2cuc2VuZGVyXSA9PSAwKSB0aHJvdzsJCQkJCS8vIENoZWNrIGlmIHVzZXIgaGFzIGV2ZW4gYmVlbiBhdCBjcm93ZHNhbGUgCQkNCgkJaWYgKGhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSkgdGhyb3c7CQkJCQkJCS8vIENoZWNrIGlmIHRoaXMgYWNjb3VudCBoYXMgYWxyZWFkeSBjbGFpbWVkIGl0cyBldGggCQkNCgkJdWludDI1NiBldGhDb250cmlidXRlZCA9IHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW21zZy5zZW5kZXJdOwkJCS8vIEdldCBwYXJ0aWNpcGFudCBldGggQ29udHJpYnV0aW9uIAkJDQoJCWhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSA9IHRydWU7IAkJDQoJCWlmICghbXNnLnNlbmRlci5zZW5kKGV0aENvbnRyaWJ1dGVkKSl7IAkJCQ0KCQkJRXJyb3JTZW5kaW5nRVRIKG1zZy5zZW5kZXIsIGV0aENvbnRyaWJ1dGVkKTsJCQkJCQkvLyBSYWlzZSBldmVudCBpZiBzZW5kIGZhaWxlZCBhbmQgcmVzb2x2ZSBtYW51YWxseSAJCQ0KCQl9IAkNCgl9IAkNCg0KCS8vIAkNCgkvKiBPbmx5IG93bmVyIG1ldGhvZHMgKi8gCQ0KCS8vIAkNCg0KCS8qIEFkZHMgYWRkcmVzc2VzIHRoYXQgYXJlIGFsbG93ZWQgdG8gdGFrZSBwYXJ0IGluIHByZXNhbGUgKi8gCQ0KCWZ1bmN0aW9uIGFkZFByZXNhbGVDb250cmlidXRvcnMoYWRkcmVzc1tdIF9wcmVzYWxlQ29udHJpYnV0b3JzKSBvbmx5T3duZXIgeyAJCQ0KCQlmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX3ByZXNhbGVDb250cmlidXRvcnMubGVuZ3RoOyBjbnQrKyl7IAkJCQ0KCQkJcHJlc2FsZUNvbnRyaWJ1dG9yQWxsb3dhbmNlW19wcmVzYWxlQ29udHJpYnV0b3JzW2NudF1dID0gdHJ1ZTsgCQkNCgkJfSAJDQoJfSAJDQoNCgkvKiBPd25lciBjYW4gaXNzdWUgbmV3IHRva2VucyBpbiB0b2tlbiBjb250cmFjdCAqLyAJDQoJZnVuY3Rpb24gYmF0Y2hJc3N1ZVRva2Vucyh1aW50MjU2IF9udW1iZXJPZklzc3VhbmNlcykgb25seU93bmVyeyAJCQ0KCQlpZiAoIWljb0hhc1N1Y2Vzc2Z1bHlFbmRlZCkgdGhyb3c7CQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBDaGVjayBpZiBpY28gaGFzIGVuZGVkIAkJDQoJCWFkZHJlc3MgY3VycmVudFBhcnRpY2lwYW50QWRkcmVzczsgCQkNCgkJdWludDI1NiB0b2tlbnNUb0JlSXNzdWVkOyAJCQ0KCQlmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX251bWJlck9mSXNzdWFuY2VzOyBjbnQrKyl7IAkJCQ0KCQkJY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9IHBhcnRpY2lwYW50SW5kZXhbbGFzdENmaUlzc3VhbmNlSW5kZXhdOwkvLyBHZXQgbmV4dCBwYXJ0aWNpcGFudCBhZGRyZXNzDQoJCQlpZiAoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9PSAweDApIGNvbnRpbnVlOyAJCQkNCgkJCXRva2Vuc1RvQmVJc3N1ZWQgPSBpY29TdXBwbHkgKiBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvbltjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSAvIHRvdGFsRXRoUmFpc2VkOwkJLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHRva2VucyB3aWxsIGFkZHJlc3MgZ2V0IAkJCQ0KCQkJY29mb3VuZGl0VG9rZW5Db250cmFjdC5taW50VG9rZW5zKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MsIHRva2Vuc1RvQmVJc3N1ZWQsICJJY28gcGFydGljaXBhdGlvbiBtaW50Iik7CS8vIE1pbnQgdG9rZW5zIEAgQ29mb3VuZGl0VG9rZW4gCQkJDQoJCQlsYXN0Q2ZpSXNzdWFuY2VJbmRleCArPSAxOwkNCgkJfSANCg0KCQlpZiAocGFydGljaXBhbnRJbmRleFtsYXN0Q2ZpSXNzdWFuY2VJbmRleF0gPT0gMHgwICYmIGNvZm91bmRpdFRva2VuQ29udHJhY3QudG90YWxTdXBwbHkoKSA8IGljb1N1cHBseSl7DQoJCQl1aW50IGRpdmlzaW9uRGlmZmVyZW5jZSA9IGljb1N1cHBseSAtIGNvZm91bmRpdFRva2VuQ29udHJhY3QudG90YWxTdXBwbHkoKTsNCgkJCWNvZm91bmRpdFRva2VuQ29udHJhY3QubWludFRva2VucyhtdWx0aXNpZ0FkZHJlc3MsIGRpdmlzaW9uRGlmZmVyZW5jZSwgIk1pbnQgZGl2aXNpb24gZXJyb3IiKTsJLy8gTWludCBkaXZpc29uIGRpZmZlcmVuY2UgQCBDb2ZvdW5kaXRUb2tlbiBzbyB0aGF0IHRvdGFsIHN1cHBseSBpcyB3aG9sZSBudW1iZXIJCQkNCgkJfQ0KCX0gCQ0KDQoJLyogT3duZXIgY2FuIHJldHVybiBldGggZm9yIG11bHRpcGxlIHVzZXJzIGluIG9uZSBjYWxsKi8gCQ0KCWZ1bmN0aW9uIGJhdGNoUmV0dXJuRXRoSWZGYWlsZWQodWludDI1NiBfbnVtYmVyT2ZSZXR1cm5zKSBvbmx5T3duZXJ7IAkJDQoJCWlmIChibG9jay5udW1iZXIgPCBlbmRCbG9jayB8fCB0b3RhbEV0aFJhaXNlZCA+PSBtaW5FdGhUb1JhaXNlKSB0aHJvdzsJCS8vIENoZWNrIHRoYXQgaWNvIGhhcyBmYWlsZWQgOiggCQkNCgkJYWRkcmVzcyBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzOyAJCQ0KCQl1aW50MjU2IGNvbnRyaWJ1dGlvbjsNCgkJZm9yICh1aW50IGNudCA9IDA7IGNudCA8IF9udW1iZXJPZlJldHVybnM7IGNudCsrKXsgCQkJDQoJCQljdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID0gcGFydGljaXBhbnRJbmRleFtsYXN0RXRoUmV0dXJuSW5kZXhdOwkJLy8gR2V0IG5leHQgYWNjb3VudCAJCQkNCgkJCWlmIChjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID09IDB4MCkgcmV0dXJuOwkJCQkJCQkvLyBJZiBhbGwgdGhlIHBhcnRpY2lwYW50cyB3ZXJlIHJlaW5idXJzZWQgcmV0dXJuIAkJCQ0KCQkJaWYgKCFoYXNDbGFpbWVkRXRoV2hlbkZhaWxbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10pIHsJCQkJLy8gQ2hlY2sgaWYgdXNlciBoYXMgbWFudWFsbHkgcmVjb3ZlcmVkIGV0aCAJCQkJDQoJCQkJY29udHJpYnV0aW9uID0gcGFydGljaXBhbnRDb250cmlidXRpb25bY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc107CS8vIEdldCBhY2NvdW50cyBjb250cmlidXRpb24gCQkJCQ0KCQkJCWhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSA9IHRydWU7CQkJCQkJCS8vIFNldCB0aGF0IHVzZXIgZ290IGhpcyBldGggYmFjayAJCQkJDQoJCQkJaWYgKCFjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLnNlbmQoY29udHJpYnV0aW9uKSl7CQkJCQkvLyBTZW5kIGZ1bmQgYmFjayB0byBhY2NvdW50IAkJCQkJDQoJCQkJCUVycm9yU2VuZGluZ0VUSChjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLCBjb250cmlidXRpb24pOwkJLy8gUmFpc2UgZXZlbnQgaWYgc2VuZCBmYWlsZWQgYW5kIHJlc29sdmUgbWFudWFsbHkgCQkJCQ0KCQkJCX0gCQkJDQoJCQl9IAkJCQ0KCQkJbGFzdEV0aFJldHVybkluZGV4ICs9IDE7IAkJDQoJCX0gCQ0KCX0gCQ0KDQoJLyogT3duZXIgc2V0cyBuZXcgYWRkcmVzcyBvZiBDb2ZvdW5kaXRUb2tlbiAqLw0KCWZ1bmN0aW9uIGNoYW5nZU11bHRpc2lnQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSBvbmx5T3duZXIgeyAJCQ0KCQltdWx0aXNpZ0FkZHJlc3MgPSBfbmV3QWRkcmVzczsNCgl9IAkNCg0KCS8qIE93bmVyIGNhbiBjbGFpbSByZXNlcnZlZCB0b2tlbnMgb24gdGhlIGVuZCBvZiBjcm93c2FsZSAqLyAJDQoJZnVuY3Rpb24gY2xhaW1SZXNlcnZlZFRva2VucyhzdHJpbmcgX3doaWNoLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50LCBzdHJpbmcgX3JlYXNvbikgb25seU93bmVyeyAJCQ0KCQlpZiAoIWljb0hhc1N1Y2Vzc2Z1bHlFbmRlZCkgdGhyb3c7ICAgICAgICAgICAgICAgICANCgkJYnl0ZXMzMiBoYXNoZWRTdHIgPSBzaGEzKF93aGljaCk7CQkJCQ0KCQlpZiAoaGFzaGVkU3RyID09IHNoYTMoIlJlc2VydmUiKSl7IAkJCQ0KCQkJaWYgKF9hbW91bnQgPiBzdHJhdGVnaWNSZXNlcnZlU3VwcGx5IC0gdXNlZFN0cmF0ZWdpY1Jlc2VydmVTdXBwbHkpIHRocm93OyAJCQkNCgkJCWNvZm91bmRpdFRva2VuQ29udHJhY3QubWludFRva2VucyhfdG8sIF9hbW91bnQsIF9yZWFzb24pOyAJCQkNCgkJCXVzZWRTdHJhdGVnaWNSZXNlcnZlU3VwcGx5ICs9IF9hbW91bnQ7IAkJDQoJCX0gCQkNCgkJZWxzZSBpZiAoaGFzaGVkU3RyID09IHNoYTMoIkNhc2hpbGEiKSl7IAkJCQ0KCQkJaWYgKF9hbW91bnQgPiBjYXNoaWxhVG9rZW5TdXBwbHkgLSB1c2VkQ2FzaGlsYVRva2VuU3VwcGx5KSB0aHJvdzsgCQkJDQoJCQljb2ZvdW5kaXRUb2tlbkNvbnRyYWN0Lm1pbnRUb2tlbnMoX3RvLCBfYW1vdW50LCAiUmVzZXJ2ZWQgdG9rZW5zIGZvciBjYXNoaWxhIik7IAkJCQ0KCQkJdXNlZENhc2hpbGFUb2tlblN1cHBseSArPSBfYW1vdW50OyAJCX0gCQkNCgkJZWxzZSBpZiAoaGFzaGVkU3RyID09IHNoYTMoIkljb25vbWkiKSl7IAkJCQ0KCQkJaWYgKF9hbW91bnQgPiBpY29ub21pVG9rZW5TdXBwbHkgLSB1c2VkSWNvbm9taVRva2VuU3VwcGx5KSB0aHJvdzsgCQkJDQoJCQljb2ZvdW5kaXRUb2tlbkNvbnRyYWN0Lm1pbnRUb2tlbnMoX3RvLCBfYW1vdW50LCAiUmVzZXJ2ZWQgdG9rZW5zIGZvciBpY29ub21pIik7IAkJCQ0KCQkJdXNlZEljb25vbWlUb2tlblN1cHBseSArPSBfYW1vdW50OyAJCQ0KCQl9DQoJCWVsc2UgaWYgKGhhc2hlZFN0ciA9PSBzaGEzKCJDb3JlIikpeyAJCQkNCgkJCWlmIChfYW1vdW50ID4gY29yZVRlYW1Ub2tlblN1cHBseSAtIHVzZWRDb3JlVGVhbVRva2VuU3VwcGx5KSB0aHJvdzsgCQkJDQoJCQljb2ZvdW5kaXRUb2tlbkNvbnRyYWN0Lm1pbnRUb2tlbnMoX3RvLCBfYW1vdW50LCAiUmVzZXJ2ZWQgdG9rZW5zIGZvciBjb2ZvdW5kaXQgdGVhbSIpOyAJCQkNCgkJCXVzZWRDb3JlVGVhbVRva2VuU3VwcGx5ICs9IF9hbW91bnQ7IAkJDQoJCX0gCQkNCgkJZWxzZSB0aHJvdzsgCQ0KCX0gCQ0KDQoJLyogT3duZXIgY2FuIHJlbW92ZSBhbGxvd2FuY2Ugb2YgZGVzaWduYXRlZCBwcmVzYWxlIGNvbnRyaWJ1dG9yICovIAkNCglmdW5jdGlvbiByZW1vdmVQcmVzYWxlQ29udHJpYnV0b3IoYWRkcmVzcyBfcHJlc2FsZUNvbnRyaWJ1dG9yKSBvbmx5T3duZXIgeyAJCQ0KCQlwcmVzYWxlQ29udHJpYnV0b3JBbGxvd2FuY2VbX3ByZXNhbGVDb250cmlidXRvcl0gPSBmYWxzZTsgCQ0KCX0gCQ0KDQoJLyogU2V0IHRva2VuIGNvbnRyYWN0IHdoZXJlIG1pbnRzIHdpbGwgYmUgZG9uZSAodG9rZW5zIHdpbGwgYmUgaXNzdWVkKSovIAkNCglmdW5jdGlvbiBzZXRUb2tlbkNvbnRyYWN0KGFkZHJlc3MgX2NvZm91bmRpdENvbnRyYWN0QWRkcmVzcykgb25seU93bmVyIHsgCQkNCgkJY29mb3VuZGl0VG9rZW5Db250cmFjdCA9IElDb2ZvdW5kaXRUb2tlbihfY29mb3VuZGl0Q29udHJhY3RBZGRyZXNzKTsgCQ0KCX0gCQ0KDQoJLyogV2l0aGRyYXcgZnVuZHMgZnJvbSBjb250cmFjdCAqLyAJDQoJZnVuY3Rpb24gd2l0aGRyYXdFdGgoKSBvbmx5T3duZXJ7IAkJDQoJCWlmICh0aGlzLmJhbGFuY2UgPT0gMCkgdGhyb3c7CQkJCS8vIENoZWNrIGlmIHRoZXJlIGlzIHNvbWV0aGluZyBvbiB0aGUgY29udHJhY3QgCQkNCgkJaWYgKHRvdGFsRXRoUmFpc2VkIDwgbWluRXRoVG9SYWlzZSkgdGhyb3c7CS8vIENoZWNrIGlmIG1pbkV0aCB0cmVzaG9sZCBpcyBzdXJwYXNzZWQgCQkNCgkJaWYgKGJsb2NrLm51bWJlciA+IGVuZEJsb2NrKXsJCQkJLy8gQ2hlY2sgaWYgaWNvIGhhcyBlbmRlZCB3aXRob3V0aCByZWFjaGluZyB0aGUgbWF4Q2FwIAkJCQ0KCQkJaWNvSGFzU3VjZXNzZnVseUVuZGVkID0gdHJ1ZTsgCQkJDQoJCQlJQ09FbmRlZFN1Y2Nlc3NmdWx5KGJsb2NrLm51bWJlciwgdG90YWxFdGhSYWlzZWQsIGljb0VuZGVkU3VjY2Vzc2Z1bHlNZXNzYWdlKTsgCQkNCgkJfSAJCQ0KCQlpZihtdWx0aXNpZ0FkZHJlc3Muc2VuZCh0aGlzLmJhbGFuY2UpKXt9CQkvLyBTZW5kIGNvbnRyYWN0cyB3aG9sZSBiYWxhbmNlIHRvIG11bHRpc2lnIGFkZHJlc3MgCQ0KCX0gCQ0KDQoJLyogV2l0aGRyYXcgcmVtYWluaW5nIGJhbGFuY2UgdG8gbWFudWFsbHkgcmV0dXJuIHdoZXJlIGNvbnRyYWN0cyBzZW5kIGhhcyBmYWlsZWQgKi8gCQ0KCWZ1bmN0aW9uIHdpdGhkcmF3UmVtYWluaW5nQmFsYW5jZUZvck1hbnVhbFJlY292ZXJ5KCkgb25seU93bmVyeyAJCQ0KCQlpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93OwkJCQkJCQkJCQkJLy8gQ2hlY2sgaWYgdGhlcmUgaXMgc29tZXRoaW5nIG9uIHRoZSBjb250cmFjdCAJCQ0KCQlpZiAoYmxvY2subnVtYmVyIDwgZW5kQmxvY2sgfHwgdG90YWxFdGhSYWlzZWQgPj0gbWluRXRoVG9SYWlzZSkgdGhyb3c7CS8vIENoZWNrIGlmIGljbyBoYXMgZmFpbGVkIDooIAkJDQoJCWlmIChwYXJ0aWNpcGFudEluZGV4W2xhc3RFdGhSZXR1cm5JbmRleF0gIT0gMHgwKSB0aHJvdzsJCQkJCS8vIENoZWNrIGlmIGFsbCB0aGUgcGFydGljaXBhbnRzIGhhcyBiZWVuIHJlaW5idXJzZWQgCQkNCgkJaWYobXVsdGlzaWdBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSl7fQkJCQkJCQkJLy8gU2VuZCByZW1haW5kZXIgc28gaXQgY2FuIGJlIG1hbnVhbGx5IHByb2Nlc3NlZCAJDQoJfSAJDQoNCgkvLyAJDQoJLyogR2V0dGVycyAqLyAJDQoJLy8gCQ0KDQoJZnVuY3Rpb24gZ2V0Q2ZpRXN0aW1hdGlvbihhZGRyZXNzIF9xdWVycnlBZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGFuc3dlcil7IAkJDQoJCXJldHVybiBpY29TdXBwbHkgKiBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvbltfcXVlcnJ5QWRkcmVzc10gLyB0b3RhbEV0aFJhaXNlZDsgCQ0KCX0gCQ0KDQoJZnVuY3Rpb24gZ2V0Q29mb3VuZGl0VG9rZW5BZGRyZXNzKCkgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzIF90b2tlbkFkZHJlc3MpeyAJCQ0KCQlyZXR1cm4gYWRkcmVzcyhjb2ZvdW5kaXRUb2tlbkNvbnRyYWN0KTsgCQ0KCX0gCQ0KDQoJZnVuY3Rpb24gaWNvSW5Qcm9ncmVzcygpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgYW5zd2VyKXsgCQkNCgkJcmV0dXJuIGljb0hhc1N0YXJ0ZWQgJiYgIWljb0hhc1N1Y2Vzc2Z1bHlFbmRlZDsgCQ0KCX0gCQ0KDQoJZnVuY3Rpb24gaXNBZGRyZXNzQWxsb3dlZEluUHJlc2FsZShhZGRyZXNzIF9xdWVycnlBZGRyZXNzKSBjb25zdGFudCByZXR1cm5zIChib29sIGFuc3dlcil7IAkJDQoJCXJldHVybiBwcmVzYWxlQ29udHJpYnV0b3JBbGxvd2FuY2VbX3F1ZXJyeUFkZHJlc3NdOyAJDQoJfSAJDQoNCglmdW5jdGlvbiBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvbkluRXRoKGFkZHJlc3MgX3F1ZXJyeUFkZHJlc3MpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW5zd2VyKXsgCQkNCgkJcmV0dXJuIHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW19xdWVycnlBZGRyZXNzXTsgCQ0KCX0NCg0KCS8vDQoJLyogVGhpcyBwYXJ0IGlzIGhlcmUgb25seSBmb3IgdGVzdGluZyBhbmQgd2lsbCBub3QgYmUgaW5jbHVkZWQgaW50byBmaW5hbCB2ZXJzaW9uICovDQoJLy8NCgkvL2Z1bmN0aW9uIGtpbGxDb250cmFjdCgpIG9ubHlPd25lcnsNCgkvLwlzZWxmZGVzdHJ1Y3QobXNnLnNlbmRlcik7DQoJLy99DQp9'