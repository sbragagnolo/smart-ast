base 64 content
base64controller4
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQovL2NvcHlyaWdodCAyMDE3IE5ld0FsY2hlbXkNCi8vV3JpdHRlbiBieSBEZW5uaXMgUGV0ZXJzb24NCg0KY29udHJhY3QgQWJzdHJhY3RTd2VlcGVyIHsNCiAgICAvL2Fic3RyYWN0Og0KICAgIGZ1bmN0aW9uIHN3ZWVwKGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSByZXR1cm5zIChib29sKTsNCg0KICAgIC8vY29uY3JldGU6DQogICAgZnVuY3Rpb24gKCkgeyB0aHJvdzsgfQ0KDQogICAgQ29udHJvbGxlciBjb250cm9sbGVyOw0KDQogICAgZnVuY3Rpb24gQWJzdHJhY3RTd2VlcGVyKGFkZHJlc3MgX2NvbnRyb2xsZXIpIHsNCiAgICAgICAgY29udHJvbGxlciA9IENvbnRyb2xsZXIoX2NvbnRyb2xsZXIpOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGNhblN3ZWVwKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBjb250cm9sbGVyLmF1dGhvcml6ZWRDYWxsZXIoKSAmJiBtc2cuc2VuZGVyICE9IGNvbnRyb2xsZXIub3duZXIoKSkgdGhyb3c7DQogICAgICAgIGlmIChjb250cm9sbGVyLmhhbHRlZCgpKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQp9DQoNCmNvbnRyYWN0IFRva2VuIHsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBhKSByZXR1cm5zICh1aW50KSB7cmV0dXJuIDA7fQ0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgYSwgdWludCB2YWwpIHJldHVybnMgKGJvb2wpIHtyZXR1cm4gZmFsc2U7fQ0KfQ0KDQpjb250cmFjdCBEZWZhdWx0U3dlZXBlciBpcyBBYnN0cmFjdFN3ZWVwZXIgew0KICAgIGZ1bmN0aW9uIERlZmF1bHRTd2VlcGVyKGFkZHJlc3MgY29udHJvbGxlcikgDQogICAgICAgICAgICAgQWJzdHJhY3RTd2VlcGVyKGNvbnRyb2xsZXIpIHt9DQoNCiAgICBmdW5jdGlvbiBzd2VlcChhZGRyZXNzIF90b2tlbiwgdWludCBfYW1vdW50KSAgDQogICAgY2FuU3dlZXANCiAgICByZXR1cm5zIChib29sKSB7DQogICAgICAgIFRva2VuIHRva2VuID0gVG9rZW4oX3Rva2VuKTsNCiAgICAgICAgdWludCBhbW91bnQgPSBfYW1vdW50Ow0KICAgICAgICBpZiAoYW1vdW50ID4gdG9rZW4uYmFsYW5jZU9mKHRoaXMpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICBhZGRyZXNzIGRlc3RpbmF0aW9uID0gY29udHJvbGxlci5kZXN0aW5hdGlvbigpOw0KDQoJLy8gQmVjYXVzZSBzd2VlcCBpcyBjYWxsZWQgd2l0aCBkZWxlZ2F0ZWNhbGwsIHRoaXMgdHlwaWNhbGx5DQoJLy8gY29tZXMgZnJvbSB0aGUgVXNlcldhbGxldC4NCiAgICAgICAgYm9vbCBzdWNjZXNzID0gdG9rZW4udHJhbnNmZXIoZGVzdGluYXRpb24sIGFtb3VudCk7IA0KICAgICAgICBpZiAoc3VjY2VzcykgeyANCiAgICAgICAgICAgIGNvbnRyb2xsZXIubG9nU3dlZXAodGhpcywgX3Rva2VuLCBfYW1vdW50KTsNCiAgICAgICAgfSANCiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7DQogICAgfQ0KfQ0KDQpjb250cmFjdCBVc2VyV2FsbGV0IHsNCiAgICBBYnN0cmFjdFN3ZWVwZXJMaXN0IGM7DQogICAgZnVuY3Rpb24gVXNlcldhbGxldChhZGRyZXNzIF9zd2VlcGVybGlzdCkgew0KICAgICAgICBjID0gQWJzdHJhY3RTd2VlcGVyTGlzdChfc3dlZXBlcmxpc3QpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHN3ZWVwKGFkZHJlc3MgX3Rva2VuLCB1aW50IF9hbW91bnQpIA0KICAgIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIGMuc3dlZXBlck9mKF90b2tlbikuZGVsZWdhdGVjYWxsKG1zZy5kYXRhKTsNCiAgICB9DQp9DQoNCmNvbnRyYWN0IEFic3RyYWN0U3dlZXBlckxpc3Qgew0KICAgIGZ1bmN0aW9uIHN3ZWVwZXJPZihhZGRyZXNzIF90b2tlbikgcmV0dXJucyAoYWRkcmVzcyk7DQp9DQoNCmNvbnRyYWN0IENvbnRyb2xsZXIgaXMgQWJzdHJhY3RTd2VlcGVyTGlzdCB7DQogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgYXV0aG9yaXplZENhbGxlcjsNCg0KICAgIC8vZGVzdGluYXRpb24gZGVmYXVsdHMgdG8gc2FtZSBhcyBvd25lcg0KICAgIC8vYnV0IGlzIHNlcGFyYXRlIHRvIGFsbG93IG5ldmVyIGV4cG9zaW5nIGNvbGQgc3RvcmFnZQ0KICAgIGFkZHJlc3MgcHVibGljIGRlc3RpbmF0aW9uOyANCg0KICAgIGJvb2wgcHVibGljIGhhbHRlZDsNCg0KICAgIGV2ZW50IExvZ05ld1dhbGxldChhZGRyZXNzIHJlY2VpdmVyKTsNCiAgICBldmVudCBMb2dTd2VlcChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KTsNCiAgICANCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsgDQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgb25seUF1dGhvcml6ZWRDYWxsZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGF1dGhvcml6ZWRDYWxsZXIpIHRocm93OyANCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5QWRtaW5zKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBhdXRob3JpemVkQ2FsbGVyICYmIG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OyANCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCkgDQogICAgew0KICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgICAgIGRlc3RpbmF0aW9uID0gbXNnLnNlbmRlcjsNCiAgICAgICAgYXV0aG9yaXplZENhbGxlciA9IG1zZy5zZW5kZXI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2hhbmdlQXV0aG9yaXplZENhbGxlcihhZGRyZXNzIF9uZXdDYWxsZXIpIG9ubHlPd25lciB7DQogICAgICAgIGF1dGhvcml6ZWRDYWxsZXIgPSBfbmV3Q2FsbGVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNoYW5nZURlc3RpbmF0aW9uKGFkZHJlc3MgX2Rlc3QpIG9ubHlPd25lciB7DQogICAgICAgIGRlc3RpbmF0aW9uID0gX2Rlc3Q7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfb3duZXIpIG9ubHlPd25lciB7DQogICAgICAgIG93bmVyID0gX293bmVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1ha2VXYWxsZXQoKSBvbmx5QWRtaW5zIHJldHVybnMgKGFkZHJlc3Mgd2FsbGV0KSAgew0KICAgICAgICB3YWxsZXQgPSBhZGRyZXNzKG5ldyBVc2VyV2FsbGV0KHRoaXMpKTsNCiAgICAgICAgTG9nTmV3V2FsbGV0KHdhbGxldCk7DQogICAgfQ0KDQogICAgLy9hc3N1bWluZyBoYWx0IGJlY2F1c2UgY2FsbGVyIGlzIGNvbXByb21pc2VkDQogICAgLy9zbyBsZXQgY2FsbGVyIHN0b3AgZm9yIHNwZWVkLCBvbmx5IG93bmVyIGNhbiByZXN0YXJ0DQoNCiAgICBmdW5jdGlvbiBoYWx0KCkgb25seUFkbWlucyB7DQogICAgICAgIGhhbHRlZCA9IHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3RhcnQoKSBvbmx5T3duZXIgew0KICAgICAgICBoYWx0ZWQgPSBmYWxzZTsNCiAgICB9DQoNCiAgICAvLyoqKioqKioqKioqDQogICAgLy9Td2VlcGVyTGlzdA0KICAgIC8vKioqKioqKioqKioNCiAgICBhZGRyZXNzIHB1YmxpYyBkZWZhdWx0U3dlZXBlciA9IGFkZHJlc3MobmV3IERlZmF1bHRTd2VlcGVyKHRoaXMpKTsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGFkZHJlc3MpIHN3ZWVwZXJzOw0KDQogICAgZnVuY3Rpb24gYWRkU3dlZXBlcihhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfc3dlZXBlcikgb25seU93bmVyIHsNCiAgICAgICAgc3dlZXBlcnNbX3Rva2VuXSA9IF9zd2VlcGVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHN3ZWVwZXJPZihhZGRyZXNzIF90b2tlbikgcmV0dXJucyAoYWRkcmVzcykgew0KICAgICAgICBhZGRyZXNzIHN3ZWVwZXIgPSBzd2VlcGVyc1tfdG9rZW5dOw0KICAgICAgICBpZiAoc3dlZXBlciA9PSAwKSBzd2VlcGVyID0gZGVmYXVsdFN3ZWVwZXI7DQogICAgICAgIHJldHVybiBzd2VlcGVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGxvZ1N3ZWVwKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0b2tlbiwgdWludCBhbW91bnQpIHsNCiAgICAgICAgTG9nU3dlZXAoZnJvbSwgdG9rZW4sIGFtb3VudCk7DQogICAgfQ0KfQ=='