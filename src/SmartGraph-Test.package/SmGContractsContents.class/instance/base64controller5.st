base 64 content
base64controller5
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQovL2NvcHlyaWdodCAyMDE3IE5ld0FsY2hlbXkNCi8vV3JpdHRlbiBieSBEZW5uaXMgUGV0ZXJzb24NCg0KY29udHJhY3QgQWJzdHJhY3RTd2VlcGVyIHsNCiAgICAvL2Fic3RyYWN0Og0KICAgIGZ1bmN0aW9uIHN3ZWVwKGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSByZXR1cm5zIChib29sKTsNCg0KICAgIC8vY29uY3JldGU6DQogICAgZnVuY3Rpb24gKCkgeyB0aHJvdzsgfQ0KDQogICAgQ29udHJvbGxlciBjb250cm9sbGVyOw0KDQogICAgZnVuY3Rpb24gQWJzdHJhY3RTd2VlcGVyKGFkZHJlc3MgX2NvbnRyb2xsZXIpIHsNCiAgICAgICAgY29udHJvbGxlciA9IENvbnRyb2xsZXIoX2NvbnRyb2xsZXIpOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGNhblN3ZWVwKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBjb250cm9sbGVyLmF1dGhvcml6ZWRDYWxsZXIoKSAmJiBtc2cuc2VuZGVyICE9IGNvbnRyb2xsZXIub3duZXIoKSkgdGhyb3c7DQogICAgICAgIGlmIChjb250cm9sbGVyLmhhbHRlZCgpKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQp9DQoNCmNvbnRyYWN0IFRva2VuIHsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBhKSByZXR1cm5zICh1aW50KSB7cmV0dXJuIDA7fQ0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgYSwgdWludCB2YWwpIHJldHVybnMgKGJvb2wpIHtyZXR1cm4gZmFsc2U7fQ0KfQ0KDQpjb250cmFjdCBEZWZhdWx0U3dlZXBlciBpcyBBYnN0cmFjdFN3ZWVwZXIgew0KICAgIGZ1bmN0aW9uIERlZmF1bHRTd2VlcGVyKGFkZHJlc3MgY29udHJvbGxlcikgDQogICAgICAgICAgICAgQWJzdHJhY3RTd2VlcGVyKGNvbnRyb2xsZXIpIHt9DQoNCiAgICBmdW5jdGlvbiBzd2VlcChhZGRyZXNzIF90b2tlbiwgdWludCBfYW1vdW50KSAgDQogICAgY2FuU3dlZXANCiAgICByZXR1cm5zIChib29sKSB7DQogICAgICAgIFRva2VuIHRva2VuID0gVG9rZW4oX3Rva2VuKTsNCiAgICAgICAgdWludCBhbW91bnQgPSBfYW1vdW50Ow0KICAgICAgICBpZiAoYW1vdW50ID4gdG9rZW4uYmFsYW5jZU9mKHRoaXMpKSBhbW91bnQgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7DQoNCiAgICAgICAgYWRkcmVzcyBkZXN0aW5hdGlvbiA9IGNvbnRyb2xsZXIuZGVzdGluYXRpb24oKTsNCg0KCS8vIEJlY2F1c2Ugc3dlZXAgaXMgY2FsbGVkIHdpdGggZGVsZWdhdGVjYWxsLCB0aGlzIHR5cGljYWxseQ0KCS8vIGNvbWVzIGZyb20gdGhlIFVzZXJXYWxsZXQuDQogICAgICAgIGJvb2wgc3VjY2VzcyA9IHRva2VuLnRyYW5zZmVyKGRlc3RpbmF0aW9uLCBhbW91bnQpOyANCiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsgDQogICAgICAgICAgICBjb250cm9sbGVyLmxvZ1N3ZWVwKHRoaXMsIF90b2tlbiwgX2Ftb3VudCk7DQogICAgICAgIH0gZWxzZSB7IA0KCSAgICBjb250cm9sbGVyLmxvZ0ZhaWxlZFN3ZWVwKG1zZy5zZW5kZXIsIF90b2tlbiwgX2Ftb3VudCk7DQoJfQ0KICAgICAgICByZXR1cm4gc3VjY2VzczsNCiAgICB9DQp9DQoNCmNvbnRyYWN0IFVzZXJXYWxsZXQgew0KICAgIEFic3RyYWN0U3dlZXBlckxpc3QgYzsNCiAgICBmdW5jdGlvbiBVc2VyV2FsbGV0KGFkZHJlc3MgX3N3ZWVwZXJsaXN0KSB7DQogICAgICAgIGMgPSBBYnN0cmFjdFN3ZWVwZXJMaXN0KF9zd2VlcGVybGlzdCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3dlZXAoYWRkcmVzcyBfdG9rZW4sIHVpbnQgX2Ftb3VudCkgDQogICAgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICByZXR1cm4gYy5zd2VlcGVyT2YoX3Rva2VuKS5kZWxlZ2F0ZWNhbGwobXNnLmRhdGEpOw0KICAgIH0NCn0NCg0KY29udHJhY3QgQWJzdHJhY3RTd2VlcGVyTGlzdCB7DQogICAgZnVuY3Rpb24gc3dlZXBlck9mKGFkZHJlc3MgX3Rva2VuKSByZXR1cm5zIChhZGRyZXNzKTsNCn0NCg0KY29udHJhY3QgQ29udHJvbGxlciBpcyBBYnN0cmFjdFN3ZWVwZXJMaXN0IHsNCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCiAgICBhZGRyZXNzIHB1YmxpYyBhdXRob3JpemVkQ2FsbGVyOw0KDQogICAgLy9kZXN0aW5hdGlvbiBkZWZhdWx0cyB0byBzYW1lIGFzIG93bmVyDQogICAgLy9idXQgaXMgc2VwYXJhdGUgdG8gYWxsb3cgbmV2ZXIgZXhwb3NpbmcgY29sZCBzdG9yYWdlDQogICAgYWRkcmVzcyBwdWJsaWMgZGVzdGluYXRpb247IA0KDQogICAgYm9vbCBwdWJsaWMgaGFsdGVkOw0KDQogICAgZXZlbnQgTG9nTmV3V2FsbGV0KHVpbnQgX2N1c3RvbWVyLCBhZGRyZXNzIHJlY2VpdmVyKTsNCiAgICBldmVudCBMb2dTd2VlcChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KTsNCiAgICBldmVudCBMb2dGYWlsZWRTd2VlcChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KTsNCiAgICANCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsgDQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgb25seUF1dGhvcml6ZWRDYWxsZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGF1dGhvcml6ZWRDYWxsZXIpIHRocm93OyANCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5QWRtaW5zKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBhdXRob3JpemVkQ2FsbGVyICYmIG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OyANCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCkgDQogICAgew0KICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgICAgIGRlc3RpbmF0aW9uID0gbXNnLnNlbmRlcjsNCiAgICAgICAgYXV0aG9yaXplZENhbGxlciA9IG1zZy5zZW5kZXI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2hhbmdlQXV0aG9yaXplZENhbGxlcihhZGRyZXNzIF9uZXdDYWxsZXIpIG9ubHlPd25lciB7DQogICAgICAgIGF1dGhvcml6ZWRDYWxsZXIgPSBfbmV3Q2FsbGVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNoYW5nZURlc3RpbmF0aW9uKGFkZHJlc3MgX2Rlc3QpIG9ubHlPd25lciB7DQogICAgICAgIGRlc3RpbmF0aW9uID0gX2Rlc3Q7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfb3duZXIpIG9ubHlPd25lciB7DQogICAgICAgIG93bmVyID0gX293bmVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1ha2VXYWxsZXQodWludCBfY3VzdG9tZXIpIG9ubHlBZG1pbnMgcmV0dXJucyAoYWRkcmVzcyB3YWxsZXQpICB7DQogICAgICAgIHdhbGxldCA9IGFkZHJlc3MobmV3IFVzZXJXYWxsZXQodGhpcykpOw0KICAgICAgICBMb2dOZXdXYWxsZXQoX2N1c3RvbWVyLCB3YWxsZXQpOw0KICAgIH0NCg0KICAgIC8vYXNzdW1pbmcgaGFsdCBiZWNhdXNlIGNhbGxlciBpcyBjb21wcm9taXNlZA0KICAgIC8vc28gbGV0IGNhbGxlciBzdG9wIGZvciBzcGVlZCwgb25seSBvd25lciBjYW4gcmVzdGFydA0KDQogICAgZnVuY3Rpb24gaGFsdCgpIG9ubHlBZG1pbnMgew0KICAgICAgICBoYWx0ZWQgPSB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHN0YXJ0KCkgb25seU93bmVyIHsNCiAgICAgICAgaGFsdGVkID0gZmFsc2U7DQogICAgfQ0KDQogICAgLy8qKioqKioqKioqKg0KICAgIC8vU3dlZXBlckxpc3QNCiAgICAvLyoqKioqKioqKioqDQogICAgYWRkcmVzcyBwdWJsaWMgZGVmYXVsdFN3ZWVwZXIgPSBhZGRyZXNzKG5ldyBEZWZhdWx0U3dlZXBlcih0aGlzKSk7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBhZGRyZXNzKSBzd2VlcGVyczsNCg0KICAgIGZ1bmN0aW9uIGFkZFN3ZWVwZXIoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3N3ZWVwZXIpIG9ubHlPd25lciB7DQogICAgICAgIHN3ZWVwZXJzW190b2tlbl0gPSBfc3dlZXBlcjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzd2VlcGVyT2YoYWRkcmVzcyBfdG9rZW4pIHJldHVybnMgKGFkZHJlc3MpIHsNCiAgICAgICAgYWRkcmVzcyBzd2VlcGVyID0gc3dlZXBlcnNbX3Rva2VuXTsNCiAgICAgICAgaWYgKHN3ZWVwZXIgPT0gMCkgc3dlZXBlciA9IGRlZmF1bHRTd2VlcGVyOw0KICAgICAgICByZXR1cm4gc3dlZXBlcjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBsb2dTd2VlcChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSB7DQogICAgICAgIExvZ1N3ZWVwKGZyb20sIHRva2VuLCBhbW91bnQpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBsb2dGYWlsZWRTd2VlcChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSB7DQogICAgICAgIExvZ0ZhaWxlZFN3ZWVwKGZyb20sIHRva2VuLCBhbW91bnQpOw0KICAgIH0NCn0='