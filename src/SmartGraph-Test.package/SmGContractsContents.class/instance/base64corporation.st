base 64 content
base64corporation
	^'LyoNCkNvcnBvcmF0aW9uIFNtYXJ0Q29udHJhY3QuDQpkZXZlbG9wZWQgYnk6IGNyeXB0b25vbWljYS5uZXQsIDIwMTYNCg0KdXNlZCBzb3VyY2VzOg0KaHR0cHM6Ly93d3cuZXRoZXJldW0ub3JnL3Rva2VuIC8vIGV4YW1wbGUgb2YgdGhlIHRva2VuIHN0YW5kYXJ0DQpodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAgLy8gdG9rZW4gc3RhbmRhcnQgZGVzY3JpcHRpb24NCmh0dHBzOi8vd3d3LmV0aGVyZXVtLm9yZy9kYW8gLy8gdm90aW5nIGV4YW1wbGUNCiovDQoNCi8qDQpIb3cgdG8gZGVwbG95IChlc3RpbWF0ZWQ6IDEsNjQxLDI2OCBnYXMpOg0KMSkgRm9yIGRldmVsb3BtZW50OiB1c2UgaHR0cHM6Ly9ldGhlcmV1bS5naXRodWIuaW8vYnJvd3Nlci1zb2xpZGl0eS8NCjIpIEZvciB0ZXN0aW5nIG9uIFRlc3RuZXQ6IE9wZW4gdGhlIGRlZmF1bHQgKCdNaXN0Jykgd2FsbGV0IChpZiB5b3UgYXJlIG9ubHkgdGVzdGluZywgZ28gdG8gdGhlIG1lbnUgZGV2ZWxvcCA+IG5ldHdvcmsgPiB0ZXN0bmV0KSwgZ28gdG8gdGhlIENvbnRyYWN0cyB0YWIgYW5kIHRoZW4gcHJlc3MgZGVwbG95IGNvbnRyYWN0LCBhbmQgb24gdGhlIHNvbGlkaXR5IGNvZGUgYm94LCBwYXN0ZSB0aGUgY29kZSBhYm92ZS4NCjMpIEZvciBwcm9kYWN0aW9uLCBsaWtlIGluIDIpIGJ1dCBvbiBNYWluIE5ldHdvcmsuDQpUbyB2ZXJpZnkgeW91ciBkZXBsb3llZCBzbWFydGNvbnRyYWN0IHNvdXJjZSBjb2RlIGZvciBwdWJsaWMgZ28gdG86DQpodHRwczovL2V0aGVyc2Nhbi5pby92ZXJpZnlDb250cmFjdA0KKi8NCg0KLy8gJ2ludGVyZmFjZSc6DQovLyAgdGhpcyBpcyBleHBlY3RlZCBmcm9tIGFub3RoZXIgY29udHJhY3QsDQovLyAgaWYgaXQgd2FudHMgdG8gc3BlbmQgdG9rZW5zIChzaGFyZXMpIG9mIGJlaGFsZiBvZiB0aGUgdG9rZW4gb3duZXINCi8vICBpbiBvdXIgY29udHJhY3QNCi8vICBmLmUuOiBhICdtdWx0aXNpZycgU21hcnRDb250cmFjdCBmb3IgdHJhbnNmZXJpbmcgc2hhcmVzIGZyb20gc2VsbGVyDQovLyAgdG8gYnV5ZXINCmNvbnRyYWN0IHRva2VuUmVjaXBpZW50IHsNCiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgICAgIC8vIHNoYXJlaG9kZXINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdmFsdWUsICAgIC8vIG51bWJlciBvZiBzaGFyZXMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfc2hhcmUsICAgIC8vIC0gd2lsbCBiZSB0aGlzIGNvbnRyYWN0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzIF9leHRyYURhdGEpOyAvLw0KfQ0KDQpjb250cmFjdCBDb3Jwb3JhdGlvbiB7DQoNCiAgICAvKiBTdGFuZGFyZCBwdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLw0KICAgIHN0cmluZyBwdWJsaWMgc3RhbmRhcmQgPSAnVG9rZW4gMC4xJzsNCiAgICBzdHJpbmcgcHVibGljIG5hbWU7DQogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7DQogICAgdWludDggcHVibGljIGRlY2ltYWxzOw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KDQogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLSBDb3Jwb3JhdGUgU3RvY2sgTGVkZ2VyIC0tLS0tLS0tLS0gKi8NCiAgICAvLyBTaGFyZXMsIHNoYXJlaG9sZGVycywgYmFsYW5jZXMgZWN0Lg0KDQogICAgLy8gbGlzdCBvZiBhbGwgc2hhcmVob2RlcnMgKHJlcHJlc2VudGVkIGJ5IEV0aGVyZXVtIGFjY291bnRzKQ0KICAgIC8vIGluIHRoaXMgQ29ycG9yYXRpb24ncyBoaXN0b3J5LCAjIGlzIElEDQogICAgYWRkcmVzc1tdIHB1YmxpYyBzaGFyZWhvbGRlcjsNCiAgICAvLyB0aGlzIGhlbHBzIHRvIGZpbmQgYWRkcmVzcyBieSBJRCB3aXRob3V0IGxvb3ANCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBzaGFyZWhvbGRlcklEOw0KICAgIC8vIGxpc3Qgb2YgYWRyZXNzZXMsIHRoYXQgd2hvIGN1cnJlbnRseSBvd24gYXQgbGVhc3Qgc2hhcmUNCiAgICAvLyBub3QgcHVibGljLCB1c2UgZ2V0Q3VycmVudFNoYXJlaG9sZGVycygpDQogICAgYWRkcmVzc1tdIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5Ow0KICAgIC8vIGJhbGFuY2VzOg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsNCiAgICAvLyBzaGFyZXMgdGhhdCBoYXZlIHRvIGJlIG1hbmFnZWQgYnkgZXh0ZXJuYWwgY29udHJhY3QNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7DQoNCiAgICAvKiAgLS0tLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9yIC0tLS0tLS0tLSAqLw0KICAgIC8vIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdA0KICAgIGZ1bmN0aW9uIENvcnBvcmF0aW9uICgpIHsgLy8gLSB0cnVmZmxlIGNvbXBpbGVzIG9ubHkgbm8gYXJncyBDb25zdHJ1Y3Rvcg0KICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHkgPSAxMjAwMDsgLy8gc2hhcmVzIHF1YW50aXR5LCBjb25zdGFudA0KICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5OyAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2Vucw0KICAgICAgICB0b3RhbFN1cHBseSA9IGluaXRpYWxTdXBwbHk7ICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5DQogICAgICAgIG5hbWUgPSAic2hhcmVzIjsgLy90b2tlbk5hbWU7IC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3Nlcw0KICAgICAgICBzeW1ib2wgPSAic2giOyAvLyB0b2tlblN5bWJvbDsgLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMNCiAgICAgICAgZGVjaW1hbHMgPSAwOyAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMNCg0KICAgICAgICAvLyAtLSBzdGFydCBjb3Jwb3JhdGUgc3RvY2sgbGVkZ2VyDQogICAgICAgIHNoYXJlaG9sZGVySURbdGhpc10gPSBzaGFyZWhvbGRlci5wdXNoKHRoaXMpLTE7IC8vICMgMA0KICAgICAgICBzaGFyZWhvbGRlcklEW21zZy5zZW5kZXJdID0gc2hhcmVob2xkZXIucHVzaChtc2cuc2VuZGVyKS0xOyAvLyAjMQ0KICAgICAgICBhY3RpdmVTaGFyZWhvbGRlcnNBcnJheS5wdXNoKG1zZy5zZW5kZXIpOyAvLyBhZGQgdG8gYWN0aXZlIHNoYXJlaG9sZGVycw0KICAgIH0NCg0KICAgIC8qIC0tLS0tLS0tLS0tLS0tLSBTaGFyZXMgbWFuYWdlbWVudCAtLS0tLS0gKi8NCg0KICAgIC8vIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cy4gSW4gJ01pc3QnIFNtYXJ0Q29udHJhY3QgcGFnZSBlbmFibGUgJ1dhdGNoIGNvbnRyYWN0IGV2ZW50cycNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsNCg0KICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRTaGFyZWhvbGRlcnMoKSByZXR1cm5zIChhZGRyZXNzW10pew0KICAgICAgICBkZWxldGUgYWN0aXZlU2hhcmVob2xkZXJzQXJyYXk7DQogICAgICAgIGZvciAodWludDI1NiBpPTA7IGkgPCBzaGFyZWhvbGRlci5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICBpZiAoYmFsYW5jZU9mW3NoYXJlaG9sZGVyW2ldXSA+IDApew0KICAgICAgICAgICAgICAgIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5LnB1c2goc2hhcmVob2xkZXJbaV0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSByZXR1cm4gYWN0aXZlU2hhcmVob2xkZXJzQXJyYXk7DQogICAgICAgIH0NCg0KICAgIC8qICAtLSBjYW4gYmUgdXNlZCB0byB0cmFuc2ZlciBzaGFyZXMgdG8gbmV3IGNvbnRyYWN0DQogICAgdG9nZXRoZXIgd2l0aCBnZXRDdXJyZW50U2hhcmVob2xkZXJzKCkgKi8NCiAgICBmdW5jdGlvbiBnZXRCYWxhbmNlQnlBZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICByZXR1cm4gYmFsYW5jZU9mW19hZGRyZXNzXTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRNeVNoYXJlaG9sZGVySUQoKSByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHJldHVybiBzaGFyZWhvbGRlcklEW21zZy5zZW5kZXJdOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFNoYXJlaG9sZGVyQWRyZXNzQnlJRCh1aW50MjU2IF9pZCkgcmV0dXJucyAoYWRkcmVzcyl7DQogICAgICAgIHJldHVybiBzaGFyZWhvbGRlcltfaWRdOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldE15U2hhcmVzKCkgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICByZXR1cm4gYmFsYW5jZU9mW21zZy5zZW5kZXJdOw0KICAgIH0NCg0KDQogICAgLyogLS0tLSBUcmFuc2ZlciBzaGFyZXMgdG8gYW5vdGhlciBhZHJlc3MgLS0tLQ0KICAgIChzaGFyZWhvbGRlcidzIGFkZHJlc3MgY2FsbHMgdGhpcykNCiAgICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgew0KICAgICAgICAvLyBjaGVjayBhcmd1bWVudHM6DQogICAgICAgIGlmIChfdmFsdWUgPCAxKSB0aHJvdzsNCiAgICAgICAgaWYgKHRoaXMgPT0gX3RvKSB0aHJvdzsgLy8gZG8gbm90IHNlbmQgc2hhcmVzIHRvIGNvbnRyYWN0IGl0c2VsZjsNCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7IC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaA0KDQogICAgICAgIC8vIG1ha2UgdHJhbnNhY3Rpb24NCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyDQogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQNCg0KICAgICAgICAvLyBpZiBuZXcgYWRkcmVzcywgYWRkIGl0IHRvIHNoYXJlaG9sZGVycyBoaXN0b3J5IChzdG9jayBsZWRnZXIpOg0KICAgICAgICBpZiAoc2hhcmVob2xkZXJJRFtfdG9dID09IDApeyAvLyAtLS0tLS0tLS0tLSBjaGVjayBpZiB3b3Jrcw0KICAgICAgICAgICAgc2hhcmVob2xkZXJJRFtfdG9dID0gc2hhcmVob2xkZXIucHVzaChfdG8pLTE7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQ0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgfQ0KDQogICAgLyogQWxsb3cgYW5vdGhlciBjb250cmFjdCB0byBzcGVuZCBzb21lIHNoYXJlcyBpbiB5b3VyIGJlaGFsZg0KICAgIChzaGFyZWhvbGRlciBjYWxscyB0aGlzKSAqLw0KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIC8vIGFub3RoZXIgY29udHJhY3QncyBhZHJlc3MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF92YWx1ZSwgLy8gbnVtYmVyIG9mIHNoYXJlcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzIF9leHRyYURhdGEpIC8vIGRhdGEgZm9yIGFub3RoZXIgY29udHJhY3QNCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy8gbXNnLnNlbmRlciAtIGFjY291bnQgb3duZXIgd2hvIGdpdmVzIGFsbG93YW5jZQ0KICAgICAgICAvLyBfc3BlbmRlciAgIC0gYWRkcmVzcyBvZiBhbm90aGVyIGNvbnRyYWN0DQogICAgICAgIC8vIGl0IHdyaXRlcyBpbiAiYWxsb3dhbmNlIiB0aGF0IHRoaXMgb3duZXIgYWxsb3dzIGFub3RoZXINCiAgICAgICAgLy8gY29udHJhY3QgKF9zcGVuZGVyKSB0byBzcGVuZCB0aGkgYW1vbnQgKF92YWx1ZSkgb2Ygc2hhcmVzDQogICAgICAgIC8vIGluIGhpcyBiZWhhbGYNCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgLy8gJ3NwZW5kZXInIGlzIGFub3RoZXIgY29udHJhY3QgdGhhdCBpbXBsZW1lbnRzIGNvZGUNCiAgICAgICAgLy8gIHByZXNjcmliZWQgaW4gJ3NoYXJlUmVjaXBpZW50JyBhYm92ZQ0KICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOw0KICAgICAgICAvLyB0aGlzIGNvbnRyYWN0IGNhbGxzICdyZWNlaXZlQXBwcm92YWwnIGZ1bmN0aW9uDQogICAgICAgIC8vIG9mIGFub3RoZXIgY29udHJhY3QgdG8gc2VuZCBpbmZvcm1hdGlvbiBhYm91dA0KICAgICAgICAvLyBhbGxvd2FuY2UNCiAgICAgICAgc3BlbmRlci5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgLy8gc2hhcmVzIG93bmVyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSwgICAgIC8vIG51bWJlciBvZiBzaGFyZXMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcywgICAgICAgLy8gdGhpcyBjb250cmFjdCdzIGFkcmVzcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZXh0cmFEYXRhKTsvLyBkYXRhIGZyb20gc2hhcmVzIG93bmVyDQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIC8qIHRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBmcm9tIGFub3RoZXIgY29udHJhY3QsIGFmdGVyIGl0DQogICAgaGF2ZSBhbGxvd2FuY2UgdG8gdHJhbnNmZXIgc2hhcmVzIGluIGJlaGFsZiBvZiBzaGFyZWhvZGVyICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLA0KICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF90bywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdmFsdWUpDQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQoNCiAgICAgICAgLy8gQ2hlY2sgYXJndW1lbnRzOg0KICAgICAgICAvLyBzaG91bGQgb25lIHNoYXJlIG9yIG1vcmUNCiAgICAgICAgaWYgKF92YWx1ZSA8IDEpIHRocm93Ow0KICAgICAgICAvLyBkbyBub3Qgc2VuZCBzaGFyZXMgdG8gdGhpcyBjb250cmFjdCBpdHNlbGY7DQogICAgICAgIGlmICh0aGlzID09IF90bykgdGhyb3c7DQogICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaA0KICAgICAgICBpZiAoYmFsYW5jZU9mW19mcm9tXSA8IF92YWx1ZSkgdGhyb3c7DQoNCiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlDQogICAgICAgIGlmIChfdmFsdWUgPiBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKSB0aHJvdzsNCg0KICAgICAgICAvLyBpZiB0cmFuc2ZlciB0byBuZXcgYWRkcmVzcyAtLSBhZGQgaGltIHRvIGxlZGdlcg0KICAgICAgICBpZiAoc2hhcmVob2xkZXJJRFtfdG9dID09IDApew0KICAgICAgICAgICAgc2hhcmVob2xkZXJJRFtfdG9dID0gc2hhcmVob2xkZXIucHVzaChfdG8pLTE7IC8vIHB1c2ggZnVuY3Rpb24gcmV0dXJucyB0aGUgbmV3IGxlbmd0aA0KICAgICAgICB9DQoNCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyDQogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOw0KICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudA0KICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7DQoNCiAgICAgICAgLy8gQ2hhbmdlIGFsbG93YW5jZXMgY29ycmVzcG9uZGluZ2x5DQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQ0KICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KDQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIC8qIFRoaXMgdW5uYW1lZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgc29tZW9uZSB0cmllcyB0byBzZW5kIGV0aGVyIHRvIGl0ICovDQogICAgZnVuY3Rpb24gKCkgew0KICAgICAgICB0aHJvdzsgICAgIC8vIFByZXZlbnRzIGFjY2lkZW50YWwgc2VuZGluZyBvZiBldGhlcg0KICAgIH0NCg0KICAgIC8qICAtLS0tLS0tLS0gVm90aW5nICAtLS0tLS0tLS0tLS0tLSAgKi8NCiAgICAvLyB3ZSBvbmx5IGNvdW50ICd5ZXMnIHZvdGVzLCBub3Qgdm90aW5nICd5ZXMnDQogICAgLy8gY29uc2lkZXJlZCBhcyB2b3RpbmcgJ25vJyAoYXMgc3RhdGVkIGluIEJ5bGF3cykNCg0KICAgIC8vIGVhY2ggcHJvcG9zYWwgc2hvdWxkIGNvbnRhaW4gaXQncyB0ZXh0DQogICAgLy8gaW5kZXggb2YgdGV4dCBpbiB0aGlzIGFycmF5IGlzIGEgcHJvcG9zYWwgSUQNCiAgICBzdHJpbmdbXSBwdWJsaWMgcHJvcG9zYWxUZXh0Ow0KICAgIC8vIHByb3Bvc2FsSUQgPT4gKHNoYXJlaG9sZGVyID0+ICJpZiBhbHJlYWR5IHZvdGVkIGZvciB0aGlzIHByb3Bvc2FsIikNCiAgICBtYXBwaW5nICh1aW50MjU2ID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkpIHZvdGVkOw0KICAgIC8vIHByb3Bvc2FsSUQgPT4gYWRkcmVzc2VzIHZvdGVkICd5ZXMnDQogICAgLy8gZXhhY3QgbnVtYmVyIG9mIHZvdGVzIGFjY29yZGluZyB0byBzaGFyZXMgd2lsbCBiZSBjb3VudGVkDQogICAgLy8gYWZ0ZXIgZGVhZGxpbmUNCiAgICBtYXBwaW5nICh1aW50MjU2ID0+IGFkZHJlc3NbXSkgcHVibGljIHZvdGVzOw0KICAgIC8vIHByb3Bvc2FsSUQgPT4gZGVhZGxpbmUNCiAgICBtYXBwaW5nICh1aW50MjU2ID0+IHVpbnQyNTYpIHB1YmxpYyBkZWFkbGluZTsNCiAgICAvLyBwcm9wb3NhbElEID0+IGZpbmFsICd5ZXMnIHZvdGVzDQogICAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwdWJsaWMgcmVzdWx0czsNCiAgICAvLyBwcm9wb3NhbHMgb2YgZXZlcnkgc2hhcmVob2xkZXINCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTZbXSkgcHVibGljIHByb3Bvc2Fsc0J5U2hhcmVob2xkZXI7DQoNCg0KICAgIGV2ZW50IFByb3Bvc2FsQWRkZWQodWludDI1NiBwcm9wb3NhbElELA0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBpbml0aWF0b3IsDQogICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgZGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IGRlYWRsaW5lKTsNCg0KICAgIGV2ZW50IFZvdGluZ0ZpbmlzaGVkKHVpbnQyNTYgcHJvcG9zYWxJRCwgdWludDI1NiB2b3Rlcyk7DQoNCiAgICBmdW5jdGlvbiBtYWtlTmV3UHJvcG9zYWwoc3RyaW5nIF9wcm9wb3NhbERlc2NyaXB0aW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF9kZWJhdGluZ1BlcmlvZEluTWludXRlcykNCiAgICByZXR1cm5zICh1aW50MjU2KXsNCiAgICAgICAgLy8gb25seSBzaGFyZWhvbGRlciB3aXRoIG9uZSBvciBtb3JlIHNoYXJlcyBjYW4gbWFrZSBhIHByb3Bvc2FsDQogICAgICAgIC8vICEhISEgY2FuIGJlIG1vcmUgdGhlbiBvbmUgc2hhcmUgcmVxdWlyZWQNCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IDEpIHRocm93Ow0KDQogICAgICAgIHVpbnQyNTYgaWQgPSBwcm9wb3NhbFRleHQucHVzaChfcHJvcG9zYWxEZXNjcmlwdGlvbiktMTsNCiAgICAgICAgZGVhZGxpbmVbaWRdID0gbm93ICsgX2RlYmF0aW5nUGVyaW9kSW5NaW51dGVzICogMSBtaW51dGVzOw0KDQogICAgICAgIC8vIGFkZCB0byBwcm9wb3NhbHMgb2YgdGhpcyBzaGFyZWhvbGRlcjoNCiAgICAgICAgcHJvcG9zYWxzQnlTaGFyZWhvbGRlclttc2cuc2VuZGVyXS5wdXNoKGlkKTsNCg0KICAgICAgICAvLyBpbml0aWF0b3IgYWx3YXlzIHZvdGVzICd5ZXMnDQogICAgICAgIHZvdGVzW2lkXS5wdXNoKG1zZy5zZW5kZXIpOw0KICAgICAgICB2b3RlZFtpZF1bbXNnLnNlbmRlcl0gPSB0cnVlOw0KDQogICAgICAgIFByb3Bvc2FsQWRkZWQoaWQsIG1zZy5zZW5kZXIsIF9wcm9wb3NhbERlc2NyaXB0aW9uLCBkZWFkbGluZVtpZF0pOw0KDQogICAgICAgIHJldHVybiBpZDsgLy8gcmV0dXJucyBwcm9wb3NhbCBpZA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldE15UHJvcG9zYWxzKCkgcmV0dXJucyAodWludDI1NltdKXsNCiAgICAgICAgcmV0dXJuIHByb3Bvc2Fsc0J5U2hhcmVob2xkZXJbbXNnLnNlbmRlcl07DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdm90ZUZvclByb3Bvc2FsKHVpbnQyNTYgX3Byb3Bvc2FsSUQpIHJldHVybnMgKHN0cmluZykgew0KDQogICAgICAgIC8vIGlmIG5vIHNoYXJlcyBjdXJyZW50bHkgb3duZWQgLSBubyByaWdodCB0byB2b3RlDQogICAgICAgIGlmIChiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCAxKSByZXR1cm4gIm5vIHNoYXJlcywgdm90ZSBub3QgYWNjZXB0ZWQiOw0KDQogICAgICAgIC8vIGlmIGFscmVhZHkgdm90ZWQgLSB0aHJvdywgZWxzZSB2b3RpbmcgY2FuIGJlIHNwYW1tZWQNCiAgICAgICAgaWYgKHZvdGVkW19wcm9wb3NhbElEXVttc2cuc2VuZGVyXSl7DQogICAgICAgICAgICByZXR1cm4gImFscmVhZHkgdm90ZWQsIHZvdGUgbm90IGFjY2VwdGVkIjsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIG5vIHZvdGVzIGFmdGVyIGRlYWRsaW5lDQogICAgICAgIGlmIChub3cgPiBkZWFkbGluZVtfcHJvcG9zYWxJRF0gKXsNCiAgICAgICAgICAgIHJldHVybiAidm90ZSBub3QgYWNjZXB0ZWQgYWZ0ZXIgZGVhZGxpbmUiOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gYWRkIHRvIGxpc3Qgb2Ygdm90ZWQgJ3llcycNCiAgICAgICAgdm90ZXNbX3Byb3Bvc2FsSURdLnB1c2gobXNnLnNlbmRlcik7DQogICAgICAgIHZvdGVkW19wcm9wb3NhbElEXVttc2cuc2VuZGVyXSA9IHRydWU7DQogICAgICAgIHJldHVybiAidm90ZSBhY2NlcHRlZCI7DQogICAgfQ0KDQogICAgLy8gdG8gY291bnQgdm90ZXMgdGhpcyB0cmFuc2FjdGlvbiBzaG91bGQgYmUgc3RhcnRlZCBtYW51YWxseQ0KICAgIC8vIGZyb20gX2FueV8gRXRoZXJldW0gYWRkcmVzcyBhZnRlciBkZWFkbGluZQ0KICAgIGZ1bmN0aW9uIGNvdW50Vm90ZXModWludDI1NiBfcHJvcG9zYWxJRCkgcmV0dXJucyAodWludDI1Nil7DQoNCiAgICAgICAgLy8gaWYgbm90IGFmdGVyIGRlYWRsaW5lIC0gdGhyb3cNCiAgICAgICAgaWYgKG5vdyA8IGRlYWRsaW5lW19wcm9wb3NhbElEXSkgdGhyb3c7DQoNCiAgICAgICAgLy8gaWYgYWxyZWFkeSBjb3VudGVkIHJldHVybiByZXN1bHQ7DQogICAgICAgIGlmIChyZXN1bHRzW19wcm9wb3NhbElEXSA+IDApIHJldHVybiByZXN1bHRzW19wcm9wb3NhbElEXTsNCg0KICAgICAgICAvLyBlbHNlIHNob3VsZCBjb3VudCByZXN1bHRzIGFuZCBzdG9yZSBpbiBwdWJsaWMgdmFyaWFibGUNCiAgICAgICAgdWludDI1NiByZXN1bHQgPSAwOw0KICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCB2b3Rlc1tfcHJvcG9zYWxJRF0ubGVuZ3RoOyBpKyspew0KDQogICAgICAgICAgICBhZGRyZXNzIHZvdGVyID0gdm90ZXNbX3Byb3Bvc2FsSURdW2ldOw0KICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgYmFsYW5jZU9mW3ZvdGVyXTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIExvZyBhbmQgbm90aWZ5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHZvdGluZyBmaW5pc2hlZA0KICAgICAgICAvLyB3aXRoICdyZXN1bHQnIC0gbnVtYmVyIG9mICd5ZXMnIHZvdGVzDQogICAgICAgIFZvdGluZ0ZpbmlzaGVkKF9wcm9wb3NhbElELCByZXN1bHQpOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQp9'