base 64 content
base64crowdfunding2
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQovKioNCiAqIEB0aXRsZSBDb250cmFjdCBmb3Igb2JqZWN0IHRoYXQgaGF2ZSBhbiBvd25lcg0KICovDQpjb250cmFjdCBPd25lZCB7DQogICAgLyoqDQogICAgICogQ29udHJhY3Qgb3duZXIgYWRkcmVzcw0KICAgICAqLw0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgLyoqDQogICAgICogQGRldiBEZWxlZ2F0ZSBjb250cmFjdCB0byBhbm90aGVyIHBlcnNvbg0KICAgICAqIEBwYXJhbSBfb3duZXIgTmV3IG93bmVyIGFkZHJlc3MgDQogICAgICovDQogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfb3duZXIpIG9ubHlPd25lcg0KICAgIHsgb3duZXIgPSBfb3duZXI7IH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgT3duZXIgY2hlY2sgbW9kaWZpZXINCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5T3duZXIgeyBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7IF87IH0NCn0NCg0KLyoqDQogKiBAdGl0bGUgQ29tbW9uIHBhdHRlcm4gZm9yIGRlc3Ryb3lhYmxlIGNvbnRyYWN0cyANCiAqLw0KY29udHJhY3QgRGVzdHJveWFibGUgew0KICAgIGFkZHJlc3MgcHVibGljIGhhbW1lcjsNCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSGFtbWVyIHNldHRlcg0KICAgICAqIEBwYXJhbSBfaGFtbWVyIE5ldyBoYW1tZXIgYWRkcmVzcw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHNldEhhbW1lcihhZGRyZXNzIF9oYW1tZXIpIG9ubHlIYW1tZXINCiAgICB7IGhhbW1lciA9IF9oYW1tZXI7IH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgRGVzdHJveSBjb250cmFjdCBhbmQgc2NydWIgYSBkYXRhDQogICAgICogQG5vdGljZSBPbmx5IGhhbW1lciBjYW4gY2FsbCBpdCANCiAgICAgKi8NCiAgICBmdW5jdGlvbiBkZXN0cm95KCkgb25seUhhbW1lcg0KICAgIHsgc3VpY2lkZShtc2cuc2VuZGVyKTsgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBIYW1tZXIgY2hlY2sgbW9kaWZpZXINCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5SGFtbWVyIHsgaWYgKG1zZy5zZW5kZXIgIT0gaGFtbWVyKSB0aHJvdzsgXzsgfQ0KfQ0KDQovKioNCiAqIEB0aXRsZSBHZW5lcmljIG93bmVkIGRlc3Ryb3lhYmxlIGNvbnRyYWN0DQogKi8NCmNvbnRyYWN0IE9iamVjdCBpcyBPd25lZCwgRGVzdHJveWFibGUgew0KICAgIGZ1bmN0aW9uIE9iamVjdCgpIHsNCiAgICAgICAgb3duZXIgID0gbXNnLnNlbmRlcjsNCiAgICAgICAgaGFtbWVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQp9DQoNCi8vIFN0YW5kYXJkIHRva2VuIGludGVyZmFjZSAoRVJDIDIwKQ0KLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwDQpjb250cmFjdCBFUkMyMCANCnsNCi8vIEZ1bmN0aW9uczoNCiAgICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkDQogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KDQogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYA0KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkDQogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKTsNCg0KICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYA0KICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcg0KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkDQogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQoNCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMNCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2Zlcg0KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOw0KDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zDQogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudA0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7DQoNCi8vIEV2ZW50czoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCn0NCg0KLyoqDQogKiBAdGl0bGUgVG9rZW4gY29udHJhY3QgcmVwcmVzZW50cyBhbnkgYXNzZXQgaW4gZGlnaXRhbCBlY29ub215DQogKi8NCmNvbnRyYWN0IFRva2VuIGlzIE9iamVjdCwgRVJDMjAgew0KICAgIC8qIFNob3J0IGRlc2NyaXB0aW9uIG9mIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBuYW1lOw0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOw0KDQogICAgLyogVG90YWwgY291bnQgb2YgdG9rZW5zIGV4aXN0ICovDQogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCiAgICAvKiBGaXhlZCBwb2ludCBwb3NpdGlvbiAqLw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsNCiAgICANCiAgICAvKiBUb2tlbiBhcHByb3ZlbWVudCBzeXN0ZW0gKi8NCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7DQogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dhbmNlczsNCiANCiAgICAvKioNCiAgICAgKiBAZGV2IEdldCBiYWxhbmNlIG9mIHBsYWluIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX293bmVyIGlzIGEgdGFyZ2V0IGFkZHJlc3MNCiAgICAgKiBAcmV0dXJuIGFtb3VudCBvZiB0b2tlbnMgb24gYmFsYW5jZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikNCiAgICB7IHJldHVybiBiYWxhbmNlc1tfb3duZXJdOyB9DQogDQogICAgLyoqDQogICAgICogQGRldiBUYWtlIGFsbG93ZWQgdG9rZW5zDQogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zDQogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAgICAqIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikNCiAgICB7IHJldHVybiBhbGxvd2FuY2VzW19vd25lcl1bX3NwZW5kZXJdOyB9DQoNCiAgICAvKiBUb2tlbiBjb25zdHJ1Y3RvciAqLw0KICAgIGZ1bmN0aW9uIFRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgdWludCBfY291bnQpIHsNCiAgICAgICAgbmFtZSAgICAgICAgPSBfbmFtZTsNCiAgICAgICAgc3ltYm9sICAgICAgPSBfc3ltYm9sOw0KICAgICAgICBkZWNpbWFscyAgICA9IF9kZWNpbWFsczsNCiAgICAgICAgdG90YWxTdXBwbHkgPSBfY291bnQ7DQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gX2NvdW50Ow0KICAgIH0NCiANCiAgICAvKioNCiAgICAgKiBAZGV2IFRyYW5zZmVyIHNlbGYgdG9rZW5zIHRvIGdpdmVuIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX3RvIGRlc3RpbmF0aW9uIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX3ZhbHVlIGFtb3VudCBvZiB0b2tlbiB2YWx1ZXMgdG8gc2VuZA0KICAgICAqIEBub3RpY2UgYF92YWx1ZWAgdG9rZW5zIHdpbGwgYmUgc2VuZGVkIHRvIGBfdG9gDQogICAgICogQHJldHVybiBgdHJ1ZWAgd2hlbiB0cmFuc2ZlciBkb25lDQogICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gICAgICAgICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFRyYW5zZmVyIHdpdGggYXBwcm92ZW1lbnQgbWVjaGFpbnNtDQogICAgICogQHBhcmFtIF9mcm9tIHNvdXJjZSBhZGRyZXNzLCBgX3ZhbHVlYCB0b2tlbnMgc2hvbGQgYmUgYXBwcm92ZWQgZm9yIGBzZW5kZXJgDQogICAgICogQHBhcmFtIF90byBkZXN0aW5hdGlvbiBhZGRyZXNzDQogICAgICogQHBhcmFtIF92YWx1ZSBhbW91bnQgb2YgdG9rZW4gdmFsdWVzIHRvIHNlbmQgDQogICAgICogQG5vdGljZSBmcm9tIGBfZnJvbWAgd2lsbCBiZSBzZW5kZWQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gDQogICAgICogQHJldHVybiBgdHJ1ZWAgd2hlbiB0cmFuc2ZlciBpcyBkb25lDQogICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICB2YXIgYXZhaWwgPSBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXQ0KICAgICAgICAgICAgICAgICAgPiBiYWxhbmNlc1tfZnJvbV0gPyBiYWxhbmNlc1tfZnJvbV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl07DQogICAgICAgIGlmIChhdmFpbCA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICAgKz0gX3ZhbHVlOw0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEdpdmUgdG8gdGFyZ2V0IGFkZHJlc3MgYWJpbGl0eSBmb3Igc2VsZiB0b2tlbiBtYW5pcHVsYXRpb24gd2l0aG91dCBzZW5kaW5nDQogICAgICogQHBhcmFtIF9zcGVuZGVyIHRhcmdldCBhZGRyZXNzIChmdXR1cmUgcmVxdWVzdGVyKQ0KICAgICAqIEBwYXJhbSBfdmFsdWUgYW1vdW50IG9mIHRva2VuIHZhbHVlcyBmb3IgYXBwcm92aW5nDQogICAgICovDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSArPSBfdmFsdWU7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFJlc2V0IGNvdW50IG9mIHRva2VucyBhcHByb3ZlZCBmb3IgZ2l2ZW4gYWRkcmVzcw0KICAgICAqIEBwYXJhbSBfc3BlbmRlciB0YXJnZXQgYWRkcmVzcyAoZnV0dXJlIHJlcXVlc3RlcikNCiAgICAgKi8NCiAgICBmdW5jdGlvbiB1bmFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlcikNCiAgICB7IGFsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsgfQ0KfQ0KDQpjb250cmFjdCBUb2tlbkVtaXNzaW9uIGlzIFRva2VuIHsNCiAgICBmdW5jdGlvbiBUb2tlbkVtaXNzaW9uKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgX3N0YXJ0X2NvdW50KQ0KICAgICAgICAgICAgIFRva2VuKF9uYW1lLCBfc3ltYm9sLCBfZGVjaW1hbHMsIF9zdGFydF9jb3VudCkNCiAgICB7fQ0KDQogICAgLyoqDQogICAgICogQGRldiBUb2tlbiBlbWlzc2lvbg0KICAgICAqIEBwYXJhbSBfdmFsdWUgYW1vdW50IG9mIHRva2VuIHZhbHVlcyB0byBlbWl0DQogICAgICogQG5vdGljZSBvd25lciBiYWxhbmNlIHdpbGwgYmUgaW5jcmVhc2VkIGJ5IGBfdmFsdWVgDQogICAgICovDQogICAgZnVuY3Rpb24gZW1pc3Npb24odWludCBfdmFsdWUpIG9ubHlPd25lciB7DQogICAgICAgIC8vIE92ZXJmbG93IGNoZWNrDQogICAgICAgIGlmIChfdmFsdWUgKyB0b3RhbFN1cHBseSA8IHRvdGFsU3VwcGx5KSB0aHJvdzsNCg0KICAgICAgICB0b3RhbFN1cHBseSAgICAgKz0gX3ZhbHVlOw0KICAgICAgICBiYWxhbmNlc1tvd25lcl0gKz0gX3ZhbHVlOw0KICAgIH0NCiANCiAgICAvKioNCiAgICAgKiBAZGV2IEJ1cm4gdGhlIHRva2VuIHZhbHVlcyBmcm9tIHNlbmRlciBiYWxhbmNlIGFuZCBmcm9tIHRvdGFsDQogICAgICogQHBhcmFtIF92YWx1ZSBhbW91bnQgb2YgdG9rZW4gdmFsdWVzIGZvciBidXJuIA0KICAgICAqIEBub3RpY2Ugc2VuZGVyIGJhbGFuY2Ugd2lsbCBiZSBkZWNyZWFzZWQgYnkgYF92YWx1ZWANCiAgICAgKi8NCiAgICBmdW5jdGlvbiBidXJuKHVpbnQgX3ZhbHVlKSB7DQogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIHRvdGFsU3VwcGx5ICAgICAgLT0gX3ZhbHVlOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQovKioNCiAqIEB0aXRsZSBBc3NldCByZWNpcGllbnQgaW50ZXJmYWNlDQogKi8NCmNvbnRyYWN0IFJlY2lwaWVudCB7DQogICAgLyoqDQogICAgICogQGRldiBPbiByZWNlaXZlZCBldGhlcnMNCiAgICAgKiBAcGFyYW0gc2VuZGVyIEV0aGVyIHNlbmRlcg0KICAgICAqIEBwYXJhbSBhbW91bnQgRXRoZXIgdmFsdWUNCiAgICAgKi8NCiAgICBldmVudCBSZWNlaXZlZEV0aGVyKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsDQogICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IGluZGV4ZWQgYW1vdW50KTsNCg0KICAgIC8qKg0KICAgICAqIEBkZXYgT24gcmVjZWl2ZWQgY3VzdG9tIEVSQzIwIHRva2Vucw0KICAgICAqIEBwYXJhbSBmcm9tIFRva2VuIHNlbmRlcg0KICAgICAqIEBwYXJhbSB2YWx1ZSBUb2tlbiB2YWx1ZQ0KICAgICAqIEBwYXJhbSB0b2tlbiBUb2tlbiBjb250cmFjdCBhZGRyZXNzDQogICAgICogQHBhcmFtIGV4dHJhRGF0YSBDdXN0b20gYWRkaXRpb25hbCBkYXRhDQogICAgICovDQogICAgZXZlbnQgUmVjZWl2ZWRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIGZyb20sDQogICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBpbmRleGVkIHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCB0b2tlbiwNCiAgICAgICAgICAgICAgICAgICAgICAgICBieXRlcyBleHRyYURhdGEpOw0KDQogICAgLyoqDQogICAgICogQGRldiBSZWNlaXZlIGFwcHJvdmVkIEVSQzIwIHRva2Vucw0KICAgICAqIEBwYXJhbSBfZnJvbSBTcGVuZGVyIGFkZHJlc3MNCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRyYW5zYWN0aW9uIHZhbHVlDQogICAgICogQHBhcmFtIF90b2tlbiBFUkMyMCB0b2tlbiBjb250cmFjdCBhZGRyZXNzDQogICAgICogQHBhcmFtIF9leHRyYURhdGEgQ3VzdG9tIGFkZGl0aW9uYWwgZGF0YQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRVJDMjAgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSB7DQogICAgICAgIGlmICghX3Rva2VuLnRyYW5zZmVyRnJvbShfZnJvbSwgdGhpcywgX3ZhbHVlKSkgdGhyb3c7DQogICAgICAgIFJlY2VpdmVkVG9rZW5zKF9mcm9tLCBfdmFsdWUsIF90b2tlbiwgX2V4dHJhRGF0YSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBDYXRjaCBzZW5kZWQgdG8gY29udHJhY3QgZXRoZXJzDQogICAgICovDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZQ0KICAgIHsgUmVjZWl2ZWRFdGhlcihtc2cuc2VuZGVyLCBtc2cudmFsdWUpOyB9DQp9DQoNCi8qKg0KICogQHRpdGxlIENyb3dkZnVuZGluZyBjb250cmFjdA0KICovDQpjb250cmFjdCBDcm93ZGZ1bmRpbmcgaXMgT2JqZWN0LCBSZWNpcGllbnQgew0KICAgIC8qKg0KICAgICAqIEBkZXYgVGFyZ2V0IGZ1bmQgYWNjb3VudCBhZGRyZXNzDQogICAgICovDQogICAgYWRkcmVzcyBwdWJsaWMgZnVuZDsNCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQm91bnR5IHRva2VuIGFkZHJlc3MNCiAgICAgKi8NCiAgICBUb2tlbkVtaXNzaW9uIHB1YmxpYyBib3VudHk7DQogICAgDQogICAgLyoqDQogICAgICogQGRldiBEaXN0cmlidXRpb24gb2YgZG9uYXRpb25zDQogICAgICovDQogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBkb25hdGlvbnM7DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFRvdGFsIGZ1bmRlZCB2YWx1ZQ0KICAgICAqLw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsRnVuZGVkOw0KDQogICAgLyoqDQogICAgICogQGRldiBEb2N1bWVudGF0aW9uIHJlZmVyZW5jZQ0KICAgICAqLw0KICAgIHN0cmluZyBwdWJsaWMgcmVmZXJlbmNlOw0KDQogICAgLyoqDQogICAgICogQGRldiBDcm93ZGZ1bmRpbmcgY29uZmlndXJhdGlvbg0KICAgICAqLw0KICAgIFBhcmFtcyBwdWJsaWMgY29uZmlnOw0KDQogICAgc3RydWN0IFBhcmFtcyB7DQogICAgICAgIC8qIHN0YXJ0L3N0b3AgYmxvY2sgc3RhbXBzICovDQogICAgICAgIHVpbnQyNTYgc3RhcnRCbG9jazsNCiAgICAgICAgdWludDI1NiBzdG9wQmxvY2s7DQoNCiAgICAgICAgLyogTWluaW1hbC9tYXhpbWFsIGZ1bmRlZCB2YWx1ZSAqLw0KICAgICAgICB1aW50MjU2IG1pblZhbHVlOw0KICAgICAgICB1aW50MjU2IG1heFZhbHVlOw0KICAgICAgICANCiAgICAgICAgLyoqDQogICAgICAgICAqIEJvdW50eSByYXRpbyBlcXVhdGlvbjoNCiAgICAgICAgICogICBib3VudHlWYWx1ZSA9IHZhbHVlICogcmF0aW8gLyBzY2FsZQ0KICAgICAgICAgKiB3aGVyZQ0KICAgICAgICAgKiAgIHJhdGlvID0gUiAtIChibG9jayAtIEIpIC8gUyAqIFYNCiAgICAgICAgICogIFIgLSBzdGFydCBib3VudHkgcmF0aW8NCiAgICAgICAgICogIEIgLSBzdGFydCBibG9jayBudW1iZXINCiAgICAgICAgICogIFMgLSBib3VudHkgcmVkdWN0aW9uIHN0ZXAgaW4gYmxvY2tzIA0KICAgICAgICAgKiAgViAtIGJvdW50eSByZWR1Y3Rpb24gdmFsdWUNCiAgICAgICAgICovDQogICAgICAgIHVpbnQyNTYgYm91bnR5U2NhbGU7DQogICAgICAgIHVpbnQyNTYgc3RhcnRSYXRpbzsNCiAgICAgICAgdWludDI1NiByZWR1Y3Rpb25TdGVwOw0KICAgICAgICB1aW50MjU2IHJlZHVjdGlvblZhbHVlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQ2FsY3VsYXRlIGJvdW50eSB2YWx1ZSBieSByZWR1Y3Rpb24gZXF1YXRpb24NCiAgICAgKiBAcGFyYW0gX3ZhbHVlIElucHV0IGRvbmF0aW9uIHZhbHVlDQogICAgICogQHBhcmFtIF9ibG9jayBJbnB1dCBibG9jayBudW1iZXINCiAgICAgKiBAcmV0dXJuIEJvdW50eSB2YWx1ZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGJvdW50eVZhbHVlKHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9ibG9jaykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICBpZiAoX2Jsb2NrIDwgY29uZmlnLnN0YXJ0QmxvY2sgfHwgX2Jsb2NrID4gY29uZmlnLnN0b3BCbG9jaykNCiAgICAgICAgICAgIHJldHVybiAwOw0KDQogICAgICAgIHZhciBSID0gY29uZmlnLnN0YXJ0UmF0aW87DQogICAgICAgIHZhciBCID0gY29uZmlnLnN0YXJ0QmxvY2s7DQogICAgICAgIHZhciBTID0gY29uZmlnLnJlZHVjdGlvblN0ZXA7DQogICAgICAgIHZhciBWID0gY29uZmlnLnJlZHVjdGlvblZhbHVlOw0KICAgICAgICB1aW50MjU2IHJhdGlvID0gUiAtIChfYmxvY2sgLSBCKSAvIFMgKiBWOyANCiAgICAgICAgcmV0dXJuIF92YWx1ZSAqIHJhdGlvIC8gY29uZmlnLmJvdW50eVNjYWxlOyANCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IENyb3dkZnVuZGluZyBydW5uaW5nIGNoZWNrcw0KICAgICAqLw0KICAgIG1vZGlmaWVyIG9ubHlSdW5uaW5nIHsNCiAgICAgICAgYm9vbCBpc1J1bm5pbmcgPSB0b3RhbEZ1bmRlZCAgPCBjb25maWcubWF4VmFsdWUNCiAgICAgICAgICAgICAgICAgICAgICAmJiBibG9jay5udW1iZXIgPiBjb25maWcuc3RhcnRCbG9jaw0KICAgICAgICAgICAgICAgICAgICAgICYmIGJsb2NrLm51bWJlciA8IGNvbmZpZy5zdG9wQmxvY2s7DQogICAgICAgIGlmICghaXNSdW5uaW5nKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IENyb3dkZnVuZHVuZyBmYWlsdXJlIGNoZWNrcw0KICAgICAqLw0KICAgIG1vZGlmaWVyIG9ubHlGYWlsdXJlIHsNCiAgICAgICAgYm9vbCBpc0ZhaWx1cmUgPSB0b3RhbEZ1bmRlZCAgPCBjb25maWcubWluVmFsdWUNCiAgICAgICAgICAgICAgICAgICAgICAmJiBibG9jay5udW1iZXIgPiBjb25maWcuc3RvcEJsb2NrOw0KICAgICAgICBpZiAoIWlzRmFpbHVyZSkgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBDcm93ZGZ1bmRpbmcgc3VjY2VzcyBjaGVja3MNCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5U3VjY2VzcyB7DQogICAgICAgIGJvb2wgaXNTdWNjZXNzID0gdG90YWxGdW5kZWQgPj0gY29uZmlnLm1pblZhbHVlDQogICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2subnVtYmVyID4gY29uZmlnLnN0b3BCbG9jazsNCiAgICAgICAgaWYgKCFpc1N1Y2Nlc3MpIHRocm93Ow0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQ3Jvd2RmdW5kaW5nIGNvbnRyYWN0IGluaXRpYWwgDQogICAgICogQHBhcmFtIF9mdW5kIERlc3RpbmF0aW9uIGFjY291bnQgYWRkcmVzcw0KICAgICAqIEBwYXJhbSBfYm91bnR5IEJvdW50eSB0b2tlbiBhZGRyZXNzDQogICAgICogQHBhcmFtIF9yZWZlcmVuY2UgUmVmZXJlbmNlIGRvY3VtZW50YXRpb24gbGluaw0KICAgICAqIEBwYXJhbSBfc3RhcnRCbG9jayBGdW5kaW5nIHN0YXJ0IGJsb2NrIG51bWJlcg0KICAgICAqIEBwYXJhbSBfc3RvcEJsb2NrIEZ1bmRpbmcgc3RvcCBibG9jayBudWJtZXINCiAgICAgKiBAcGFyYW0gX21pblZhbHVlIE1pbmltYWwgZnVuZGVkIHZhbHVlIGluIHdlaSANCiAgICAgKiBAcGFyYW0gX21heFZhbHVlIE1heGltYWwgZnVuZGVkIHZhbHVlIGluIHdlaQ0KICAgICAqIEBwYXJhbSBfc2NhbGUgQm91bnR5IHNjYWxpbmcgZmFjdG9yIGJ5IGZ1bmRlZCB2YWx1ZQ0KICAgICAqIEBwYXJhbSBfc3RhcnRSYXRpbyBJbml0aWFsIGJvdW50eSByYXRpbw0KICAgICAqIEBwYXJhbSBfcmVkdWN0aW9uU3RlcCBCb3VudHkgcmVkdWN0aW9uIHN0ZXAgaW4gYmxvY2tzIA0KICAgICAqIEBwYXJhbSBfcmVkdWN0aW9uVmFsdWUgQm91bnR5IHJlZHVjdGlvbiB2YWx1ZQ0KICAgICAqIEBub3RpY2UgdGhpcyBjb250cmFjdCBzaG91bGQgYmUgb3duZXIgb2YgYm91bnR5IHRva2VuDQogICAgICovDQogICAgZnVuY3Rpb24gQ3Jvd2RmdW5kaW5nKA0KICAgICAgICBhZGRyZXNzIF9mdW5kLA0KICAgICAgICBhZGRyZXNzIF9ib3VudHksDQogICAgICAgIHN0cmluZyAgX3JlZmVyZW5jZSwNCiAgICAgICAgdWludDI1NiBfc3RhcnRCbG9jaywNCiAgICAgICAgdWludDI1NiBfc3RvcEJsb2NrLA0KICAgICAgICB1aW50MjU2IF9taW5WYWx1ZSwNCiAgICAgICAgdWludDI1NiBfbWF4VmFsdWUsDQogICAgICAgIHVpbnQyNTYgX3NjYWxlLA0KICAgICAgICB1aW50MjU2IF9zdGFydFJhdGlvLA0KICAgICAgICB1aW50MjU2IF9yZWR1Y3Rpb25TdGVwLA0KICAgICAgICB1aW50MjU2IF9yZWR1Y3Rpb25WYWx1ZQ0KICAgICkgew0KICAgICAgICBmdW5kICAgICAgPSBfZnVuZDsNCiAgICAgICAgYm91bnR5ICAgID0gVG9rZW5FbWlzc2lvbihfYm91bnR5KTsNCiAgICAgICAgcmVmZXJlbmNlID0gX3JlZmVyZW5jZTsNCg0KICAgICAgICBjb25maWcuc3RhcnRCbG9jayAgICAgPSBfc3RhcnRCbG9jazsNCiAgICAgICAgY29uZmlnLnN0b3BCbG9jayAgICAgID0gX3N0b3BCbG9jazsNCiAgICAgICAgY29uZmlnLm1pblZhbHVlICAgICAgID0gX21pblZhbHVlOw0KICAgICAgICBjb25maWcubWF4VmFsdWUgICAgICAgPSBfbWF4VmFsdWU7DQogICAgICAgIGNvbmZpZy5ib3VudHlTY2FsZSAgICA9IF9zY2FsZTsNCiAgICAgICAgY29uZmlnLnN0YXJ0UmF0aW8gICAgID0gX3N0YXJ0UmF0aW87DQogICAgICAgIGNvbmZpZy5yZWR1Y3Rpb25TdGVwICA9IF9yZWR1Y3Rpb25TdGVwOw0KICAgICAgICBjb25maWcucmVkdWN0aW9uVmFsdWUgPSBfcmVkdWN0aW9uVmFsdWU7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBSZWNlaXZlIEV0aGVyIHRva2VuIGFuZCBzZW5kIGJvdW50eQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgb25seVJ1bm5pbmcgew0KICAgICAgICBSZWNlaXZlZEV0aGVyKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7DQoNCiAgICAgICAgdG90YWxGdW5kZWQgICAgICAgICAgICs9IG1zZy52YWx1ZTsNCiAgICAgICAgZG9uYXRpb25zW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCg0KICAgICAgICB2YXIgYm91bnR5VmFsID0gYm91bnR5VmFsdWUobXNnLnZhbHVlLCBibG9jay5udW1iZXIpOw0KICAgICAgICBib3VudHkuZW1pc3Npb24oYm91bnR5VmFsKTsNCiAgICAgICAgYm91bnR5LnRyYW5zZmVyKG1zZy5zZW5kZXIsIGJvdW50eVZhbCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBXaXRoZHJhd2FsIGJhbGFuY2Ugb24gc3VjY2Vzc2Z1bGwgZmluaXNoDQogICAgICovDQogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5U3VjY2Vzcw0KICAgIHsgaWYgKCFmdW5kLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7IH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgUmVmdW5kIGRvbmF0aW9ucyB3aGVuIG5vIG1pbmltYWwgdmFsdWUgYWNoaWV2ZWQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBvbmx5RmFpbHVyZSB7DQogICAgICAgIHZhciBkb25hdGlvbiA9IGRvbmF0aW9uc1ttc2cuc2VuZGVyXTsNCiAgICAgICAgZG9uYXRpb25zW21zZy5zZW5kZXJdID0gMDsNCiAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoZG9uYXRpb24pKSB0aHJvdzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IERpc2FibGUgcmVjZWl2ZSBhbm90aGVyIHRva2Vucw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRVJDMjAgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKQ0KICAgIHsgdGhyb3c7IH0NCn0='