base 64 content
base64crowdsaleLeviusDAO
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMzsNCg0KbGlicmFyeSBTYWZlTWF0aCB7DQogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgew0KICAgIHVpbnQgYyA9IGEgKiBiOw0KICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7DQogICAgcmV0dXJuIGM7DQogIH0NCiAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgYXNzZXJ0KGIgPiAwKTsNCiAgICB1aW50IGMgPSBhIC8gYjsNCiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsNCiAgICByZXR1cm4gYzsNCiAgfQ0KICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICBhc3NlcnQoYiA8PSBhKTsNCiAgICByZXR1cm4gYSAtIGI7DQogIH0NCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgdWludCBjID0gYSArIGI7DQogICAgYXNzZXJ0KGMgPj0gYSk7DQogICAgcmV0dXJuIGM7DQogIH0NCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsNCiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7DQogIH0NCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsNCiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsNCiAgfQ0KICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7DQogIH0NCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7DQogIH0NCiANCn0NCg0KLyoNCiAqIFRva2VuIC0gaXMgYSBzbWFydCBjb250cmFjdCBpbnRlcmZhY2UgDQogKiBmb3IgbWFuYWdpbmcgY29tbW9uIGZ1bmN0aW9uYWxpdHkgb2YgDQogKiBhIHRva2VuLg0KICoNCiAqIEVSQy4yMCBUb2tlbiBzdGFuZGFyZDogaHR0cHM6Ly9naXRodWIuY29tL2V0aCBlcmV1bS9FSVBzL2lzc3Vlcy8yMA0KICovDQpjb250cmFjdCBUb2tlbkludGVyZmFjZSB7DQogICAgICAgIC8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMNCiAgICAgICAgdWludDI1NiB0b3RhbFN1cHBseTsNCg0KICAgICAgICAvKioNCiAgICAgICAgICoNCiAgICAgICAgICogYmFsYW5jZU9mKCkgLSBjb25zdGFudCBmdW5jdGlvbiBjaGVjayBjb25jcmV0ZSB0b2tlbnMgYmFsYW5jZSAgDQogICAgICAgICAqDQogICAgICAgICAqICBAcGFyYW0gb3duZXIgLSBhY2NvdW50IG93bmVyDQogICAgICAgICAqICANCiAgICAgICAgICogIEByZXR1cm4gdGhlIHZhbHVlIG9mIGJhbGFuY2UgDQogICAgICAgICAqLw0KICAgICAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGJhbGFuY2UpOw0KICAgICAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zKGJvb2wgc3VjY2Vzcyk7DQogICAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMoYm9vbCBzdWNjZXNzKTsNCg0KICAgICAgICAvKioNCiAgICAgICAgICoNCiAgICAgICAgICogYXBwcm92ZSgpIC0gZnVuY3Rpb24gYXBwcm92ZXMgdG8gYSBwZXJzb24gdG8gc3BlbmQgc29tZSB0b2tlbnMgZnJvbSANCiAgICAgICAgICogICAgICAgICAgIG93bmVyIGJhbGFuY2UuIA0KICAgICAgICAgKg0KICAgICAgICAgKiAgQHBhcmFtIHNwZW5kZXIgLSBwZXJzb24gd2hvbSB0aGlzIHJpZ2h0IGJlZW4gZ3JhbnRlZC4NCiAgICAgICAgICogIEBwYXJhbSB2YWx1ZSAgIC0gdmFsdWUgdG8gc3BlbmQuDQogICAgICAgICAqIA0KICAgICAgICAgKiAgQHJldHVybiB0cnVlIGluIGNhc2Ugb2Ygc3VjY2VzLCBvdGhlcndpc2UgZmFpbHVyZQ0KICAgICAgICAgKiANCiAgICAgICAgICovDQogICAgICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqDQogICAgICAgICAqIGFsbG93YW5jZSgpIC0gY29uc3RhbnQgZnVuY3Rpb24gdG8gY2hlY2sgaG93IG11Y2ggaXMgDQogICAgICAgICAqICAgICAgICAgICAgICAgcGVybWl0dGVkIHRvIHNwZW5kIHRvIDNyZCBwZXJzb24gZnJvbSBvd25lciBiYWxhbmNlDQogICAgICAgICAqDQogICAgICAgICAqICBAcGFyYW0gb3duZXIgICAtIG93bmVyIG9mIHRoZSBiYWxhbmNlDQogICAgICAgICAqICBAcGFyYW0gc3BlbmRlciAtIHBlcm1pdHRlZCB0byBzcGVuZCBmcm9tIHRoaXMgYmFsYW5jZSBwZXJzb24gDQogICAgICAgICAqICANCiAgICAgICAgICogIEByZXR1cm4gLSByZW1haW5pbmcgcmlnaHQgdG8gc3BlbmQgDQogICAgICAgICAqIA0KICAgICAgICAgKi8NCiAgICAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IHJlbWFpbmluZyk7DQoNCiAgICAgICAgLy8gZXZlbnRzIG5vdGlmaWNhdGlvbnMNCiAgICAgICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQogICAgICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KfQ0KDQoNCi8qDQogKiBTdGFuZGFyZFRva2VuIC0gaXMgYSBzbWFydCBjb250cmFjdCAgDQogKiBmb3IgbWFuYWdpbmcgY29tbW9uIGZ1bmN0aW9uYWxpdHkgb2YgDQogKiBhIHRva2VuLg0KICoNCiAqIEVSQy4yMCBUb2tlbiBzdGFuZGFyZDogDQogKiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGggZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqLw0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbkludGVyZmFjZSB7DQogICAgICAgIC8vIHRva2VuIG93bmVyc2hpcA0KICAgICAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQoNCiAgICAgICAgLy8gc3BlbmRpbmcgcGVybWlzaW9uIG1hbmFnZW1lbnQNCiAgICAgICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCg0KICAgICAgICBhZGRyZXNzIG93bmVyOw0KICAgICAgICAvL2Jlc3QgMTAgb3duZXJzDQogICAgICAgIGFkZHJlc3NbXSBiZXN0X3dhbHM7DQogICAgICAgIHVpbnRbXSBiZXN0X2NvdW50Ow0KDQogICAgICAgIGZ1bmN0aW9uIFN0YW5kYXJkVG9rZW4oKSB7DQogICAgICAgICAgICBmb3IodWludDggaSA9IDA7IGkgPCAxMDsgaSsrKSB7DQogICAgICAgICAgICAgICAgYmVzdF93YWxzLnB1c2goYWRkcmVzcygwKSk7DQogICAgICAgICAgICAgICAgYmVzdF9jb3VudC5wdXNoKDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvKioNCiAgICAgICAgICogdHJhbnNmZXIoKSAtIHRyYW5zZmVyIHRva2VucyBmcm9tIG1zZy5zZW5kZXIgYmFsYW5jZSANCiAgICAgICAgICogICAgICAgICAgICAgIHRvIHJlcXVlc3RlZCBhY2NvdW50DQogICAgICAgICAqDQogICAgICAgICAqICBAcGFyYW0gdG8gICAgLSB0YXJnZXQgYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMNCiAgICAgICAgICogIEBwYXJhbSB2YWx1ZSAtIGFtbW91bnQgb2YgdG9rZW5zIHRvIHRyYW5zZmVyDQogICAgICAgICAqDQogICAgICAgICAqICBAcmV0dXJuIC0gc3VjY2VzcyAvIGZhaWx1cmUgb2YgdGhlIHRyYW5zYWN0aW9uDQogICAgICAgICAqLw0KICAgICAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zKGJvb2wgc3VjY2Vzcykgew0KDQogICAgICAgICAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHZhbHVlICYmIHZhbHVlID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gYWN0dWFsIHRva2VucyB0cmFuc2ZlciAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IHZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbdG9dICs9IHZhbHVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBDaGVja0Jlc3QoYmFsYW5jZXNbdG9dLCB0byk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJpc2UgdGhlIFRyYW5zZmVyIGV2ZW50DQogICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0bywgdmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXJXaXRob3V0Q2hhbmdlQmVzdChhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zKGJvb2wgc3VjY2Vzcykgew0KDQogICAgICAgICAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHZhbHVlICYmIHZhbHVlID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gYWN0dWFsIHRva2VucyB0cmFuc2ZlciAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IHZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbdG9dICs9IHZhbHVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvLyByaXNlIHRoZSBUcmFuc2ZlciBldmVudA0KICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiB0cmFuc2ZlckZyb20oKSAtIA0KICAgICAgICAgKg0KICAgICAgICAgKiAgQHBhcmFtIGZyb20gIC0gDQogICAgICAgICAqICBAcGFyYW0gdG8gICAgLSANCiAgICAgICAgICogIEBwYXJhbSB2YWx1ZSAtIA0KICAgICAgICAgKg0KICAgICAgICAgKiAgQHJldHVybiANCiAgICAgICAgICovDQogICAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7DQoNCiAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZXNbZnJvbV0gPj0gdmFsdWUgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0gPj0gdmFsdWUgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID4gMCkgew0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIHRoZSBhY3R1YWwgdHJhbnNmZXINCiAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2VzW2Zyb21dIC09IHZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbdG9dICs9IHZhbHVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBDaGVja0Jlc3QoYmFsYW5jZXNbdG9dLCB0byk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZGp1c3QgdGhlIHBlcm1pc2lvbiwgYWZ0ZXIgcGFydCBvZiANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBlcm1pdGVkIHRvIHNwZW5kIHZhbHVlIHdhcyB1c2VkDQogICAgICAgICAgICAgICAgICAgICAgICBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdIC09IHZhbHVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvLyByaXNlIHRoZSBUcmFuc2ZlciBldmVudA0KICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNmZXIoZnJvbSwgdG8sIHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBDaGVja0Jlc3QodWludCBfdG9rZW5zLCBhZGRyZXNzIF9hZGRyZXNzKSB7DQogICAgICAgICAgICAvL9C00L7Qv9C40YHQsNGC0Ywg0YLQvtC60LXQvSDQv9GA0L7QstC10YDQutGDINC70YPRh9GI0LjRhSAo0L/QtdGA0LXQvdC10YHRgtC4INC40Lcg0LrRgNCw0YPQtNGB0LXQudC70LApDQogICAgICAgICAgICBmb3IodWludDggaSA9IDA7IGkgPCAxMDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYmVzdF9jb3VudFtpXSA8IF90b2tlbnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHVpbnQ4IGogPSA5OyBqID4gaTsgai0tKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0X2NvdW50W2pdID0gYmVzdF9jb3VudFtqLTFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdF93YWxzW2pdID0gYmVzdF93YWxzW2otMV07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0X2NvdW50W2ldID0gX3Rva2VuczsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdF93YWxzW2ldID0gX2FkZHJlc3M7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8qKg0KICAgICAgICAgKg0KICAgICAgICAgKiBiYWxhbmNlT2YoKSAtIGNvbnN0YW50IGZ1bmN0aW9uIGNoZWNrIGNvbmNyZXRlIHRva2VucyBiYWxhbmNlICANCiAgICAgICAgICoNCiAgICAgICAgICogIEBwYXJhbSBvd25lciAtIGFjY291bnQgb3duZXINCiAgICAgICAgICogIA0KICAgICAgICAgKiAgQHJldHVybiB0aGUgdmFsdWUgb2YgYmFsYW5jZSANCiAgICAgICAgICovDQogICAgICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKSBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBiYWxhbmNlc1tvd25lcl07DQogICAgICAgIH0NCg0KICAgICAgICAvKioNCiAgICAgICAgICoNCiAgICAgICAgICogYXBwcm92ZSgpIC0gZnVuY3Rpb24gYXBwcm92ZXMgdG8gYSBwZXJzb24gdG8gc3BlbmQgc29tZSB0b2tlbnMgZnJvbSANCiAgICAgICAgICogICAgICAgICAgIG93bmVyIGJhbGFuY2UuIA0KICAgICAgICAgKg0KICAgICAgICAgKiAgQHBhcmFtIHNwZW5kZXIgLSBwZXJzb24gd2hvbSB0aGlzIHJpZ2h0IGJlZW4gZ3JhbnRlZC4NCiAgICAgICAgICogIEBwYXJhbSB2YWx1ZSAgIC0gdmFsdWUgdG8gc3BlbmQuDQogICAgICAgICAqIA0KICAgICAgICAgKiAgQHJldHVybiB0cnVlIGluIGNhc2Ugb2Ygc3VjY2VzLCBvdGhlcndpc2UgZmFpbHVyZQ0KICAgICAgICAgKiANCiAgICAgICAgICovDQogICAgICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zKGJvb2wgc3VjY2Vzcykgew0KDQogICAgICAgICAgICAgICAgLy8gbm93IHNwZW5kZXIgY2FuIHVzZSBiYWxhbmNlIGluIA0KICAgICAgICAgICAgICAgIC8vIGFtbW91bnQgb2YgdmFsdWUgZnJvbSBvd25lciBiYWxhbmNlDQogICAgICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHZhbHVlOw0KDQogICAgICAgICAgICAgICAgLy8gcmlzZSBldmVudCBhYm91dCB0aGUgdHJhbnNhY3Rpb24NCiAgICAgICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBzcGVuZGVyLCB2YWx1ZSk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qKg0KICAgICAgICAgKg0KICAgICAgICAgKiBhbGxvd2FuY2UoKSAtIGNvbnN0YW50IGZ1bmN0aW9uIHRvIGNoZWNrIGhvdyBtb3VjaCBpcyANCiAgICAgICAgICogICAgICAgICAgICAgICBwZXJtaXRlZCB0byBzcGVuZCB0byAzcmQgcGVyc29uIGZyb20gb3duZXIgYmFsYW5jZQ0KICAgICAgICAgKg0KICAgICAgICAgKiAgQHBhcmFtIG93bmVyICAgLSBvd25lciBvZiB0aGUgYmFsYW5jZQ0KICAgICAgICAgKiAgQHBhcmFtIHNwZW5kZXIgLSBwZXJtaXRlZCB0byBzcGVuZCBmcm9tIHRoaXMgYmFsYW5jZSBwZXJzb24gDQogICAgICAgICAqICANCiAgICAgICAgICogIEByZXR1cm4gLSByZW1haW5pbmcgcmlnaHQgdG8gc3BlbmQgDQogICAgICAgICAqIA0KICAgICAgICAgKi8NCiAgICAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IHJlbWFpbmluZykgew0KICAgICAgICAgICAgICAgIHJldHVybiBhbGxvd2VkW293bmVyXVtzcGVuZGVyXTsNCiAgICAgICAgfQ0KDQp9DQoNCmNvbnRyYWN0IExldml1c0RBTyBpcyBTdGFuZGFyZFRva2VuIHsNCg0KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkxldml1c0RBTyI7DQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkxldml1c0RBTyI7DQoNCiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA4Ow0KICAgIHVpbnQgREVDSU1BTF9aRVJPUyA9IDEwKio4Ow0KDQogICAgbW9kaWZpZXIgb25seU93bmVyIHsgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOyBfOyB9DQoNCiAgICBldmVudCBCZXN0Q291bnRUb2tlbnModWludCBfYW1vdW50KTsNCiAgICBldmVudCBCZXN0V2FsbGV0KGFkZHJlc3MgX2FkZHJlc3MpOw0KDQogICAgLy8gQ29uc3RydWN0b3INCiAgICBmdW5jdGlvbiBMZXZpdXNEQU8oKSB7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gNTAwMDAwMDAwMCAqIERFQ0lNQUxfWkVST1M7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBHZXRCZXN0VG9rZW5Db3VudCh1aW50OCBfbnVtKSByZXR1cm5zICh1aW50KSB7DQogICAgICAgIGFzc2VydChfbnVtIDwgMTApOw0KICAgICAgICBCZXN0Q291bnRUb2tlbnMoYmVzdF9jb3VudFtfbnVtXSk7DQogICAgICAgIHJldHVybiBiZXN0X2NvdW50W19udW1dOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEdldEJlc3RXYWxsZXRBZGRyZXNzKHVpbnQ4IF9udW0pIG9ubHlPd25lciByZXR1cm5zIChhZGRyZXNzKSB7DQogICAgICAgIGFzc2VydChfbnVtIDwgMTApOw0KICAgICAgICBCZXN0V2FsbGV0KGJlc3Rfd2Fsc1tfbnVtXSk7DQogICAgICAgIHJldHVybiBiZXN0X3dhbHNbX251bV07DQogICAgfQ0KfQ0KDQpjb250cmFjdCBDcm93ZHNhbGVMZXZpdXNEQU8gew0KICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50Ow0KICAgIHVpbnQgcHVibGljIHN0YXJ0X2ljbyA9IDE1MDM5NjQ4MDA7Ly9QMjogR01UOiAyOS1BdWctMjAxNyAwMDowMCAgPT4gU3RhcnQgaWNvDQogICAgdWludCBwdWJsaWMgcm91bmQxID0gMTUwNDIyNDAwMDsvL1AzOiBHTVQ6IDEtU2VwLTIwMTcgMDA6MDAgID0+IEVuZCByb3VuZDENCiAgICB1aW50IHB1YmxpYyBkZWFkbGluZSA9IDE1MDkxNDg4MDA7Ly8gR01UOiAyOC1PY3QtMjAxNyAwMDowMCA9PiBFbmQgaWNvDQoNCiAgICAvL3VpbnQgcHVibGljIHN0YXJ0X2ljbyA9IG5vdyArIDUgbWludXRlczsvL1AyOiBHTVQ6IDE4LUF1Zy0yMDE3IDAwOjAwICA9PiBTdGFydCBpY28NCiAgICAvL3VpbnQgcHVibGljIHJvdW5kMSA9IG5vdyArIDEwIG1pbnV0ZXM7Ly9QMzogR01UOiAxMy1BdWctMjAxNyAwMDowMCAgPT4gRW5kIHJvdW5kMQ0KICAgIC8vdWludCBwdWJsaWMgZGVhZGxpbmUgPSBub3cgKyAxNSBtaW51dGVzOw0KDQogICAgdWludCBhbW91bnRSYWlzZWQ7DQogICAgTGV2aXVzREFPIHB1YmxpYyB0b2tlblJld2FyZDsNCiAgICBib29sIGNyb3dkc2FsZUNsb3NlZCA9IGZhbHNlOw0KICAgIGJvb2wgcHVibGljIGZ1bmRpbmdHb2FsUmVhY2hlZCA9IGZhbHNlOw0KICAgIGFkZHJlc3Mgb3duZXI7DQoNCiAgICAvLyAxIGV0aGVyID0gMzAwJA0KICAgIC8vIDEgZXRoZXIgPSAxMiwwMDAgTGV2aXVzREFPICgxIExldml1c0RBTyA9IDAuMDMkKSBCb251czogMjAlDQogICAgdWludCBQUklDRV8wMSA9IDEyMDAwOw0KDQogICAgLy8gMSBldGhlciA9IDksMDAwIExldml1c0RBTyAoMSBMZXZpdXNEQU8gPSAwLjA0JCkgQm9udXM6IDIwJQ0KICAgIHVpbnQgUFJJQ0VfMDIgPSA5MDAwOw0KDQogICAgLy8gMSBldGhlciA9IDcsNTAwIExldml1c0RBTyAoMSBMZXZpdXNEQU8gPSAwLjA0JCkgQm9udXM6IDAlDQogICAgdWludCBQUklDRV8wMyA9IDc1MDA7DQoNCiAgICB1aW50IERFQ0lNQUxfWkVST1MgPSAxMDAwMDAwMDA7DQoNCiAgICAvLzEyLDUwMCwwMDAgTGV2aXVzREFPICogMC4wNCQgPSA1MDAsMDAwJA0KICAgIC8vNTAwLDAwMCAvIDMwMCA9IDEsNzAwIGV0aGVycw0KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9DQVAgPSAxNzAwIGV0aGVyOyAgICANCg0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBldGhfYmFsYW5jZTsNCg0KICAgIC8vaWYgKGFkZHIgPT0gYWRkcmVzcygwKSkgdGhyb3c7DQoNCiAgICBldmVudCBGdW5kVHJhbnNmZXIoYWRkcmVzcyBiYWNrZXIsIHVpbnQgYW1vdW50KTsNCiAgICBldmVudCBTZW5kVG9rZW5zKHVpbnQgYW1vdW50KTsNCiAgICANCiAgICBtb2RpZmllciBhZnRlckRlYWRsaW5lKCkgeyBpZiAobm93ID49IGRlYWRsaW5lKSBfOyB9DQogICAgbW9kaWZpZXIgb25seU93bmVyIHsgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOyBfOyB9DQoNCiAgICBmdW5jdGlvbiBDcm93ZHNhbGVMZXZpdXNEQU8oDQogICAgICAgIGFkZHJlc3MgYWRkcmVzc09mVG9rZW5Vc2VkQXNSZXdhcmQNCiAgICAgICAgKSB7DQogICAgICAgIA0KICAgICAgICB0b2tlblJld2FyZCA9IExldml1c0RBTyhhZGRyZXNzT2ZUb2tlblVzZWRBc1Jld2FyZCk7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsNCiAgICAgICAgYXNzZXJ0KG5vdyA8PSBkZWFkbGluZSk7DQoNCiAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUgKiBnZXRQcmljZSgpICogREVDSU1BTF9aRVJPUyAvIDEgZXRoZXI7DQoNCiAgICAgICAgYXNzZXJ0KHRva2VuUmV3YXJkLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSA+PSB0b2tlbnMpOw0KDQogICAgICAgIGFtb3VudFJhaXNlZCArPSBtc2cudmFsdWU7DQogICAgICAgIGV0aF9iYWxhbmNlW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCiAgICAgICAgdG9rZW5SZXdhcmQudHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5zKTsgICAgICAgIA0KDQogICAgICAgIGlmKCFmdW5kaW5nR29hbFJlYWNoZWQpIHsNCiAgICAgICAgICAgIGlmKGFtb3VudFJhaXNlZCA+PSBNSU5fQ0FQKSB7DQogICAgICAgICAgICAgICAgZnVuZGluZ0dvYWxSZWFjaGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIFNlbmRUb2tlbnModG9rZW5zKTsNCiAgICAgICAgRnVuZFRyYW5zZmVyKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0UHJpY2UoKSBjb25zdGFudCByZXR1cm5zKHVpbnQgcmVzdWx0KSB7DQogICAgICAgIGlmIChub3cgPD0gc3RhcnRfaWNvKSB7DQogICAgICAgICAgICByZXN1bHQgPSBQUklDRV8wMTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGlmKG5vdyA8PSByb3VuZDEpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSBQUklDRV8wMjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBSSUNFXzAzOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2FmZVdpdGhkcmF3YWwoKSBhZnRlckRlYWRsaW5lIHsNCiAgICAgICAgaWYgKCFmdW5kaW5nR29hbFJlYWNoZWQpIHsNCiAgICAgICAgICAgIHVpbnQgYW1vdW50ID0gZXRoX2JhbGFuY2VbbXNnLnNlbmRlcl07DQogICAgICAgICAgICBldGhfYmFsYW5jZVttc2cuc2VuZGVyXSA9IDA7DQoNCiAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7DQogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIuc2VuZChhbW91bnQpKSB7DQogICAgICAgICAgICAgICAgICAgIEZ1bmRUcmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGV0aF9iYWxhbmNlW21zZy5zZW5kZXJdID0gYW1vdW50Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFdpdGhkcmF3YWxUb2tlbnNBZnRlckRlYWRMaW5lKCkgb25seU93bmVyIHsNCiAgICAgICAgYXNzZXJ0KG5vdyA+IGRlYWRsaW5lKTsNCg0KICAgICAgICB0b2tlblJld2FyZC50cmFuc2ZlcldpdGhvdXRDaGFuZ2VCZXN0KG1zZy5zZW5kZXIsIHRva2VuUmV3YXJkLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gV2l0aGRyYXdhbEFmdGVyR29hbFJlYWNoZWQoKSB7DQogICAgICAgIGFzc2VydChmdW5kaW5nR29hbFJlYWNoZWQgJiYgb3duZXIgPT0gbXNnLnNlbmRlcik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChvd25lci5zZW5kKGFtb3VudFJhaXNlZCkpIHsNCiAgICAgICAgICAgICAgICBGdW5kVHJhbnNmZXIob3duZXIsIGFtb3VudFJhaXNlZCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vSWYgd2UgZmFpbCB0byBzZW5kIHRoZSBmdW5kcyB0byBiZW5lZmljaWFyeSwgdW5sb2NrIGZ1bmRlcnMgYmFsYW5jZQ0KICAgICAgICAgICAgICAgIGZ1bmRpbmdHb2FsUmVhY2hlZCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAvL30NCiAgICB9DQp9'