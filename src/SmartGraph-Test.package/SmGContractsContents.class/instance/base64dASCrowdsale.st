base 64 content
base64dASCrowdsale
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KDQovKg0KICBBdXRob3I6IFZpY3RvciBNZXpyaW4gIHZpY3RvckBtZXpyaW4uY29tDQoqLw0KDQoNCi8qIEludGVyZmFjZSBvZiB0aGUgRVJDMjIzIHRva2VuICovDQpjb250cmFjdCBFUkMyMjNUb2tlbkludGVyZmFjZSB7DQogICAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfbmFtZSk7DQogICAgZnVuY3Rpb24gc3ltYm9sKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIF9zeW1ib2wpOw0KICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDggX2RlY2ltYWxzKTsNCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX3N1cHBseSk7DQoNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX2JhbGFuY2UpOw0KDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX3JlbWFpbmluZyk7DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX21ldGFkYXRhKSByZXR1cm5zIChib29sIF9zdWNjZXNzKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKTsNCg0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOw0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUsIGJ5dGVzIG1ldGFkYXRhKTsNCn0NCg0KDQovKiBJbnRlcmZhY2Ugb2YgdGhlIGNvbnRyYWN0IHRoYXQgaXMgZ29pbmcgdG8gcmVjZWl2ZSBFUkMyMjMgdG9rZW5zICovDQpjb250cmFjdCBFUkMyMjNDb250cmFjdEludGVyZmFjZSB7DQogICAgZnVuY3Rpb24gZXJjMjIzRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9kYXRhKXsNCiAgICAgICAgLy8gdG8gYXZvaWQgd2FybmluZ3MgZHVyaW5nIGNvbXBpbGF0aW9uDQogICAgICAgIF9mcm9tID0gX2Zyb207DQogICAgICAgIF92YWx1ZSA9IF92YWx1ZTsNCiAgICAgICAgX2RhdGEgPSBfZGF0YTsNCiAgICAgICAgLy8gSW5jb21pbmcgdHJhbnNhY3Rpb24gY29kZSBoZXJlDQogICAgICAgIHRocm93Ow0KICAgIH0NCn0NCg0KDQovKiBodHRwczovL2dpdGh1Yi5jb20vTHlra2VDaXR5L0V0aGVyZXVtQXBpRG90TmV0Q29yZS9ibG9iL21hc3Rlci9zcmMvQ29udHJhY3RCdWlsZGVyL2NvbnRyYWN0cy90b2tlbi9TYWZlTWF0aC5zb2wgKi8NCmNvbnRyYWN0IFNhZmVNYXRoIHsNCiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBNQVhfVUlOVDI1NiA9DQogICAgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOw0KDQogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7DQogICAgICAgIGlmICh4ID4gTUFYX1VJTlQyNTYgLSB5KSB0aHJvdzsNCiAgICAgICAgcmV0dXJuIHggKyB5Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNhZmVTdWIodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgew0KICAgICAgICBpZiAoeCA8IHkpIHRocm93Ow0KICAgICAgICByZXR1cm4geCAtIHk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7DQogICAgICAgIGlmICh5ID09IDApIHJldHVybiAwOw0KICAgICAgICBpZiAoeCA+IE1BWF9VSU5UMjU2IC8geSkgdGhyb3c7DQogICAgICAgIHJldHVybiB4ICogeTsNCiAgICB9DQp9DQoNCg0KY29udHJhY3QgRVJDMjIzVG9rZW4gaXMgRVJDMjIzVG9rZW5JbnRlcmZhY2UsIFNhZmVNYXRoIHsNCg0KICAgIC8qDQogICAgICBTdG9yYWdlIG9mIHRoZSBjb250cmFjdA0KICAgICovDQoNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dhbmNlczsNCg0KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsNCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsNCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCg0KICAgIC8qDQogICAgICBHZXR0ZXJzDQogICAgKi8NCg0KICAgIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX25hbWUpIHsNCiAgICAgICAgcmV0dXJuIG5hbWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3ltYm9sKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIF9zeW1ib2wpIHsNCiAgICAgICAgcmV0dXJuIHN5bWJvbDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IF9kZWNpbWFscykgew0KICAgICAgICByZXR1cm4gZGVjaW1hbHM7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9zdXBwbHkpIHsNCiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfYmFsYW5jZSkgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgICB9DQoNCg0KICAgIC8qDQogICAgICBBbGxvdyB0byBzcGVuZA0KICAgICovDQoNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKSB7DQogICAgICAgIGFsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9yZW1haW5pbmcpIHsNCiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQoNCiAgICAvKg0KICAgICAgVHJhbnNmZXINCiAgICAqLw0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKSB7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBlbXB0eU1ldGFkYXRhOw0KICAgICAgICBfX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBlbXB0eU1ldGFkYXRhKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfbWV0YWRhdGEpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpDQogICAgew0KICAgICAgICBfX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfbWV0YWRhdGEpOw0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX21ldGFkYXRhKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcykgew0KICAgICAgICBpZiAoYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHRocm93Ow0KDQogICAgICAgIGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSwgX3ZhbHVlKTsNCiAgICAgICAgYnl0ZXMgbWVtb3J5IGVtcHR5TWV0YWRhdGE7DQogICAgICAgIF9fdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlLCBlbXB0eU1ldGFkYXRhKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gX190cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9tZXRhZGF0YSkgaW50ZXJuYWwNCiAgICB7DQogICAgICAgIGlmIChfZnJvbSA9PSBfdG8pIHRocm93Ow0KICAgICAgICBpZiAoX3ZhbHVlID09IDApIHRocm93Ow0KICAgICAgICBpZiAoYmFsYW5jZU9mKF9mcm9tKSA8IF92YWx1ZSkgdGhyb3c7DQoNCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlT2YoX2Zyb20pLCBfdmFsdWUpOw0KICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlT2YoX3RvKSwgX3ZhbHVlKTsNCg0KICAgICAgICBpZiAoaXNDb250cmFjdChfdG8pKSB7DQogICAgICAgICAgICBFUkMyMjNDb250cmFjdEludGVyZmFjZSByZWNlaXZlckNvbnRyYWN0ID0gRVJDMjIzQ29udHJhY3RJbnRlcmZhY2UoX3RvKTsNCiAgICAgICAgICAgIHJlY2VpdmVyQ29udHJhY3QuZXJjMjIzRmFsbGJhY2soX2Zyb20sIF92YWx1ZSwgX21ldGFkYXRhKTsNCiAgICAgICAgfQ0KDQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgfQ0KDQoNCiAgICAvKg0KICAgICAgSGVscGVycw0KICAgICovDQoNCiAgICAvLyBBc3NlbWJsZSB0aGUgZ2l2ZW4gYWRkcmVzcyBieXRlY29kZS4gSWYgYnl0ZWNvZGUgZXhpc3RzIHRoZW4gdGhlIF9hZGRyIGlzIGEgY29udHJhY3QuDQogICAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBpbnRlcm5hbCByZXR1cm5zIChib29sIF9pc0NvbnRyYWN0KSB7DQogICAgICAgIF9hZGRyID0gX2FkZHI7IC8vIHRvIGF2b2lkIHdhcm5pbmdzIGR1cmluZyBjb21waWxhdGlvbg0KDQogICAgICAgIHVpbnQyNTYgbGVuZ3RoOw0KICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICAvL3JldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBjb2RlIG9uIHRhcmdldCBhZGRyZXNzLCB0aGlzIG5lZWRzIGFzc2VtYmx5DQogICAgICAgICAgICBsZW5ndGggOj0gZXh0Y29kZXNpemUoX2FkZHIpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIChsZW5ndGggPiAwKTsNCiAgICB9DQp9DQoNCg0KDQovLyBFUkMyMjMgdG9rZW4gd2l0aCB0aGUgYWJpbGl0eSBmb3IgdGhlIG93bmVyIHRvIGJsb2NrIGFueSBhY2NvdW50DQpjb250cmFjdCBEQVNUb2tlbiBpcyBFUkMyMjNUb2tlbiB7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBibG9ja2VkQWNjb3VudHM7DQogICAgYWRkcmVzcyBwdWJsaWMgc2VjcmV0YXJ5R2VuZXJhbDsNCg0KDQogICAgLy8gQ29uc3RydWN0b3INCiAgICBmdW5jdGlvbiBEQVNUb2tlbigNCiAgICAgICAgICAgIHN0cmluZyBfbmFtZSwNCiAgICAgICAgICAgIHN0cmluZyBfc3ltYm9sLA0KICAgICAgICAgICAgdWludDggX2RlY2ltYWxzLA0KICAgICAgICAgICAgdWludDI1NiBfdG90YWxTdXBwbHksDQogICAgICAgICAgICBhZGRyZXNzIF9pbml0aWFsVG9rZW5zSG9sZGVyKSB7DQogICAgICAgIHNlY3JldGFyeUdlbmVyYWwgPSBtc2cuc2VuZGVyOw0KICAgICAgICBuYW1lID0gX25hbWU7DQogICAgICAgIHN5bWJvbCA9IF9zeW1ib2w7DQogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOw0KICAgICAgICB0b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseTsNCiAgICAgICAgYmFsYW5jZXNbX2luaXRpYWxUb2tlbnNIb2xkZXJdID0gX3RvdGFsU3VwcGx5Ow0KICAgIH0NCg0KDQogICAgbW9kaWZpZXIgb25seVNlY3JldGFyeUdlbmVyYWwgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBzZWNyZXRhcnlHZW5lcmFsKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQoNCg0KICAgIC8vIGJsb2NrIGFjY291bnQNCiAgICBmdW5jdGlvbiBibG9ja0FjY291bnQoYWRkcmVzcyBfYWNjb3VudCkgb25seVNlY3JldGFyeUdlbmVyYWwgew0KICAgICAgICBibG9ja2VkQWNjb3VudHNbX2FjY291bnRdID0gdHJ1ZTsNCiAgICB9DQoNCiAgICAvLyB1bmJsb2NrIGFjY291bnQNCiAgICBmdW5jdGlvbiB1bmJsb2NrQWNjb3VudChhZGRyZXNzIF9hY2NvdW50KSBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7DQogICAgICAgIGJsb2NrZWRBY2NvdW50c1tfYWNjb3VudF0gPSBmYWxzZTsNCiAgICB9DQoNCiAgICAvLyBjaGVjayBpcyBhY2NvdW50IGJsb2NrZWQNCiAgICBmdW5jdGlvbiBpc0FjY291bnRCbG9ja2VkKGFkZHJlc3MgX2FjY291bnQpIHJldHVybnMgKGJvb2wpew0KICAgICAgICByZXR1cm4gYmxvY2tlZEFjY291bnRzW19hY2NvdW50XTsNCiAgICB9DQoNCiAgICAvLyBvdmVycmlkZSB0cmFuc2ZlciBtZXRob2RzIHRvIHRocm93IG9uIGJsb2NrZWQgYWNjb3VudHMNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJsb2NrZWRBY2NvdW50c1ttc2cuc2VuZGVyXSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9tZXRhZGF0YSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcykgew0KICAgICAgICBpZiAoYmxvY2tlZEFjY291bnRzW21zZy5zZW5kZXJdKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUsIF9tZXRhZGF0YSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcykgew0KICAgICAgICBpZiAoYmxvY2tlZEFjY291bnRzW19mcm9tXSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgIH0NCn0NCg0KDQoNCmNvbnRyYWN0IERBU0Nyb3dkc2FsZSBpcyBFUkMyMjNDb250cmFjdEludGVyZmFjZSB7DQoNCiAgICAvKiBDb250cmFjdCBzdGF0ZSAqLw0KICAgIC8vIGNvbmZpZ3VyYXRpb24NCiAgICBhZGRyZXNzIHB1YmxpYyBzZWNyZXRhcnlHZW5lcmFsOw0KICAgIGFkZHJlc3MgcHVibGljIGNyb3dkc2FsZUJlbmVmaWNpYXJ5Ow0KICAgIGFkZHJlc3MgcHVibGljIGNyb3dkc2FsZURhc1Rva2Vuc0NoYW5nZUJlbmVmaWNpYXJ5Ow0KICAgIHVpbnQyNTYgcHVibGljIGNyb3dkc2FsZURlYWRsaW5lOw0KICAgIHVpbnQyNTYgcHVibGljIGNyb3dkc2FsZVRva2VuUHJpY2VOdW1lcmF0b3I7DQogICAgdWludDI1NiBwdWJsaWMgY3Jvd2RzYWxlVG9rZW5QcmljZURlbm9taW5hdG9yOw0KICAgIERBU1Rva2VuIHB1YmxpYyBkYXNUb2tlbjsNCiAgICAvLyBjcm93ZHNhbGUgcmVzdWx0cw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGV0aEJhbGFuY2VPZjsNCiAgICB1aW50MjU2IGNyb3dkc2FsZUZ1bmRzUmFpc2VkOw0KDQoNCiAgICAvKiBDb250cmFjdCBldmVudHMgKi8NCiAgICBldmVudCBGdW5kc1JlY2VpdmVkKGFkZHJlc3MgaW5kZXhlZCBiYWNrZXIsIHVpbnQyNTYgaW5kZXhlZCBhbW91bnQpOw0KDQoNCiAgICAvKiBDb25maWd1cmF0aW9uICovDQogICAgZnVuY3Rpb24gREFTQ3Jvd2RzYWxlKA0KICAgICAgICBhZGRyZXNzIF9zZWNyZXRhcnlHZW5lcmFsLA0KICAgICAgICBhZGRyZXNzIF9jcm93ZHNhbGVCZW5lZmljaWFyeSwNCiAgICAgICAgYWRkcmVzcyBfY3Jvd2RzYWxlRGFzVG9rZW5zQ2hhbmdlQmVuZWZpY2lhcnksDQogICAgICAgIHVpbnQyNTYgX2R1cmF0aW9uSW5TZWNvbmRzLA0KICAgICAgICB1aW50MjU2IF9jcm93ZHNhbGVUb2tlblByaWNlTnVtZXJhdG9yLA0KICAgICAgICB1aW50MjU2IF9jcm93ZHNhbGVUb2tlblByaWNlRGVub21pbmF0b3IsDQogICAgICAgIGFkZHJlc3MgX2Rhc1Rva2VuQWRkcmVzcw0KICAgICkgew0KICAgICAgICBzZWNyZXRhcnlHZW5lcmFsID0gX3NlY3JldGFyeUdlbmVyYWw7DQogICAgICAgIGNyb3dkc2FsZUJlbmVmaWNpYXJ5ID0gX2Nyb3dkc2FsZUJlbmVmaWNpYXJ5Ow0KICAgICAgICBjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSA9IF9jcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeTsNCiAgICAgICAgY3Jvd2RzYWxlRGVhZGxpbmUgPSBub3cgKyBfZHVyYXRpb25JblNlY29uZHMgKiAxIHNlY29uZHM7DQogICAgICAgIGNyb3dkc2FsZVRva2VuUHJpY2VOdW1lcmF0b3IgPSBfY3Jvd2RzYWxlVG9rZW5QcmljZU51bWVyYXRvcjsNCiAgICAgICAgY3Jvd2RzYWxlVG9rZW5QcmljZURlbm9taW5hdG9yID0gX2Nyb3dkc2FsZVRva2VuUHJpY2VEZW5vbWluYXRvcjsNCiAgICAgICAgZGFzVG9rZW4gPSBEQVNUb2tlbihfZGFzVG9rZW5BZGRyZXNzKTsNCiAgICAgICAgY3Jvd2RzYWxlRnVuZHNSYWlzZWQgPSAwOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9fc2V0U2VjcmV0YXJ5R2VuZXJhbChhZGRyZXNzIF9zZWNyZXRhcnlHZW5lcmFsKSBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7DQogICAgICAgIHNlY3JldGFyeUdlbmVyYWwgPSBfc2VjcmV0YXJ5R2VuZXJhbDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBfX3NldEJlbmVmaWNpYXJ5KGFkZHJlc3MgX2Nyb3dkc2FsZUJlbmVmaWNpYXJ5KSBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7DQogICAgICAgIGNyb3dkc2FsZUJlbmVmaWNpYXJ5ID0gX2Nyb3dkc2FsZUJlbmVmaWNpYXJ5Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9fc2V0QmVuZWZpY2lhcnlGb3JEYXNUb2tlbnNDaGFuZ2UoYWRkcmVzcyBfY3Jvd2RzYWxlRGFzVG9rZW5zQ2hhbmdlQmVuZWZpY2lhcnkpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsNCiAgICAgICAgY3Jvd2RzYWxlRGFzVG9rZW5zQ2hhbmdlQmVuZWZpY2lhcnkgPSBfY3Jvd2RzYWxlRGFzVG9rZW5zQ2hhbmdlQmVuZWZpY2lhcnk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gX19zZXREZWFkbGluZSh1aW50MjU2IF9kdXJhdGlvbkluU2Vjb25kcykgb25seVNlY3JldGFyeUdlbmVyYWwgew0KICAgICAgICBjcm93ZHNhbGVEZWFkbGluZSA9IG5vdyArIF9kdXJhdGlvbkluU2Vjb25kcyAqIDEgc2Vjb25kczsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBfX3NldFRva2VuUHJpY2UoDQogICAgICAgIHVpbnQyNTYgX2Nyb3dkc2FsZVRva2VuUHJpY2VOdW1lcmF0b3IsDQogICAgICAgIHVpbnQyNTYgX2Nyb3dkc2FsZVRva2VuUHJpY2VEZW5vbWluYXRvcg0KICAgICkNCiAgICAgICAgb25seVNlY3JldGFyeUdlbmVyYWwNCiAgICB7DQogICAgICAgIGNyb3dkc2FsZVRva2VuUHJpY2VOdW1lcmF0b3IgPSBfY3Jvd2RzYWxlVG9rZW5QcmljZU51bWVyYXRvcjsNCiAgICAgICAgY3Jvd2RzYWxlVG9rZW5QcmljZURlbm9taW5hdG9yID0gX2Nyb3dkc2FsZVRva2VuUHJpY2VEZW5vbWluYXRvcjsNCiAgICB9DQoNCg0KICAgIC8qIERlcG9zaXQgZnVuZHMgKi8NCiAgICBmdW5jdGlvbigpIHBheWFibGUgb25seUJlZm9yZUNyb3dkc2FsZURlYWRsaW5lIHsNCiAgICAgICAgdWludDI1NiByZWNlaXZlZEFtb3VudCA9IG1zZy52YWx1ZTsNCg0KICAgICAgICBldGhCYWxhbmNlT2ZbbXNnLnNlbmRlcl0gKz0gcmVjZWl2ZWRBbW91bnQ7DQogICAgICAgIGNyb3dkc2FsZUZ1bmRzUmFpc2VkICs9IHJlY2VpdmVkQW1vdW50Ow0KDQogICAgICAgIGRhc1Rva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHJlY2VpdmVkQW1vdW50IC8gY3Jvd2RzYWxlVG9rZW5QcmljZURlbm9taW5hdG9yICogY3Jvd2RzYWxlVG9rZW5QcmljZU51bWVyYXRvcik7DQogICAgICAgIEZ1bmRzUmVjZWl2ZWQobXNnLnNlbmRlciwgcmVjZWl2ZWRBbW91bnQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGVyYzIyM0ZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSkgew0KICAgICAgICAvLyBibGFuayBFUkMyMjMgZmFsbGJhY2sgdG8gcmVjZWl2ZSBEQSQgdG9rZW5zDQogICAgICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdzIGR1cmluZyBjb21waWxhdGlvbg0KICAgICAgICBfZnJvbSA9IF9mcm9tOw0KICAgICAgICBfdmFsdWUgPSBfdmFsdWU7DQogICAgICAgIF9kYXRhID0gX2RhdGE7DQogICAgfQ0KDQoNCiAgICAvKiBGaW5pc2ggdGhlIGNyb3dkc2FsZSBhbmQgd2l0aGRyYXcgZnVuZHMgKi8NCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlBZnRlckNyb3dkc2FsZURlYWRsaW5lIHsNCiAgICAgICAgdWludDI1NiBldGhUb1dpdGhkcmF3ID0gYWRkcmVzcyh0aGlzKS5iYWxhbmNlOw0KICAgICAgICB1aW50MjU2IGRhc1RvV2l0aGRyYXcgPSBkYXNUb2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7DQoNCiAgICAgICAgaWYgKGV0aFRvV2l0aGRyYXcgPT0gMCAmJiBkYXNUb1dpdGhkcmF3ID09IDApIHRocm93Ow0KDQogICAgICAgIGlmIChldGhUb1dpdGhkcmF3ID4gMCkgeyBjcm93ZHNhbGVCZW5lZmljaWFyeS50cmFuc2ZlcihldGhUb1dpdGhkcmF3KTsgfQ0KICAgICAgICBpZiAoZGFzVG9XaXRoZHJhdyA+IDApIHsgZGFzVG9rZW4udHJhbnNmZXIoY3Jvd2RzYWxlRGFzVG9rZW5zQ2hhbmdlQmVuZWZpY2lhcnksIGRhc1RvV2l0aGRyYXcpOyB9DQogICAgfQ0KDQoNCiAgICAvKiBIZWxwZXJzICovDQogICAgbW9kaWZpZXIgb25seUJlZm9yZUNyb3dkc2FsZURlYWRsaW5lIHsNCiAgICAgICAgcmVxdWlyZShub3cgPD0gY3Jvd2RzYWxlRGVhZGxpbmUpOw0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIG9ubHlBZnRlckNyb3dkc2FsZURlYWRsaW5lIHsNCiAgICAgICAgcmVxdWlyZShub3cgPiBjcm93ZHNhbGVEZWFkbGluZSk7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgb25seVNlY3JldGFyeUdlbmVyYWwgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBzZWNyZXRhcnlHZW5lcmFsKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQp9'