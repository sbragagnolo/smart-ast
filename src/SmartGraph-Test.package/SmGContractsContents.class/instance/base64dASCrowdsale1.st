base 64 content
base64dASCrowdsale1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KDQovKiBJbnRlcmZhY2Ugb2YgdGhlIEVSQzIyMyB0b2tlbiAqLw0KY29udHJhY3QgRVJDMjIzVG9rZW5JbnRlcmZhY2Ugew0KICAgIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX25hbWUpOw0KICAgIGZ1bmN0aW9uIHN5bWJvbCgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfc3ltYm9sKTsNCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IF9kZWNpbWFscyk7DQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9zdXBwbHkpOw0KDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9iYWxhbmNlKTsNCg0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9yZW1haW5pbmcpOw0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9tZXRhZGF0YSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcyk7DQoNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlLCBieXRlcyBtZXRhZGF0YSk7DQp9DQoNCg0KLyogSW50ZXJmYWNlIG9mIHRoZSBjb250cmFjdCB0aGF0IGlzIGdvaW5nIHRvIHJlY2VpdmUgRVJDMjIzIHRva2VucyAqLw0KY29udHJhY3QgRVJDMjIzQ29udHJhY3RJbnRlcmZhY2Ugew0KICAgIGZ1bmN0aW9uIGVyYzIyM0ZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSl7DQogICAgICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdzIGR1cmluZyBjb21waWxhdGlvbg0KICAgICAgICBfZnJvbSA9IF9mcm9tOw0KICAgICAgICBfdmFsdWUgPSBfdmFsdWU7DQogICAgICAgIF9kYXRhID0gX2RhdGE7DQogICAgICAgIC8vIEluY29taW5nIHRyYW5zYWN0aW9uIGNvZGUgaGVyZQ0KICAgICAgICB0aHJvdzsNCiAgICB9DQp9DQoNCg0KLyogaHR0cHM6Ly9naXRodWIuY29tL0x5a2tlQ2l0eS9FdGhlcmV1bUFwaURvdE5ldENvcmUvYmxvYi9tYXN0ZXIvc3JjL0NvbnRyYWN0QnVpbGRlci9jb250cmFjdHMvdG9rZW4vU2FmZU1hdGguc29sICovDQpjb250cmFjdCBTYWZlTWF0aCB7DQogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgTUFYX1VJTlQyNTYgPQ0KICAgIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsNCg0KICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgew0KICAgICAgICBpZiAoeCA+IE1BWF9VSU5UMjU2IC0geSkgdGhyb3c7DQogICAgICAgIHJldHVybiB4ICsgeTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsNCiAgICAgICAgaWYgKHggPCB5KSB0aHJvdzsNCiAgICAgICAgcmV0dXJuIHggLSB5Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgew0KICAgICAgICBpZiAoeSA9PSAwKSByZXR1cm4gMDsNCiAgICAgICAgaWYgKHggPiBNQVhfVUlOVDI1NiAvIHkpIHRocm93Ow0KICAgICAgICByZXR1cm4geCAqIHk7DQogICAgfQ0KfQ0KDQoNCmNvbnRyYWN0IEVSQzIyM1Rva2VuIGlzIEVSQzIyM1Rva2VuSW50ZXJmYWNlLCBTYWZlTWF0aCB7DQoNCiAgICAvKg0KICAgICAgU3RvcmFnZSBvZiB0aGUgY29udHJhY3QNCiAgICAqLw0KDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93YW5jZXM7DQoNCiAgICBzdHJpbmcgcHVibGljIG5hbWU7DQogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7DQogICAgdWludDggcHVibGljIGRlY2ltYWxzOw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KDQoNCiAgICAvKg0KICAgICAgR2V0dGVycw0KICAgICovDQoNCiAgICBmdW5jdGlvbiBuYW1lKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIF9uYW1lKSB7DQogICAgICAgIHJldHVybiBuYW1lOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHN5bWJvbCgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfc3ltYm9sKSB7DQogICAgICAgIHJldHVybiBzeW1ib2w7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCBfZGVjaW1hbHMpIHsNCiAgICAgICAgcmV0dXJuIGRlY2ltYWxzOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfc3VwcGx5KSB7DQogICAgICAgIHJldHVybiB0b3RhbFN1cHBseTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX2JhbGFuY2UpIHsNCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgfQ0KDQoNCiAgICAvKg0KICAgICAgQWxsb3cgdG8gc3BlbmQNCiAgICAqLw0KDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcykgew0KICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfcmVtYWluaW5nKSB7DQogICAgICAgIHJldHVybiBhbGxvd2FuY2VzW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KDQogICAgLyoNCiAgICAgIFRyYW5zZmVyDQogICAgKi8NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcykgew0KICAgICAgICBieXRlcyBtZW1vcnkgZW1wdHlNZXRhZGF0YTsNCiAgICAgICAgX190cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgZW1wdHlNZXRhZGF0YSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX21ldGFkYXRhKSByZXR1cm5zIChib29sIF9zdWNjZXNzKQ0KICAgIHsNCiAgICAgICAgX190cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX21ldGFkYXRhKTsNCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9tZXRhZGF0YSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsNCg0KICAgICAgICBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0sIF92YWx1ZSk7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBlbXB0eU1ldGFkYXRhOw0KICAgICAgICBfX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSwgZW1wdHlNZXRhZGF0YSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9fdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfbWV0YWRhdGEpIGludGVybmFsDQogICAgew0KICAgICAgICBpZiAoX2Zyb20gPT0gX3RvKSB0aHJvdzsNCiAgICAgICAgaWYgKF92YWx1ZSA9PSAwKSB0aHJvdzsNCiAgICAgICAgaWYgKGJhbGFuY2VPZihfZnJvbSkgPCBfdmFsdWUpIHRocm93Ow0KDQogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mKF9mcm9tKSwgX3ZhbHVlKTsNCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZU9mKF90byksIF92YWx1ZSk7DQoNCiAgICAgICAgaWYgKGlzQ29udHJhY3QoX3RvKSkgew0KICAgICAgICAgICAgRVJDMjIzQ29udHJhY3RJbnRlcmZhY2UgcmVjZWl2ZXJDb250cmFjdCA9IEVSQzIyM0NvbnRyYWN0SW50ZXJmYWNlKF90byk7DQogICAgICAgICAgICByZWNlaXZlckNvbnRyYWN0LmVyYzIyM0ZhbGxiYWNrKF9mcm9tLCBfdmFsdWUsIF9tZXRhZGF0YSk7DQogICAgICAgIH0NCg0KICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgIH0NCg0KDQogICAgLyoNCiAgICAgIEhlbHBlcnMNCiAgICAqLw0KDQogICAgLy8gQXNzZW1ibGUgdGhlIGdpdmVuIGFkZHJlc3MgYnl0ZWNvZGUuIElmIGJ5dGVjb2RlIGV4aXN0cyB0aGVuIHRoZSBfYWRkciBpcyBhIGNvbnRyYWN0Lg0KICAgIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBfaXNDb250cmFjdCkgew0KICAgICAgICBfYWRkciA9IF9hZGRyOyAvLyB0byBhdm9pZCB3YXJuaW5ncyBkdXJpbmcgY29tcGlsYXRpb24NCg0KICAgICAgICB1aW50MjU2IGxlbmd0aDsNCiAgICAgICAgYXNzZW1ibHkgew0KICAgICAgICAgICAgLy9yZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgY29kZSBvbiB0YXJnZXQgYWRkcmVzcywgdGhpcyBuZWVkcyBhc3NlbWJseQ0KICAgICAgICAgICAgbGVuZ3RoIDo9IGV4dGNvZGVzaXplKF9hZGRyKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAobGVuZ3RoID4gMCk7DQogICAgfQ0KfQ0KDQoNCg0KLy8gRVJDMjIzIHRva2VuIHdpdGggdGhlIGFiaWxpdHkgZm9yIHRoZSBvd25lciB0byBibG9jayBhbnkgYWNjb3VudA0KY29udHJhY3QgREFTVG9rZW4gaXMgRVJDMjIzVG9rZW4gew0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgYmxvY2tlZEFjY291bnRzOw0KICAgIGFkZHJlc3MgcHVibGljIHNlY3JldGFyeUdlbmVyYWw7DQoNCg0KICAgIC8vIENvbnN0cnVjdG9yDQogICAgZnVuY3Rpb24gREFTVG9rZW4oDQogICAgICAgICAgICBzdHJpbmcgX25hbWUsDQogICAgICAgICAgICBzdHJpbmcgX3N5bWJvbCwNCiAgICAgICAgICAgIHVpbnQ4IF9kZWNpbWFscywNCiAgICAgICAgICAgIHVpbnQyNTYgX3RvdGFsU3VwcGx5LA0KICAgICAgICAgICAgYWRkcmVzcyBfaW5pdGlhbFRva2Vuc0hvbGRlcikgew0KICAgICAgICBzZWNyZXRhcnlHZW5lcmFsID0gbXNnLnNlbmRlcjsNCiAgICAgICAgbmFtZSA9IF9uYW1lOw0KICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOw0KICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsNCiAgICAgICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7DQogICAgICAgIGJhbGFuY2VzW19pbml0aWFsVG9rZW5zSG9sZGVyXSA9IF90b3RhbFN1cHBseTsNCiAgICB9DQoNCg0KICAgIG1vZGlmaWVyIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gc2VjcmV0YXJ5R2VuZXJhbCkgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQoNCiAgICAvLyBibG9jayBhY2NvdW50DQogICAgZnVuY3Rpb24gYmxvY2tBY2NvdW50KGFkZHJlc3MgX2FjY291bnQpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsNCiAgICAgICAgYmxvY2tlZEFjY291bnRzW19hY2NvdW50XSA9IHRydWU7DQogICAgfQ0KDQogICAgLy8gdW5ibG9jayBhY2NvdW50DQogICAgZnVuY3Rpb24gdW5ibG9ja0FjY291bnQoYWRkcmVzcyBfYWNjb3VudCkgb25seVNlY3JldGFyeUdlbmVyYWwgew0KICAgICAgICBibG9ja2VkQWNjb3VudHNbX2FjY291bnRdID0gZmFsc2U7DQogICAgfQ0KDQogICAgLy8gY2hlY2sgaXMgYWNjb3VudCBibG9ja2VkDQogICAgZnVuY3Rpb24gaXNBY2NvdW50QmxvY2tlZChhZGRyZXNzIF9hY2NvdW50KSByZXR1cm5zIChib29sKXsNCiAgICAgICAgcmV0dXJuIGJsb2NrZWRBY2NvdW50c1tfYWNjb3VudF07DQogICAgfQ0KDQogICAgLy8gb3ZlcnJpZGUgdHJhbnNmZXIgbWV0aG9kcyB0byB0aHJvdyBvbiBibG9ja2VkIGFjY291bnRzDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKSB7DQogICAgICAgIGlmIChibG9ja2VkQWNjb3VudHNbbXNnLnNlbmRlcl0pIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfbWV0YWRhdGEpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJsb2NrZWRBY2NvdW50c1ttc2cuc2VuZGVyXSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlLCBfbWV0YWRhdGEpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJsb2NrZWRBY2NvdW50c1tfZnJvbV0pIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICB9DQp9DQoNCg0KDQpjb250cmFjdCBEQVNDcm93ZHNhbGUgaXMgRVJDMjIzQ29udHJhY3RJbnRlcmZhY2Ugew0KDQogICAgLyogQ29udHJhY3Qgc3RhdGUgKi8NCiAgICAvLyBjb25maWd1cmF0aW9uDQogICAgYWRkcmVzcyBwdWJsaWMgc2VjcmV0YXJ5R2VuZXJhbDsNCiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZHNhbGVCZW5lZmljaWFyeTsNCiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeTsNCiAgICB1aW50MjU2IHB1YmxpYyBjcm93ZHNhbGVEZWFkbGluZTsNCiAgICB1aW50MjU2IHB1YmxpYyBjcm93ZHNhbGVUb2tlblByaWNlOw0KICAgIERBU1Rva2VuIHB1YmxpYyBkYXNUb2tlbjsNCiAgICAvLyBjcm93ZHNhbGUgcmVzdWx0cw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGV0aEJhbGFuY2VPZjsNCiAgICB1aW50MjU2IGNyb3dkc2FsZUZ1bmRzUmFpc2VkOw0KDQoNCiAgICAvKiBDb250cmFjdCBldmVudHMgKi8NCiAgICBldmVudCBGdW5kc1JlY2VpdmVkKGFkZHJlc3MgaW5kZXhlZCBiYWNrZXIsIHVpbnQyNTYgaW5kZXhlZCBhbW91bnQpOw0KDQoNCiAgICAvKiBDb25maWd1cmF0aW9uICovDQogICAgZnVuY3Rpb24gREFTQ3Jvd2RzYWxlKA0KICAgICAgICBhZGRyZXNzIF9zZWNyZXRhcnlHZW5lcmFsLA0KICAgICAgICBhZGRyZXNzIF9jcm93ZHNhbGVCZW5lZmljaWFyeSwNCiAgICAgICAgYWRkcmVzcyBfY3Jvd2RzYWxlRGFzVG9rZW5zQ2hhbmdlQmVuZWZpY2lhcnksDQogICAgICAgIHVpbnQyNTYgX2R1cmF0aW9uSW5TZWNvbmRzLA0KICAgICAgICB1aW50MjU2IF9jcm93ZHNhbGVUb2tlblByaWNlSW5XZWksDQogICAgICAgIGFkZHJlc3MgX2Rhc1Rva2VuQWRkcmVzcw0KICAgICkgew0KICAgICAgICBzZWNyZXRhcnlHZW5lcmFsID0gX3NlY3JldGFyeUdlbmVyYWw7DQogICAgICAgIGNyb3dkc2FsZUJlbmVmaWNpYXJ5ID0gX2Nyb3dkc2FsZUJlbmVmaWNpYXJ5Ow0KICAgICAgICBjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSA9IF9jcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeTsNCiAgICAgICAgY3Jvd2RzYWxlRGVhZGxpbmUgPSBub3cgKyBfZHVyYXRpb25JblNlY29uZHMgKiAxIHNlY29uZHM7DQogICAgICAgIGNyb3dkc2FsZVRva2VuUHJpY2UgPSBfY3Jvd2RzYWxlVG9rZW5QcmljZUluV2VpOw0KICAgICAgICBkYXNUb2tlbiA9IERBU1Rva2VuKF9kYXNUb2tlbkFkZHJlc3MpOw0KICAgICAgICBjcm93ZHNhbGVGdW5kc1JhaXNlZCA9IDA7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gX19zZXRTZWNyZXRhcnlHZW5lcmFsKGFkZHJlc3MgX3NlY3JldGFyeUdlbmVyYWwpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsNCiAgICAgICAgc2VjcmV0YXJ5R2VuZXJhbCA9IF9zZWNyZXRhcnlHZW5lcmFsOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9fc2V0QmVuZWZpY2lhcnkoYWRkcmVzcyBfY3Jvd2RzYWxlQmVuZWZpY2lhcnkpIG9ubHlBZnRlckNyb3dkc2FsZURlYWRsaW5lIHsNCiAgICAgICAgY3Jvd2RzYWxlQmVuZWZpY2lhcnkgPSBfY3Jvd2RzYWxlQmVuZWZpY2lhcnk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gX19zZXRCZW5lZmljaWFyeUZvckRhc1Rva2Vuc0NoYW5nZShhZGRyZXNzIF9jcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSkgb25seVNlY3JldGFyeUdlbmVyYWwgew0KICAgICAgICBjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSA9IF9jcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBfX3NldERlYWRsaW5lKHVpbnQyNTYgX2R1cmF0aW9uSW5TZWNvbmRzKSBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7DQogICAgICAgIGNyb3dkc2FsZURlYWRsaW5lID0gbm93ICsgX2R1cmF0aW9uSW5TZWNvbmRzICogMSBzZWNvbmRzOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9fc2V0VG9rZW5QcmljZSh1aW50MjU2IF9jcm93ZHNhbGVUb2tlblByaWNlSW5XZWkpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsNCiAgICAgICAgY3Jvd2RzYWxlVG9rZW5QcmljZSA9IF9jcm93ZHNhbGVUb2tlblByaWNlSW5XZWk7DQogICAgfQ0KDQoNCiAgICAvKiBEZXBvc2l0IGZ1bmRzICovDQogICAgZnVuY3Rpb24oKSBwYXlhYmxlIG9ubHlCZWZvcmVDcm93ZHNhbGVEZWFkbGluZSB7DQogICAgICAgIHVpbnQyNTYgcmVjZWl2ZWRBbW91bnQgPSBtc2cudmFsdWU7DQoNCiAgICAgICAgZXRoQmFsYW5jZU9mW21zZy5zZW5kZXJdICs9IHJlY2VpdmVkQW1vdW50Ow0KICAgICAgICBjcm93ZHNhbGVGdW5kc1JhaXNlZCArPSByZWNlaXZlZEFtb3VudDsNCg0KICAgICAgICBkYXNUb2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCByZWNlaXZlZEFtb3VudCAvIGNyb3dkc2FsZVRva2VuUHJpY2UpOw0KICAgICAgICBGdW5kc1JlY2VpdmVkKG1zZy5zZW5kZXIsIHJlY2VpdmVkQW1vdW50KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBlcmMyMjNGYWxsYmFjayhhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHsNCiAgICAgICAgLy8gYmxhbmsgRVJDMjIzIGZhbGxiYWNrIHRvIHJlY2VpdmUgREEkIHRva2Vucw0KICAgICAgICAvLyB0byBhdm9pZCB3YXJuaW5ncyBkdXJpbmcgY29tcGlsYXRpb24NCiAgICAgICAgX2Zyb20gPSBfZnJvbTsNCiAgICAgICAgX3ZhbHVlID0gX3ZhbHVlOw0KICAgICAgICBfZGF0YSA9IF9kYXRhOw0KICAgIH0NCg0KDQogICAgLyogRmluaXNoIHRoZSBjcm93ZHNhbGUgYW5kIHdpdGhkcmF3IGZ1bmRzICovDQogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5QWZ0ZXJDcm93ZHNhbGVEZWFkbGluZSB7DQogICAgICAgIHVpbnQyNTYgZXRoVG9XaXRoZHJhdyA9IGFkZHJlc3ModGhpcykuYmFsYW5jZTsNCiAgICAgICAgdWludDI1NiBkYXNUb1dpdGhkcmF3ID0gZGFzVG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOw0KDQogICAgICAgIGlmIChldGhUb1dpdGhkcmF3ID09IDAgJiYgZGFzVG9XaXRoZHJhdyA9PSAwKSB0aHJvdzsNCg0KICAgICAgICBpZiAoZXRoVG9XaXRoZHJhdyA+IDApIHsgY3Jvd2RzYWxlQmVuZWZpY2lhcnkudHJhbnNmZXIoZXRoVG9XaXRoZHJhdyk7IH0NCiAgICAgICAgaWYgKGRhc1RvV2l0aGRyYXcgPiAwKSB7IGRhc1Rva2VuLnRyYW5zZmVyKGNyb3dkc2FsZURhc1Rva2Vuc0NoYW5nZUJlbmVmaWNpYXJ5LCBkYXNUb1dpdGhkcmF3KTsgfQ0KICAgIH0NCg0KDQogICAgLyogSGVscGVycyAqLw0KICAgIG1vZGlmaWVyIG9ubHlCZWZvcmVDcm93ZHNhbGVEZWFkbGluZSB7DQogICAgICAgIHJlcXVpcmUobm93IDw9IGNyb3dkc2FsZURlYWRsaW5lKTsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5QWZ0ZXJDcm93ZHNhbGVEZWFkbGluZSB7DQogICAgICAgIHJlcXVpcmUobm93ID4gY3Jvd2RzYWxlRGVhZGxpbmUpOw0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gc2VjcmV0YXJ5R2VuZXJhbCkgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KfQ=='