base 64 content
base64dil
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KY29udHJhY3QgVG9rZW4gew0KICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLg0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOw0KICAgIGlzIHJlcGxhY2VkIHdpdGg6DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQogICAgVGhpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSB0b3RhbFN1cHBseS4NCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QNCiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QNCiAgICBmdW5jdGlvbiBieSB0aGUgY29tcGlsZXIuDQogICAgKi8NCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2Vucw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZA0KICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOw0KDQogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYA0KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkDQogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gDQogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyDQogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudA0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQNCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zDQogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMNCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXINCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zDQogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudA0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOw0KDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCmNvbnRyYWN0IFNhZmVNYXRoIHsNCg0KICAgIC8qIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgeyAqLw0KICAgIC8qICAgaWYgKCFhc3NlcnRpb24pIHsgKi8NCiAgICAvKiAgICAgdGhyb3c7ICovDQogICAgLyogICB9ICovDQogICAgLyogfSAgICAgIC8vIGFzc2VydCBubyBsb25nZXIgbmVlZGVkIG9uY2Ugc29saWRpdHkgaXMgb24gMC40LjEwICovDQoNCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsNCiAgICAgIHVpbnQyNTYgeiA9IHggKyB5Ow0KICAgICAgYXNzZXJ0KCh6ID49IHgpICYmICh6ID49IHkpKTsNCiAgICAgIHJldHVybiB6Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNhZmVTdWJ0cmFjdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7DQogICAgICBhc3NlcnQoeCA+PSB5KTsNCiAgICAgIHVpbnQyNTYgeiA9IHggLSB5Ow0KICAgICAgcmV0dXJuIHo7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2FmZU11bHQodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHJldHVybnModWludDI1Nikgew0KICAgICAgdWludDI1NiB6ID0geCAqIHk7DQogICAgICBhc3NlcnQoKHggPT0gMCl8fCh6L3ggPT0geSkpOw0KICAgICAgcmV0dXJuIHo7DQogICAgfQ0KDQp9DQoNCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gew0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuDQogICAgICAgIC8vSWYgeW91ciB0b2tlbiBsZWF2ZXMgb3V0IHRvdGFsU3VwcGx5IGFuZCBjYW4gaXNzdWUgbW9yZSB0b2tlbnMgYXMgdGltZSBnb2VzIG9uLCB5b3UgbmVlZCB0byBjaGVjayBpZiBpdCBkb2Vzbid0IHdyYXAuDQogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLg0KICAgICAgICAvL2lmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsNCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLg0KICAgICAgICAvL2lmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgew0KICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgew0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7DQogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCn0NCg0KY29udHJhY3QgRGlsIGlzIFN0YW5kYXJkVG9rZW4sIFNhZmVNYXRoIHsNCg0KICAgIC8vIG1ldGFkYXRhDQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIuCkpuCkv+CksiI7IC8vIEhlYXJ0IGluIERldm5hZ2FyaSBTY3JpcHQgSGluZGkgTGFuZ3VhZ2UNCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICLinaTvuI8iOyAvLyBSZWQgaGVhcnQgZW1vamkNCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDA7IC8vIFdob2xlIHRva2VucyBvbmx5DQogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7DQoNCiAgICAvLyBpbXBvcnRhbnQgYWRkcmVzc2VzDQogICAgYWRkcmVzcyBwdWJsaWMgZGVwb3NpdEFkZHJlc3M7ICAgICAgLy8gZGVwb3NpdCBhZGRyZXNzIGZvciBFVEggZm9yIElDTyBvd25lcg0KDQogICAgLy8gY3Jvd2RzYWxlIHBhcmFtcw0KICAgIGJvb2wgcHVibGljIGlzRmluYWxpemVkOyAgICAgICAgICAgIC8vIHRydWUgd2hlbiBJQ08gZmluYWxpemVkIGFuZCBzdWNjZXNzZnVsDQogICAgdWludDI1NiBwdWJsaWMgdGFyZ2V0RXRoOyAgICAgICAgICAgLy8gdGFyZ2V0IEVUSCB0byByYWlzZQ0KICAgIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdTdGFydEJsb2NrOyAgIC8vIHdoZW4gdG8gc3RhcnQgYWxsb3dpbmcgZnVuZGluZw0KICAgIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdFbmRCbG9jazsgICAgIC8vIHdoZW4gdG8gc3RvcCBhbGxvd2luZyBmdW5kaW5nDQogICAgDQogICAgLy8gZXZlbnRzDQogICAgZXZlbnQgQ3JlYXRlRGlsKHN0cmluZyBfbmFtZSk7DQogICAgZXZlbnQgQ29udHJpYnV0ZShhZGRyZXNzIF9zZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBGaW5hbGl6ZVNhbGUoYWRkcmVzcyBfc2VuZGVyKTsNCiAgICBldmVudCBSZWZ1bmRDb250cmlidXRpb24oYWRkcmVzcyBfc2VuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQ2xhaW1Ub2tlbnMoYWRkcmVzcyBfc2VuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQoNCiAgICAvLyBjYWxjdWxhdGVkIHZhbHVlcw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgY29udHJpYnV0aW9uczsgICAgLy8gRVRIIGNvbnRyaWJ1dGVkIHBlciBhZGRyZXNzDQogICAgdWludDI1NiBjb250cmlidXRlZDsgICAgICAvLyB0b3RhbCBFVEggY29udHJpYnV0ZWQNCg0KICAgIC8vIGNvbnN0cnVjdG9yDQogICAgZnVuY3Rpb24gRGlsKCl7DQogICAgICAgIGlzRmluYWxpemVkID0gZmFsc2U7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gMTAwMDAwMDAwMDsgLy8gMTAwIENyb3JlIHRvdGFsIHN1cHBseQ0KICAgICAgICB0YXJnZXRFdGggPSAxMDAwICogMTAwMDAwMDAwMDAwMDAwMDAwMDsgLy8gUmFpc2luZyAxMDAwIEVUSEVSDQogICAgICAgIGRlcG9zaXRBZGRyZXNzID0gMHhBOTRCMTJjMTI4ZTdCQTRhZTU5MzA5NzYzMzY4RmFDREQ4RmI0RTIzOyAvLyBNdWx0aXBsZSBDb21wdXRlciBDby4NCiAgICAgICAgZnVuZGluZ1N0YXJ0QmxvY2sgPSAzOTk5OTk5Ow0KICAgICAgICBmdW5kaW5nRW5kQmxvY2sgPSA0MjAwMDAwOw0KICAgICAgICAvLyBsb2cNCiAgICAgICAgQ3JlYXRlRGlsKG5hbWUpO30NCg0KICAgIC8vLyBBY2NlcHRzIEVUSCBmcm9tIGEgY29udHJpYnV0b3INCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkgcGF5YWJsZSBleHRlcm5hbCB7DQogICAgICAgIGlmIChibG9jay5udW1iZXIgPCBmdW5kaW5nU3RhcnRCbG9jaykgdGhyb3c7ICAgIC8vIG5vdCB5ZXQgYmVndW4/DQogICAgICAgIGlmIChibG9jay5udW1iZXIgPiBmdW5kaW5nRW5kQmxvY2spIHRocm93OyAgICAgIC8vIGFscmVhZHkgZW5kZWQ/DQogICAgICAgIGlmIChtc2cudmFsdWUgPT0gMCkgdGhyb3c7ICAgICAgICAgICAgICAgICAgLy8gbm8gRVRIIHNlbnQgaW4/DQoNCiAgICAgICAgLy8gQWRkIHRvIGNvbnRyaWJ1dGlvbnMNCiAgICAgICAgY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7DQogICAgICAgIGNvbnRyaWJ1dGVkICs9IG1zZy52YWx1ZTsNCiAgICAgICAgDQogICAgICAgIC8vIGxvZw0KICAgICAgICBDb250cmlidXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7ICAvLyBsb2dzIGNvbnRyaWJ1dGlvbg0KICAgIH0NCg0KICAgIC8vLyBGaW5hbGl6ZXMgdGhlIGZ1bmRpbmcgYW5kIHNlbmRzIHRoZSBFVEggdG8gZGVwb3NpdCBhZGRyZXNzDQogICAgZnVuY3Rpb24gZmluYWxpemVGdW5kaW5nKCkgZXh0ZXJuYWwgew0KICAgICAgICBpZiAoaXNGaW5hbGl6ZWQpIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBzdWNjZWVkZWQ/DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGRlcG9zaXRBZGRyZXNzKSB0aHJvdzsgICAgICAvLyB3cm9uZyBzZW5kZXI/DQogICAgICAgIGlmIChibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrKSB0aHJvdzsgICAvLyBub3QgeWV0IGZpbmlzaGVkPw0KICAgICAgICBpZiAoY29udHJpYnV0ZWQgPCB0YXJnZXRFdGgpIHRocm93OyAgICAgICAgICAgICAvLyBub3QgZW5vdWdoIHJhaXNlZD8NCiAgICAgICAgDQogICAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsNCg0KICAgICAgICAvLyBzZW5kIHRvIGRlcG9zaXQgYWRkcmVzcw0KICAgICAgICBpZiAoIWRlcG9zaXRBZGRyZXNzLnNlbmQodGFyZ2V0RXRoKSkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICAvLyBsb2cNCiAgICAgICAgRmluYWxpemVTYWxlKG1zZy5zZW5kZXIpOw0KICAgIH0NCiAgICANCiAgICAvLy8gQWxsb3dzIGNvbnRyaWJ1dG9ycyB0byBjbGFpbSB0aGVpciB0b2tlbnMgYW5kL29yIGEgcmVmdW5kLiBJZiBmdW5kaW5nIGZhaWxlZCB0aGVuIHRoZXkgZ2V0IGJhY2sgYWxsIHRoZWlyIEV0aGVyLCBvdGhlcndpc2UgdGhleSBnZXQgYmFjayBhbnkgZXhjZXNzIEV0aGVyDQogICAgZnVuY3Rpb24gY2xhaW1Ub2tlbnNBbmRSZWZ1bmQoKSBleHRlcm5hbCB7DQogICAgICAgIGlmICgwID09IGNvbnRyaWJ1dGlvbnNbbXNnLnNlbmRlcl0pIHRocm93OyAgICAvLyBtdXN0IGhhdmUgcHJldmlvdXNseSBjb250cmlidXRlZA0KICAgICAgICBpZiAoYmxvY2subnVtYmVyIDwgZnVuZGluZ0VuZEJsb2NrKSB0aHJvdzsgICAgLy8gbm90IHlldCBkb25lPw0KICAgICAgDQogICAgICAgIC8vIGlmIG5vdCBlbm91Z2ggZnVuZGluZw0KICAgICAgICBpZiAoY29udHJpYnV0ZWQgPCB0YXJnZXRFdGgpIHsNCiAgICAgICAgICAgIC8vIHJlZnVuZCBteSBmdWxsIGNvbnRyaWJ1dGlvbg0KICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSkpIHRocm93Ow0KICAgICAgICAgICAgUmVmdW5kQ29udHJpYnV0aW9uKG1zZy5zZW5kZXIsIGNvbnRyaWJ1dGlvbnNbbXNnLnNlbmRlcl0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGhvdyBtYW55IHRva2VucyBJIGdldA0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlTXVsdCh0b3RhbFN1cHBseSwgY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSkgLyBjb250cmlidXRlZDsNCiAgICAgICAgICAgIC8vIHJlZnVuZCBleGNlc3MgRVRIDQogICAgICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChjb250cmlidXRpb25zW21zZy5zZW5kZXJdIC0gKHNhZmVNdWx0KHRhcmdldEV0aCwgY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSkgLyBjb250cmlidXRlZCkpKSB0aHJvdzsNCiAgICAgICAgICAgIENsYWltVG9rZW5zKG1zZy5zZW5kZXIsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSA9IDA7DQogICAgfQ0KfQ=='