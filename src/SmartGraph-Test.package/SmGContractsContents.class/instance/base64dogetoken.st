base 64 content
base64dogetoken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KLyoNClRoaXMgaXMgdGhlIEFQSSB0aGF0IGRlZmluZXMgYW4gRVJDIDIwIHRva2VuLCBhbGwgb2YgdGhlc2UgZnVuY3Rpb25zIG11c3QNCmJlIGltcGxlbWVudGVkLg0KKi8NCg0KY29udHJhY3QgRm9yZWlnblRva2VuIHsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQp9DQoNCmNvbnRyYWN0IERvZ2V0b2tlbiB7DQoNCiAgICAvLyBUaGlzIGlzIHRoZSB1c2VyIHdobyBpcyBjcmVhdGluZyB0aGUgY29udHJhY3QsIGFuZCBvd25zIHRoZSBjb250cmFjdC4NCiAgICBhZGRyZXNzIG93bmVyID0gbXNnLnNlbmRlcjsNCg0KICAgIC8vIFRoaXMgaXMgYSBmbGFnIG9mIHdoZXRoZXIgcHVyY2hhc2luZyBoYXMgYmVlbiBlbmFibGVkLg0KICAgIGJvb2wgcHVibGljIHB1cmNoYXNpbmdBbGxvd2VkID0gZmFsc2U7DQoNCiAgICAvLyBUaGlzIGlzIGEgbWFwcGluZyBvZiBhZGRyZXNzIGJhbGFuY2VzLg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQoNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCg0KICAgIC8vIENvdW50ZXIgZm9yIHRvdGFsIGNvbnRyaWJ1dGlvbnMgb2YgZXRoZXIuDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxDb250cmlidXRpb24gPSAwOw0KDQogICAgLy8gQ291bnRlciBmb3IgdG90YWwgYm9udXMgdG9rZW5zIGlzc3VlZA0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQm9udXNUb2tlbnNJc3N1ZWQgPSAwOw0KDQogICAgLy8gVG90YWwgc3VwcGx5IG9mLi4uLg0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsNCg0KICAgIC8vIE5hbWUgb2YgdGhlIFRva2VuDQogICAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykgeyByZXR1cm4gIkRvZ2V0b2tlbiI7IH0NCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsgcmV0dXJuICJER1QiOyB9DQogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgeyByZXR1cm4gMTg7IH0NCg0KICAgIC8vIFJldHVybiB0aGUgYmFsYW5jZSBvZiBhIHNwZWNpZmljIGFkZHJlc3MuDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IHJldHVybiBiYWxhbmNlc1tfb3duZXJdOyB9DQoNCiAgICAvKioNCiAgICAgKiBUcmFuc2ZlciB2YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGFkZHJlc3MgX3RvLg0KICAgICAqIGFkZHJlc3MgX3RvICAgICAgICAgICBUaGUgYWRkcmVzcyB5b3UgYXJlIHNlbmRpbmcgdG9rZW5zIHRvLg0KICAgICAqIHVpbnQyNTYgX3ZhbHVlICAgICAgICBUaGUgbnVtYmVyIG9mIHRva2VucyB5b3UgYXJlIHNlbmRpbmcuDQogICAgICogUmV0dXJuIHdoZXRoZXIgdGhlIHRyYW5zYWN0aW9uIHdhcyBzdWNjZXNzZnVsLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sNCiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgKDIgKiAzMikgKyA0KSB7IHRocm93OyB9DQoNCiAgICAgICAgaWYgKF92YWx1ZSA9PSAwKSB7IHJldHVybiBmYWxzZTsgfQ0KDQogICAgICAgIC8vIEdldCB0aGUgYmFsYW5jZSB0aGF0IHRoZSBzZW5kZXIgaGFzLg0KICAgICAgICB1aW50MjU2IGZyb21CYWxhbmNlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07DQoNCiAgICAgICAgLy8gRW5zdXJlIHRoZSBzZW5kZXIgaGFzIGVub3VnaCB0b2tlbnMgdG8gc2VuZC4NCiAgICAgICAgYm9vbCBzdWZmaWNpZW50RnVuZHMgPSBmcm9tQmFsYW5jZSA+PSBfdmFsdWU7DQoNCiAgICAgICAgLy8gRW5zdXJlIHdlIGhhdmUgbm90IG92ZXJmbG93ZWQgdGhlIHZhbHVlIHZhcmlhYmxlLiBJZiBvdmVyZmxvd2VkDQogICAgICAgIC8vIGlzIHRydWUgdGhlIHRyYW5zYWN0aW9uIHdpbGwgZmFpbC4NCiAgICAgICAgYm9vbCBvdmVyZmxvd2VkID0gYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VzW190b107DQoNCiAgICAgICAgaWYgKHN1ZmZpY2llbnRGdW5kcyAmJiAhb3ZlcmZsb3dlZCkgew0KICAgICAgICAgICAgLy8gRGVkdWNhdCBiYWxhbmNlIGZyb20gc2VuZGVyDQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQoNCiAgICAgICAgICAgIC8vIEFkZCBiYWxhbmNlIHRvIHJlY2lwaWVudA0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQoNCiAgICAgICAgICAgIC8vIEVtaXQgYSB0cmFuc2ZlciBldmVudC4NCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sNCiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgKDMgKiAzMikgKyA0KSB7IHRocm93OyB9DQoNCiAgICAgICAgaWYgKF92YWx1ZSA9PSAwKSB7IHJldHVybiBmYWxzZTsgfQ0KDQogICAgICAgIHVpbnQyNTYgZnJvbUJhbGFuY2UgPSBiYWxhbmNlc1tfZnJvbV07DQogICAgICAgIHVpbnQyNTYgYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07DQoNCiAgICAgICAgYm9vbCBzdWZmaWNpZW50RnVuZHMgPSBmcm9tQmFsYW5jZSA8PSBfdmFsdWU7DQogICAgICAgIGJvb2wgc3VmZmljaWVudEFsbG93YW5jZSA9IGFsbG93YW5jZSA8PSBfdmFsdWU7DQogICAgICAgIGJvb2wgb3ZlcmZsb3dlZCA9IGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dOw0KDQogICAgICAgIGlmIChzdWZmaWNpZW50RnVuZHMgJiYgc3VmZmljaWVudEFsbG93YW5jZSAmJiAhb3ZlcmZsb3dlZCkgew0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOw0KDQogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQoNCiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc3BlbmQvYXBwcm92YWwgcmFjZSBjb25kaXRpb24NCiAgICAgICAgaWYgKF92YWx1ZSAhPSAwICYmIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApIHsgcmV0dXJuIGZhbHNlOyB9DQoNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQoNCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCg0KICAgIGZ1bmN0aW9uIGVuYWJsZVB1cmNoYXNpbmcoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7IHRocm93OyB9DQoNCiAgICAgICAgcHVyY2hhc2luZ0FsbG93ZWQgPSB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRpc2FibGVQdXJjaGFzaW5nKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgeyB0aHJvdzsgfQ0KDQogICAgICAgIHB1cmNoYXNpbmdBbGxvd2VkID0gZmFsc2U7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gd2l0aGRyYXdGb3JlaWduVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsgdGhyb3c7IH0NCg0KICAgICAgICBGb3JlaWduVG9rZW4gdG9rZW4gPSBGb3JlaWduVG9rZW4oX3Rva2VuQ29udHJhY3QpOw0KDQogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOw0KICAgICAgICByZXR1cm4gdG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7DQogICAgfQ0KDQogICAgLy8gUmV0dXJuIGluZm9ybWF0aW9uYWwgdmFyaWFibGVzIGFib3V0IHRoZSB0b2tlbiBhbmQgY29udHJhY3QuDQogICAgZnVuY3Rpb24gZ2V0U3RhdHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2LCB1aW50MjU2LCB1aW50MjU2LCBib29sKSB7DQogICAgICAgIHJldHVybiAodG90YWxDb250cmlidXRpb24sIHRvdGFsU3VwcGx5LCB0b3RhbEJvbnVzVG9rZW5zSXNzdWVkLCBwdXJjaGFzaW5nQWxsb3dlZCk7DQogICAgfQ0KDQogICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgc29tZW9uZSBzZW5kcyBldGhlciB0byB0aGlzIGNvbnRyYWN0Lg0KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7DQogICAgICAgIC8vIElmIHB1cmNoYXNpbmcgaXMgbm90IGFsbG93ZWQgdGhyb3cgYW4gZXJyb3IuDQogICAgICAgIGlmICghcHVyY2hhc2luZ0FsbG93ZWQpIHsgdGhyb3c7IH0NCg0KICAgICAgICAvLyBJZiAwIGlzIHNlbnQgdGhyb3cgYW4gZXJyb3INCiAgICAgICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB7IHJldHVybjsgfQ0KDQogICAgICAgIC8vIFRyYW5zZmVyIHRoZSBldGhlciB0byB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0Lg0KICAgICAgICBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOw0KDQogICAgICAgIC8vIFRva2VuIHBlciBldGhlciByYXRlDQogICAgICAgIHVpbnQyNTYgQ09OVkVSU0lPTl9SQVRFID0gMTAwMDAwOw0KDQogICAgICAgIC8vIFNldCBob3cgbWFueSB0b2tlbnMgdGhlIHVzZXIgZ2V0cw0KICAgICAgICB1aW50MjU2IHRva2Vuc0lzc3VlZCA9IChtc2cudmFsdWUgKiBDT05WRVJTSU9OX1JBVEUpOw0KDQogICAgICAgIHVpbnQyNTYgYm9udXNUb2tlbnNJc3N1ZWQgPSAwOw0KDQogICAgICAgIC8vIFRoZSBib251cyBpcyBvbmx5IHZhbGlkIHVwIHRvIGEgY2VydGFpbiBhbW91bnQgb2YgZXRoZXINCiAgICAgICAgaWYodG90YWxDb250cmlidXRpb24gPCA1MDAgZXRoZXIpIHsNCiAgICAgICAgICAgIC8vIEJvbnVzIGxvZ2ljDQogICAgICAgICAgICBpZiAobXNnLnZhbHVlID49IDEwMCBmaW5uZXkgJiYgbXNnLnZhbHVlIDwgMSBldGhlcikgew0KICAgICAgICAgICAgICAgIC8vIDUlIGJvbnVzIGZvciAwLjEgdG8gMSBldGhlcg0KICAgICAgICAgICAgICAgIGJvbnVzVG9rZW5zSXNzdWVkID0gbXNnLnZhbHVlICogQ09OVkVSU0lPTl9SQVRFIC8gMjA7DQogICAgICAgICAgICB9IGVsc2UgaWYgKG1zZy52YWx1ZSA+PSAxIGV0aGVyICYmIG1zZy52YWx1ZSA8IDIgZXRoZXIpIHsNCiAgICAgICAgICAgICAgICAvLyAxMCUgYm9udXMgZm9yIDEgdG8gMiBldGhlcg0KICAgICAgICAgICAgICAgIGJvbnVzVG9rZW5zSXNzdWVkID0gbXNnLnZhbHVlICogQ09OVkVSU0lPTl9SQVRFIC8gMTA7DQogICAgICAgICAgICB9IGVsc2UgaWYgKG1zZy52YWx1ZSA+PSAyIGV0aGVyKSB7DQogICAgICAgICAgICAgICAgLy8gMjAlIGJvbnVzIGZvciAyKyBldGhlcg0KICAgICAgICAgICAgICAgIGJvbnVzVG9rZW5zSXNzdWVkID0gbXNnLnZhbHVlICogQ09OVkVSU0lPTl9SQVRFIC8gNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFkZCB0b2tlbiBib251cyB0b2tlbnMgdG8gdGhlIGdsb2JhbCBjb3VudGVyDQogICAgICAgIHRvdGFsQm9udXNUb2tlbnNJc3N1ZWQgKz0gYm9udXNUb2tlbnNJc3N1ZWQ7DQoNCiAgICAgICAgLy8gQWRkIGJvbnVzIHRva2VucyB0byB0aGUgdXNlcg0KICAgICAgICB0b2tlbnNJc3N1ZWQgKz0gYm9udXNUb2tlbnNJc3N1ZWQ7DQoNCiAgICAgICAgdG90YWxTdXBwbHkgKz0gdG9rZW5zSXNzdWVkOw0KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlbnNJc3N1ZWQ7DQoNCiAgICAgICAgLy8gVXBkYXRlZCB0aGUgdHJhY2tlciBmb3IgdG90YWwgZXRoZXIgY29udHJpYnV0ZWQuDQogICAgICAgIHRvdGFsQ29udHJpYnV0aW9uICs9IG1zZy52YWx1ZTsNCg0KICAgICAgICAvLyBgdGhpc2AgcmVmZXJzIHRvIHRoZSBjb250cmFjdCBhZGRyZXNzLiBFbWl0IHRoZSBldmVudCB0aGF0IHRoZSBjb250cmFjdA0KICAgICAgICAvLyBzZW50IHRva2VucyB0byB0aGUgc2VuZGVyLg0KICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBtc2cuc2VuZGVyLCB0b2tlbnNJc3N1ZWQpOw0KICAgIH0NCn0='