base 64 content
base64donationDoubler
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KLyoNCiAgICBDb3B5cmlnaHQgMjAxNywgVm9qdGVjaCBTaW1ldGthDQoNCiAgICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQ0KICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5DQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3INCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLg0KDQogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsDQogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YNCiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlDQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4NCg0KICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlDQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uDQogKi8NCg0KLy8vIEB0aXRsZSBEb25hdGlvbiBEb3VibGVyDQovLy8gQGF1dGhvcnMgVm9qdGVjaCBTaW1ldGthLCBKb3JkaSBCYXlsaW5hLCBEYW5pIFBoaWxpYQ0KLy8vIEBub3RpY2UgVGhpcyBjb250cmFjdCBpcyB1c2VkIHRvIGRvdWJsZSBhIGRvbmF0aW9uIHRvIGEgR2l2ZXRoIENhbXBhaWduIGFzDQovLy8gIGxvbmcgYXMgdGhlcmUgaXMgZW5vdWdoIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gZG8gaXQuIElmIG5vdCwgdGhlDQovLy8gIGRvbmF0ZWQgdmFsdWUgaXMganVzdCBzZW50IGRpcmVjdGx5IHRvIGRlc2lnbmF0ZWQgQ2FtcGFpZ24gd2l0aCBhbnkgZXRoZXINCi8vLyAgdGhhdCBtYXkgc3RpbGwgYmUgaW4gdGhpcyBjb250cmFjdC4gVGhlIGBtc2cuc2VuZGVyYCBkb3VibGluZyB0aGVpcg0KLy8vICBkb25hdGlvbiB3aWxsIHJlY2VpdmUgdHdpY2UgdGhlIGV4cGVjdGVkIENhbXBhaWduIHRva2VucyBhbmQgdGhlIERvbm9yIHRoYXQNCi8vLyAgZGVwb3NpdGVkIHRoZSBpbml0YWwgZnVuZHMgd2lsbCBub3QgcmVjZWl2ZSBhbnkgZG9uYXRpb24gdG9rZW5zLiANCi8vLyAgV0FSTklORzogVGhpcyBjb250cmFjdCBvbmx5IHdvcmtzIGZvciBldGhlci4gQSB0b2tlbiBiYXNlZCBjb250cmFjdCB3aWxsIGJlDQovLy8gIGRldmVsb3BlZCBpbiB0aGUgZnV0dXJlLiBBbnkgdG9rZW5zIHNlbnQgdG8gdGhpcyBjb250cmFjdCB3aWxsIGJlIGxvc3QuDQovLy8gIE5leHQgVmVyc2lvbjogVXBncmFkZSB0aGUgRXNjYXBlSGF0Y2ggdG8gYmUgYWJsZSB0byByZW1vdmUgdG9rZW5zLg0KDQoNCi8vLyBAZGV2IGBPd25lZGAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IHRoYXQgYXNzaWducyBhbiBgb3duZXJgIHRoYXQgY2FuIGJlDQovLy8gIGxhdGVyIGNoYW5nZWQNCg0KLy8gQ29weXJpZ2h0IChDKSAyMDE1LCAyMDE2LCAyMDE3ICBEYXBwSHViLCBMTEMNCg0KLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIikuDQovLyBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQoNCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQovLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCAoZXhwcmVzcyBvciBpbXBsaWVkKS4NCi8vIA0KLy8gVGhhbmsgeW91IHRvIEB6YW5keSBhbmQgdGhlIERhcHBzeXMgdGVhbSBmb3Igd3JpdGluZyB0aGlzIGJlYXV0aWZ1bCBsaWJyYXJ5DQovLyBUaGVpciBtYXRoLnNvbCB3YXMgbW9kaWZpZWQgdG8gcmVtb3ZlIGFuZCByZW5hbWUgZnVuY3Rpb25zIGFuZCBhZGQgbWFueQ0KLy8gY29tbWVudHMgZm9yIGNsYXJpZmljYXRpb24uDQovLyBTZWUgdGhlaXIgb3JpZ2luYWwgbGlicmFyeSBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vZGFwcGh1Yi9kcy1tYXRoDQovLw0KLy8gQWxzbyB0aGUgT3BlblplcHBsaW4gdGVhbSBkZXNlcnZlcyBncmF0aXR1ZGUgYW5kIHJlY29nbml0aW9uIGZvciBtYWtpbmcNCi8vIHRoZWlyIG93biBiZWF1dGlmdWwgbGlicmFyeSB3aGljaCBoYXMgYmVlbiB2ZXJ5IHdlbGwgdXRpbGl6ZWQgaW4gc29saWRpdHkNCi8vIGNvbnRyYWN0cyBhY3Jvc3MgdGhlIEV0aGVyZXVtIGVjb3N5c3RlbSBhbmQgd2UgdXNlZCB0aGVpciBtYXg2NCgpLCBtaW42NCgpLA0KLy8gbXVsdGlwbHkoKSwgYW5kIGRpdmlkZSgpIGZ1bmN0aW9ucy4gU2VlIHRoZWlyIGxpYnJhcnkgaGVyZToNCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL1NhZmVNYXRoLnNvbA0KDQpwcmFnbWEgc29saWRpdHkgXjAuNC42Ow0KDQpjb250cmFjdCBTYWZlTWF0aCB7DQoNCiAgICAvLyBlbnN1cmUgdGhhdCB0aGUgcmVzdWx0IG9mIGFkZGluZyB4IGFuZCB5IGlzIGFjY3VyYXRlIA0KICAgIGZ1bmN0aW9uIGFkZCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCB6KSB7DQogICAgICAgIGFzc2VydCggKHogPSB4ICsgeSkgPj0geCk7DQogICAgfQ0KIA0KICAgIC8vIGVuc3VyZSB0aGF0IHRoZSByZXN1bHQgb2Ygc3VidHJhY3RpbmcgeSBmcm9tIHggaXMgYWNjdXJhdGUgDQogICAgZnVuY3Rpb24gc3VidHJhY3QodWludCB4LCB1aW50IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgeikgew0KICAgICAgICBhc3NlcnQoICh6ID0geCAtIHkpIDw9IHgpOw0KICAgIH0NCg0KICAgIC8vIGVuc3VyZSB0aGF0IHRoZSByZXN1bHQgb2YgbXVsdGlwbHlpbmcgeCBhbmQgeSBpcyBhY2N1cmF0ZSANCiAgICBmdW5jdGlvbiBtdWx0aXBseSh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCB6KSB7DQogICAgICAgIHogPSB4ICogeTsNCiAgICAgICAgYXNzZXJ0KHggPT0gMCB8fCB6IC8geCA9PSB5KTsNCiAgICAgICAgcmV0dXJuIHo7DQogICAgfQ0KDQogICAgLy8gZW5zdXJlIHRoYXQgdGhlIHJlc3VsdCBvZiBkaXZpZGluZyB4IGFuZCB5IGlzIGFjY3VyYXRlDQogICAgLy8gbm90ZTogU29saWRpdHkgbm93IHRocm93cyBvbiBkaXZpc2lvbiBieSB6ZXJvLCBzbyBhIGNoZWNrIGlzIG5vdCBuZWVkZWQNCiAgICBmdW5jdGlvbiBkaXZpZGUodWludCB4LCB1aW50IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgeikgew0KICAgICAgICB6ID0geCAvIHk7DQogICAgICAgIGFzc2VydCh4ID09ICggKHkgKiB6KSArICh4ICUgeSkgKSk7DQogICAgICAgIHJldHVybiB6Ow0KICAgIH0NCiAgICANCiAgICAvLyByZXR1cm4gdGhlIGxvd2VzdCBvZiB0d28gNjQgYml0IGludGVnZXJzDQogICAgZnVuY3Rpb24gbWluNjQodWludDY0IHgsIHVpbnQ2NCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsNCiAgICAgIHJldHVybiB4IDwgeSA/IHg6IHk7DQogICAgfQ0KICAgIA0KICAgIC8vIHJldHVybiB0aGUgbGFyZ2VzdCBvZiB0d28gNjQgYml0IGludGVnZXJzDQogICAgZnVuY3Rpb24gbWF4NjQodWludDY0IHgsIHVpbnQ2NCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsNCiAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsNCiAgICB9DQoNCiAgICAvLyByZXR1cm4gdGhlIGxvd2VzdCBvZiB0d28gdmFsdWVzDQogICAgZnVuY3Rpb24gbWluKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHJldHVybiAoeCA8PSB5KSA/IHggOiB5Ow0KICAgIH0NCg0KICAgIC8vIHJldHVybiB0aGUgbGFyZ2VzdCBvZiB0d28gdmFsdWVzDQogICAgZnVuY3Rpb24gbWF4KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHJldHVybiAoeCA+PSB5KSA/IHggOiB5Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgew0KICAgICAgICBpZiAoIWFzc2VydGlvbikgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICB9DQoNCn0NCg0KY29udHJhY3QgT3duZWQgew0KICAgIC8vLyBAZGV2IGBvd25lcmAgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzDQogICAgLy8vIG1vZGlmaWVyOyB0aGUgZnVuY3Rpb24gYm9keSBpcyBpbnNlcnRlZCB3aGVyZSB0aGUgc3BlY2lhbCBzeW1ib2wNCiAgICAvLy8gIl87IiBpbiB0aGUgZGVmaW5pdGlvbiBvZiBhIG1vZGlmaWVyIGFwcGVhcnMuDQogICAgbW9kaWZpZXIgb25seU93bmVyIHsgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OyBfOyB9DQoNCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCg0KICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBtZXNzYWdlIHNlbmRlciB0byBiZSBgb3duZXJgDQogICAgZnVuY3Rpb24gT3duZWQoKSB7IG93bmVyID0gbXNnLnNlbmRlcjt9DQoNCiAgICAvLy8gQG5vdGljZSBgb3duZXJgIGNhbiBzdGVwIGRvd24gYW5kIGFzc2lnbiBzb21lIG90aGVyIGFkZHJlc3MgdG8gdGhpcyByb2xlDQogICAgLy8vIEBwYXJhbSBfbmV3T3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBvd25lci4gMHgwIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZQ0KICAgIC8vLyAgYW4gdW5vd25lZCBuZXV0cmFsIHZhdWx0LCBob3dldmVyIHRoYXQgY2Fubm90IGJlIHVuZG9uZQ0KICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgew0KICAgICAgICBvd25lciA9IF9uZXdPd25lcjsNCiAgICAgICAgTmV3T3duZXIobXNnLnNlbmRlciwgX25ld093bmVyKTsNCiAgICB9DQogICAgDQogICAgLy8vIEBkZXYgRXZlbnRzIG1ha2UgaXQgZWFzaWVyIHRvIHNlZSB0aGF0IHNvbWV0aGluZyBoYXMgaGFwcGVuZCBvbiB0aGUNCiAgICAvLy8gICBibG9ja2NoYWluDQogICAgZXZlbnQgTmV3T3duZXIoYWRkcmVzcyBpbmRleGVkIG9sZE93bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOw0KfQ0KLy8vIEBkZXYgYEVzY2FwYWJsZWAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IGJ1aWx0IG9mZiBvZiB0aGUgYE93bmVkYA0KLy8vICBjb250cmFjdCB0aGF0IGNyZWF0ZXMgYW4gZXNjYXBlIGhhdGNoIGZ1bmN0aW9uIHRvIHNlbmQgaXRzIGV0aGVyIHRvDQovLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCB3aGVuIGNhbGxlZCBieSB0aGUgYGVzY2FwZUhhdGNoQ2FsbGVyYCBpbiB0aGUgY2FzZQ0KLy8vICB0aGF0IHNvbWV0aGluZyB1bmV4cGVjdGVkIGhhcHBlbnMNCmNvbnRyYWN0IEVzY2FwYWJsZSBpcyBPd25lZCB7DQogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hDYWxsZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbjsNCg0KICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgYW5kIHRoZQ0KICAgIC8vLyAgYGVzY2FwZUhhdGNoQ2FsbGVyYA0KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoRGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgYSBzYWZlIGxvY2F0aW9uICh1c3UgYQ0KICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdA0KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoQ2FsbGVyIFRoZSBhZGRyZXNzIG9mIGEgdHJ1c3RlZCBhY2NvdW50IG9yIGNvbnRyYWN0IHRvDQogICAgLy8vICBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZQ0KICAgIC8vLyAgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUhhdGNoQ2FsbGVyYCBjYW5ub3QNCiAgICAvLy8gIG1vdmUgZnVuZHMgb3V0IG9mIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYA0KICAgIGZ1bmN0aW9uIEVzY2FwYWJsZShhZGRyZXNzIF9lc2NhcGVIYXRjaENhbGxlciwgYWRkcmVzcyBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbikgew0KICAgICAgICBlc2NhcGVIYXRjaENhbGxlciA9IF9lc2NhcGVIYXRjaENhbGxlcjsNCiAgICAgICAgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbiA9IF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFRoZSBhZGRyZXNzZXMgcHJlYXNzaWduZWQgdGhlIGBlc2NhcGVIYXRjaENhbGxlcmAgcm9sZQ0KICAgIC8vLyAgaXMgdGhlIG9ubHkgYWRkcmVzc2VzIHRoYXQgY2FuIGNhbGwgYSBmdW5jdGlvbiB3aXRoIHRoaXMgbW9kaWZpZXINCiAgICBtb2RpZmllciBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsNCiAgICAgICAgaWYgKChtc2cuc2VuZGVyICE9IGVzY2FwZUhhdGNoQ2FsbGVyKSYmKG1zZy5zZW5kZXIgIT0gb3duZXIpKQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLy8vIEBub3RpY2UgVGhlIGBlc2NhcGVIYXRjaCgpYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYXMgYSBsYXN0IHJlc29ydCBpZiBhDQogICAgLy8vIHNlY3VyaXR5IGlzc3VlIGlzIHVuY292ZXJlZCBvciBzb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5lZA0KICAgIGZ1bmN0aW9uIGVzY2FwZUhhdGNoKCkgb25seUVzY2FwZUhhdGNoQ2FsbGVyT3JPd25lciB7DQogICAgICAgIHVpbnQgdG90YWwgPSB0aGlzLmJhbGFuY2U7DQogICAgICAgIC8vIFNlbmQgdGhlIHRvdGFsIGJhbGFuY2Ugb2YgdGhpcyBjb250cmFjdCB0byB0aGUgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gDQogICAgICAgIGlmICghZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbi5zZW5kKHRvdGFsKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgRXNjYXBlSGF0Y2hDYWxsZWQodG90YWwpOw0KICAgIH0NCiAgICAvLy8gQG5vdGljZSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGFzc2lnbmVkIHRvIGNhbGwgYGVzY2FwZUhhdGNoKClgDQogICAgLy8vIEBwYXJhbSBfbmV3RXNjYXBlSGF0Y2hDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QgdG8NCiAgICAvLy8gIGNhbGwgYGVzY2FwZUhhdGNoKClgIHRvIHNlbmQgdGhlIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gdGhlDQogICAgLy8vICBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgaXQgd291bGQgYmUgaWRlYWwgdGhhdCBgZXNjYXBlSGF0Y2hDYWxsZXJgIGNhbm5vdA0KICAgIC8vLyAgbW92ZSBmdW5kcyBvdXQgb2YgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gDQogICAgZnVuY3Rpb24gY2hhbmdlRXNjYXBlQ2FsbGVyKGFkZHJlc3MgX25ld0VzY2FwZUhhdGNoQ2FsbGVyKSBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsNCiAgICAgICAgZXNjYXBlSGF0Y2hDYWxsZXIgPSBfbmV3RXNjYXBlSGF0Y2hDYWxsZXI7DQogICAgfQ0KDQogICAgZXZlbnQgRXNjYXBlSGF0Y2hDYWxsZWQodWludCBhbW91bnQpOw0KfQ0KDQovLy8gQGRldiBUaGlzIGlzIGFuIGVtcHR5IGNvbnRyYWN0IHRvIGRlY2xhcmUgYHByb3h5UGF5bWVudCgpYCB0byBjb21wbHkgd2l0aA0KLy8vICBHaXZldGggQ2FtcGFpZ25zIHNvIHRoYXQgdG9rZW5zIHdpbGwgYmUgZ2VuZXJhdGVkIHdoZW4gZG9uYXRpb25zIGFyZSBzZW50DQpjb250cmFjdCBDYW1wYWlnbiB7DQoNCiAgICAvLy8gQG5vdGljZSBgcHJveHlQYXltZW50KClgIGFsbG93cyB0aGUgY2FsbGVyIHRvIHNlbmQgZXRoZXIgdG8gdGhlIENhbXBhaWduIGFuZA0KICAgIC8vLyBoYXZlIHRoZSB0b2tlbnMgY3JlYXRlZCBpbiBhbiBhZGRyZXNzIG9mIHRoZWlyIGNob29zaW5nDQogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdGhhdCB3aWxsIGhvbGQgdGhlIG5ld2x5IGNyZWF0ZWQgdG9rZW5zDQogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgX293bmVyKSBwYXlhYmxlIHJldHVybnMoYm9vbCk7DQp9DQoNCi8vLyBAZGV2IEZpbmFsbHkhIFRoZSBtYWluIGNvbnRyYWN0IHdoaWNoIGRvdWJsZXMgdGhlIGFtb3VudCBkb25hdGVkLg0KY29udHJhY3QgRG9uYXRpb25Eb3VibGVyIGlzIEVzY2FwYWJsZSwgU2FmZU1hdGggew0KICAgIENhbXBhaWduIHB1YmxpYyBiZW5lZmljaWFyeTsgLy8gZXhwZWN0ZWQgdG8gYmUgYSBHaXZldGggY2FtcGFpZ24NCg0KICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBgYmVuZWZpY2lhcnlgLCB0aGUNCiAgICAvLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCBhbmQgdGhlIGBlc2NhcGVIYXRjaENhbGxlcmAgYXMgd2VsbCBhcyBkZXBsb3lzDQogICAgLy8vICB0aGUgY29udHJhY3QgdG8gdGhlIGJsb2NrY2hhaW4gKG9idmlvdXNseSkNCiAgICAvLy8gQHBhcmFtIF9iZW5lZmljaWFyeSBUaGUgYWRkcmVzcyBvZiB0aGUgQ0FNUEFJR04gQ09OVFJPTExFUiBmb3IgdGhlIENhbXBhaWduDQogICAgLy8vICB0aGF0IGlzIHRvIHJlY2VpdmUgZG9uYXRpb25zDQogICAgLy8vIEBwYXJhbSBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbiBUaGUgYWRkcmVzcyBvZiBhIHNhZmUgbG9jYXRpb24gKHVzdWFsbHkgYQ0KICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdA0KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoQ2FsbGVyIFRoZSBhZGRyZXNzIG9mIGEgdHJ1c3RlZCBhY2NvdW50IG9yIGNvbnRyYWN0DQogICAgLy8vICB0byBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZSANCiAgICAvLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCBpdCB3b3VsZCBiZSBpZGVhbCB0aGF0IGBlc2NhcGVIYXRjaENhbGxlcmANCiAgICAvLy8gIGNhbm5vdCBtb3ZlIGZ1bmRzIG91dCBvZiBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmANCiAgICBmdW5jdGlvbiBEb25hdGlvbkRvdWJsZXIoDQogICAgICAgICAgICBDYW1wYWlnbiBfYmVuZWZpY2lhcnksDQogICAgICAgICAgICAvLyBwZXJzb24gb3IgbGVnYWwgZW50aXR5IHRoYXQgcmVjZWl2ZXMgbW9uZXkgb3Igb3RoZXIgYmVuZWZpdHMgZnJvbSBhIGJlbmVmYWN0b3INCiAgICAgICAgICAgIGFkZHJlc3MgX2VzY2FwZUhhdGNoQ2FsbGVyLA0KICAgICAgICAgICAgYWRkcmVzcyBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbg0KICAgICAgICApDQogICAgICAgIEVzY2FwYWJsZShfZXNjYXBlSGF0Y2hDYWxsZXIsIF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uKQ0KICAgIHsNCiAgICAgICAgYmVuZWZpY2lhcnkgPSBfYmVuZWZpY2lhcnk7DQogICAgfQ0KDQogICAgLy8vIEBub3RpY2UgU2ltcGxlIGZ1bmN0aW9uIHRvIGRlcG9zaXQgbW9yZSBFVEggdG8gRG91YmxlIERvbmF0aW9ucw0KICAgIGZ1bmN0aW9uIGRlcG9zaXRFVEgoKSBwYXlhYmxlIHsNCiAgICAgICAgRG9uYXRpb25EZXBvc2l0ZWQ0RG91YmxpbmcobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsNCiAgICB9DQoNCiAgICAvLy8gQG5vdGljZSBEb25hdGUgRVRIIHRvIHRoZSBgYmVuZWZpY2lhcnlgLCBhbmQgaWYgdGhlcmUgaXMgZW5vdWdoIGluIHRoZSANCiAgICAvLy8gIGNvbnRyYWN0IGRvdWJsZSBpdC4gVGhlIGBtc2cuc2VuZGVyYCBpcyByZXdhcmRlZCB3aXRoIENhbXBhaWduIHRva2Vucw0KICAgIC8vIGRlcGVuZGluZyBvbiBob3cgb25lIGNhbGxzIGludG8gdGhpcyBmYWxsYmFjayBmdW5jdGlvbiwgaS5lLiB3aXRoIC5zZW5kICggaGFyZCBsaW1pdCBvZiAyMzAwIGdhcyApIHZzIC52YWx1ZSAocHJvdmlkZXMgZmFsbGJhY2sgd2l0aCBhbGwgdGhlIGF2YWlsYWJsZSBnYXMgb2YgdGhlIGNhbGxlciksIGl0IG1heSB0aHJvdw0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgICAgICB1aW50IGFtb3VudDsNCg0KICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIGVub3VnaCBFVEggaW4gdGhlIGNvbnRyYWN0IHRvIGRvdWJsZSB0aGUgRVRIIHNlbnQNCiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA+PSBtdWx0aXBseShtc2cudmFsdWUsIDIpKXsNCiAgICAgICAgICAgIGFtb3VudCA9IG11bHRpcGx5KG1zZy52YWx1ZSwgMik7IC8vIGRvIGl0IHR3byBpdCENCiAgICAgICAgICAgIC8vIFNlbmQgdGhlIEVUSCB0byB0aGUgYmVuZWZpY2lhcnkgc28gdGhhdCB0aGV5IHJlY2VpdmUgQ2FtcGFpZ24gdG9rZW5zDQogICAgICAgICAgICBpZiAoIWJlbmVmaWNpYXJ5LnByb3h5UGF5bWVudC52YWx1ZShhbW91bnQpKG1zZy5zZW5kZXIpKQ0KICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgRG9uYXRpb25Eb3VibGVkKG1zZy5zZW5kZXIsIGFtb3VudCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbW91bnQgPSB0aGlzLmJhbGFuY2U7DQogICAgICAgICAgICAvLyBTZW5kIHRoZSBFVEggdG8gdGhlIGJlbmVmaWNpYXJ5IHNvIHRoYXQgdGhleSByZWNlaXZlIENhbXBhaWduIHRva2Vucw0KICAgICAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5wcm94eVBheW1lbnQudmFsdWUoYW1vdW50KShtc2cuc2VuZGVyKSkNCiAgICAgICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgICAgIERvbmF0aW9uU2VudEJ1dE5vdERvdWJsZWQobXNnLnNlbmRlciwgYW1vdW50KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGV2ZW50IERvbmF0aW9uRGVwb3NpdGVkNERvdWJsaW5nKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgYW1vdW50KTsNCiAgICBldmVudCBEb25hdGlvbkRvdWJsZWQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludCBhbW91bnQpOw0KICAgIGV2ZW50IERvbmF0aW9uU2VudEJ1dE5vdERvdWJsZWQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludCBhbW91bnQpOw0KfQ=='