base 64 content
base64e4Lava1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLy8gVkVSU0lPTiBMQVZBKEkpDQoNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIGhlcmUncyBob3cgdGhpcyB3b3JrczoNCi8vIHRoZSBjdXJyZW50IGFtb3VudCBvZiBkaXZpZGVuZHMgZHVlIHRvIGVhY2ggdG9rZW4taG9sZGVyJ3MgIGlzOg0KLy8gICBwcmV2aW91c19kdWUgKyBbIHAoeCkgKiB0KHgpL04gXSArIFsgcCh4KzEpICogdCh4KzEpL04gXSArIC4uLg0KLy8gICB3aGVyZSBwKHgpIGlzIHRoZSB4J3RoIHBheW1lbnQgcmVjZWl2ZWQgYnkgdGhlIGNvbnRyYWN0DQovLyAgICAgICAgIHQoeCkgaXMgdGhlIG51bWJlciBvZiB0b2tlbnMgaGVsZCBieSB0aGUgdG9rZW4taG9sZGVyIGF0IHRoZSB0aW1lIG9mIHAoeCkNCi8vICAgICAgICAgTiAgICBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIHRva2Vucywgd2hpY2ggbmV2ZXIgY2hhbmdlcw0KLy8NCi8vIGFzc3VtZSB0aGF0IHQoeCkgdGFrZXMgb24gMyB2YWx1ZXMsIHQoYSksIHQoYikgYW5kIHQoYyksIGR1cmluZyBwZXJpb2RzIGEsIGIsIGFuZCBjLiB0aGVuOg0KLy8gZmFjdG9yaW5nOg0KLy8gICBjdXJyZW50X2R1ZSA9IHsgKHQoYSkgKiBbcCh4KSArIHAoeCsxKV0gLi4uKSArDQovLyAgICAgICAgICAgICAgICAgICAodChiKSAqIFtwKHkpICsgcCh5KzEpXSAuLi4pICsNCi8vICAgICAgICAgICAgICAgICAgICh0KGMpICogW3AoeikgKyBwKHorMSldIC4uLikgfSAvIE4NCi8vDQovLyBvcg0KLy8NCi8vICAgY3VycmVudF9kdWUgPSB7ICh0KGEpICogcGVyaW9kX2FfZmVlcykgKw0KLy8gICAgICAgICAgICAgICAgICAgKHQoYikgKiBwZXJpb2RfYl9mZWVzKSArDQovLyAgICAgICAgICAgICAgICAgICAodChjKSAqIHBlcmlvZF9jX2ZlZXMpIH0gLyBODQovLw0KLy8gaWYgd2UgZGVzaWduYXRlIGN1cnJlbnRfZHVlICogTiBhcyBjdXJyZW50LXBvaW50cywgdGhlbg0KLy8NCi8vICAgY3VycmVudFBvaW50cyA9IHsgICh0KGEpICogcGVyaW9kX2FfZmVlcykgKw0KLy8gICAgICAgICAgICAgICAgICAgICAgKHQoYikgKiBwZXJpb2RfYl9mZWVzKSArDQovLyAgICAgICAgICAgICAgICAgICAgICAodChjKSAqIHBlcmlvZF9jX2ZlZXMpIH0NCi8vDQovLyBvciBtb3JlIHN1Y2NpY3RseSwgaWYgd2UgcmVjb21wdXRlIGN1cnJlbnQgcG9pbnRzIGJlZm9yZSBhIHRva2VuLWhvbGRlcidzIG51bWJlciBvZg0KLy8gdG9rZW5zLCBULCBpcyBhYm91dCB0byBjaGFuZ2U6DQovLw0KLy8gICBjdXJyZW50UG9pbnRzID0gcHJldmlvdXNfcG9pbnRzICsgKFQgKiBjdXJyZW50LXBlcmlvZC1mZWVzKQ0KLy8NCi8vIHdoZW4gd2Ugd2FudCB0byBkbyBhIHBheW91dCwgd2UnbGwgY2FsY3VsYXRlOg0KLy8gIGN1cnJlbnRfZHVlID0gY3VycmVudC1wb2ludHMgLyBODQovLw0KLy8gd2UnbGwga2VlcCB0cmFjayBvZiBhIHRva2VuLWhvbGRlcidzIGN1cnJlbnQtcGVyaW9kLXBvaW50cywgd2hpY2ggaXM6DQovLyAgIFQgKiBjdXJyZW50LXBlcmlvZC1mZWVzDQovLyBieSB0YWtpbmcgYSBzbmFwc2hvdCBvZiBmZWVzIGNvbGxlY3RlZCBleGFjdGx5IHdoZW4gdGhlIGN1cnJlbnQgcGVyaW9kIGJlZ2FuOyB0aGF0IGlzLCB0aGUgd2hlbiB0aGUNCi8vIG51bWJlciBvZiB0b2tlbnMgbGFzdCBjaGFuZ2VkLiB0aGF0IGlzLCB3ZSBrZWVwIGEgcnVubmluZyBjb3VudCBvZiB0b3RhbCBmZWVzIHJlY2VpdmVkDQovLw0KLy8gICBUb3RhbEZlZXNSZWNlaXZlZCA9IHAoeCkgKyBwKHgrMSkgKyBwKHgrMikNCi8vDQovLyAod2hpY2ggaGFwcGlseSBpcyB0aGUgc2FtZSBmb3IgYWxsIHRva2VuIGhvbGRlcnMpIHRoZW4sIGJlZm9yZSBhbnkgdG9rZW4gaG9sZGVyIGNoYW5nZXMgdGhlaXIgbnVtYmVyIG9mDQovLyB0b2tlbnMgd2UgY29tcHV0ZSAoZm9yIHRoYXQgdG9rZW4gaG9sZGVyKToNCi8vDQovLyAgZnVuY3Rpb24gY2FsY0N1clBvaW50c0ZvckFjY3QoYWNjdCkgew0KLy8gICAgY3VycmVudFBvaW50c1thY2N0XSArPSAoVG90YWxGZWVzUmVjZWl2ZWQgLSBsYXN0U25hcHNob3RbYWNjdF0pICogVFthY2N0XQ0KLy8gICAgbGFzdFNuYXBzaG90W2FjY3RdID0gVG90YWxGZWVzUmVjZWl2ZWQNCi8vICB9DQovLw0KLy8gaW4gdGhlIHdpdGhkcmF3IGZjbiwgYWxsIHdlIG5lZWQgaXM6DQovLw0KLy8gIGZ1bmN0aW9uIHdpdGhkcmF3KGFjY3QpIHsNCi8vICAgIGNhbGNDdXJQb2ludHNGb3JBY2N0KGFjY3QpOw0KLy8gICAgY3VycmVudF9hbW91bnRfZHVlID0gY3VycmVudFBvaW50c1thY2N0XSAvIE4NCi8vICAgIGN1cnJlbnRQb2ludHNbYWNjdF0gPSAwOw0KLy8gICAgc2VuZChjdXJyZW50X2Ftb3VudF9kdWUpOw0KLy8gIH0NCi8vDQovLw0KLy8gc3BlY2lhbCBwcm92aXNpb25zIGZvciB0cmFuc2ZlcnMgZnJvbSB0aGUgb2xkIGU0cm93IGNvbnRyYWN0ICh0b2tlbi1zcGxpdCB0cmFuc2ZlcnMpDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyBub3JtYWxseSB3aGVuIGEgbmV3IGFjY3QgaXMgY3JlYXRlZCwgZWcgY3V6IHRva2VucyBhcmUgdHJhbnNmZXJyZWQgZnJvbSBvbmUgYWNjdCB0byBhbm90aGVyLCB3ZSBmaXJzdCBjYWxsDQovLyBjYWxjQ3VyUG9pbnRzRm9yQWNjdChhY2N0KSBvbiB0aGUgb2xkIGFjY3Q7IG9uIHRoZSBuZXcgYWNjdCB3ZSBzZXQ6DQovLyAgY3VycmVudFBvaW50c1thY2N0XSA9IDA7DQovLyAgbGFzdFNuYXBzaG90W2FjY3RdID0gVG90YWxGZWVzUmVjZWl2ZWQ7DQovLw0KLy8gdGhpcyBzdGFydHMgdGhlIG5ldyBhY2NvdW50IHdpdGggbm8gY3JlZGl0cyBmb3IgYW55IGRpdmlkZW5kcyB0aGF0IGhhdmUgYmVlbiBjb2xsZWN0ZWQgc28gZmFyLCB3aGljaCBpcyB3aGF0DQovLyB5b3Ugd291bGQgZ2VuZXJhbGx5IHdhbnQuIGhvd2V2ZXIsIHRoZXJlIGlzIGEgY2FzZSBpbiB3aGljaCB0b2tlbnMgYXJlIHRyYW5zZmVycmVkIGZyb20gdGhlIG9sZCBlNHJvdyBjb250cmFjdC4NCi8vIGluIHRoYXQgY2FzZSB0aGUgdG9rZW5zIHdlcmUgcmVzZXJ2ZWQgb24gdGhpcyBjb250cmFjdCBhbGwgYWxvbmcsIGFuZCB0aGV5IGVhcm4gZGl2aWRlbmRzIGV2ZW4gYmVmb3JlIHRoZXkgYXJlDQovLyBhc3NpZ25lZCB0byBhbiBhY2NvdW50LiBzbyBmb3IgdG9rZW4tc3BsaXQgdHJhbnNmZXJzOg0KLy8gIGN1cnJlbnRQb2ludHNbYWNjdF0gPSAwOw0KLy8gIGxhc3RTbmFwc2hvdFthY2N0XSA9IDA7DQovLw0KLy8gdGhlbiBpbW1lZGlhdGVseSBjYWxsIGNhbGNDdXJQb2ludHNGb3JBY2N0KGFjY3QpIGZvciB0aGUgbmV3IHRva2VuLXNwbGl0IGFjY291bnQuIGhlIHdpbGwgZ2V0IGNyZWRpdA0KLy8gZm9yIGFsbCB0aGUgYWNjdW11bGF0ZWQgcG9pbnRzLCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGltZS4NCi8vDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCi8vIEFic3RyYWN0IGNvbnRyYWN0IGZvciB0aGUgZnVsbCBFUkMgMjAgVG9rZW4gc3RhbmRhcmQNCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMA0KDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIEFCU1RSQUNUIHN0YW5kYXJkIHRva2VuIGNsYXNzDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmNvbnRyYWN0IFRva2VuIHsNCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCg0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOw0KfQ0KDQoNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyAgRTRSb3dSZXdhcmRzIC0gYWJzdHJhY3QgZTQgZGl2aWRlbmQgY29udHJhY3QNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb250cmFjdCBFNExhdmFSZXdhcmRzDQp7DQogICAgICAgIGZ1bmN0aW9uIGNoZWNrRGl2aWRlbmRzKGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IHJldHVybnModWludCBfYW1vdW50KTsNCiAgICAgICAgZnVuY3Rpb24gd2l0aGRyYXdEaXZpZGVuZHMoKSBwdWJsaWMgcmV0dXJucyAodWludCBuYW1vdW50KTsNCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXJEaXZpZGVuZHMoYWRkcmVzcyBfdG8pIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogICAgICAgIGZ1bmN0aW9uIGdldEFjY291bnRJbmZvKGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IHJldHVybnModWludCBfdG9rZW5zLCB1aW50IF9zbmFwc2hvdCwgdWludCBfcG9pbnRzKTsNCg0KfQ0KDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gIEU0TGF2YU9wdGluIC0gYWJzdHJhY3QgZTQgb3B0aW4gY29udHJhY3QNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb250cmFjdCBFNExhdmFPcHRJbg0Kew0KICAgICAgICBmdW5jdGlvbiBvcHRJbkZyb21DbGFzc2ljKCkgcHVibGljOw0KfQ0KDQoNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyAgRTRST1cgKExBVkEpIC0gdG9rZW4gY29udHJhY3QNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb250cmFjdCBFNExhdmEgaXMgVG9rZW4sIEU0TGF2YVJld2FyZHMsIEU0TGF2YU9wdEluIHsNCiAgICAgICAgZXZlbnQgU3RhdEV2ZW50KHN0cmluZyBtc2cpOw0KICAgICAgICBldmVudCBTdGF0RXZlbnRJKHN0cmluZyBtc2csIHVpbnQgdmFsKTsNCg0KICAgICAgICBlbnVtIFNldHRpbmdTdGF0ZVZhbHVlICB7ZGVidWcsIGxvY2tlZFJlbGVhc2V9DQoNCiAgICAgICAgc3RydWN0IHRva2VuQWNjb3VudCB7DQogICAgICAgICAgICAgICAgYm9vbCBhbGxvY2VkOyAgICAgICAvLyBmbGFnIHRvIGFzY2VydCBwcmlvciBhbGxvY2F0aW9uDQogICAgICAgICAgICAgICAgdWludCB0b2tlbnM7ICAgICAgICAvLyBudW0gdG9rZW5zIGN1cnJlbnRseSBoZWxkIGluIHRoaXMgYWNjdA0KICAgICAgICAgICAgICAgIHVpbnQgY3VycmVudFBvaW50czsgLy8gdXBkYXRlZCBiZWZvcmUgdG9rZW4gYmFsYW5jZSBjaGFuZ2VzLCBvciBiZWZvcmUgYSB3aXRoZHJhd2FsLiBjcmVkaXQgZm9yIG93bmluZyB0b2tlbnMNCiAgICAgICAgICAgICAgICB1aW50IGxhc3RTbmFwc2hvdDsgIC8vIHNuYXBzaG90IG9mIGdsb2JhbCBUb3RhbFBvaW50cywgbGFzdCB0aW1lIHdlIHVwZGF0ZWQgdGhpcyBhY2N0J3MgY3VycmVudFBvaW50cw0KICAgICAgICB9DQoNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyAgZGF0YSBzdG9yYWdlDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHVpbnQgY29uc3RhbnQgTnVtT3JpZ1Rva2VucyAgICAgICAgID0gNTc2MjsgICAvLyBudW1iZXIgb2Ygb2xkIHRva2VucywgZnJvbSBvcmlnaW5hbCB0b2tlbiBjb250cmFjdA0KICAgICAgICB1aW50IGNvbnN0YW50IE5ld1Rva2Vuc1Blck9yaWdUb2tlbiA9IDEwMDAwMDsgLy8gaG93IG1hbnkgbmV3IHRva2VucyBhcmUgY3JlYXRlZCBmb3IgZWFjaCBmcm9tIG9yaWdpbmFsIHRva2VuDQogICAgICAgIHVpbnQgY29uc3RhbnQgTmV3VG9rZW5TdXBwbHkgICAgICAgID0gNTc2MiAqIDEwMDAwMDsNCiAgICAgICAgdWludCBwdWJsaWMgbnVtVG9rc1N3aXRjaGVkT3ZlcjsgICAgICAgICAgICAgIC8vIGNvdW50IG9sZCB0b2tlbnMgdGhhdCBoYXZlIGJlZW4gY29udmVydGVkDQogICAgICAgIHVpbnQgcHVibGljIGhvbGRvdmVyQmFsYW5jZTsgICAgICAgICAgICAgICAgICAvLyBmdW5kcyByZWNlaXZlZCwgYnV0IG5vdCB5ZXQgZGlzdHJpYnV0ZWQNCiAgICAgICAgdWludCBwdWJsaWMgVG90YWxGZWVzUmVjZWl2ZWQ7ICAgICAgICAgICAgICAgIC8vIHRvdGFsIGZlZXMgcmVjZWl2ZWQgZnJvbSBwYXJ0bmVyIGNvbnRyYWN0KHMpDQoNCiAgICAgICAgYWRkcmVzcyBwdWJsaWMgZGV2ZWxvcGVyczsgICAgICAgICAgICAgICAgICAgIC8vIGRldmVsb3BlcnMgdG9rZW4gaG9sZGluZyBhZGRyZXNzDQogICAgICAgIGFkZHJlc3MgcHVibGljIG93bmVyOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXBsb3llciBleGVjdXRvcg0KICAgICAgICBhZGRyZXNzIHB1YmxpYyBvbGRFNDsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkciBvZiBvbGQgZTQgdG9rZW4gY29udHJhY3QNCiAgICAgICAgYWRkcmVzcyBwdWJsaWMgb2xkRTRSZWN5Y2xlQmluOyAgICAgICAgICAgICAgIC8vIGFkZHIgdG8gdHJhbnNmZXIgb2xkIHRva2Vucw0KDQogICAgICAgIHVpbnQgcHVibGljIGRlY2ltYWxzOw0KICAgICAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsNCg0KICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IHRva2VuQWNjb3VudCkgaG9sZGVyQWNjb3VudHM7ICAgICAgICAgIC8vIHdobyBob2xkcyBob3cgbWFueSB0b2tlbnMgKGhpZ2ggdHdvIGJ5dGVzIGNvbnRhaW4gY3VyUGF5SWQpDQogICAgICAgIG1hcHBpbmcgKHVpbnQgPT4gYWRkcmVzcykgaG9sZGVySW5kZXhlczsgICAgICAgICAgICAgICAgICAgLy8gZm9yIGl0ZXJhdGlvbiB0aHJ1IGhvbGRlcg0KICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7IC8vIGFwcHJvdmFscw0KICAgICAgICB1aW50IHB1YmxpYyBudW1BY2NvdW50czsNCg0KICAgICAgICB1aW50IHB1YmxpYyBwYXlvdXRUaHJlc2hvbGQ7ICAgICAgICAgICAgICAgICAgLy8gbm8gd2l0aGRyYXdhbHMgbGVzcyB0aGFuIHRoaXMgYW1vdW50LCB0byBhdm9pZCByZW1haW5kZXJzDQogICAgICAgIHVpbnQgcHVibGljIHJ3R2FzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXdhcmQgZ2FzDQogICAgICAgIHVpbnQgcHVibGljIG9wdEluWGZlckdhczsgICAgICAgICAgICAgICAgICAgICAvLyBnYXMgdXNlZCB3aGVuIG9wdEluRnJvbUNsYXNzaWMgY2FsbHMgeGZlciBvbiBvbGQgY29udHJhY3QNCiAgICAgICAgdWludCBwdWJsaWMgb3B0SW5GY25NaW5HYXM7ICAgICAgICAgICAgICAgICAgIC8vIGdhcyB3ZSBuZWVkIGZvciB0aGUgb3B0SW5Gcm9tQ2xhc3NpYyBmY24sICpleGNsdWRpbmcqIG9wdEluWGZlckdhcw0KICAgICAgICB1aW50IHB1YmxpYyB2ZXN0VGltZSA9IDE1MjUyMTkyMDE7ICAgICAgICAgICAgLy8gMSB5ZWFyIHBhc3Qgc2FsZSB2ZXN0IGRldmVsb3BlciB0b2tlbnMNCg0KICAgICAgICBTZXR0aW5nU3RhdGVWYWx1ZSBwdWJsaWMgc2V0dGluZ3NTdGF0ZTsNCg0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIGNvbnRyYWN0IGNvbnN0cnVjdG9yDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIEU0TGF2YSgpDQogICAgICAgIHsNCiAgICAgICAgICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgICAgICAgICAgICAgZGV2ZWxvcGVycyA9IG1zZy5zZW5kZXI7DQogICAgICAgICAgICAgICAgZGVjaW1hbHMgPSAyOw0KICAgICAgICAgICAgICAgIHN5bWJvbCA9ICJFNFJPVyI7DQogICAgICAgIH0NCg0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAvLyB1c2UgdGhpcyB0byByZXNldCBldmVyeXRoaW5nLCB3aWxsIG5ldmVyIGJlIGNhbGxlZCBhZnRlciBsb2NrUmVsZWFzZQ0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBmdW5jdGlvbiBhcHBseVNldHRpbmdzKFNldHRpbmdTdGF0ZVZhbHVlIHFTdGF0ZSwgdWludCBfdGhyZXNob2xkLCB1aW50IF9ydywgdWludCBfb3B0WGZlckdhcywgdWludCBfb3B0RmNuR2FzICkNCiAgICAgICAgew0KICAgICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgLy8gdGhlc2Ugc2V0dGluZ3MgYXJlIHBlcm1hbmVudGx5IHR3ZWFrYWJsZSBmb3IgcGVyZm9ybWFuY2UgYWRqdXN0bWVudHMNCiAgICAgICAgICAgICAgICBwYXlvdXRUaHJlc2hvbGQgPSBfdGhyZXNob2xkOw0KICAgICAgICAgICAgICAgIHJ3R2FzID0gX3J3Ow0KICAgICAgICAgICAgICAgIG9wdEluWGZlckdhcyA9IF9vcHRYZmVyR2FzOw0KICAgICAgICAgICAgICAgIG9wdEluRmNuTWluR2FzID0gX29wdEZjbkdhczsNCg0KICAgICAgICAgICAgICAgIC8vIHRoaXMgZmlyc3QgdGVzdCBjaGVja3MgaWYgYWxyZWFkeSBsb2NrZWQNCiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NTdGF0ZSA9PSBTZXR0aW5nU3RhdGVWYWx1ZS5sb2NrZWRSZWxlYXNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgc2V0dGluZ3NTdGF0ZSA9IHFTdGF0ZTsNCg0KICAgICAgICAgICAgICAgIC8vIHRoaXMgc2Vjb25kIHRlc3QgYWxsb3dzIGxvY2tpbmcgd2l0aG91dCBjaGFuZ2luZyBvdGhlciBwZXJtYW5lbnQgc2V0dGluZ3MNCiAgICAgICAgICAgICAgICAvLyBXQVJOSU5HLCBNQUtFIFNVUkUgWU9VUidSRSBIQVBQWSBXSVRIIEFMTCBTRVRUSU5HUw0KICAgICAgICAgICAgICAgIC8vIEJFRk9SRSBMT0NLSU5HDQoNCiAgICAgICAgICAgICAgICBpZiAocVN0YXRlID09IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZFJlbGVhc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiTG9ja2luZyEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyB6ZXJvIG91dCBhbGwgdG9rZW4gaG9sZGVycy4NCiAgICAgICAgICAgICAgICAvLyBsZWF2ZSBhbGxvY2VkIG9uLCBsZWF2ZSBudW0gYWNjb3VudHMNCiAgICAgICAgICAgICAgICAvLyBjYW50IGRlbGV0ZSB0aGVtIGFueXdheXMNCg0KICAgICAgICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIGEgPSBob2xkZXJJbmRleGVzW2ldOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgIT0gYWRkcmVzcygwKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXJBY2NvdW50c1thXS50b2tlbnMgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXJBY2NvdW50c1thXS5jdXJyZW50UG9pbnRzID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyQWNjb3VudHNbYV0ubGFzdFNuYXBzaG90ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBudW1Ub2tzU3dpdGNoZWRPdmVyID0gMDsNCg0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW93bmVyLmNhbGwuZ2FzKHJ3R2FzKS52YWx1ZSh0aGlzLmJhbGFuY2UpKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiRVJST1IhIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIFN0YXRFdmVudCgib2siKTsNCg0KICAgICAgICB9DQoNCg0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gYWxsb2NhdGUgYSBuZXcgYWNjb3VudCBieSBzZXR0aW5nIGFsbG9jIHRvIHRydWUNCiAgICAgICAgLy8gYWRkIGhvbGRlciBpbmRleCwgYnVtcCB0aGUgbnVtIGFjY291bnRzDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBmdW5jdGlvbiBhZGRBY2NvdW50KGFkZHJlc3MgX2FkZHIpIGludGVybmFsICB7DQogICAgICAgICAgICAgICAgaG9sZGVyQWNjb3VudHNbX2FkZHJdLmFsbG9jZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW19hZGRyXS50b2tlbnMgPSAwOw0KICAgICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW19hZGRyXS5jdXJyZW50UG9pbnRzID0gMDsNCiAgICAgICAgICAgICAgICBob2xkZXJBY2NvdW50c1tfYWRkcl0ubGFzdFNuYXBzaG90ID0gVG90YWxGZWVzUmVjZWl2ZWQ7DQogICAgICAgICAgICAgICAgaG9sZGVySW5kZXhlc1tudW1BY2NvdW50cysrXSA9IF9hZGRyOw0KICAgICAgICB9DQoNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIEJFR0lOIEVSQy0yMCBmcm9tIFN0YW5kYXJkVG9rZW4NCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCiAgICAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkNCiAgICAgICAgew0KICAgICAgICAgICAgICAgIHN1cHBseSA9IE5ld1Rva2VuU3VwcGx5Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAvLyBzZW5kZXIgdHJhbnNmZXJzIHRva2VucyB0byBhIG5ldyBhY2N0DQogICAgICAgIC8vIGRvIG5vdCB1c2UgdGhpcyBmY24gZm9yIGEgdG9rZW4tc3BsaXQgdHJhbnNmZXIgZnJvbSB0aGUgb2xkIHRva2VuIGNvbnRyYWN0IQ0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQ0KICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKChtc2cuc2VuZGVyID09IGRldmVsb3BlcnMpDQogICAgICAgICAgICAgICAgICAgICAgICAmJiAgKG5vdyA8IHZlc3RUaW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGF0RXZlbnQoIlRva2VucyBub3QgeWV0IHZlc3RlZC4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4NCiAgICAgICAgICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLg0KICAgICAgICAgICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLg0KICAgICAgICAgICAgICAgIC8vaWYgKGhvbGRlckFjY291bnRzW21zZy5zZW5kZXJdLnRva2VucyA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGhvbGRlckFjY291bnRzW190b10pIHsNCiAgICAgICAgICAgICAgICBpZiAoaG9sZGVyQWNjb3VudHNbbXNnLnNlbmRlcl0udG9rZW5zID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIC8vZmlyc3QgY3JlZGl0IHNlbmRlciB3aXRoIHBvaW50cyBhY2NydWVkIHNvIGZhci4uIG11c3QgZG8gdGhpcyBiZWZvcmUgbnVtYmVyIG9mIGhlbGQgdG9rZW5zIGNoYW5nZXMNCiAgICAgICAgICAgICAgICAgICAgY2FsY0N1clBvaW50c0ZvckFjY3QobXNnLnNlbmRlcik7DQogICAgICAgICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW21zZy5zZW5kZXJdLnRva2VucyAtPSBfdmFsdWU7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFob2xkZXJBY2NvdW50c1tfdG9dLmFsbG9jZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFjY291bnQoX3RvKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvL2NyZWRpdCBkZXN0aW5hdGlvbiBhY2N0IHdpdGggcG9pbnRzIGFjY3J1ZWQgc28gZmFyLi4gbXVzdCBkbyB0aGlzIGJlZm9yZSBudW1iZXIgb2YgaGVsZCB0b2tlbnMgY2hhbmdlcw0KICAgICAgICAgICAgICAgICAgICBjYWxjQ3VyUG9pbnRzRm9yQWNjdChfdG8pOw0KICAgICAgICAgICAgICAgICAgICBob2xkZXJBY2NvdW50c1tfdG9dLnRva2VucyArPSBfdmFsdWU7DQoNCiAgICAgICAgICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgICAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBpZiAoKF9mcm9tID09IGRldmVsb3BlcnMpDQogICAgICAgICAgICAgICAgICAgICAgICAmJiAgKG5vdyA8IHZlc3RUaW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGF0RXZlbnQoIlRva2VucyBub3QgeWV0IHZlc3RlZC4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuDQogICAgICAgICAgICAgICAgLy9pZiAoaG9sZGVyQWNjb3VudHNbX2Zyb21dLnRva2VucyA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGhvbGRlckFjY291bnRzW190b10udG9rZW5zICsgX3ZhbHVlID4gaG9sZGVyQWNjb3VudHNbX3RvXS50b2tlbnMpIHsNCiAgICAgICAgICAgICAgICBpZiAoaG9sZGVyQWNjb3VudHNbX2Zyb21dLnRva2VucyA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsNCg0KICAgICAgICAgICAgICAgICAgICBjYWxjQ3VyUG9pbnRzRm9yQWNjdChfZnJvbSk7DQogICAgICAgICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW19mcm9tXS50b2tlbnMgLT0gX3ZhbHVlOw0KDQogICAgICAgICAgICAgICAgICAgIGlmICghaG9sZGVyQWNjb3VudHNbX3RvXS5hbGxvY2VkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRBY2NvdW50KF90byk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy9jcmVkaXQgZGVzdGluYXRpb24gYWNjdCB3aXRoIHBvaW50cyBhY2NydWVkIHNvIGZhci4uIG11c3QgZG8gdGhpcyBiZWZvcmUgbnVtYmVyIG9mIGhlbGQgdG9rZW5zIGNoYW5nZXMNCiAgICAgICAgICAgICAgICAgICAgY2FsY0N1clBvaW50c0ZvckFjY3QoX3RvKTsNCiAgICAgICAgICAgICAgICAgICAgaG9sZGVyQWNjb3VudHNbX3RvXS50b2tlbnMgKz0gX3ZhbHVlOw0KDQogICAgICAgICAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQoNCiAgICAgICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICAgICAgICAgICAgICBiYWxhbmNlID0gaG9sZGVyQWNjb3VudHNbX293bmVyXS50b2tlbnM7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICAgICAgfQ0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gRU5EIEVSQzIwDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAvLyBjYWxjIGN1cnJlbnQgcG9pbnRzIGZvciBhIHRva2VuIGhvbGRlcjsgdGhhdCBpcywgcG9pbnRzIHRoYXQgYXJlIGR1ZSB0byB0aGlzIHRva2VuIGhvbGRlciBmb3IgYWxsIGRpdmlkZW5kcw0KICAgICAgICAvLyByZWNlaXZlZCBieSB0aGUgY29udHJhY3QgZHVyaW5nIHRoZSBjdXJyZW50ICJwZXJpb2QiLiB0aGUgcGVyaW9kIGJlZ2FuIHRoZSBsYXN0IHRpbWUgdGhpcyBmY24gd2FzIGNhbGxlZCwgYXQgd2hpY2gNCiAgICAgICAgLy8gdGltZSB3ZSB1cGRhdGVkIHRoZSBhY2NvdW50J3Mgc25hcHNob3Qgb2YgdGhlIHJ1bm5pbmcgcG9pbnQgY291bnQsIFRvdGFsRmVlc1JlY2VpdmVkLiBkdXJpbmcgdGhlIHBlcmlvZCB0aGUgYWNjb3VudCdzDQogICAgICAgIC8vIG51bWJlciBvZiB0b2tlbnMgbXVzdCBub3QgaGF2ZSBjaGFuZ2VkLiBzbyBhbHdheXMgY2FsbCB0aGlzIGZjbiBiZWZvcmUgY2hhbmdpbmcgdGhlIG51bWJlciBvZiB0b2tlbnMuDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZnVuY3Rpb24gY2FsY0N1clBvaW50c0ZvckFjY3QoYWRkcmVzcyBfYWNjdCkgaW50ZXJuYWwgew0KICAgICAgICAgICAgICBob2xkZXJBY2NvdW50c1tfYWNjdF0uY3VycmVudFBvaW50cyArPSAoVG90YWxGZWVzUmVjZWl2ZWQgLSBob2xkZXJBY2NvdW50c1tfYWNjdF0ubGFzdFNuYXBzaG90KSAqIGhvbGRlckFjY291bnRzW19hY2N0XS50b2tlbnM7DQogICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW19hY2N0XS5sYXN0U25hcHNob3QgPSBUb3RhbEZlZXNSZWNlaXZlZDsNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIGFjY2VwdCBwYXltZW50IGZyb20gYSBwYXJ0bmVyIGNvbnRyYWN0DQogICAgICAgIC8vIGZ1bmRzIHNlbnQgaGVyZSBhcmUgYWRkZWQgdG8gVG90YWxGZWVzUmVjZWl2ZWQNCiAgICAgICAgLy8gV0FSTklORyEgRE8gTk9UIENBTEwgVEhJUyBGVU5DVElPTiBMRVNUIFlPVSBMT1NFIFlPVVIgTU9ORVkNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgICAgICAgICAgICAgIGhvbGRvdmVyQmFsYW5jZSArPSBtc2cudmFsdWU7DQogICAgICAgICAgICAgICAgVG90YWxGZWVzUmVjZWl2ZWQgKz0gbXNnLnZhbHVlOw0KICAgICAgICAgICAgICAgIFN0YXRFdmVudEkoIlBheW1lbnQiLCBtc2cudmFsdWUpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIG9uZSBuZXZlciBrbm93cyBpZiB0aGlzIHdpbGwgY29tZSBpbiBoYW5keS4NCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIGJsYWNrSG9sZSgpIHBheWFibGUgew0KICAgICAgICAgICAgICAgIFN0YXRFdmVudEkoImFkanVzdGVkIiwgbXNnLnZhbHVlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gc2VuZGVyIHdpdGhkcmF3IGVudGlyZSByZXdhcmRzL2RpdmlkZW5kcw0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIHdpdGhkcmF3RGl2aWRlbmRzKCkgcHVibGljIHJldHVybnMgKHVpbnQgX2Ftb3VudCkNCiAgICAgICAgew0KICAgICAgICAgICAgICAgIGNhbGNDdXJQb2ludHNGb3JBY2N0KG1zZy5zZW5kZXIpOw0KDQogICAgICAgICAgICAgICAgX2Ftb3VudCA9IGhvbGRlckFjY291bnRzW21zZy5zZW5kZXJdLmN1cnJlbnRQb2ludHMgLyBOZXdUb2tlblN1cHBseTsNCiAgICAgICAgICAgICAgICBpZiAoX2Ftb3VudCA8PSBwYXlvdXRUaHJlc2hvbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudEkoImxvdyBCYWxhbmNlIiwgX2Ftb3VudCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobXNnLnNlbmRlciA9PSBkZXZlbG9wZXJzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAgKG5vdyA8IHZlc3RUaW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIlRva2VucyBub3QgeWV0IHZlc3RlZC4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Ftb3VudCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgdWludCBfcG9pbnRzVXNlZCA9IF9hbW91bnQgKiBOZXdUb2tlblN1cHBseTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW21zZy5zZW5kZXJdLmN1cnJlbnRQb2ludHMgLT0gX3BvaW50c1VzZWQ7DQogICAgICAgICAgICAgICAgICAgICAgICBob2xkb3ZlckJhbGFuY2UgLT0gX2Ftb3VudDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXNnLnNlbmRlci5jYWxsLmdhcyhyd0dhcykudmFsdWUoX2Ftb3VudCkoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAvLyBhbGxvdyBzZW5kZXIgdG8gdHJhbnNmZXIgZGl2aWRlbmRzDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXJEaXZpZGVuZHMoYWRkcmVzcyBfdG8pIHJldHVybnMgKGJvb2wgc3VjY2VzcykNCiAgICAgICAgew0KICAgICAgICAgICAgICAgIGlmICgobXNnLnNlbmRlciA9PSBkZXZlbG9wZXJzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgJiYgIChub3cgPCB2ZXN0VGltZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RhdEV2ZW50KCJUb2tlbnMgbm90IHlldCB2ZXN0ZWQuIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhbGNDdXJQb2ludHNGb3JBY2N0KG1zZy5zZW5kZXIpOw0KICAgICAgICAgICAgICAgIGlmIChob2xkZXJBY2NvdW50c1ttc2cuc2VuZGVyXS5jdXJyZW50UG9pbnRzID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiWmVybyBiYWxhbmNlIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghaG9sZGVyQWNjb3VudHNbX3RvXS5hbGxvY2VkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRBY2NvdW50KF90byk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhbGNDdXJQb2ludHNGb3JBY2N0KF90byk7DQogICAgICAgICAgICAgICAgaG9sZGVyQWNjb3VudHNbX3RvXS5jdXJyZW50UG9pbnRzICs9IGhvbGRlckFjY291bnRzW21zZy5zZW5kZXJdLmN1cnJlbnRQb2ludHM7DQogICAgICAgICAgICAgICAgaG9sZGVyQWNjb3VudHNbbXNnLnNlbmRlcl0uY3VycmVudFBvaW50cyA9IDA7DQogICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJUcmFzbmZlcmVkIERpdmlkZW5kcyIpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCg0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gc2V0IGdhcyBmb3Igb3BlcmF0aW9ucw0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIHNldE9wR2FzKHVpbnQgX3J3LCB1aW50IF9vcHRYZmVyR2FzLCB1aW50IF9vcHRGY25HYXMpDQogICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lciAmJiBtc2cuc2VuZGVyICE9IGRldmVsb3BlcnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vU3RhdEV2ZW50KCJvbmx5IG93bmVyIGNhbGxzIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJ3R2FzID0gX3J3Ow0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0SW5YZmVyR2FzID0gX29wdFhmZXJHYXM7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHRJbkZjbk1pbkdhcyA9IF9vcHRGY25HYXM7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIGNoZWNrIHJld2FyZHMuICBwYXNzIGluIGFkZHJlc3Mgb2YgdG9rZW4gaG9sZGVyDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZnVuY3Rpb24gY2hlY2tEaXZpZGVuZHMoYWRkcmVzcyBfYWRkcikgY29uc3RhbnQgcmV0dXJucyh1aW50IF9hbW91bnQpDQogICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoaG9sZGVyQWNjb3VudHNbX2FkZHJdLmFsbG9jZWQpIHsNCiAgICAgICAgICAgICAgICAgICAvL2Rvbid0IGNhbGwgY2FsY0N1clBvaW50c0ZvckFjY3QgaGVyZSwgY3V6IHRoaXMgaXMgYSBjb25zdGFudCBmY24NCiAgICAgICAgICAgICAgICAgICB1aW50IF9jdXJyZW50UG9pbnRzID0gaG9sZGVyQWNjb3VudHNbX2FkZHJdLmN1cnJlbnRQb2ludHMgKw0KICAgICAgICAgICAgICAgICAgICAgICAgKChUb3RhbEZlZXNSZWNlaXZlZCAtIGhvbGRlckFjY291bnRzW19hZGRyXS5sYXN0U25hcHNob3QpICogaG9sZGVyQWNjb3VudHNbX2FkZHJdLnRva2Vucyk7DQogICAgICAgICAgICAgICAgICAgX2Ftb3VudCA9IF9jdXJyZW50UG9pbnRzIC8gTmV3VG9rZW5TdXBwbHk7DQoNCiAgICAgICAgICAgICAgICAvLyBsb3cgYmFsYW5jZT8gbGV0IGhpbSBzZWUgaXQgLUV0YW5za3kNCiAgICAgICAgICAgICAgICAgIC8vIGlmIChfYW1vdW50IDw9IHBheW91dFRocmVzaG9sZCkgew0KICAgICAgICAgICAgICAgICAgLy8gICAgX2Ftb3VudCA9IDA7DQogICAgICAgICAgICAgICAgICAvLyB9DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQoNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAvLyBzd2FwIGV4ZWN1dG9yDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfYWRkcikNCiAgICAgICAgew0KICAgICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyDQogICAgICAgICAgICAgICAgICAgICAgICB8fCBzZXR0aW5nc1N0YXRlID09IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZFJlbGVhc2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgICAgICAgb3duZXIgPSBfYWRkcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gc2V0IGRldmVsb3BlcnMgYWNjb3VudA0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIHNldERldmVsb3BlcihhZGRyZXNzIF9hZGRyKQ0KICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXINCiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNldHRpbmdzU3RhdGUgPT0gU2V0dGluZ1N0YXRlVmFsdWUubG9ja2VkUmVsZWFzZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgICAgICAgICBkZXZlbG9wZXJzID0gX2FkZHI7DQogICAgICAgIH0NCg0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIHNldCBvbGRFNCBBZGRyZXNzZXMNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBmdW5jdGlvbiBzZXRPbGRFNChhZGRyZXNzIF9vbGRFNCwgYWRkcmVzcyBfb2xkRTRSZWN5bGUpDQogICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcg0KICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2V0dGluZ3NTdGF0ZSA9PSBTZXR0aW5nU3RhdGVWYWx1ZS5sb2NrZWRSZWxlYXNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgICAgIG9sZEU0ID0gX29sZEU0Ow0KICAgICAgICAgICAgICAgIG9sZEU0UmVjeWNsZUJpbiA9IF9vbGRFNFJlY3lsZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gZ2V0IGFjY291bnQgaW5mbw0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGZ1bmN0aW9uIGdldEFjY291bnRJbmZvKGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IHJldHVybnModWludCBfdG9rZW5zLCB1aW50IF9zbmFwc2hvdCwgdWludCBfcG9pbnRzKQ0KICAgICAgICB7DQogICAgICAgICAgICAgICAgX3Rva2VucyA9IGhvbGRlckFjY291bnRzW19hZGRyXS50b2tlbnM7DQogICAgICAgICAgICAgICAgX3NuYXBzaG90ID0gaG9sZGVyQWNjb3VudHNbX2FkZHJdLmxhc3RTbmFwc2hvdDsNCiAgICAgICAgICAgICAgICBfcG9pbnRzID0gaG9sZGVyQWNjb3VudHNbX2FkZHJdLmN1cnJlbnRQb2ludHM7DQogICAgICAgIH0NCg0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gREVCVUcgT05MWSAtIGVuZCB0aGlzIGNvbnRyYWN0LCBzdWljaWRlIHRvIGRldmVsb3BlcnMNCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBmdW5jdGlvbiBoYXJhS2lyaSgpDQogICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NTdGF0ZSAhPSBTZXR0aW5nU3RhdGVWYWx1ZS5kZWJ1ZykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgICAgIHN1aWNpZGUoZGV2ZWxvcGVycyk7DQogICAgICAgIH0NCg0KDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgLy8gT1BUIElOIEZST00gQ0xBU1NJQy4NCiAgICAgICAgLy8gQWxsIG9sZCB0b2tlbiBob2xkZXJzIGNhbiBvcHQgaW50byB0aGlzIG5ldyBjb250cmFjdCBieSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24uDQogICAgICAgIC8vIFRoaXMgInRyYW5zZmVyRnJvbSJzIHRva2VucyBmcm9tIHRoZSBvbGQgYWRkcmVzc2VzIHRvIHRoZSBuZXcgcmVjeWNsZUJpbiBhZGRyZXNzDQogICAgICAgIC8vIHdoaWNoIGlzIGEgbmV3IGFkZHJlc3Mgc2V0IHVwIG9uIHRoZSBvbGQgY29udHJhY3QuICBBZnRlcndoaWNoIG5ldyB0b2tlbnMNCiAgICAgICAgLy8gYXJlIGNyZWRpdGVkIHRvIHRoZSBvbGQgaG9sZGVyLiAgQWxzbyB0aGUgbGFzdFNuYXBTaG90IGlzIHNldCB0byAwIHRoZW4NCiAgICAgICAgLy8gY2FsY0NyZWRpdGVkIHBvaW50cyBhcmUgY2FsbGVkIHNldHRpbmcgdXAgdGhlIG5ldyBzaWduYXRvcmVlIGFsbCBvZiBoaXMNCiAgICAgICAgLy8gYWNjcnVlZCBkaXZpZGVuZHMuDQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZnVuY3Rpb24gb3B0SW5Gcm9tQ2xhc3NpYygpIHB1YmxpYw0KICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKG9sZEU0ID09IGFkZHJlc3MoMCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiY29uZmlnIGVyciIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyAxLiBjaGVjayBiYWxhbmNlIG9mIG1zZy5zZW5kZXIgaW4gb2xkIGNvbnRyYWN0Lg0KICAgICAgICAgICAgICAgIGFkZHJlc3MgbnJlcXVlc3RlciA9IG1zZy5zZW5kZXI7DQoNCiAgICAgICAgICAgICAgICAvLyAyLiBtYWtlIHN1cmUgYWNjb3VudCBub3QgYWxyZWFkeSBhbGxvY2QgKGluIGZhY3QsIGl0J3Mgb2sgaWYgaXQncyBhbGxvY2QsIHNvIGxvbmcNCiAgICAgICAgICAgICAgICAvLyBhcyBpdCBpcyBlbXB0eSBub3cuIHRoZSByZWFzb24gZm9yIHRoaXMgY2hlY2sgaXMgY3V6IHdlIGFyZSBnb2luZyB0byBjcmVkaXQgaGltIHdpdGgNCiAgICAgICAgICAgICAgICAvLyBkaXZpZGVuZHMsIGFjY29yZGluZyB0byBoaXMgdG9rZW4gY291bnQsIGZyb20gdGhlIGJlZ2luIG9mIHRpbWUuDQogICAgICAgICAgICAgICAgaWYgKGhvbGRlckFjY291bnRzW25yZXF1ZXN0ZXJdLnRva2VucyAhPSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIkFjY291bnQgaGFzIGFscmVhZHkgaGFzIHRva2VucyEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyAzLiBjaGVjayBoaXMgdG9rIGJhbGFuY2UNCiAgICAgICAgICAgICAgICBUb2tlbiBpY2xhc3NpYyA9IFRva2VuKG9sZEU0KTsNCiAgICAgICAgICAgICAgICB1aW50IF90b2tzID0gaWNsYXNzaWMuYmFsYW5jZU9mKG5yZXF1ZXN0ZXIpOw0KICAgICAgICAgICAgICAgIGlmIChfdG9rcyA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIk5vdGhpbmcgdG8gZG8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBtdXN0IGJlIDEwMCBwZXJjZW50IG9mIGhvbGRpbmdzDQogICAgICAgICAgICAgICAgaWYgKGljbGFzc2ljLmFsbG93YW5jZShucmVxdWVzdGVyLCBhZGRyZXNzKHRoaXMpKSA8IF90b2tzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIlBsZWFzZSBhcHByb3ZlIHRoaXMgY29udHJhY3QgdG8gdHJhbnNmZXIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyA0LiBiZWZvcmUgd2UgZG8gdGhlIHRyYW5zZmVyLCBtYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGF0IGxlYXN0IGVub3VnaCBnYXMgZm9yIHRoZQ0KICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHBsdXMgdGhlIHJlbWFpbmRlciBvZiB0aGlzIGZjbi4NCiAgICAgICAgICAgICAgICBpZiAobXNnLmdhcyA8IG9wdEluWGZlckdhcyArIG9wdEluRmNuTWluR2FzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3c7DQoNCiAgICAgICAgICAgICAgICAvLyA1LiB0cmFuc2ZlciBoaXMgb2xkIHRva3MgdG8gcmVjeWxlIGJpbg0KICAgICAgICAgICAgICAgIGljbGFzc2ljLnRyYW5zZmVyRnJvbS5nYXMob3B0SW5YZmVyR2FzKShucmVxdWVzdGVyLCBvbGRFNFJlY3ljbGVCaW4sIF90b2tzKTsNCg0KICAgICAgICAgICAgICAgIC8vIHRvZG8sIGVycm9yIGNoZWNrPw0KICAgICAgICAgICAgICAgIGlmIChpY2xhc3NpYy5iYWxhbmNlT2YobnJlcXVlc3RlcikgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VjY2VzcywgYWRkIHRoZSBhY2NvdW50LCBzZXQgdGhlIHRva2Vucywgc2V0IHNuYXBzaG90IHRvIHplcm8NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaG9sZGVyQWNjb3VudHNbbnJlcXVlc3Rlcl0uYWxsb2NlZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQWNjb3VudChucmVxdWVzdGVyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlckFjY291bnRzW25yZXF1ZXN0ZXJdLnRva2VucyA9IF90b2tzICogTmV3VG9rZW5zUGVyT3JpZ1Rva2VuOw0KICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyQWNjb3VudHNbbnJlcXVlc3Rlcl0ubGFzdFNuYXBzaG90ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGNDdXJQb2ludHNGb3JBY2N0KG5yZXF1ZXN0ZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbnVtVG9rc1N3aXRjaGVkT3ZlciArPSBfdG9rczsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gZGVjcmVtZW50IHBvaW50cyBmcm9tIGEgImhvbGRpbmcgYWNjb3VudCINCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGIvYyB0aGVyZSBpcyBubyBuZWVkIHRvIGtlZXAgaXQuDQogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIlN1Y2Nlc3MgU3dpdGNoZWQgT3ZlciIpOw0KICAgICAgICAgICAgICAgIH0gZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJUcmFuc2ZlciBFcnJvciEgcGxlYXNlIGNvbnRhY3QgRGV2IHRlYW0hIik7DQoNCg0KICAgICAgICB9DQoNCg0KDQp9'