base 64 content
base64eRC20Lib
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLyoqDQogKiBAdGl0bGUgRVJDMjBMaWINCiAqIEBhdXRob3IgTWFqb29sci5pbw0KICoNCiAqIHZlcnNpb24gMS4wLjENCiAqIENvcHlyaWdodCAoYykgMjAxNyBNYWpvb2xyLCBMTEMNCiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKQ0KICogaHR0cHM6Ly9naXRodWIuY29tL01ham9vbHIvZXRoZXJldW0tbGlicmFyaWVzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UNCiAqDQogKiBUaGUgRVJDMjAgTGlicmFyeSBpcyBpbnNwaXJlZCBieSBhZHZpY2Ugb2ZmZXJlZCBieSBBcmFnb24gYXQNCiAqIGh0dHBzOi8vYmxvZy5hcmFnb24ub25lL2xpYnJhcnktZHJpdmVuLWRldmVsb3BtZW50LWluLXNvbGlkaXR5LTJiZWJjYWY4ODczNiAuDQogKiBUaGF0IHZlcnNpb24gb2YgdGhlIGxpYnJhcnkgaGFzIGJlZW4gbW9kaWZpZWQgdG8gcHJvdmlkZSBlcnJvciBtZXNzYWdlcw0KICogcmF0aGVyIHRoYW4gdGhyb3cgZXJyb3JzLiBUaGlzIGFsbG93cyB0aGUgZGV2ZWxvcGVyIHRvIGRlY2lkZSBob3cgc2hlIHdhbnRzDQogKiBoYW5kbGUgZmFpbGVkIHRyYW5zYWN0aW9ucy4gVGhlIGRldmVsb3BlciBjYW4gY2hvb3NlIHRvIGFzc2VydCBhIHRydWUgcmV0dXJuDQogKiB2YWx1ZSBhbmQgYWxsb3cgYXV0b21hdGljIHJldmVyc2lvbiBvZiBzdGF0ZSBjaGFuZ2VzIG9yLCBpZiBubyBzdGF0ZSBjaGFuZ2VzDQogKiBoYXZlIGJlZW4gbWFkZSwgc2hlIGNhbiB0cmlnZ2VyIGFuIGV2ZW50IG1lc3NhZ2UgdG8gZ2l2ZSB0aGUgdXNlciBhDQogKiBkZXNjcmlwdGl2ZSBvdXRjb21lLg0KICoNCiAqIE1ham9vbHIgd29ya3Mgb24gb3BlbiBzb3VyY2UgcHJvamVjdHMgaW4gdGhlIEV0aGVyZXVtIGNvbW11bml0eSB3aXRoIHRoZQ0KICogcHVycG9zZSBvZiB0ZXN0aW5nLCBkb2N1bWVudGluZywgYW5kIGRlcGxveWluZyByZXVzYWJsZSBjb2RlIG9udG8gdGhlDQogKiBibG9ja2NoYWluIHRvIGltcHJvdmUgc2VjdXJpdHkgYW5kIHVzYWJpbGl0eSBvZiBzbWFydCBjb250cmFjdHMuIE1ham9vbHINCiAqIGFsc28gc3RyaXZlcyB0byBlZHVjYXRlIG5vbi1wcm9maXRzLCBzY2hvb2xzLCBhbmQgb3RoZXIgY29tbXVuaXR5IG1lbWJlcnMNCiAqIGFib3V0IHRoZSBhcHBsaWNhdGlvbiBvZiBibG9ja2NoYWluIHRlY2hub2xvZ3kuDQogKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbjogbWFqb29sci5pbywgYXJhZ29uLm9uZQ0KICoNCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTDQogKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GDQogKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuDQogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQ0KICogQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwNCiAqIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFDQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4NCiAqLw0KDQpsaWJyYXJ5IEVSQzIwTGliIHsNCiAgdXNpbmcgQmFzaWNNYXRoTGliIGZvciB1aW50MjU2Ow0KDQogIHN0cnVjdCBUb2tlblN0b3JhZ2Ugew0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KICAgIHVpbnQgdG90YWxTdXBwbHk7DQogIH0NCg0KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsNCiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7DQogIGV2ZW50IEVycm9yTXNnKHN0cmluZyBtc2cpOw0KDQogIC8vLyBAZGV2IENhbGxlZCBieSB0aGUgU3RhbmRhcmQgVG9rZW4gdXBvbiBjcmVhdGlvbi4NCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0DQogIC8vLyBAcGFyYW0gX2luaXRpYWxfc3VwcGx5IFRoZSBpbml0aWFsIHRva2VuIHN1cHBseQ0KICBmdW5jdGlvbiBpbml0KFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIHVpbnQyNTYgX2luaXRpYWxfc3VwcGx5KSB7DQogICAgcmVxdWlyZShzZWxmLnRvdGFsU3VwcGx5ID09IDApOw0KICAgIHNlbGYudG90YWxTdXBwbHkgPSBfaW5pdGlhbF9zdXBwbHk7DQogICAgc2VsZi5iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IF9pbml0aWFsX3N1cHBseTsNCiAgfQ0KDQogIC8vLyBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIGNhbGxlcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50Lg0KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QNCiAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byBzZW5kIHRva2Vucw0KICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHNlbmQNCiAgLy8vIEByZXR1cm4gc3VjY2VzcyBUcnVlIGlmIGNvbXBsZXRlZCwgZmFsc2Ugb3RoZXJ3aXNlDQogIGZ1bmN0aW9uIHRyYW5zZmVyKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgYm9vbCBlcnI7DQogICAgdWludDI1NiBiYWxhbmNlOw0KDQogICAgKGVycixiYWxhbmNlKSA9IHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0ubWludXMoX3ZhbHVlKTsNCiAgICBpZihlcnIpIHsNCiAgICAgIEVycm9yTXNnKCJCYWxhbmNlIHRvbyBsb3cgZm9yIHRyYW5zZmVyIik7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlOw0KICAgIC8vSXQncyBub3QgcG9zc2libGUgdG8gb3ZlcmZsb3cgdG9rZW4gc3VwcGx5DQogICAgc2VsZi5iYWxhbmNlc1tfdG9dID0gc2VsZi5iYWxhbmNlc1tfdG9dICsgX3ZhbHVlOw0KICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8vLyBAZGV2IEF1dGhvcml6ZWQgY2FsbGVyIHRyYW5zZmVycyB0b2tlbnMgZnJvbSBvbmUgYWNjb3VudCB0byBhbm90aGVyDQogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdA0KICAvLy8gQHBhcmFtIF9mcm9tIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMgZnJvbQ0KICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIHRvIHNlbmQgdG9rZW5zIHRvDQogIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gc2VuZA0KICAvLy8gQHJldHVybiBzdWNjZXNzIFRydWUgaWYgY29tcGxldGVkLCBmYWxzZSBvdGhlcndpc2UNCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsDQogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9mcm9tLA0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfdG8sDQogICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF92YWx1ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIHZhciBfYWxsb3dhbmNlID0gc2VsZi5hbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsNCiAgICBib29sIGVycjsNCiAgICB1aW50MjU2IGJhbGFuY2VPd25lcjsNCiAgICB1aW50MjU2IGJhbGFuY2VTcGVuZGVyOw0KDQogICAgKGVycixiYWxhbmNlT3duZXIpID0gc2VsZi5iYWxhbmNlc1tfZnJvbV0ubWludXMoX3ZhbHVlKTsNCiAgICBpZihlcnIpIHsNCiAgICAgIEVycm9yTXNnKCJCYWxhbmNlIHRvbyBsb3cgZm9yIHRyYW5zZmVyIik7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgKGVycixiYWxhbmNlU3BlbmRlcikgPSBfYWxsb3dhbmNlLm1pbnVzKF92YWx1ZSk7DQogICAgaWYoZXJyKSB7DQogICAgICBFcnJvck1zZygiVHJhbnNmZXIgZXhjZWVkcyBhbGxvd2FuY2UiKTsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgc2VsZi5iYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlT3duZXI7DQogICAgc2VsZi5hbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGJhbGFuY2VTcGVuZGVyOw0KICAgIHNlbGYuYmFsYW5jZXNbX3RvXSA9IHNlbGYuYmFsYW5jZXNbX3RvXSArIF92YWx1ZTsNCg0KICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvLy8gQGRldiBSZXRyaWV2ZSB0b2tlbiBiYWxhbmNlIGZvciBhbiBhY2NvdW50DQogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdA0KICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIHRvIHJldHJpZXZlIGJhbGFuY2Ugb2YNCiAgLy8vIEByZXR1cm4gYmFsYW5jZSBUaGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgc3ViamVjdCBhY2NvdW50DQogIGZ1bmN0aW9uIGJhbGFuY2VPZihUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgcmV0dXJuIHNlbGYuYmFsYW5jZXNbX293bmVyXTsNCiAgfQ0KDQogIC8vLyBAZGV2IEF1dGhvcml6ZSBhbiBhY2NvdW50IHRvIHNlbmQgdG9rZW5zIG9uIGNhbGxlcidzIGJlaGFsZg0KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QNCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIHRvIGF1dGhvcml6ZQ0KICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIGF1dGhvcml6ZWQgYWNjb3VudCBtYXkgc2VuZA0KICAvLy8gQHJldHVybiBzdWNjZXNzIFRydWUgaWYgY29tcGxldGVkLCBmYWxzZSBvdGhlcndpc2UNCiAgZnVuY3Rpb24gYXBwcm92ZShUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8vLyBAZGV2IFJlbWFpbmluZyB0b2tlbnMgdGhpcmQgcGFydHkgc3BlbmRlciBoYXMgdG8gc2VuZA0KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QNCiAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyBvZiB0b2tlbiBob2xkZXINCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIGF1dGhvcml6ZWQgc3BlbmRlcg0KICAvLy8gQHJldHVybiByZW1haW5pbmcgTnVtYmVyIG9mIHRva2VucyBzcGVuZGVyIGhhcyBsZWZ0IGluIG93bmVyJ3MgYWNjb3VudA0KICBmdW5jdGlvbiBhbGxvd2FuY2UoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7DQogICAgcmV0dXJuIHNlbGYuYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgfQ0KfQ0KDQpwcmFnbWEgc29saWRpdHkgXjAuNC4xMTsNCg0KLyoqDQogKiBAdGl0bGUgQmFzaWMgTWF0aCBMaWJyYXJ5DQogKiBAYXV0aG9yIE1ham9vbHIuaW8NCiAqDQogKiB2ZXJzaW9uIDEuMC4wDQogKiBDb3B5cmlnaHQgKGMpIDIwMTcgTWFqb29sciwgTExDDQogKiBUaGUgTUlUIExpY2Vuc2UgKE1JVCkNCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9NYWpvb2xyL2V0aGVyZXVtLWxpYnJhcmllcy9ibG9iL21hc3Rlci9MSUNFTlNFDQogKg0KICogVGhlIEJhc2ljIE1hdGggTGlicmFyeSBpcyBpbnNwaXJlZCBieSB0aGUgU2FmZSBNYXRoIGxpYnJhcnkgd3JpdHRlbiBieQ0KICogT3BlblplcHBlbGluIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvIC4NCiAqIE1ham9vbHIgd29ya3Mgb24gb3BlbiBzb3VyY2UgcHJvamVjdHMgaW4gdGhlIEV0aGVyZXVtIGNvbW11bml0eSB3aXRoIHRoZQ0KICogcHVycG9zZSBvZiB0ZXN0aW5nLCBkb2N1bWVudGluZywgYW5kIGRlcGxveWluZyByZXVzYWJsZSBjb2RlIG9udG8gdGhlDQogKiBibG9ja2NoYWluIHRvIGltcHJvdmUgc2VjdXJpdHkgYW5kIHVzYWJpbGl0eSBvZiBzbWFydCBjb250cmFjdHMuIE1ham9vbHINCiAqIGFsc28gc3RyaXZlcyB0byBlZHVjYXRlIG5vbi1wcm9maXRzLCBzY2hvb2xzLCBhbmQgb3RoZXIgY29tbXVuaXR5IG1lbWJlcnMNCiAqIGFib3V0IHRoZSBhcHBsaWNhdGlvbiBvZiBibG9ja2NoYWluIHRlY2hub2xvZ3kuDQogKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbjogbWFqb29sci5pbywgb3BlbnplcHBlbGluLm9yZw0KICoNCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTDQogKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GDQogKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuDQogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQ0KICogQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwNCiAqIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFDQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4NCiAqLw0KDQpsaWJyYXJ5IEJhc2ljTWF0aExpYiB7DQogIGV2ZW50IEVycihzdHJpbmcgdHlwZUVycik7DQoNCiAgLy8vIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycyBhbmQgY2hlY2tzIGZvciBvdmVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLg0KICAvLy8gRG9lcyBub3QgdGhyb3cgYnV0IHJhdGhlciBsb2dzIGFuIEVyciBldmVudCBpZiB0aGVyZSBpcyBvdmVyZmxvdy4NCiAgLy8vIEBwYXJhbSBhIEZpcnN0IG51bWJlcg0KICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcg0KICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgb3ZlcmZsb3cNCiAgLy8vIEByZXR1cm4gcmVzIFRoZSBwcm9kdWN0IG9mIGEgYW5kIGIsIG9yIDAgaWYgdGhlcmUgaXMgb3ZlcmZsb3cNCiAgZnVuY3Rpb24gdGltZXModWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLHVpbnQyNTYgcmVzKSB7DQogICAgYXNzZW1ibHl7DQogICAgICByZXMgOj0gbXVsKGEsYikNCiAgICAgIGp1bXBpKGFsbEdvb2QsIG9yKGlzemVybyhiKSwgZXEoZGl2KHJlcyxiKSwgYSkpKQ0KICAgICAgZXJyIDo9IDENCiAgICAgIHJlcyA6PSAwDQogICAgICBhbGxHb29kOg0KICAgIH0NCiAgICBpZiAoZXJyKQ0KICAgICAgRXJyKCJ0aW1lcyBmdW5jIG92ZXJmbG93Iik7DQogIH0NCg0KICAvLy8gQGRldiBEaXZpZGVzIHR3byBudW1iZXJzIGJ1dCBjaGVja3MgZm9yIDAgaW4gdGhlIGRpdmlzb3IgZmlyc3QuDQogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIDAgaXMgaW4gdGhlIGRpdmlzb3IuDQogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXINCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXINCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIGBiYCBpcyAwDQogIC8vLyBAcmV0dXJuIHJlcyBUaGUgcXVvdGllbnQgb2YgYSBhbmQgYiwgb3IgMCBpZiBgYmAgaXMgMA0KICBmdW5jdGlvbiBkaXZpZGVkQnkodWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLHVpbnQyNTYgcmVzKSB7DQogICAgYXNzZW1ibHl7DQogICAgICBqdW1waShlLCBpc3plcm8oYikpDQogICAgICByZXMgOj0gZGl2KGEsYikNCiAgICAgIG1zdG9yZShhZGQobWxvYWQoMHg0MCksMHgyMCkscmVzKQ0KICAgICAgcmV0dXJuKG1sb2FkKDB4NDApLDB4NDApDQogICAgICBlOg0KICAgIH0NCiAgICBFcnIoInRyaWVkIHRvIGRpdmlkZSBieSB6ZXJvIik7DQogICAgcmV0dXJuICh0cnVlLCAwKTsNCiAgfQ0KDQogIC8vLyBAZGV2IEFkZHMgdHdvIG51bWJlcnMgYW5kIGNoZWNrcyBmb3Igb3ZlcmZsb3cgYmVmb3JlIHJldHVybmluZy4NCiAgLy8vIERvZXMgbm90IHRocm93IGJ1dCByYXRoZXIgbG9ncyBhbiBFcnIgZXZlbnQgaWYgdGhlcmUgaXMgb3ZlcmZsb3cuDQogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXINCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXINCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIHRoZXJlIGlzIG92ZXJmbG93DQogIC8vLyBAcmV0dXJuIHJlcyBUaGUgc3VtIG9mIGEgYW5kIGIsIG9yIDAgaWYgdGhlcmUgaXMgb3ZlcmZsb3cNCiAgZnVuY3Rpb24gcGx1cyh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBlcnIsIHVpbnQyNTYgcmVzKSB7DQogICAgYXNzZW1ibHl7DQogICAgICByZXMgOj0gYWRkKGEsYikNCiAgICAgIGp1bXBpKGFsbEdvb2QsIGFuZChlcShzdWIocmVzLGIpLCBhKSwgZ3QocmVzLGIpKSkNCiAgICAgIGVyciA6PSAxDQogICAgICByZXMgOj0gMA0KICAgICAgYWxsR29vZDoNCiAgICB9DQogICAgaWYgKGVycikNCiAgICAgIEVycigicGx1cyBmdW5jIG92ZXJmbG93Iik7DQogIH0NCg0KICAvLy8gQGRldiBTdWJ0cmFjdHMgdHdvIG51bWJlcnMgYW5kIGNoZWNrcyBmb3IgdW5kZXJmbG93IGJlZm9yZSByZXR1cm5pbmcuDQogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIHVuZGVyZmxvdy4NCiAgLy8vIEBwYXJhbSBhIEZpcnN0IG51bWJlcg0KICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcg0KICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgdW5kZXJmbG93DQogIC8vLyBAcmV0dXJuIHJlcyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGEgYW5kIGIsIG9yIDAgaWYgdGhlcmUgaXMgdW5kZXJmbG93DQogIGZ1bmN0aW9uIG1pbnVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgew0KICAgIGFzc2VtYmx5ew0KICAgICAgcmVzIDo9IHN1YihhLGIpDQogICAgICBqdW1waShhbGxHb29kLCBlcShhbmQoZXEoYWRkKHJlcyxiKSwgYSksIG9yKGx0KHJlcyxhKSwgZXEocmVzLGEpKSksIDEpKQ0KICAgICAgZXJyIDo9IDENCiAgICAgIHJlcyA6PSAwDQogICAgICBhbGxHb29kOg0KICAgIH0NCiAgICBpZiAoZXJyKQ0KICAgICAgRXJyKCJtaW51cyBmdW5jIHVuZGVyZmxvdyIpOw0KICB9DQp9'