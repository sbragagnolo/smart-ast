base 64 content
base64eTHCONEarlyBirdDonation
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLyoqDQogKiBAdGl0bGUgRVRIQ09OIEVhcmx5IEJpcmQgRG9uYXRpb24gQ29udHJhY3QNCiAqIEBhdXRob3IgbWFqb29sci5pbw0KICoNCiAqIEFjY2VwdHMgZG9uYXRpb25zIGFuZCBpc3N1ZXMgRVRIQ09OIHRva2VuIGlmIGF0IG9yIGFib3ZlIDMuOTYwNCBFVEguDQogKiBTZWUgRVRIQ09OLm9yZyBmb3IgZnVydGhlciBpbmZvcm1hdGlvbi4NCiAqIEVUSENPTkVhcmx5QmlyZFRva2VuIGNvbnRyYWN0IGF0IDB4MmQ5NDk4ZDBmZDZmNDA3NjBkNTNhODQ3ZWI2NGVhZjUxYzliOGU3NA0KICovDQoNCmNvbnRyYWN0IEVUSENPTkVhcmx5QmlyZERvbmF0aW9uIHsNCiAgYWRkcmVzcyBtYWpvb2xyOw0KICBFVEhDT05FYXJseUJpcmRUb2tlbiB0b2tlbjsNCg0KICB1aW50MjU2IHB1YmxpYyBkb25hdGlvbnM7DQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGRvbmF0aW9uTWFwOw0KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBmYWlsZWREb25hdGlvbnM7DQogIHVpbnQyNTYgcHVibGljIG1pbmltdW0gPSAzOTYwNDAwMDAwMDAwMDAwMDAwOw0KDQogIGV2ZW50IEVyck1zZyhhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHN0cmluZyBfbXNnKTsNCiAgZXZlbnQgVGh4TXNnKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgc3RyaW5nIF9tc2cpOw0KDQogIG1vZGlmaWVyIGFuZElzTWFqb29sciB7DQogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG1ham9vbHIpOw0KICAgIF87DQogIH0NCg0KICBmdW5jdGlvbigpeyBFcnJNc2cobXNnLnNlbmRlciwgJ05vIGZ1bmN0aW9uIGNhbGxlZCcpOyB9DQoNCiAgZnVuY3Rpb24gRVRIQ09ORWFybHlCaXJkRG9uYXRpb24oYWRkcmVzcyBfdG9rZW4pew0KICAgIHRva2VuID0gRVRIQ09ORWFybHlCaXJkVG9rZW4oX3Rva2VuKTsNCiAgICBtYWpvb2xyID0gbXNnLnNlbmRlcjsNCiAgfQ0KDQogIGZ1bmN0aW9uIGRvbmF0ZSgpIHBheWFibGUgcmV0dXJucyAoYm9vbCl7DQogICAgdWludDI1NiB0b3RhbERvbmF0aW9uID0gZG9uYXRpb25NYXBbbXNnLnNlbmRlcl0gKyBtc2cudmFsdWU7DQogICAgaWYodG90YWxEb25hdGlvbiA8IG1pbmltdW0pew0KICAgICAgZmFpbGVkRG9uYXRpb25zW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCiAgICAgIEVyck1zZyhtc2cuc2VuZGVyLCAiRG9uYXRpb24gdG9vIGxvdywgY2FsbCB3aXRoZHJhd0RvbmF0aW9uKCkiKTsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICBib29sIHN1Y2Nlc3MgPSB0b2tlbi50cmFuc2ZlckZyb20obWFqb29scixtc2cuc2VuZGVyLDEpOw0KICAgIGlmKCFzdWNjZXNzKXsNCiAgICAgIGZhaWxlZERvbmF0aW9uc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7DQogICAgICBFcnJNc2cobXNnLnNlbmRlciwgIlRyYW5zZXIgZmFpbGVkLCBjYWxsIHdpdGhkcmF3RG9uYXRpb24oKSIpOw0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIGRvbmF0aW9uTWFwW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCiAgICBkb25hdGlvbnMgKz0gbXNnLnZhbHVlOw0KICAgIFRoeE1zZyhtc2cuc2VuZGVyLCAiVGhhbmsgeW91IGZvciB5b3VyIGRvbmF0aW9uISIpOw0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiAgZnVuY3Rpb24gZ2VuZXJvdXNEb25hdGlvbigpIHBheWFibGUgcmV0dXJucyAoYm9vbCl7DQogICAgdWludDI1NiB0b2tlbnNMZWZ0ID0gdG9rZW4uYWxsb3dhbmNlKG1ham9vbHIsIHRoaXMpOw0KICAgIGlmKHRva2Vuc0xlZnQgPT0gMCl7DQogICAgICBmYWlsZWREb25hdGlvbnNbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOw0KICAgICAgRXJyTXNnKG1zZy5zZW5kZXIsICJObyBtb3JlIGRvbmF0aW9ucyBoZXJlIGNoZWNrIE1ham9vbHIuaW8sIGNhbGwgd2l0aGRyYXdEb25hdGlvbigpIik7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgZG9uYXRpb25NYXBbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOw0KICAgIGRvbmF0aW9ucyArPSBtc2cudmFsdWU7DQogICAgVGh4TXNnKG1zZy5zZW5kZXIsICJUaGFuayB5b3UgZm9yIHlvdXIgZG9uYXRpb24hIik7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICBmdW5jdGlvbiB3aXRoZHJhdygpIGFuZElzTWFqb29sciB7DQogICAgdWludDI1NiBhbW91bnQgPSBkb25hdGlvbnM7DQogICAgZG9uYXRpb25zID0gMDsNCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7DQogIH0NCg0KICBmdW5jdGlvbiB3aXRoZHJhd0RvbmF0aW9uKCl7DQogICAgdWludDI1NiBhbW91bnQgPSBmYWlsZWREb25hdGlvbnNbbXNnLnNlbmRlcl07DQogICAgZmFpbGVkRG9uYXRpb25zW21zZy5zZW5kZXJdID0gMDsNCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7DQogIH0NCn0NCg0KY29udHJhY3QgRVRIQ09ORWFybHlCaXJkVG9rZW4gew0KICAgdXNpbmcgRVJDMjBMaWIgZm9yIEVSQzIwTGliLlRva2VuU3RvcmFnZTsNCg0KICAgRVJDMjBMaWIuVG9rZW5TdG9yYWdlIHRva2VuOw0KDQogICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRVRIQ09OLUVhcmx5LUJpcmQiOw0KICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiVEhYIjsNCiAgIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMDsNCiAgIHVpbnQgcHVibGljIElOSVRJQUxfU1VQUExZID0gNjAwOw0KDQogICBldmVudCBFcnJvck1zZyhzdHJpbmcgbXNnKTsNCg0KICAgZnVuY3Rpb24gRVRIQ09ORWFybHlCaXJkVG9rZW4oKSB7DQogICAgIHRva2VuLmluaXQoSU5JVElBTF9TVVBQTFkpOw0KICAgfQ0KDQogICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsNCiAgICAgcmV0dXJuIHRva2VuLnRvdGFsU3VwcGx5Ow0KICAgfQ0KDQogICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsNCiAgICAgcmV0dXJuIHRva2VuLmJhbGFuY2VPZih3aG8pOw0KICAgfQ0KDQogICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgIHJldHVybiB0b2tlbi5hbGxvd2FuY2Uob3duZXIsIHNwZW5kZXIpOw0KICAgfQ0KDQogICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKSB7DQogICAgIGlmKHRva2VuLmJhbGFuY2VPZih0bykgPT0gMCl7DQogICAgICAgcmV0dXJuIHRva2VuLnRyYW5zZmVyKHRvLCB2YWx1ZSk7DQogICAgIH0gZWxzZSB7DQogICAgICAgRXJyb3JNc2coIlJlY2lwaWVudCBhbHJlYWR5IGhhcyB0b2tlbiIpOw0KICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgfQ0KDQogICB9DQoNCiAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spIHsNCiAgICAgaWYodG9rZW4uYmFsYW5jZU9mKHRvKSA9PSAwKXsNCiAgICAgICByZXR1cm4gdG9rZW4udHJhbnNmZXJGcm9tKGZyb20sIHRvLCB2YWx1ZSk7DQogICAgIH0gZWxzZSB7DQogICAgICAgRXJyb3JNc2coIlJlY2lwaWVudCBhbHJlYWR5IGhhcyB0b2tlbiIpOw0KICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgfQ0KICAgfQ0KDQogICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvaykgew0KICAgICByZXR1cm4gdG9rZW4uYXBwcm92ZShzcGVuZGVyLCB2YWx1ZSk7DQogICB9DQoNCiAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOw0KICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7DQp9DQoNCmxpYnJhcnkgRVJDMjBMaWIgew0KICB1c2luZyBCYXNpY01hdGhMaWIgZm9yIHVpbnQyNTY7DQoNCiAgc3RydWN0IFRva2VuU3RvcmFnZSB7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQogICAgdWludCB0b3RhbFN1cHBseTsNCiAgfQ0KDQogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOw0KICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsNCiAgZXZlbnQgRXJyb3JNc2coc3RyaW5nIG1zZyk7DQoNCiAgLy8vIEBkZXYgQ2FsbGVkIGJ5IHRoZSBTdGFuZGFyZCBUb2tlbiB1cG9uIGNyZWF0aW9uLg0KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QNCiAgLy8vIEBwYXJhbSBfaW5pdGlhbF9zdXBwbHkgVGhlIGluaXRpYWwgdG9rZW4gc3VwcGx5DQogIGZ1bmN0aW9uIGluaXQoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgdWludDI1NiBfaW5pdGlhbF9zdXBwbHkpIHsNCiAgICBzZWxmLnRvdGFsU3VwcGx5ID0gX2luaXRpYWxfc3VwcGx5Ow0KICAgIHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfaW5pdGlhbF9zdXBwbHk7DQogIH0NCg0KICAvLy8gQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBjYWxsZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudC4NCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0DQogIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMNCiAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyB0byBzZW5kDQogIC8vLyBAcmV0dXJuIHN1Y2Nlc3MgVHJ1ZSBpZiBjb21wbGV0ZWQsIGZhbHNlIG90aGVyd2lzZQ0KICBmdW5jdGlvbiB0cmFuc2ZlcihUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIGJvb2wgZXJyOw0KICAgIHVpbnQyNTYgYmFsYW5jZTsNCg0KICAgIChlcnIsYmFsYW5jZSkgPSBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdLm1pbnVzKF92YWx1ZSk7DQogICAgaWYoZXJyKSB7DQogICAgICBFcnJvck1zZygiQmFsYW5jZSB0b28gbG93IGZvciB0cmFuc2ZlciIpOw0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZTsNCiAgICAvL0l0J3Mgbm90IHBvc3NpYmxlIHRvIG92ZXJmbG93IHRva2VuIHN1cHBseQ0KICAgIHNlbGYuYmFsYW5jZXNbX3RvXSA9IHNlbGYuYmFsYW5jZXNbX3RvXSArIF92YWx1ZTsNCiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvLy8gQGRldiBBdXRob3JpemVkIGNhbGxlciB0cmFuc2ZlcnMgdG9rZW5zIGZyb20gb25lIGFjY291bnQgdG8gYW5vdGhlcg0KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QNCiAgLy8vIEBwYXJhbSBfZnJvbSBBZGRyZXNzIHRvIHNlbmQgdG9rZW5zIGZyb20NCiAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byBzZW5kIHRva2VucyB0bw0KICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHNlbmQNCiAgLy8vIEByZXR1cm4gc3VjY2VzcyBUcnVlIGlmIGNvbXBsZXRlZCwgZmFsc2Ugb3RoZXJ3aXNlDQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLA0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfZnJvbSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX3RvLA0KICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdmFsdWUpDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICB2YXIgX2FsbG93YW5jZSA9IHNlbGYuYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07DQogICAgYm9vbCBlcnI7DQogICAgdWludDI1NiBiYWxhbmNlT3duZXI7DQogICAgdWludDI1NiBiYWxhbmNlU3BlbmRlcjsNCg0KICAgIChlcnIsYmFsYW5jZU93bmVyKSA9IHNlbGYuYmFsYW5jZXNbX2Zyb21dLm1pbnVzKF92YWx1ZSk7DQogICAgaWYoZXJyKSB7DQogICAgICBFcnJvck1zZygiQmFsYW5jZSB0b28gbG93IGZvciB0cmFuc2ZlciIpOw0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIChlcnIsYmFsYW5jZVNwZW5kZXIpID0gX2FsbG93YW5jZS5taW51cyhfdmFsdWUpOw0KICAgIGlmKGVycikgew0KICAgICAgRXJyb3JNc2coIlRyYW5zZmVyIGV4Y2VlZHMgYWxsb3dhbmNlIik7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIHNlbGYuYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZU93bmVyOw0KICAgIHNlbGYuYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBiYWxhbmNlU3BlbmRlcjsNCiAgICBzZWxmLmJhbGFuY2VzW190b10gPSBzZWxmLmJhbGFuY2VzW190b10gKyBfdmFsdWU7DQoNCiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiAgLy8vIEBkZXYgUmV0cmlldmUgdG9rZW4gYmFsYW5jZSBmb3IgYW4gYWNjb3VudA0KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QNCiAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyB0byByZXRyaWV2ZSBiYWxhbmNlIG9mDQogIC8vLyBAcmV0dXJuIGJhbGFuY2UgVGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHN1YmplY3QgYWNjb3VudA0KICBmdW5jdGlvbiBiYWxhbmNlT2YoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgIHJldHVybiBzZWxmLmJhbGFuY2VzW19vd25lcl07DQogIH0NCg0KICAvLy8gQGRldiBBdXRob3JpemUgYW4gYWNjb3VudCB0byBzZW5kIHRva2VucyBvbiBjYWxsZXIncyBiZWhhbGYNCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0DQogIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyB0byBhdXRob3JpemUNCiAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyBhdXRob3JpemVkIGFjY291bnQgbWF5IHNlbmQNCiAgLy8vIEByZXR1cm4gc3VjY2VzcyBUcnVlIGlmIGNvbXBsZXRlZCwgZmFsc2Ugb3RoZXJ3aXNlDQogIGZ1bmN0aW9uIGFwcHJvdmUoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvLy8gQGRldiBSZW1haW5pbmcgdG9rZW5zIHRoaXJkIHBhcnR5IHNwZW5kZXIgaGFzIHRvIHNlbmQNCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0DQogIC8vLyBAcGFyYW0gX293bmVyIEFkZHJlc3Mgb2YgdG9rZW4gaG9sZGVyDQogIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhdXRob3JpemVkIHNwZW5kZXINCiAgLy8vIEByZXR1cm4gcmVtYWluaW5nIE51bWJlciBvZiB0b2tlbnMgc3BlbmRlciBoYXMgbGVmdCBpbiBvd25lcidzIGFjY291bnQNCiAgZnVuY3Rpb24gYWxsb3dhbmNlKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgIHJldHVybiBzZWxmLmFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogIH0NCn0NCg0KbGlicmFyeSBCYXNpY01hdGhMaWIgew0KICBldmVudCBFcnIoc3RyaW5nIHR5cGVFcnIpOw0KDQogIC8vLyBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMgYW5kIGNoZWNrcyBmb3Igb3ZlcmZsb3cgYmVmb3JlIHJldHVybmluZy4NCiAgLy8vIERvZXMgbm90IHRocm93IGJ1dCByYXRoZXIgbG9ncyBhbiBFcnIgZXZlbnQgaWYgdGhlcmUgaXMgb3ZlcmZsb3cuDQogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXINCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXINCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIHRoZXJlIGlzIG92ZXJmbG93DQogIC8vLyBAcmV0dXJuIHJlcyBUaGUgcHJvZHVjdCBvZiBhIGFuZCBiLCBvciAwIGlmIHRoZXJlIGlzIG92ZXJmbG93DQogIGZ1bmN0aW9uIHRpbWVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgew0KICAgIGFzc2VtYmx5ew0KICAgICAgcmVzIDo9IG11bChhLGIpDQogICAgICBqdW1waShhbGxHb29kLCBvcihpc3plcm8oYiksIGVxKGRpdihyZXMsYiksIGEpKSkNCiAgICAgIGVyciA6PSAxDQogICAgICByZXMgOj0gMA0KICAgICAgYWxsR29vZDoNCiAgICB9DQogICAgaWYgKGVycikNCiAgICAgIEVycigidGltZXMgZnVuYyBvdmVyZmxvdyIpOw0KICB9DQoNCiAgLy8vIEBkZXYgRGl2aWRlcyB0d28gbnVtYmVycyBidXQgY2hlY2tzIGZvciAwIGluIHRoZSBkaXZpc29yIGZpcnN0Lg0KICAvLy8gRG9lcyBub3QgdGhyb3cgYnV0IHJhdGhlciBsb2dzIGFuIEVyciBldmVudCBpZiAwIGlzIGluIHRoZSBkaXZpc29yLg0KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyDQogIC8vLyBAcGFyYW0gYiBTZWNvbmQgbnVtYmVyDQogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiBgYmAgaXMgMA0KICAvLy8gQHJldHVybiByZXMgVGhlIHF1b3RpZW50IG9mIGEgYW5kIGIsIG9yIDAgaWYgYGJgIGlzIDANCiAgZnVuY3Rpb24gZGl2aWRlZEJ5KHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgew0KICAgIGFzc2VtYmx5ew0KICAgICAganVtcGkoZSwgaXN6ZXJvKGIpKQ0KICAgICAgcmVzIDo9IGRpdihhLGIpDQogICAgICBtc3RvcmUoYWRkKG1sb2FkKDB4NDApLDB4MjApLHJlcykNCiAgICAgIHJldHVybihtbG9hZCgweDQwKSwweDQwKQ0KICAgICAgZToNCiAgICB9DQogICAgRXJyKCJ0cmllZCB0byBkaXZpZGUgYnkgemVybyIpOw0KICAgIHJldHVybiAodHJ1ZSwgMCk7DQogIH0NCg0KICAvLy8gQGRldiBBZGRzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIG92ZXJmbG93IGJlZm9yZSByZXR1cm5pbmcuDQogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIG92ZXJmbG93Lg0KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyDQogIC8vLyBAcGFyYW0gYiBTZWNvbmQgbnVtYmVyDQogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyBvdmVyZmxvdw0KICAvLy8gQHJldHVybiByZXMgVGhlIHN1bSBvZiBhIGFuZCBiLCBvciAwIGlmIHRoZXJlIGlzIG92ZXJmbG93DQogIGZ1bmN0aW9uIHBsdXModWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLCB1aW50MjU2IHJlcykgew0KICAgIGFzc2VtYmx5ew0KICAgICAgcmVzIDo9IGFkZChhLGIpDQogICAgICBqdW1waShhbGxHb29kLCBhbmQoZXEoc3ViKHJlcyxiKSwgYSksIGd0KHJlcyxiKSkpDQogICAgICBlcnIgOj0gMQ0KICAgICAgcmVzIDo9IDANCiAgICAgIGFsbEdvb2Q6DQogICAgfQ0KICAgIGlmIChlcnIpDQogICAgICBFcnIoInBsdXMgZnVuYyBvdmVyZmxvdyIpOw0KICB9DQoNCiAgLy8vIEBkZXYgU3VidHJhY3RzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIHVuZGVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLg0KICAvLy8gRG9lcyBub3QgdGhyb3cgYnV0IHJhdGhlciBsb2dzIGFuIEVyciBldmVudCBpZiB0aGVyZSBpcyB1bmRlcmZsb3cuDQogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXINCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXINCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIHRoZXJlIGlzIHVuZGVyZmxvdw0KICAvLy8gQHJldHVybiByZXMgVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGFuZCBiLCBvciAwIGlmIHRoZXJlIGlzIHVuZGVyZmxvdw0KICBmdW5jdGlvbiBtaW51cyh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBlcnIsdWludDI1NiByZXMpIHsNCiAgICBhc3NlbWJseXsNCiAgICAgIHJlcyA6PSBzdWIoYSxiKQ0KICAgICAganVtcGkoYWxsR29vZCwgZXEoYW5kKGVxKGFkZChyZXMsYiksIGEpLCBvcihsdChyZXMsYSksIGVxKHJlcyxhKSkpLCAxKSkNCiAgICAgIGVyciA6PSAxDQogICAgICByZXMgOj0gMA0KICAgICAgYWxsR29vZDoNCiAgICB9DQogICAgaWYgKGVycikNCiAgICAgIEVycigibWludXMgZnVuYyB1bmRlcmZsb3ciKTsNCiAgfQ0KfQ=='