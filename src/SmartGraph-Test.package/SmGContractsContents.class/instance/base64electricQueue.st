base 64 content
base64electricQueue
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCBJRWxlY3RyaWNDaGFyZ2VyIHsNCiAgIA0KICAgDQogICAgZnVuY3Rpb24gc2V0SW52ZXN0b3JzKHVpbnRbXSBpZHMsYWRkcmVzc1tdIGFkZHJlc3Nlcyx1aW50W10gYmFsYW5jZXMsdWludCBpbnZlc3RtZW50c0NvdW50KTsNCiAgIGZ1bmN0aW9uIGdldFByaWNlKCkgY29uc3RhbnQgZXh0ZXJuYWwgcmV0dXJucyAodWludCBwcmljZSk7DQogDQp9DQovL2NvbnRyYWN0DQpjb250cmFjdCBFbGVjdHJpY1F1ZXVlICB7DQogICAgICAgYWRkcmVzcyBwdWJsaWMgT3duZXI7DQogICAgICAgdWludCBwdWJsaWMgc3luY0RhdGU7DQogICAgICAgdWludCBwdWJsaWMgSW52ZXN0bWVudHNDb3VudDsNCiAgICAgICB1aW50IHB1YmxpYyBDaGFyZ2Vyc0NvdW50Ow0KICAgICAgIEludmVzdG1lbnRbXSBJbnZlc3RtZW50czsNCiAgICAgICB1aW50W10gIENoYXJnZXJzSWRzIDsgDQogICAgICAgbWFwcGluZyAodWludD0+Q2hhcmdlcikgQ2hhcmdlcnM7DQogICAgICAgYWRkcmVzcyBwdWJsaWMgUHJveHk7DQogICAgICAgYWRkcmVzcyBwdWJsaWMgTWFuYWdlcjsNCiAgICAgICAvL2NvbnRyYWN0IG9mIGVsZWN0cm9jaGFyZ2VycyAsIHdoaWNoIHN0YXRlDQogICAgICAgc3RydWN0IENoYXJnZXJ7DQogICAgICAgICAgSUVsZWN0cmljQ2hhcmdlciBBZGRyZXNzOw0KICAgICAgICAgIGJvb2wgSXNBY3RpdmU7DQogICAgICAgfQ0KICAvLyAgICAnSW52ZXN0bWVudCcgZGVzY3JpYmVzIGludmVzdG1lbnQgZnJvbSB1bmlxIGFkZHJlc3MgdG8gdW5pcSBjaGFyZ2VyLg0KICAgICAgc3RydWN0IEludmVzdG1lbnQgew0KICAgICAgICAgICB1aW50IEludmVzdG1lbnRJZDsNCiAgICAgICAgICAgYWRkcmVzcyBBZGRyZXNzOw0KICAgICAgICAgICB1aW50IENoYXJnZXJJZDsNCiAgICAgICAgICAgdWludCBCYWxhbmNlOw0KICAgICAgICAgICB1aW50IFRvdGFsU3VtOw0KICAgICAgICAgICBib29sIElzVHJhbnNmZXJlZDsNCiAgICAgICAgICAgdWludCBMYXN0VXBkYXRlRGF0ZTsNCiAgICAgICAgICAgYm9vbCBJc1JldHVybmVkOw0KICAgICAgIH0NCiAgICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIEVsZWN0cmljUXVldWUoYWRkcmVzcyBwcm94eSl7DQogICAgICAgICAgICAgT3duZXIgPSBtc2cuc2VuZGVyOw0KICAgICAgICAgICAgIHN5bmNEYXRlID0gbm93Ow0KICAgICAgICAgICAgIFByb3h5ID0gcHJveHk7DQogICAgICAgIH0NCiAgICAgICAgZnVuY3Rpb24gc2V0TWFuYWdlcihhZGRyZXNzIG1hbmFnZXIpIGV4dGVybmFsew0KICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IE93bmVyKSByZXR1cm4gOw0KICAgICAgICAgICAgIE1hbmFnZXIgPSBtYW5hZ2VyOw0KICAgICAgICB9DQogICAgICAgIC8vcmV0dXJuIHRoZSBpbmZvcm1hdGlvbiBhYm91dCBlYWNoIGNoYXJnZXIgaW4gcXVldWUgY29udHJhY3QNCiAgICAgICBmdW5jdGlvbiBnZXRDaGFyZ2VycygpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgW10gY2hhcmdlcnMgLGFkZHJlc3NbXSBhZGRyZXNzZXMgLGJvb2wgW10gc3RhdGVzKSB7DQogICAgICAgIHVpbnQgbGVuZ3RoID0gQ2hhcmdlcnNJZHMubGVuZ3RoOw0KICAgICAgICBhZGRyZXNzIFtdICBtZW1vcnkgX2FkZHJlc3NlcyA9IG5ldyBhZGRyZXNzW10obGVuZ3RoKTsNCiAgICAgICAgYm9vbCBbXSAgbWVtb3J5IF9zdGF0ZXMgPSBuZXcgYm9vbFtdKGxlbmd0aCk7DQogICAgICAgICAgZm9yKHVpbnQgaSA9IDAgOyBpIDwgQ2hhcmdlcnNJZHMubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgIF9hZGRyZXNzZXNbaV0gPSBDaGFyZ2Vyc1tDaGFyZ2Vyc0lkc1tpXV0uQWRkcmVzczsNCiAgICAgICAgICAgICAgX3N0YXRlc1tpXSA9IENoYXJnZXJzW0NoYXJnZXJzSWRzW2ldXS5Jc0FjdGl2ZTsNCiAgICAgICAgICB9DQogICAgICAgICAgIHJldHVybiAoQ2hhcmdlcnNJZHMsX2FkZHJlc3Nlcyxfc3RhdGVzKTsNCiAgICAgICB9DQogICAgICAgLy9jcmVhdGUgbmV3IGludmVzdG1lbnQgIGFuZCBwdXNoIGl0IHRvIGFycmF5ICdJbnZlc3RtZW50cycgDQogICAgICAgZnVuY3Rpb24gY3JlYXRlSW52ZXN0bWVudChhZGRyZXNzIF9hZGRyZXNzLHVpbnQgX2NoYXJnZXJJZCkgaW50ZXJuYWwgcmV0dXJucyAoSW52ZXN0bWVudCBpbnZlc3Rvcikgew0KICAgICAgICBjaGVja0NoYXJnZXIoX2NoYXJnZXJJZCk7DQogICAgICAgIEludmVzdG1lbnRzQ291bnQrKzsNCiAgICAgICAgSW52ZXN0bWVudCBtZW1vcnkgX25ld0ludmVzdG1lbnQ7DQogICAgICAgIF9uZXdJbnZlc3RtZW50LkFkZHJlc3MgPSBfYWRkcmVzczsNCiAgICAgICAgX25ld0ludmVzdG1lbnQuQ2hhcmdlcklkID0gX2NoYXJnZXJJZDsNCiAgICAgICAgX25ld0ludmVzdG1lbnQuSW52ZXN0bWVudElkID0gSW52ZXN0bWVudHNDb3VudDsNCiAgICAgICAgSW52ZXN0bWVudHMucHVzaChfbmV3SW52ZXN0bWVudCk7DQogICAgICAgIHJldHVybiBfbmV3SW52ZXN0bWVudDsNCiAgICAgIH0NCiAgICAgIC8vZXh0ZXJuYWwgZnVuY3Rpb24gdGhhdCBnaXZlcyBwb3NzaWJpbGl0eSB0byBpbnZlc3QgaW4gcXVldWUgb3IgY29uY3JldCBjaGFyZ2VyDQogICAgICBmdW5jdGlvbiAgaW52ZXN0SW5RdWV1ZShhZGRyZXNzIF9mcm9tICwgdWludCBfY2hhcmdlcikgcGF5YWJsZSByZXR1cm5zKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAgIHZhciBpbnZlc3RtZW50SWQgPSBnZXRJbnZlc3RtZW50KF9mcm9tLF9jaGFyZ2VyKTsNCiAgICAgICAgICBJbnZlc3RtZW50c1tpbnZlc3RtZW50SWQtMV0uQmFsYW5jZSs9bXNnLnZhbHVlOw0KICAgICAgICAgIEludmVzdG1lbnRzW2ludmVzdG1lbnRJZC0xXS5Ub3RhbFN1bSs9bXNnLnZhbHVlOw0KICAgICAgICAgIEludmVzdG1lbnRzW2ludmVzdG1lbnRJZC0xXS5Jc1RyYW5zZmVyZWQ9ZmFsc2U7DQogICAgICAgICAgSW52ZXN0bWVudHNbaW52ZXN0bWVudElkLTFdLklzUmV0dXJuZWQ9ZmFsc2U7DQogICAgICAgICAgSW52ZXN0bWVudHNbaW52ZXN0bWVudElkLTFdLkxhc3RVcGRhdGVEYXRlID1ub3c7DQogICAgICAgICAgc3luY0RhdGUgPSBub3c7DQogICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgICAvL2NoZWNrIGZvciBleHRpbmcgY2hhcmdlciBhbmQgY3JlYXRlIG5ldyBpZiAsIG1hcHBpbmcgaGFzbid0IGl0DQogICAgICBmdW5jdGlvbiBjaGVja0NoYXJnZXIodWludCBfY2hhcmdlcklkKSBpbnRlcm5hbHsNCiAgICAgICAgICBpZighQ2hhcmdlcnNbX2NoYXJnZXJJZF0uSXNBY3RpdmUgKXsNCiAgICAgICAgICAgICAgQ2hhcmdlcnNbX2NoYXJnZXJJZF0uSXNBY3RpdmUgPSB0cnVlOw0KICAgICAgICAgICAgICBDaGFyZ2Vyc0lkcy5wdXNoKF9jaGFyZ2VySWQpOw0KICAgICAgICAgICAgICBDaGFyZ2Vyc0NvdW50Kys7DQogICAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy9nZXQgaW52ZXN0bWVudCBieSB0d28ga2V5IChhZGRyZXNzIGFuZCBjaGFyZ2VyKQ0KICAgICAgZnVuY3Rpb24gIGdldEludmVzdG1lbnQoYWRkcmVzcyBfYWRkcmVzcyx1aW50IF9jaGFyZ2VyKSBpbnRlcm5hbCByZXR1cm5zICh1aW50IGludmVzdG1lbnRJZCApIHsNCiAgICAgICAgICBmb3IodWludCBpID0wIDsgaSA8IEludmVzdG1lbnRzQ291bnQgOyBpKyspew0KICAgICAgICAgICAgICAgIGlmKEludmVzdG1lbnRzW2ldLkFkZHJlc3MgPT1fYWRkcmVzcyAmJiBJbnZlc3RtZW50c1tpXS5DaGFyZ2VySWQgPT0gX2NoYXJnZXIpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZXN0bWVudHNbaV0uSW52ZXN0bWVudElkOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgdmFyIF9pbnZlc3RtZW50ID0gY3JlYXRlSW52ZXN0bWVudChfYWRkcmVzcyxfY2hhcmdlcik7DQogICAgICAgICAgcmV0dXJuIF9pbnZlc3RtZW50LkludmVzdG1lbnRJZDsNCiAgICAgIH0NCiAgICAgIC8vcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IGFsbCBpbnZlc3RtZW50cyBpbiBxdWV1ZSBjb250cmFjdA0KICAgICAgZnVuY3Rpb24gZ2V0QWxsSW52ZXN0bWVudHMoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zKCB1aW50IFtdIGlkcyAsIGFkZHJlc3NbXSBhZGRyZXNzZXMsIHVpbnRbXSBjaGFyZ2VySWRzLCB1aW50IFtdIGJhbGFuY2VzICwgYm9vbCBbXSBzdGF0ZXMgLCB1aW50W10gbGFzdFVwZGF0ZURhdGVzLHVpbnRbXSB0b3RhbFN1bSkgew0KICAgICAgICAgICAgICAgdWludCBsZW5ndGggPSBJbnZlc3RtZW50c0NvdW50Ow0KICAgICAgICAgICAgICAgdWludCBbXSAgbWVtb3J5IF9pZHMgID0gbmV3IHVpbnRbXShsZW5ndGgpOw0KICAgICAgICAgICAgICAgYWRkcmVzcyBbXSAgbWVtb3J5IF9hZGRyZXNzZXMgPSBuZXcgYWRkcmVzc1tdKGxlbmd0aCk7DQogICAgICAgICAgICAgICB1aW50IFtdICBtZW1vcnkgX2NoYXJnZXJJZHMgPSBuZXcgdWludFtdKGxlbmd0aCk7DQogICAgICAgICAgICAgICB1aW50IFtdICBtZW1vcnkgX2JhbGFuY2VzPSBuZXcgdWludFtdKGxlbmd0aCk7DQogICAgICAgICAgICAgICBib29sIFtdICBtZW1vcnkgX3N0YXRlcyA9IG5ldyBib29sW10obGVuZ3RoKTsNCiAgICAgICAgICAgICAgIHVpbnQgW10gIG1lbW9yeSBfbGFzdFVwZGF0ZURhdGVzPSBuZXcgdWludFtdKGxlbmd0aCk7DQogICAgICAgICAgICAgICB1aW50IFtdICBtZW1vcnkgX3RvdGFsU3Vtcz0gbmV3IHVpbnRbXShsZW5ndGgpOw0KICAgICAgICAgICAgICAgZm9yKHVpbnQgaSA9MCA7IGkgPCBJbnZlc3RtZW50c0NvdW50IDsgaSsrKXsNCiAgICAgICAgICAgICAgICAgX2lkc1tpXT0gSW52ZXN0bWVudHNbaV0uSW52ZXN0bWVudElkOw0KICAgICAgICAgICAgICAgICBfYWRkcmVzc2VzW2ldPSBJbnZlc3RtZW50c1tpXS5BZGRyZXNzOw0KICAgICAgICAgICAgICAgICBfY2hhcmdlcklkc1tpXT1JbnZlc3RtZW50c1tpXS5DaGFyZ2VySWQ7DQogICAgICAgICAgICAgICAgIF9iYWxhbmNlc1tpXT1JbnZlc3RtZW50c1tpXS5CYWxhbmNlOw0KICAgICAgICAgICAgICAgICBfc3RhdGVzW2ldPUludmVzdG1lbnRzW2ldLklzVHJhbnNmZXJlZDsNCiAgICAgICAgICAgICAgICAgX3RvdGFsU3Vtc1tpXT1JbnZlc3RtZW50c1tpXS5Ub3RhbFN1bTsNCiAgICAgICAgICAgICAgICAgX2xhc3RVcGRhdGVEYXRlc1tpXT1JbnZlc3RtZW50c1tpXS5MYXN0VXBkYXRlRGF0ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuKF9pZHMsX2FkZHJlc3NlcyxfY2hhcmdlcklkcyxfYmFsYW5jZXMsX3N0YXRlcyxfbGFzdFVwZGF0ZURhdGVzLF90b3RhbFN1bXMpOw0KICAgICAgICAgIH0gICANCiAgICAgDQogICAgICAvL3NldHRpbmcgY2hhcmdlciBhZGRyZXNzDQogICAgICBmdW5jdGlvbiBzZXRDaGFyZ2VyQWRkcmVzcyh1aW50IGlkICwgYWRkcmVzcyBjaGFyZ2VyQWRkcmVzcykgew0KICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gT3duZXIgJiYgbXNnLnNlbmRlciAhPSBNYW5hZ2VyKSByZXR1cm4gOw0KICAgICAgICAgIENoYXJnZXJzW2lkXS5BZGRyZXNzID0gSUVsZWN0cmljQ2hhcmdlcihjaGFyZ2VyQWRkcmVzcyk7DQogICAgICB9DQogICAgICAvL3RyYW5zZXIgbW9uZXkgdG8gY2hlcmdlcg0KICAgICAgZnVuY3Rpb24gc2VuZFRvQ2hhcmdlcih1aW50IGlkKXsNCiAgICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gT3duZXIgJiYgbXNnLnNlbmRlciAhPSBNYW5hZ2VyKSByZXR1cm4gOw0KICAgICAgICAgICAgICAgICB2YXIgX2Ftb3VudEZvckNoYXJnZXIgPSBnZXRBbW91bnRGb3JDaGFyZ2VyKGlkKTsNCg0KICAgICAgICAgICAgICAgIHVpbnQgX3ByaWNlT2ZDaGFyZ2VyID0gQ2hhcmdlcnNbaWRdLkFkZHJlc3MuZ2V0UHJpY2UoKSA7DQogICAgICAgICAgICAgICAgIGlmKF9wcmljZU9mQ2hhcmdlcj4gX2Ftb3VudEZvckNoYXJnZXIpew0KICAgICAgICAgICAgICAgICAgICAgICAgdWludCBkaWZmZXJlbmNlICA9IF9wcmljZU9mQ2hhcmdlciAtIF9hbW91bnRGb3JDaGFyZ2VyOw0KICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVDb3VudE9mSW52ZXN0bWV0bnNJblF1ZXVlKGRpZmZlcmVuY2UsaWQpOw0KICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgIGlmKCFDaGFyZ2Vyc1tpZF0uQWRkcmVzcy5jYWxsLnZhbHVlKF9wcmljZU9mQ2hhcmdlcikoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgdGhyb3c7DQogICAgICB9DQogIA0KICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlQ291bnRPZkludmVzdG1ldG5zSW5RdWV1ZSh1aW50IGRpZmZlcmVuY2UgLHVpbnQgaWQpIGludGVybmFsew0KICAgICAgICAgICAgIHVpbnQgcXVldWVJbnZlc3RtZW50cz0wOw0KICAgICAgICAgICAgIHVpbnQgaSA9MDsgIHVpbnQgaW52ZXN0bWFudEJhbGFuY2U9MDsNCiAgICAgICAgICAgIHVpbnQgbGVuZ3RoID0gSW52ZXN0bWVudHNDb3VudDsNCiAgICAgICAgICAgIHVpbnQgW10gIG1lbW9yeSBfaWRzICA9IG5ldyB1aW50W10obGVuZ3RoKTsNCiAgICAgICAgICAgIGFkZHJlc3MgW10gIG1lbW9yeSBfYWRkcmVzc2VzID0gbmV3IGFkZHJlc3NbXShsZW5ndGgpOw0KICAgICAgICAgICAgdWludCBbXSAgbWVtb3J5IF9iYWxhbmNlcz0gbmV3IHVpbnRbXShsZW5ndGgpOw0KDQogICAgICAgICAgICAgd2hpbGUoaSA8SW52ZXN0bWVudHNDb3VudCAmJiBkaWZmZXJlbmNlID4gMCl7DQogICAgICAgICAgICAgICAgICAgICBpZihJbnZlc3RtZW50c1tpXS5DaGFyZ2VySWQgPT0gMCAmJiBJbnZlc3RtZW50c1tpXS5CYWxhbmNlID49IDEgZXRoZXIpew0KICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRpZmZlcmVuY2U+SW52ZXN0bWVudHNbaV0uQmFsYW5jZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXN0bWFudEJhbGFuY2U9SW52ZXN0bWVudHNbaV0uQmFsYW5jZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnZlc3RtZW50c1tpXS5CYWxhbmNlPTA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBJbnZlc3RtZW50c1tpXS5Jc1RyYW5zZmVyZWQgPXRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXN0bWFudEJhbGFuY2U9ZGlmZmVyZW5jZSA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnZlc3RtZW50c1tpXS5CYWxhbmNlLT1kaWZmZXJlbmNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIF9pZHNbcXVldWVJbnZlc3RtZW50c109SW52ZXN0bWVudHNbaV0uSW52ZXN0bWVudElkOw0KICAgICAgICAgICAgICAgICAgICAgICAgX2FkZHJlc3Nlc1txdWV1ZUludmVzdG1lbnRzXT1JbnZlc3RtZW50c1tpXS5BZGRyZXNzOw0KICAgICAgICAgICAgICAgICAgICAgICAgX2JhbGFuY2VzW3F1ZXVlSW52ZXN0bWVudHNdPWludmVzdG1hbnRCYWxhbmNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlSW52ZXN0bWVudHMrKzsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaSsrOw0KICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICBDaGFyZ2Vyc1tpZF0uQWRkcmVzcy5zZXRJbnZlc3RvcnMoX2lkcyxfYWRkcmVzc2VzLF9iYWxhbmNlcyxxdWV1ZUludmVzdG1lbnRzKTsNCiAgICAgICAgICAgICAgIA0KICAgICAgfQ0KICAgICAgLy9jYWxjdWxhdGUgYW1vdW50IGZvciBjaGFyZ2VyDQogICAgICBmdW5jdGlvbiBnZXRBbW91bnRGb3JDaGFyZ2VyKHVpbnQgaWQpIGludGVybmFsIHJldHVybnMgKHVpbnQgc3VtQmFsYW5jZSkgew0KICAgICAgICAgICAgc3VtQmFsYW5jZSA9IDA7DQogICAgICAgICAgICB1aW50IGNoYXJnZXJJbnZlc3RtZW50cz0wOw0KICAgICAgICAgICAgdWludCBsZW5ndGggPSBJbnZlc3RtZW50c0NvdW50Ow0KICAgICAgICAgICAgdWludCBbXSAgbWVtb3J5IF9pZHMgID0gbmV3IHVpbnRbXShsZW5ndGgpOw0KICAgICAgICAgICAgYWRkcmVzcyBbXSAgbWVtb3J5IF9hZGRyZXNzZXMgPSBuZXcgYWRkcmVzc1tdKGxlbmd0aCk7DQogICAgICAgICAgICB1aW50IFtdICBtZW1vcnkgX2JhbGFuY2VzPSBuZXcgdWludFtdKGxlbmd0aCk7DQoNCiAgICAgICAgICAgICBmb3IodWludCBpID0wIDsgaSA8IEludmVzdG1lbnRzQ291bnQgOyBpKyspew0KICAgICAgICAgICAgICAgIGlmKEludmVzdG1lbnRzW2ldLkNoYXJnZXJJZCA9PSBpZCAmJiBJbnZlc3RtZW50c1tpXS5CYWxhbmNlID49IDEgZXRoZXIpew0KICAgICAgICAgICAgICAgICAgICBfaWRzW2NoYXJnZXJJbnZlc3RtZW50c109SW52ZXN0bWVudHNbaV0uSW52ZXN0bWVudElkOw0KICAgICAgICAgICAgICAgICAgICBfYWRkcmVzc2VzW2NoYXJnZXJJbnZlc3RtZW50c109SW52ZXN0bWVudHNbaV0uQWRkcmVzczsNCiAgICAgICAgICAgICAgICAgICAgX2JhbGFuY2VzW2NoYXJnZXJJbnZlc3RtZW50c109SW52ZXN0bWVudHNbaV0uQmFsYW5jZTsNCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgIHN1bUJhbGFuY2UgKz1JbnZlc3RtZW50c1tpXS5CYWxhbmNlOw0KICAgICAgICAgICAgICAgICAgIEludmVzdG1lbnRzW2ldLkJhbGFuY2U9MDsNCiAgICAgICAgICAgICAgICAgICBJbnZlc3RtZW50c1tpXS5Jc1RyYW5zZmVyZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgIGNoYXJnZXJJbnZlc3RtZW50cysrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgIENoYXJnZXJzW2lkXS5BZGRyZXNzLnNldEludmVzdG9ycyhfaWRzLF9hZGRyZXNzZXMsX2JhbGFuY2VzLGNoYXJnZXJJbnZlc3RtZW50cyk7DQogICANCiAgICAgIH0NCiAgICAgICBmdW5jdGlvbiAgcmV0dXJuTW9uZXkoYWRkcmVzcyBfdG8pIHBheWFibGUgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYobXNnLnNlbmRlciAhPSBQcm94eSkgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgZm9yKHVpbnQgaSA9MCA7IGkgPCBJbnZlc3RtZW50c0NvdW50IDsgaSsrKXsNCiAgICAgICAgICAgICAgICBpZihJbnZlc3RtZW50c1tpXS5BZGRyZXNzID09X3RvKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFfdG8uc2VuZChJbnZlc3RtZW50c1tpXS5CYWxhbmNlKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgSW52ZXN0bWVudHNbaV0uQmFsYW5jZSA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICBJbnZlc3RtZW50c1tpXS5Jc1JldHVybmVkPSB0cnVlOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICB9DQp9'