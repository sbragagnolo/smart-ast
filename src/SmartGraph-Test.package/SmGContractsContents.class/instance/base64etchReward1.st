base 64 content
base64etchReward1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLyoqDQogKiBAdGl0bGUgT3duYWJsZQ0KICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCANCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuIA0KICovDQpjb250cmFjdCBPd25hYmxlIHsNCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7DQoNCg0KICAvKiogDQogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcg0KICAgKiBhY2NvdW50Lg0KICAgKi8NCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsNCiAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogIH0NCg0KDQogIC8qKg0KICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuIA0KICAgKi8NCiAgbW9kaWZpZXIgb25seU93bmVyKCkgew0KICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7DQogICAgICB0aHJvdzsNCiAgICB9DQogICAgXzsNCiAgfQ0KDQoNCiAgLyoqDQogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuDQogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uIA0KICAgKi8NCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsNCiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgew0KICAgICAgb3duZXIgPSBuZXdPd25lcjsNCiAgICB9DQogIH0NCg0KfQ0KDQoNCi8qKg0KICogQHRpdGxlIFBhdXNhYmxlDQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uDQogKi8NCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgew0KICBldmVudCBQYXVzZSgpOw0KICBldmVudCBVbnBhdXNlKCk7DQoNCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7DQoNCg0KICAvKioNCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkDQogICAqLw0KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgew0KICAgIGlmIChwYXVzZWQpIHRocm93Ow0KICAgIF87DQogIH0NCg0KICAvKioNCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZA0KICAgKi8NCiAgbW9kaWZpZXIgd2hlblBhdXNlZCB7DQogICAgaWYgKCFwYXVzZWQpIHRocm93Ow0KICAgIF87DQogIH0NCg0KICAvKioNCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlDQogICAqLw0KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsNCiAgICBwYXVzZWQgPSB0cnVlOw0KICAgIFBhdXNlKCk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvKioNCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlDQogICAqLw0KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcmV0dXJucyAoYm9vbCkgew0KICAgIHBhdXNlZCA9IGZhbHNlOw0KICAgIFVucGF1c2UoKTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KfQ0KDQoNCg0KLyoqDQogKiBAdGl0bGUgRVJDMjBCYXNpYw0KICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlDQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqLw0KY29udHJhY3QgRVJDMjBCYXNpYyB7DQogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsNCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQp9DQoNCg0KLyoqDQogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzDQogKi8NCmxpYnJhcnkgU2FmZU1hdGggew0KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICB1aW50MjU2IGMgPSBhICogYjsNCiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOw0KICAgIHJldHVybiBjOw0KICB9DQoNCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwDQogICAgdWludDI1NiBjID0gYSAvIGI7DQogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQNCiAgICByZXR1cm4gYzsNCiAgfQ0KDQogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1Nikgew0KICAgIGFzc2VydChiIDw9IGEpOw0KICAgIHJldHVybiBhIC0gYjsNCiAgfQ0KDQogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1Nikgew0KICAgIHVpbnQyNTYgYyA9IGEgKyBiOw0KICAgIGFzc2VydChjID49IGEpOw0KICAgIHJldHVybiBjOw0KICB9DQoNCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsNCiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7DQogIH0NCg0KICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgew0KICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOw0KICB9DQoNCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOw0KICB9DQoNCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7DQogIH0NCg0KfQ0KDQoNCg0KLyoqDQogKiBAdGl0bGUgQmFzaWMgdG9rZW4NCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIA0KICovDQpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgew0KICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsNCg0KICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQoNCiAgLyoqDQogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suDQogICAqLw0KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludDI1NiBzaXplKSB7DQogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7DQogICAgICAgdGhyb3c7DQogICAgIH0NCiAgICAgXzsNCiAgfQ0KDQogIC8qKg0KICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MNCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLg0KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4NCiAgKi8NCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7DQogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsNCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsNCiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogIH0NCg0KICAvKioNCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLg0KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiANCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLg0KICAqLw0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICB9DQoNCn0NCg0KDQoNCi8qKg0KICogQHRpdGxlIEhlbHBzIGNvbnRyYWN0cyBndWFyZCBhZ2FpbnMgcmVudHJhbmN5IGF0dGFja3MuDQogKiBAYXV0aG9yIFJlbWNvIEJsb2VtZW4gPHJlbWNvQDLPgC5jb20+DQogKiBAbm90aWNlIElmIHlvdSBtYXJrIGEgZnVuY3Rpb24gYG5vblJlZW50cmFudGAsIHlvdSBzaG91bGQgYWxzbw0KICogbWFyayBpdCBgZXh0ZXJuYWxgLg0KICovDQpjb250cmFjdCBSZWVudHJhbmN5R3VhcmQgew0KDQogIC8qKg0KICAgKiBAZGV2IFdlIHVzZSBhIHNpbmdsZSBsb2NrIGZvciB0aGUgd2hvbGUgY29udHJhY3QuIA0KICAgKi8NCiAgYm9vbCBwcml2YXRlIHJlbnRyYW5jeV9sb2NrID0gZmFsc2U7DQoNCiAgLyoqDQogICAqIEBkZXYgUHJldmVudHMgYSBjb250cmFjdCBmcm9tIGNhbGxpbmcgaXRzZWxmLCBkaXJlY3RseSBvciBpbmRpcmVjdGx5Lg0KICAgKiBAbm90aWNlIElmIHlvdSBtYXJrIGEgZnVuY3Rpb24gYG5vblJlZW50cmFudGAsIHlvdSBzaG91bGQgYWxzbw0KICAgKiBtYXJrIGl0IGBleHRlcm5hbGAuIENhbGxpbmcgb25lIG5vblJlZW50cmFudCBmdW5jdGlvbiBmcm9tDQogICAqIGFub3RoZXIgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgeW91IGNhbiBpbXBsZW1lbnQgYQ0KICAgKiBgcHJpdmF0ZWAgZnVuY3Rpb24gZG9pbmcgdGhlIGFjdHVhbCB3b3JrLCBhbmQgYSBgZXh0ZXJuYWxgDQogICAqIHdyYXBwZXIgbWFya2VkIGFzIGBub25SZWVudHJhbnRgLg0KICAgKi8NCiAgbW9kaWZpZXIgbm9uUmVlbnRyYW50KCkgew0KICAgIGlmKHJlbnRyYW5jeV9sb2NrID09IGZhbHNlKSB7DQogICAgICByZW50cmFuY3lfbG9jayA9IHRydWU7DQogICAgICBfOw0KICAgICAgcmVudHJhbmN5X2xvY2sgPSBmYWxzZTsNCiAgICB9IGVsc2Ugew0KICAgICAgdGhyb3c7DQogICAgfQ0KICB9DQoNCn0NCg0KY29udHJhY3QgRXRjaFJld2FyZCBpcyBQYXVzYWJsZSwgQmFzaWNUb2tlbiwgUmVlbnRyYW5jeUd1YXJkIHsNCg0KICAgIC8vIGFkZHJlc3MgcHVibGljIG93bmVyOyAgICAgICAgICAgICAgICAvLyBPd25hYmxlDQogICAgLy8gYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7ICAgICAgICAgIC8vIFBhdXNhYmxlDQogICAgLy8gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOyAgIC8vIEJhc2ljVG9rZW4NCiAgICAvLyB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsgICAgICAgICAgICAgLy8gRVJDMjBCYXNpYw0KICAgIC8vIGJvb2wgcHJpdmF0ZSByZW50cmFuY3lfbG9jayA9IGZhbHNlOyAvLyBSZWVudHJhbmN5R3VhcmQNCg0KICAgIC8vDQogICAgLy8gQGRldiBjb25zdGFudHMNCiAgICAvLw0KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSAgID0gIkV0Y2ggUmV3YXJkIFRva2VuIjsNCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJFVENIUiI7DQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsNCg0KICAgIC8vDQogICAgLy8gQGRldiB0aGUgbWFpbiBhZGRyZXNzIHRvIGJlIGZvcndhcmRlZCBhbGwgZXRoZXINCiAgICAvLw0KICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEJFTkVGSUNJQVJZID0gMHg2NTFBMzczMWY3MTdhMTc3NzdjOUQ4ZDZmMTUyQWE5Mjg0OTc4RWEzOw0KDQogICAgLy8gQGRldiBudW1iZXIgb2YgdG9rZW5zIG9uZSByZWNlaXZlcyBmb3IgZXZlcnkgMSBldGhlciB0aGV5IHNlbmQNCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRSA9IDg7DQoNCiAgICAvLyBhdmcgYmxvY2sgdGltZSA9IDE1LjI1NjkgaHR0cHM6Ly9ldGhlcnNjYW4uaW8vY2hhcnQvYmxvY2t0aW1lDQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQVZHX0JMT0NLU18yNEggPSA1NjYzOyAgLy8gMzYwMCAqIDI0IC8gMTUuMjU2OSA9IDU2NjMuMDExNDg5ODgzMjY2DQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQVZHX0JMT0NLU18wMlcgPSA3OTI4MjsgLy8gMzYwMCAqIDI0ICogMTQgLyAxNS4yNTY5ID0gIDc5MjgyLjE2MDg1ODM2NTcyDQoNCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNQVhfRVRIRVJfMjRIID0gNDAgZXRoZXI7DQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgRVRIRVJfQ0FQICAgICA9IDI2NjAgZXRoZXI7DQoNCiAgICB1aW50IHB1YmxpYyB0b3RhbEV0aGVyID0gMDsNCiAgICB1aW50IHB1YmxpYyBibG9ja1N0YXJ0ID0gMDsNCiAgICB1aW50IHB1YmxpYyBibG9jazI0aCAgID0gMDsNCiAgICB1aW50IHB1YmxpYyBibG9jazAydyAgID0gMDsNCg0KICAgIC8vIEBkZXYgYWRkcmVzcyBvZiB0aGUgYWN0dWFsIElDTyBjb250cmFjdCB0byBiZSBkZXBsb3llZCBsYXRlcg0KICAgIGFkZHJlc3MgcHVibGljIGljb0NvbnRyYWN0ID0gMHgwOw0KDQogICAgLy8NCiAgICAvLyBAZGV2IG93bmVyIGF1dGhvcml6ZWQgYWRkcmVzc2VzIHRvIHBhcnRpY2lwYXRlIGluIHRoaXMgcHJlLWljbw0KICAgIC8vDQogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGNvbnRyaWJ1dG9yczsNCg0KDQogICAgLy8gQGRldiBjb25zdHJ1Y3RvciBmdW5jdGlvbg0KICAgIGZ1bmN0aW9uIEV0Y2hSZXdhcmQodWludCBfYmxvY2tTdGFydCkgew0KICAgICAgICBibG9ja1N0YXJ0ICA9IF9ibG9ja1N0YXJ0Ow0KICAgICAgICBibG9jazI0aCA9IGJsb2NrU3RhcnQgKyBBVkdfQkxPQ0tTXzI0SDsNCiAgICAgICAgYmxvY2swMncgPSBibG9ja1N0YXJ0ICsgQVZHX0JMT0NLU18wMlc7DQogICAgfQ0KDQogICAgLy8NCiAgICAvLyBAbm90aWNlIHRoZSBhYmlsaXR5IHRvIHRyYW5zZmVyIHRva2VucyBpcyBkaXNhYmxlZA0KICAgIC8vDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcywgdWludCkgew0KICAgICAgICB0aHJvdzsNCiAgICB9DQoNCiAgICAvLw0KICAgIC8vIEBub3RpY2Ugd2UgRE8gYWxsb3cgc2VuZGluZyBldGhlciBkaXJlY3RseSB0byB0aGUgY29udHJhY3QgYWRkcmVzcw0KICAgIC8vDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIGJ1eSgpOw0KICAgIH0NCg0KICAgIC8vDQogICAgLy8gQGRldiBtb2RpZmllcnMNCiAgICAvLw0KICAgIG1vZGlmaWVyIG9ubHlDb250cmlidXRvcnMoKSB7DQogICAgICAgIGlmKGNvbnRyaWJ1dG9yc1ttc2cuc2VuZGVyXSAhPSB0cnVlKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIG9ubHlJY29Db250cmFjdCgpIHsNCiAgICAgICAgaWYoaWNvQ29udHJhY3QgPT0gMHgwIHx8IG1zZy5zZW5kZXIgIT0gaWNvQ29udHJhY3QpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLy8NCiAgICAvLyBAZGV2IGNhbGwgdGhpcyB0byBhdXRob3JpemUgcGFydGljaXBhbnRzIHRvIHRoaXMgcHJlLWljbyBzYWxlDQogICAgLy8gQHBhcmFtIHRoZSBhdXRob3JpemVkIHBhcnRpY2lwYW50IGFkZHJlc3MNCiAgICAvLw0KICAgIGZ1bmN0aW9uIGFkZENvbnRyaWJ1dG9yKGFkZHJlc3MgX3dobykgcHVibGljIG9ubHlPd25lciB7DQogICAgICAgIGNvbnRyaWJ1dG9yc1tfd2hvXSA9IHRydWU7DQogICAgfQ0KDQogICAgLy8gQGRldiB1c2VmdWwgZm9yIGNvbnRyaWJ1dG9yIHRvIGNoZWNrIGJlZm9yZSBzZW5kaW5nIGV0aGVyDQogICAgZnVuY3Rpb24gaXNDb250cmlidXRvcihhZGRyZXNzIF93aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIGNvbnRyaWJ1dG9yc1tfd2hvXTsNCiAgICB9DQoNCiAgICAvLw0KICAgIC8vIEBkZXYgdGhpcyB3aWxsIGJlIGxhdGVyIHNldCBieSB0aGUgb3duZXIgb2YgdGhpcyBjb250cmFjdA0KICAgIC8vDQogICAgZnVuY3Rpb24gc2V0SWNvQ29udHJhY3QoYWRkcmVzcyBfY29udHJhY3QpIHB1YmxpYyBvbmx5T3duZXIgew0KICAgICAgICBpY29Db250cmFjdCA9IF9jb250cmFjdDsNCiAgICB9DQoNCiAgICAvLw0KICAgIC8vIEBkZXYgZnVuY3Rpb24gY2FsbGVkIGJ5IHRoZSBJQ08gY29udHJhY3QgdG8gdHJhbnNmb3JtIHRoZSB0b2tlbnMgaW50byBFVENIIHRva2Vucw0KICAgIC8vDQogICAgZnVuY3Rpb24gbWlncmF0ZShhZGRyZXNzIF9jb250cmlidXRvcikgcHVibGljDQogICAgb25seUljb0NvbnRyYWN0DQogICAgd2hlbk5vdFBhdXNlZCB7DQoNCiAgICAgICAgaWYoZ2V0QmxvY2soKSA8IGJsb2NrMDJ3KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihiYWxhbmNlc1tfY29udHJpYnV0b3JdKTsNCiAgICAgICAgYmFsYW5jZXNbX2NvbnRyaWJ1dG9yXSA9IDA7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYnV5KCkgcGF5YWJsZQ0KICAgIG5vblJlZW50cmFudA0KICAgIG9ubHlDb250cmlidXRvcnMNCiAgICB3aGVuTm90UGF1c2VkIHsNCg0KICAgICAgICBhZGRyZXNzIF9yZWNpcGllbnQgPSBtc2cuc2VuZGVyOw0KICAgICAgICB1aW50IGJsb2NrTm93ID0gZ2V0QmxvY2soKTsNCg0KICAgICAgICAvLyBhcmUgd2UgYmVmb3JlIG9yIGFmdGVyIHRoZSBzYWxlIHBlcmlvZD8NCiAgICAgICAgaWYoYmxvY2tOb3cgPCBibG9ja1N0YXJ0IHx8IGJsb2NrMDJ3IDw9IGJsb2NrTm93KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChibG9ja05vdyA8IGJsb2NrMjRoKSB7DQoNCiAgICAgICAgICAgIC8vIG9ubHkgb25lIHRyYW5zYWN0aW9uIGlzIGF1dGhvcml6ZWQNCiAgICAgICAgICAgIGlmIChiYWxhbmNlc1tfcmVjaXBpZW50XSA+IDApIHsNCiAgICAgICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gb25seSBhbGxvd2VkIHRvIGJ1eSBhIGNlcnRhaW4gYW1vdW50DQogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gTUFYX0VUSEVSXzI0SCkgew0KICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGdvIG92ZXIgdGhlIGV0aGVyIGNhcA0KICAgICAgICBpZiAodG90YWxFdGhlci5hZGQobXNnLnZhbHVlKSA+IEVUSEVSX0NBUCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICB1aW50IHRva2VucyA9IG1zZy52YWx1ZS5tdWwoUFJJQ0UpOw0KICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZCh0b2tlbnMpOw0KDQogICAgICAgIGJhbGFuY2VzW19yZWNpcGllbnRdID0gYmFsYW5jZXNbX3JlY2lwaWVudF0uYWRkKHRva2Vucyk7DQogICAgICAgIHRvdGFsRXRoZXIuYWRkKG1zZy52YWx1ZSk7DQoNCiAgICAgICAgaWYgKCFCRU5FRklDSUFSWS5zZW5kKG1zZy52YWx1ZSkpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgdWludCBwdWJsaWMgYmxvY2tOdW1iZXIgPSAwOw0KDQogICAgZnVuY3Rpb24gZ2V0QmxvY2soKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgew0KICAgICAgICBpZihibG9ja051bWJlciAhPSAwKSB7DQogICAgICAgICAgICByZXR1cm4gYmxvY2tOdW1iZXI7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlcjsNCiAgICB9DQoNCn0='