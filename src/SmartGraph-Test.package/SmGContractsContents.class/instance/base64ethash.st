base 64 content
base64ethash
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQovL3NvbGMgLS1iaW4gLS1hYmkgLS1vcHRpbWl6ZSAgLS1vcHRpbWl6ZS1ydW5zIDIwMDAwIC1vIC4gVGVzdHBvb2wuc29sIA0KDQoNCi8vaW1wb3J0ICIuL1NIQTNfNTEyLnNvbCI7DQoNCmNvbnRyYWN0IFNIQTNfNTEyIHsNCiAgICBmdW5jdGlvbiBTSEEzXzUxMigpIHt9DQogICAgDQogICAgZnVuY3Rpb24ga2VjY2FrX2YodWludFsyNV0gQSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50WzI1XSkgew0KICAgICAgICB1aW50WzVdIG1lbW9yeSBDOw0KICAgICAgICB1aW50WzVdIG1lbW9yeSBEOw0KICAgICAgICB1aW50IHg7DQogICAgICAgIHVpbnQgeTsNCiAgICAgICAgLy91aW50IERfMDsgdWludCBEXzE7IHVpbnQgRF8yOyB1aW50IERfMzsgdWludCBEXzQ7DQogICAgICAgIHVpbnRbMjVdIG1lbW9yeSBCOw0KICAgICAgICANCiAgICAgICAgdWludFsyNF0gbWVtb3J5IFJDPSBbDQogICAgICAgICAgICAgICAgICAgdWludCgweDAwMDAwMDAwMDAwMDAwMDEpLA0KICAgICAgICAgICAgICAgICAgIDB4MDAwMDAwMDAwMDAwODA4MiwNCiAgICAgICAgICAgICAgICAgICAweDgwMDAwMDAwMDAwMDgwOEEsDQogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDA4MDAwLA0KICAgICAgICAgICAgICAgICAgIDB4MDAwMDAwMDAwMDAwODA4QiwNCiAgICAgICAgICAgICAgICAgICAweDAwMDAwMDAwODAwMDAwMDEsDQogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDA4MDgxLA0KICAgICAgICAgICAgICAgICAgIDB4ODAwMDAwMDAwMDAwODAwOSwNCiAgICAgICAgICAgICAgICAgICAweDAwMDAwMDAwMDAwMDAwOEEsDQogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDAwMDg4LA0KICAgICAgICAgICAgICAgICAgIDB4MDAwMDAwMDA4MDAwODAwOSwNCiAgICAgICAgICAgICAgICAgICAweDAwMDAwMDAwODAwMDAwMEEsDQogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDgwMDA4MDhCLA0KICAgICAgICAgICAgICAgICAgIDB4ODAwMDAwMDAwMDAwMDA4QiwNCiAgICAgICAgICAgICAgICAgICAweDgwMDAwMDAwMDAwMDgwODksDQogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDAzLA0KICAgICAgICAgICAgICAgICAgIDB4ODAwMDAwMDAwMDAwODAwMiwNCiAgICAgICAgICAgICAgICAgICAweDgwMDAwMDAwMDAwMDAwODAsDQogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDA4MDBBLA0KICAgICAgICAgICAgICAgICAgIDB4ODAwMDAwMDA4MDAwMDAwQSwNCiAgICAgICAgICAgICAgICAgICAweDgwMDAwMDAwODAwMDgwODEsDQogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDgwLA0KICAgICAgICAgICAgICAgICAgIDB4MDAwMDAwMDA4MDAwMDAwMSwNCiAgICAgICAgICAgICAgICAgICAweDgwMDAwMDAwODAwMDgwMDggXTsNCiAgICAgICAgDQogICAgICAgIGZvciggdWludCBpID0gMCA7IGkgPCAyNCA7IGkrKyApIHsNCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICBmb3IoIHggPSAwIDsgeCA8IDUgOyB4KysgKSB7DQogICAgICAgICAgICAgICAgQ1t4XSA9IEFbNSp4XV5BWzUqeCsxXV5BWzUqeCsyXV5BWzUqeCszXV5BWzUqeCs0XTsgICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9Ki8NCiAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICBDWzBdPUFbMF1eQVsxXV5BWzJdXkFbM11eQVs0XTsNCiAgICAgICAgICAgIENbMV09QVs1XV5BWzZdXkFbN11eQVs4XV5BWzldOw0KICAgICAgICAgICAgQ1syXT1BWzEwXV5BWzExXV5BWzEyXV5BWzEzXV5BWzE0XTsNCiAgICAgICAgICAgIENbM109QVsxNV1eQVsxNl1eQVsxN11eQVsxOF1eQVsxOV07DQogICAgICAgICAgICBDWzRdPUFbMjBdXkFbMjFdXkFbMjJdXkFbMjNdXkFbMjRdOw0KDQogICAgICAgICAgICAvKg0KICAgICAgICAgICAgZm9yKCB4ID0gMCA7IHggPCA1IDsgeCsrICkgew0KICAgICAgICAgICAgICAgIERbeF0gPSBDWyh4KzQpJTVdXigoQ1soeCsxKSU1XSAqIDIpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChDWyh4KzEpJTVdLygyKio2MykpKTsNCiAgICAgICAgICAgIH0qLw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIERbMF09Q1s0XSBeICgoQ1sxXSAqIDIpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChDWzFdIC8gKDIgKiogNjMpKSk7DQogICAgICAgICAgICBEWzFdPUNbMF0gXiAoKENbMl0gKiAyKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQ1syXSAvICgyICoqIDYzKSkpOw0KICAgICAgICAgICAgRFsyXT1DWzFdIF4gKChDWzNdICogMikmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKENbM10gLyAoMiAqKiA2MykpKTsNCiAgICAgICAgICAgIERbM109Q1syXSBeICgoQ1s0XSAqIDIpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChDWzRdIC8gKDIgKiogNjMpKSk7DQogICAgICAgICAgICBEWzRdPUNbM10gXiAoKENbMF0gKiAyKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQ1swXSAvICgyICoqIDYzKSkpOw0KDQogICAgICAgICAgICAvKg0KICAgICAgICAgICAgZm9yKCB4ID0gMCA7IHggPCA1IDsgeCsrICkgew0KICAgICAgICAgICAgICAgIGZvciggeSA9IDAgOyB5IDwgNSA7IHkrKyApIHsNCiAgICAgICAgICAgICAgICAgICAgQVs1KngreV0gPSBBWzUqeCt5XSBeIERbeF07DQogICAgICAgICAgICAgICAgfSAgICAgICAgICAgIA0KICAgICAgICAgICAgfSovDQogICAgICAgICAgICANCg0KICAgICAgICAgICAgDQogICAgICAgICAgICBBWzBdPUFbMF0gXiBEWzBdOw0KICAgICAgICAgICAgQVsxXT1BWzFdIF4gRFswXTsNCiAgICAgICAgICAgIEFbMl09QVsyXSBeIERbMF07DQogICAgICAgICAgICBBWzNdPUFbM10gXiBEWzBdOw0KICAgICAgICAgICAgQVs0XT1BWzRdIF4gRFswXTsNCiAgICAgICAgICAgIEFbNV09QVs1XSBeIERbMV07DQogICAgICAgICAgICBBWzZdPUFbNl0gXiBEWzFdOw0KICAgICAgICAgICAgQVs3XT1BWzddIF4gRFsxXTsNCiAgICAgICAgICAgIEFbOF09QVs4XSBeIERbMV07DQogICAgICAgICAgICBBWzldPUFbOV0gXiBEWzFdOw0KICAgICAgICAgICAgQVsxMF09QVsxMF0gXiBEWzJdOw0KICAgICAgICAgICAgQVsxMV09QVsxMV0gXiBEWzJdOw0KICAgICAgICAgICAgQVsxMl09QVsxMl0gXiBEWzJdOw0KICAgICAgICAgICAgQVsxM109QVsxM10gXiBEWzJdOw0KICAgICAgICAgICAgQVsxNF09QVsxNF0gXiBEWzJdOw0KICAgICAgICAgICAgQVsxNV09QVsxNV0gXiBEWzNdOw0KICAgICAgICAgICAgQVsxNl09QVsxNl0gXiBEWzNdOw0KICAgICAgICAgICAgQVsxN109QVsxN10gXiBEWzNdOw0KICAgICAgICAgICAgQVsxOF09QVsxOF0gXiBEWzNdOw0KICAgICAgICAgICAgQVsxOV09QVsxOV0gXiBEWzNdOw0KICAgICAgICAgICAgQVsyMF09QVsyMF0gXiBEWzRdOw0KICAgICAgICAgICAgQVsyMV09QVsyMV0gXiBEWzRdOw0KICAgICAgICAgICAgQVsyMl09QVsyMl0gXiBEWzRdOw0KICAgICAgICAgICAgQVsyM109QVsyM10gXiBEWzRdOw0KICAgICAgICAgICAgQVsyNF09QVsyNF0gXiBEWzRdOw0KDQogICAgICAgICAgICAvKlJobyBhbmQgcGkgc3RlcHMqLyAgICAgICAgICAgIA0KICAgICAgICAgICAgQlswXT1BWzBdOw0KICAgICAgICAgICAgQls4XT0oKEFbMV0gKiAoMiAqKiAzNikpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzFdIC8gKDIgKiogMjgpKSk7DQogICAgICAgICAgICBCWzExXT0oKEFbMl0gKiAoMiAqKiAzKSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMl0gLyAoMiAqKiA2MSkpKTsNCiAgICAgICAgICAgIEJbMTldPSgoQVszXSAqICgyICoqIDQxKSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbM10gLyAoMiAqKiAyMykpKTsNCiAgICAgICAgICAgIEJbMjJdPSgoQVs0XSAqICgyICoqIDE4KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbNF0gLyAoMiAqKiA0NikpKTsNCiAgICAgICAgICAgIEJbMl09KChBWzVdICogKDIgKiogMSkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzVdIC8gKDIgKiogNjMpKSk7DQogICAgICAgICAgICBCWzVdPSgoQVs2XSAqICgyICoqIDQ0KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbNl0gLyAoMiAqKiAyMCkpKTsNCiAgICAgICAgICAgIEJbMTNdPSgoQVs3XSAqICgyICoqIDEwKSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbN10gLyAoMiAqKiA1NCkpKTsNCiAgICAgICAgICAgIEJbMTZdPSgoQVs4XSAqICgyICoqIDQ1KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbOF0gLyAoMiAqKiAxOSkpKTsNCiAgICAgICAgICAgIEJbMjRdPSgoQVs5XSAqICgyICoqIDIpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVs5XSAvICgyICoqIDYyKSkpOw0KICAgICAgICAgICAgQls0XT0oKEFbMTBdICogKDIgKiogNjIpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxMF0gLyAoMiAqKiAyKSkpOw0KICAgICAgICAgICAgQls3XT0oKEFbMTFdICogKDIgKiogNikpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzExXSAvICgyICoqIDU4KSkpOw0KICAgICAgICAgICAgQlsxMF09KChBWzEyXSAqICgyICoqIDQzKSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTJdIC8gKDIgKiogMjEpKSk7DQogICAgICAgICAgICBCWzE4XT0oKEFbMTNdICogKDIgKiogMTUpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxM10gLyAoMiAqKiA0OSkpKTsNCiAgICAgICAgICAgIEJbMjFdPSgoQVsxNF0gKiAoMiAqKiA2MSkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzE0XSAvICgyICoqIDMpKSk7DQogICAgICAgICAgICBCWzFdPSgoQVsxNV0gKiAoMiAqKiAyOCkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzE1XSAvICgyICoqIDM2KSkpOw0KICAgICAgICAgICAgQls5XT0oKEFbMTZdICogKDIgKiogNTUpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxNl0gLyAoMiAqKiA5KSkpOw0KICAgICAgICAgICAgQlsxMl09KChBWzE3XSAqICgyICoqIDI1KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTddIC8gKDIgKiogMzkpKSk7DQogICAgICAgICAgICBCWzE1XT0oKEFbMThdICogKDIgKiogMjEpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxOF0gLyAoMiAqKiA0MykpKTsNCiAgICAgICAgICAgIEJbMjNdPSgoQVsxOV0gKiAoMiAqKiA1NikpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzE5XSAvICgyICoqIDgpKSk7DQogICAgICAgICAgICBCWzNdPSgoQVsyMF0gKiAoMiAqKiAyNykpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzIwXSAvICgyICoqIDM3KSkpOw0KICAgICAgICAgICAgQls2XT0oKEFbMjFdICogKDIgKiogMjApKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsyMV0gLyAoMiAqKiA0NCkpKTsNCiAgICAgICAgICAgIEJbMTRdPSgoQVsyMl0gKiAoMiAqKiAzOSkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzIyXSAvICgyICoqIDI1KSkpOw0KICAgICAgICAgICAgQlsxN109KChBWzIzXSAqICgyICoqIDgpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsyM10gLyAoMiAqKiA1NikpKTsNCiAgICAgICAgICAgIEJbMjBdPSgoQVsyNF0gKiAoMiAqKiAxNCkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzI0XSAvICgyICoqIDUwKSkpOw0KDQogICAgICAgICAgICAvKlhpIHN0YXRlKi8NCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICBmb3IoIHggPSAwIDsgeCA8IDUgOyB4KysgKSB7DQogICAgICAgICAgICAgICAgZm9yKCB5ID0gMCA7IHkgPCA1IDsgeSsrICkgew0KICAgICAgICAgICAgICAgICAgICBBWzUqeCt5XSA9IEJbNSp4K3ldXigofkJbNSooKHgrMSklNSkreV0pICYgQls1KigoeCsyKSU1KSt5XSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSovDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgQVswXT1CWzBdXigofkJbNV0pICYgQlsxMF0pOw0KICAgICAgICAgICAgQVsxXT1CWzFdXigofkJbNl0pICYgQlsxMV0pOw0KICAgICAgICAgICAgQVsyXT1CWzJdXigofkJbN10pICYgQlsxMl0pOw0KICAgICAgICAgICAgQVszXT1CWzNdXigofkJbOF0pICYgQlsxM10pOw0KICAgICAgICAgICAgQVs0XT1CWzRdXigofkJbOV0pICYgQlsxNF0pOw0KICAgICAgICAgICAgQVs1XT1CWzVdXigofkJbMTBdKSAmIEJbMTVdKTsNCiAgICAgICAgICAgIEFbNl09Qls2XV4oKH5CWzExXSkgJiBCWzE2XSk7DQogICAgICAgICAgICBBWzddPUJbN11eKCh+QlsxMl0pICYgQlsxN10pOw0KICAgICAgICAgICAgQVs4XT1CWzhdXigofkJbMTNdKSAmIEJbMThdKTsNCiAgICAgICAgICAgIEFbOV09Qls5XV4oKH5CWzE0XSkgJiBCWzE5XSk7DQogICAgICAgICAgICBBWzEwXT1CWzEwXV4oKH5CWzE1XSkgJiBCWzIwXSk7DQogICAgICAgICAgICBBWzExXT1CWzExXV4oKH5CWzE2XSkgJiBCWzIxXSk7DQogICAgICAgICAgICBBWzEyXT1CWzEyXV4oKH5CWzE3XSkgJiBCWzIyXSk7DQogICAgICAgICAgICBBWzEzXT1CWzEzXV4oKH5CWzE4XSkgJiBCWzIzXSk7DQogICAgICAgICAgICBBWzE0XT1CWzE0XV4oKH5CWzE5XSkgJiBCWzI0XSk7DQogICAgICAgICAgICBBWzE1XT1CWzE1XV4oKH5CWzIwXSkgJiBCWzBdKTsNCiAgICAgICAgICAgIEFbMTZdPUJbMTZdXigofkJbMjFdKSAmIEJbMV0pOw0KICAgICAgICAgICAgQVsxN109QlsxN11eKCh+QlsyMl0pICYgQlsyXSk7DQogICAgICAgICAgICBBWzE4XT1CWzE4XV4oKH5CWzIzXSkgJiBCWzNdKTsNCiAgICAgICAgICAgIEFbMTldPUJbMTldXigofkJbMjRdKSAmIEJbNF0pOw0KICAgICAgICAgICAgQVsyMF09QlsyMF1eKCh+QlswXSkgJiBCWzVdKTsNCiAgICAgICAgICAgIEFbMjFdPUJbMjFdXigofkJbMV0pICYgQls2XSk7DQogICAgICAgICAgICBBWzIyXT1CWzIyXV4oKH5CWzJdKSAmIEJbN10pOw0KICAgICAgICAgICAgQVsyM109QlsyM11eKCh+QlszXSkgJiBCWzhdKTsNCiAgICAgICAgICAgIEFbMjRdPUJbMjRdXigofkJbNF0pICYgQls5XSk7DQoNCiAgICAgICAgICAgIC8qTGFzdCBzdGVwKi8NCiAgICAgICAgICAgIEFbMF09QVswXV5SQ1tpXTsgICAgICAgICAgICANCiAgICAgICAgfQ0KDQogICAgICAgIA0KICAgICAgICByZXR1cm4gQTsNCiAgICB9DQogDQogICAgDQogICAgZnVuY3Rpb24gc3BvbmdlKHVpbnRbOV0gTSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50WzE2XSkgew0KICAgICAgICBpZiggKE0ubGVuZ3RoICogOCkgIT0gNzIgKSB0aHJvdzsNCiAgICAgICAgTVs1XSA9IDB4MDE7DQogICAgICAgIE1bOF0gPSAweDgwMDAwMDAwMDAwMDAwMDA7DQogICAgICAgIA0KICAgICAgICB1aW50IHIgPSA3MjsNCiAgICAgICAgdWludCB3ID0gODsNCiAgICAgICAgdWludCBzaXplID0gTS5sZW5ndGggKiA4Ow0KICAgICAgICANCiAgICAgICAgdWludFsyNV0gbWVtb3J5IFM7DQogICAgICAgIHVpbnQgaTsgdWludCB5OyB1aW50IHg7DQogICAgICAgIC8qQWJzb3JiaW5nIFBoYXNlKi8NCiAgICAgICAgZm9yKCBpID0gMCA7IGkgPCBzaXplL3IgOyBpKysgKSB7DQogICAgICAgICAgICBmb3IoIHkgPSAwIDsgeSA8IDUgOyB5KysgKSB7DQogICAgICAgICAgICAgICAgZm9yKCB4ID0gMCA7IHggPCA1IDsgeCsrICkgew0KICAgICAgICAgICAgICAgICAgICBpZiggKHgrNSp5KSA8IChyL3cpICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgU1s1KngreV0gPSBTWzUqeCt5XSBeIE1baSo5ICsgeCArIDUqeV07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBTID0ga2VjY2FrX2YoUyk7DQogICAgICAgIH0NCg0KICAgICAgICAvKlNxdWVlemluZyBwaGFzZSovDQogICAgICAgIHVpbnRbMTZdIG1lbW9yeSByZXN1bHQ7DQogICAgICAgIHVpbnQgYiA9IDA7DQogICAgICAgIHdoaWxlKCBiIDwgMTYgKSB7DQogICAgICAgICAgICBmb3IoIHkgPSAwIDsgeSA8IDUgOyB5KysgKSB7DQogICAgICAgICAgICAgICAgZm9yKCB4ID0gMCA7IHggPCA1IDsgeCsrICkgew0KICAgICAgICAgICAgICAgICAgICBpZiggKHgrNSp5KTwoci93KSAmJiAoYjwxNikgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbYl0gPSBTWzUqeCt5XSAmIDB4RkZGRkZGRkY7IA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2IrMV0gPSBTWzUqeCt5XSAvIDB4MTAwMDAwMDAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgYis9MjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAgDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICB9DQoNCn0NCg0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCg0KY29udHJhY3QgRXRoYXNoIGlzIFNIQTNfNTEyIHsNCiAgICANCiAgICBtYXBwaW5nKGFkZHJlc3M9PmJvb2wpIHB1YmxpYyBvd25lcnM7DQogICAgDQogICAgZnVuY3Rpb24gRXRoYXNoKGFkZHJlc3NbM10gX293bmVycykgew0KICAgICAgICBvd25lcnNbX293bmVyc1swXV0gPSB0cnVlOw0KICAgICAgICBvd25lcnNbX293bmVyc1sxXV0gPSB0cnVlOw0KICAgICAgICBvd25lcnNbX293bmVyc1syXV0gPSB0cnVlOyAgICAgICAgICAgICAgICANCiAgICB9DQogICAgIA0KICAgIGZ1bmN0aW9uIGZudiggdWludCB2MSwgdWludCB2MiApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgew0KICAgICAgICByZXR1cm4gKCh2MSoweDAxMDAwMTkzKSBeIHYyKSAmIDB4RkZGRkZGRkY7DQogICAgfQ0KDQoNCg0KICAgIGZ1bmN0aW9uIGNvbXB1dGVDYWNoZVJvb3QoIHVpbnQgaW5kZXgsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBpbmRleEluRWxlbWVudHNBcnJheSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50W10gZWxlbWVudHMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludFtdIHdpdG5lc3MsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBicmFuY2hTaXplICkgY29uc3RhbnQgcHJpdmF0ZSByZXR1cm5zKHVpbnQpIHsNCiANCiAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIHVpbnQgbGVhZiA9IGNvbXB1dGVMZWFmKGVsZW1lbnRzLCBpbmRleEluRWxlbWVudHNBcnJheSkgJiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOw0KDQogICAgICAgIHVpbnQgbGVmdDsNCiAgICAgICAgdWludCByaWdodDsNCiAgICAgICAgdWludCBub2RlOw0KICAgICAgICBib29sIG9kZEJyYW5jaFNpemUgPSAoYnJhbmNoU2l6ZSAlIDIpID4gMDsNCiAgICAgICAgIA0KICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICBicmFuY2hTaXplIDo9IGRpdihicmFuY2hTaXplLDIpDQogICAgICAgICAgICAvL2JyYW5jaFNpemUgLz0gMjsNCiAgICAgICAgfQ0KICAgICAgICB1aW50IHdpdG5lc3NJbmRleCA9IGluZGV4SW5FbGVtZW50c0FycmF5ICogYnJhbmNoU2l6ZTsNCiAgICAgICAgaWYoIG9kZEJyYW5jaFNpemUgKSB3aXRuZXNzSW5kZXggKz0gaW5kZXhJbkVsZW1lbnRzQXJyYXk7ICANCg0KICAgICAgICBmb3IoIHVpbnQgZGVwdGggPSAwIDsgZGVwdGggPCBicmFuY2hTaXplIDsgZGVwdGgrKyApIHsNCiAgICAgICAgICAgIGFzc2VtYmx5IHsNCiAgICAgICAgICAgICAgICBub2RlIDo9IG1sb2FkKGFkZChhZGQod2l0bmVzcywweDIwKSxtdWwoYWRkKGRlcHRoLHdpdG5lc3NJbmRleCksMHgyMCkpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9ub2RlICA9IHdpdG5lc3Nbd2l0bmVzc0luZGV4ICsgZGVwdGhdICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsNCiAgICAgICAgICAgIGlmKCBpbmRleCAmIDB4MSA9PSAwICkgew0KICAgICAgICAgICAgICAgIGxlZnQgPSBsZWFmOw0KICAgICAgICAgICAgICAgIGFzc2VtYmx5ew0KICAgICAgICAgICAgICAgICAgICAvL3JpZ2h0ID0gbm9kZSAmIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7ICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICByaWdodCA6PSBhbmQobm9kZSwweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIGFzc2VtYmx5ew0KICAgICAgICAgICAgICAgICAgICAvL2xlZnQgPSBub2RlICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsNCiAgICAgICAgICAgICAgICAgICAgbGVmdCA6PSBhbmQobm9kZSwweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByaWdodCA9IGxlYWY7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxlYWYgPSB1aW50KHNoYTMobGVmdCxyaWdodCkpICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsNCiAgICAgICAgICAgIGFzc2VtYmx5IHsNCiAgICAgICAgICAgICAgICBpbmRleCA6PSBkaXYoaW5kZXgsMikgDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL2luZGV4ID0gaW5kZXggLyAyOw0KDQogICAgICAgICAgICAvL25vZGUgID0gd2l0bmVzc1t3aXRuZXNzSW5kZXggKyBkZXB0aF0gLyAoMioqMTI4KTsNCiAgICAgICAgICAgIGlmKCBpbmRleCAmIDB4MSA9PSAwICkgew0KICAgICAgICAgICAgICAgIGxlZnQgPSBsZWFmOw0KICAgICAgICAgICAgICAgIGFzc2VtYmx5ew0KICAgICAgICAgICAgICAgICAgICByaWdodCA6PSBkaXYobm9kZSwweDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCkNCiAgICAgICAgICAgICAgICAgICAgLy9yaWdodCA9IG5vZGUgLyAweDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICAgICAgICAgIC8vbGVmdCA9IG5vZGUgLyAweDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsNCiAgICAgICAgICAgICAgICAgICAgbGVmdCA6PSBkaXYobm9kZSwweDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmlnaHQgPSBsZWFmOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZWFmID0gdWludChzaGEzKGxlZnQscmlnaHQpKSAmIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7DQogICAgICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICAgICAgaW5kZXggOj0gZGl2KGluZGV4LDIpIA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9pbmRleCA9IGluZGV4IC8gMjsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYoIG9kZEJyYW5jaFNpemUgKSB7DQogICAgICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICAgICAgbm9kZSA6PSBtbG9hZChhZGQoYWRkKHdpdG5lc3MsMHgyMCksbXVsKGFkZChkZXB0aCx3aXRuZXNzSW5kZXgpLDB4MjApKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICAgICAvL25vZGUgID0gd2l0bmVzc1t3aXRuZXNzSW5kZXggKyBkZXB0aF0gJiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOw0KICAgICAgICAgICAgaWYoIGluZGV4ICYgMHgxID09IDAgKSB7DQogICAgICAgICAgICAgICAgbGVmdCA9IGxlYWY7DQogICAgICAgICAgICAgICAgYXNzZW1ibHl7DQogICAgICAgICAgICAgICAgICAgIC8vcmlnaHQgPSBub2RlICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHJpZ2h0IDo9IGFuZChub2RlLDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYpDQogICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIGFzc2VtYmx5ew0KICAgICAgICAgICAgICAgICAgICAvL2xlZnQgPSBub2RlICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGxlZnQgOj0gYW5kKG5vZGUsMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICByaWdodCA9IGxlYWY7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxlYWYgPSB1aW50KHNoYTMobGVmdCxyaWdodCkpICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsgICAgICAgIA0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgcmV0dXJuIGxlYWY7DQogICAgfQ0KDQogICAgDQogICAgZnVuY3Rpb24gdG9CRSggdWludCB4ICkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHVpbnQgeSA9IDA7DQogICAgICAgIGZvciggdWludCBpID0gMCA7IGkgPCAzMiA7IGkrKyApIHsNCiAgICAgICAgICAgIHkgPSB5ICogMjU2Ow0KICAgICAgICAgICAgeSArPSAoeCAmIDB4RkYpOw0KICAgICAgICAgICAgeCA9IHggLyAyNTY7ICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHJldHVybiB5Ow0KICAgICAgICANCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY29tcHV0ZVNoYTMoIHVpbnRbMTZdIHMsIHVpbnRbOF0gY21peCApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgew0KICAgICAgICB1aW50IHMwID0gc1swXSArIHNbMV0gKiAoMioqMzIpICsgc1syXSAqICgyKio2NCkgKyBzWzNdICogKDIqKjk2KSArDQogICAgICAgICAgICAgICAgICAoc1s0XSArIHNbNV0gKiAoMioqMzIpICsgc1s2XSAqICgyKio2NCkgKyBzWzddICogKDIqKjk2KSkqKDIqKjEyOCk7DQoNCiAgICAgICAgdWludCBzMSA9IHNbOF0gKyBzWzldICogKDIqKjMyKSArIHNbMTBdICogKDIqKjY0KSArIHNbMTFdICogKDIqKjk2KSArDQogICAgICAgICAgICAgICAgICAoc1sxMl0gKyBzWzEzXSAqICgyKiozMikgKyBzWzE0XSAqICgyKio2NCkgKyBzWzE1XSAqICgyKio5NikpKigyKioxMjgpOw0KICAgICAgICAgICAgICAgICAgDQogICAgICAgIHVpbnQgYyA9IGNtaXhbMF0gKyBjbWl4WzFdICogKDIqKjMyKSArIGNtaXhbMl0gKiAoMioqNjQpICsgY21peFszXSAqICgyKio5NikgKw0KICAgICAgICAgICAgICAgICAgKGNtaXhbNF0gKyBjbWl4WzVdICogKDIqKjMyKSArIGNtaXhbNl0gKiAoMioqNjQpICsgY21peFs3XSAqICgyKio5NikpKigyKioxMjgpOw0KDQogICAgICAgIA0KICAgICAgICAvKiBnb2Qga25vd3Mgd2h5IG5lZWQgdG8gY29udmVydCB0byBiaWcgZW5kaWFuICovDQogICAgICAgIHJldHVybiB1aW50KCBzaGEzKHRvQkUoczApLHRvQkUoczEpLHRvQkUoYykpICk7DQogICAgfQ0KIA0KIA0KICAgIGZ1bmN0aW9uIGNvbXB1dGVMZWFmKCB1aW50W10gZGF0YVNldExvb2t1cCwgdWludCBpbmRleCApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgew0KICAgICAgICByZXR1cm4gdWludCggc2hhMyhkYXRhU2V0TG9va3VwWzQqaW5kZXhdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2V0TG9va3VwWzQqaW5kZXggKyAxXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNldExvb2t1cFs0KmluZGV4ICsgMl0sDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTZXRMb29rdXBbNCppbmRleCArIDNdKSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgfQ0KIA0KICAgIGZ1bmN0aW9uIGNvbXB1dGVTKCB1aW50IGhlYWRlciwgdWludCBub25jZUxlICkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50WzE2XSkgew0KICAgICAgICB1aW50WzldICBtZW1vcnkgTTsNCiAgICAgICAgDQogICAgICAgIGhlYWRlciA9IHJldmVyc2VCeXRlcyhoZWFkZXIpOw0KICAgICAgICANCiAgICAgICAgTVswXSA9IHVpbnQoaGVhZGVyKSAmIDB4RkZGRkZGRkZGRkZGRkZGRjsNCiAgICAgICAgaGVhZGVyID0gaGVhZGVyIC8gMioqNjQ7DQogICAgICAgIE1bMV0gPSB1aW50KGhlYWRlcikgJiAweEZGRkZGRkZGRkZGRkZGRkY7DQogICAgICAgIGhlYWRlciA9IGhlYWRlciAvIDIqKjY0Ow0KICAgICAgICBNWzJdID0gdWludChoZWFkZXIpICYgMHhGRkZGRkZGRkZGRkZGRkZGOw0KICAgICAgICBoZWFkZXIgPSBoZWFkZXIgLyAyKio2NDsNCiAgICAgICAgTVszXSA9IHVpbnQoaGVhZGVyKSAmIDB4RkZGRkZGRkZGRkZGRkZGRjsNCg0KICAgICAgICAvLyBtYWtlIGxpdHRsZSBlbmRpYW4gbm9uY2UNCiAgICAgICAgTVs0XSA9IG5vbmNlTGU7DQogICAgICAgIHJldHVybiBzcG9uZ2UoTSk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHJldmVyc2VCeXRlcyggdWludCBpbnB1dCApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgew0KICAgICAgICB1aW50IHJlc3VsdCA9IDA7DQogICAgICAgIGZvcih1aW50IGkgPSAwIDsgaSA8IDMyIDsgaSsrICkgew0KICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICogMjU2Ow0KICAgICAgICAgICAgcmVzdWx0ICs9IGlucHV0ICYgMHhmZjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaW5wdXQgLz0gMjU2Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCiAgICANCiAgICBzdHJ1Y3QgRXRoYXNoQ2FjaGVPcHREYXRhIHsNCiAgICAgICAgdWludFs1MTJdICAgIG1lcmtsZU5vZGVzOw0KICAgICAgICB1aW50ICAgICAgICAgZnVsbFNpemVJbjEyOFJlc3VsdGlvbjsNCiAgICAgICAgdWludCAgICAgICAgIGJyYW5jaERlcHRoOw0KICAgIH0NCiAgICANCiAgICBtYXBwaW5nKHVpbnQ9PkV0aGFzaENhY2hlT3B0RGF0YSkgZXBvY2hEYXRhOw0KICAgIA0KICAgIGZ1bmN0aW9uIGdldEVwb2NoRGF0YSggdWludCBlcG9jaEluZGV4LCB1aW50IG5vZGVJbmRleCApIGNvbnN0YW50IHJldHVybnModWludFszXSkgew0KICAgICAgICByZXR1cm4gW2Vwb2NoRGF0YVtlcG9jaEluZGV4XS5tZXJrbGVOb2Rlc1tub2RlSW5kZXhdLA0KICAgICAgICAgICAgICAgIGVwb2NoRGF0YVtlcG9jaEluZGV4XS5mdWxsU2l6ZUluMTI4UmVzdWx0aW9uLA0KICAgICAgICAgICAgICAgIGVwb2NoRGF0YVtlcG9jaEluZGV4XS5icmFuY2hEZXB0aF07DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGlzRXBvY2hEYXRhU2V0KCB1aW50IGVwb2NoSW5kZXggKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIGVwb2NoRGF0YVtlcG9jaEluZGV4XS5mdWxsU2l6ZUluMTI4UmVzdWx0aW9uICE9IDA7DQogICAgDQogICAgfQ0KICAgICAgICANCiAgICBldmVudCBTZXRFcG9jaERhdGEoIGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgZXJyb3IsIHVpbnQgZXJyb3JJbmZvICk7ICAgIA0KICAgIGZ1bmN0aW9uIHNldEVwb2NoRGF0YSggdWludCBlcG9jaCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgZnVsbFNpemVJbjEyOFJlc3VsdGlvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgYnJhbmNoRGVwdGgsDQogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50W10gbWVya2xlTm9kZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IHN0YXJ0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBudW1FbGVtcyApIHsNCg0KICAgICAgICBpZiggISBvd25lcnNbbXNnLnNlbmRlcl0gKSB7DQogICAgICAgICAgICAvL0Vycm9yTG9nKCAic2V0RXBvY2hEYXRhOiBvbmx5IG93bmVyIGNhbiBzZXQgZGF0YSIsIHVpbnQobXNnLnNlbmRlcikgKTsNCiAgICAgICAgICAgIFNldEVwb2NoRGF0YSggbXNnLnNlbmRlciwgMHg4MjAwMDAwMCwgdWludChtc2cuc2VuZGVyKSApOw0KICAgICAgICAgICAgcmV0dXJuOyAgICAgICAgDQogICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICBmb3IoIHVpbnQgaSA9IDAgOyBpIDwgbnVtRWxlbXMgOyBpKysgKSB7DQogICAgICAgICAgICBpZiggZXBvY2hEYXRhW2Vwb2NoXS5tZXJrbGVOb2Rlc1tzdGFydCtpXSA+IDAgKSB7DQogICAgICAgICAgICAgICAgLy9FcnJvckxvZygiZXBvY2ggYWxyZWFkeSBzZXQiLCBlcG9jaFtpXSk7DQogICAgICAgICAgICAgICAgU2V0RXBvY2hEYXRhKCBtc2cuc2VuZGVyLCAweDgyMDAwMDAxLCBlcG9jaCAqICgyKioxMjgpICsgc3RhcnQgKyBpICk7DQogICAgICAgICAgICAgICAgcmV0dXJuOyAgICAgICAgICAgIA0KDQogICAgICAgICAgICB9IA0KICAgICAgICAgICAgZXBvY2hEYXRhW2Vwb2NoXS5tZXJrbGVOb2Rlc1tzdGFydCtpXSA9IG1lcmtsZU5vZGVzW2ldOw0KICAgICAgICB9DQogICAgICAgIGVwb2NoRGF0YVtlcG9jaF0uZnVsbFNpemVJbjEyOFJlc3VsdGlvbiA9IGZ1bGxTaXplSW4xMjhSZXN1bHRpb247DQogICAgICAgIGVwb2NoRGF0YVtlcG9jaF0uYnJhbmNoRGVwdGggPSBicmFuY2hEZXB0aDsNCiAgICAgICAgDQogICAgICAgIFNldEVwb2NoRGF0YSggbXNnLnNlbmRlciwgMCAsIDAgKTsgICAgICAgIA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldE1lcmtsZUxlYXZlKCB1aW50IGVwb2NoSW5kZXgsIHVpbnQgcCApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgeyAgICAgICAgDQogICAgICAgIHVpbnQgcm9vdEluZGV4ID0gcCA+PiBlcG9jaERhdGFbZXBvY2hJbmRleF0uYnJhbmNoRGVwdGg7DQogICAgICAgIHVpbnQgZXhwZWN0ZWRSb290ID0gZXBvY2hEYXRhW2Vwb2NoSW5kZXhdLm1lcmtsZU5vZGVzWyhyb290SW5kZXgvMildOw0KICAgICAgICBpZiggKHJvb3RJbmRleCAlIDIpID09IDAgKSBleHBlY3RlZFJvb3QgPSBleHBlY3RlZFJvb3QgJiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOw0KICAgICAgICBlbHNlIGV4cGVjdGVkUm9vdCA9IGV4cGVjdGVkUm9vdCAvICgyKioxMjgpOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuIGV4cGVjdGVkUm9vdDsNCiAgICB9DQoNCg0KICAgIGZ1bmN0aW9uIGhhc2hpbW90byggYnl0ZXMzMiAgICAgIGhlYWRlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzOCAgICAgICBub25jZUxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdWludFtdICAgICAgIGRhdGFTZXRMb29rdXAsDQogICAgICAgICAgICAgICAgICAgICAgICB1aW50W10gICAgICAgd2l0bmVzc0Zvckxvb2t1cCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgICAgICAgICBlcG9jaEluZGV4ICkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgICANCiAgICAgICAgdWludFsxNl0gbWVtb3J5IHM7DQogICAgICAgIHVpbnRbMzJdIG1lbW9yeSBtaXg7DQogICAgICAgIHVpbnRbOF0gIG1lbW9yeSBjbWl4Ow0KICAgICAgICANCiAgICAgICAgdWludFsyXSAgbWVtb3J5IGRlcHRoQW5kRnVsbFNpemUgPSBbZXBvY2hEYXRhW2Vwb2NoSW5kZXhdLmJyYW5jaERlcHRoLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBvY2hEYXRhW2Vwb2NoSW5kZXhdLmZ1bGxTaXplSW4xMjhSZXN1bHRpb25dOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICB1aW50IGk7DQogICAgICAgIHVpbnQgajsNCiAgICAgICAgDQogICAgICAgIGlmKCAhIGlzRXBvY2hEYXRhU2V0KCBlcG9jaEluZGV4ICkgKSByZXR1cm4gMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFOw0KICAgICAgICANCiAgICAgICAgaWYoIGRlcHRoQW5kRnVsbFNpemVbMV0gPT0gMCApIHsNCiAgICAgICAgICAgIHJldHVybiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7DQogICAgICAgIH0NCg0KICAgICAgICANCiAgICAgICAgcyA9IGNvbXB1dGVTKHVpbnQoaGVhZGVyKSwgdWludChub25jZUxlKSk7DQogICAgICAgIGZvciggaSA9IDAgOyBpIDwgMTYgOyBpKysgKSB7ICAgICAgICAgICAgDQogICAgICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICAgICAgbGV0IG9mZnNldCA6PSBtdWwoaSwweDIwKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vbWl4W2ldID0gc1tpXTsNCiAgICAgICAgICAgICAgICBtc3RvcmUoYWRkKG1peCxvZmZzZXQpLG1sb2FkKGFkZChzLG9mZnNldCkpKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIG1peFtpKzE2XSA9IHNbaV07DQogICAgICAgICAgICAgICAgbXN0b3JlKGFkZChtaXgsYWRkKDB4MjAwLG9mZnNldCkpLG1sb2FkKGFkZChzLG9mZnNldCkpKSAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZvciggaSA9IDAgOyBpIDwgNjQgOyBpKysgKSB7DQogICAgICAgICAgICB1aW50IHAgPSBmbnYoIGkgXiBzWzBdLCBtaXhbaSAlIDMyXSkgJSBkZXB0aEFuZEZ1bGxTaXplWzFdOw0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmKCBjb21wdXRlQ2FjaGVSb290KCBwLCBpLCBkYXRhU2V0TG9va3VwLCAgd2l0bmVzc0Zvckxvb2t1cCwgZGVwdGhBbmRGdWxsU2l6ZVswXSApICAhPSBnZXRNZXJrbGVMZWF2ZSggZXBvY2hJbmRleCwgcCApICkgew0KICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gUG9XIGZhaWxlZA0KICAgICAgICAgICAgICAgIHJldHVybiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7DQogICAgICAgICAgICB9ICAgICAgIA0KDQogICAgICAgICAgICBmb3IoIGogPSAwIDsgaiA8IDggOyBqKysgKSB7DQoNCiAgICAgICAgICAgICAgICBhc3NlbWJseXsNCiAgICAgICAgICAgICAgICAgICAgLy9taXhbal0gPSBmbnYobWl4W2pdLCBkYXRhU2V0TG9va3VwWzQqaV0gJiB2YXJGRkZGRkZGRiApOw0KICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YU9mZnNldCA6PSBhZGQobXVsKDB4ODAsaSksYWRkKGRhdGFTZXRMb29rdXAsMHgyMCkpDQogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhVmFsdWUgICA6PSBhbmQobWxvYWQoZGF0YU9mZnNldCksMHhGRkZGRkZGRikNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGxldCBtaXhPZmZzZXQgOj0gYWRkKG1peCxtdWwoMHgyMCxqKSkNCiAgICAgICAgICAgICAgICAgICAgbGV0IG1peFZhbHVlICA6PSBtbG9hZChtaXhPZmZzZXQpDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAvLyBmbnYgPSByZXR1cm4gKCh2MSoweDAxMDAwMTkzKSBeIHYyKSAmIDB4RkZGRkZGRkY7DQogICAgICAgICAgICAgICAgICAgIGxldCBmbnZWYWx1ZSA6PSBhbmQoeG9yKG11bChtaXhWYWx1ZSwweDAxMDAwMTkzKSxkYXRhVmFsdWUpLDB4RkZGRkZGRkYpICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgbXN0b3JlKG1peE9mZnNldCxmbnZWYWx1ZSkNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vbWl4W2orOF0gPSBmbnYobWl4W2orOF0sIGRhdGFTZXRMb29rdXBbNCppICsgMV0gJiAweEZGRkZGRkZGICk7DQogICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgOj0gYWRkKGRhdGFPZmZzZXQsMHgyMCkNCiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlICAgOj0gYW5kKG1sb2FkKGRhdGFPZmZzZXQpLDB4RkZGRkZGRkYpDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBtaXhPZmZzZXQgOj0gYWRkKG1peE9mZnNldCwweDEwMCkNCiAgICAgICAgICAgICAgICAgICAgbWl4VmFsdWUgIDo9IG1sb2FkKG1peE9mZnNldCkNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vIGZudiA9IHJldHVybiAoKHYxKjB4MDEwMDAxOTMpIF4gdjIpICYgMHhGRkZGRkZGRjsNCiAgICAgICAgICAgICAgICAgICAgZm52VmFsdWUgOj0gYW5kKHhvcihtdWwobWl4VmFsdWUsMHgwMTAwMDE5MyksZGF0YVZhbHVlKSwweEZGRkZGRkZGKSAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIG1zdG9yZShtaXhPZmZzZXQsZm52VmFsdWUpDQoNCiAgICAgICAgICAgICAgICAgICAgLy9taXhbaisxNl0gPSBmbnYobWl4W2orMTZdLCBkYXRhU2V0TG9va3VwWzQqaSArIDJdICYgMHhGRkZGRkZGRiApOw0KICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0IDo9IGFkZChkYXRhT2Zmc2V0LDB4MjApDQogICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZSAgIDo9IGFuZChtbG9hZChkYXRhT2Zmc2V0KSwweEZGRkZGRkZGKQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgbWl4T2Zmc2V0IDo9IGFkZChtaXhPZmZzZXQsMHgxMDApDQogICAgICAgICAgICAgICAgICAgIG1peFZhbHVlICA6PSBtbG9hZChtaXhPZmZzZXQpDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAvLyBmbnYgPSByZXR1cm4gKCh2MSoweDAxMDAwMTkzKSBeIHYyKSAmIDB4RkZGRkZGRkY7DQogICAgICAgICAgICAgICAgICAgIGZudlZhbHVlIDo9IGFuZCh4b3IobXVsKG1peFZhbHVlLDB4MDEwMDAxOTMpLGRhdGFWYWx1ZSksMHhGRkZGRkZGRikgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBtc3RvcmUobWl4T2Zmc2V0LGZudlZhbHVlKQ0KDQogICAgICAgICAgICAgICAgICAgIC8vbWl4W2orMjRdID0gZm52KG1peFtqKzI0XSwgZGF0YVNldExvb2t1cFs0KmkgKyAzXSAmIDB4RkZGRkZGRkYgKTsNCiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCA6PSBhZGQoZGF0YU9mZnNldCwweDIwKQ0KICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWUgICA6PSBhbmQobWxvYWQoZGF0YU9mZnNldCksMHhGRkZGRkZGRikNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIG1peE9mZnNldCA6PSBhZGQobWl4T2Zmc2V0LDB4MTAwKQ0KICAgICAgICAgICAgICAgICAgICBtaXhWYWx1ZSAgOj0gbWxvYWQobWl4T2Zmc2V0KQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgLy8gZm52ID0gcmV0dXJuICgodjEqMHgwMTAwMDE5MykgXiB2MikgJiAweEZGRkZGRkZGOw0KICAgICAgICAgICAgICAgICAgICBmbnZWYWx1ZSA6PSBhbmQoeG9yKG11bChtaXhWYWx1ZSwweDAxMDAwMTkzKSxkYXRhVmFsdWUpLDB4RkZGRkZGRkYpICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgbXN0b3JlKG1peE9mZnNldCxmbnZWYWx1ZSkgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vbWl4W2pdID0gZm52KG1peFtqXSwgZGF0YVNldExvb2t1cFs0KmldICYgMHhGRkZGRkZGRiApOw0KICAgICAgICAgICAgICAgIC8vbWl4W2orOF0gPSBmbnYobWl4W2orOF0sIGRhdGFTZXRMb29rdXBbNCppICsgMV0gJiAweEZGRkZGRkZGICk7DQogICAgICAgICAgICAgICAgLy9taXhbaisxNl0gPSBmbnYobWl4W2orMTZdLCBkYXRhU2V0TG9va3VwWzQqaSArIDJdICYgMHhGRkZGRkZGRiApOyAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvL21peFtqKzI0XSA9IGZudihtaXhbaisyNF0sIGRhdGFTZXRMb29rdXBbNCppICsgM10gJiAweEZGRkZGRkZGICk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy9kYXRhU2V0TG9va3VwWzQqaSAgICBdID0gZGF0YVNldExvb2t1cFs0KmkgICAgXS8oMioqMzIpOw0KICAgICAgICAgICAgICAgIC8vZGF0YVNldExvb2t1cFs0KmkgKyAxXSA9IGRhdGFTZXRMb29rdXBbNCppICsgMV0vKDIqKjMyKTsNCiAgICAgICAgICAgICAgICAvL2RhdGFTZXRMb29rdXBbNCppICsgMl0gPSBkYXRhU2V0TG9va3VwWzQqaSArIDJdLygyKiozMik7DQogICAgICAgICAgICAgICAgLy9kYXRhU2V0TG9va3VwWzQqaSArIDNdID0gZGF0YVNldExvb2t1cFs0KmkgKyAzXS8oMioqMzIpOyAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBhc3NlbWJseXsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG9mZnNldCA6PSBhZGQoYWRkKGRhdGFTZXRMb29rdXAsMHgyMCksbXVsKGksMHg4MCkpDQogICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSAgOj0gZGl2KG1sb2FkKG9mZnNldCksMHgxMDAwMDAwMDApDQogICAgICAgICAgICAgICAgICAgIG1zdG9yZShvZmZzZXQsdmFsdWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0IDo9IGFkZChvZmZzZXQsMHgyMCkNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgIDo9IGRpdihtbG9hZChvZmZzZXQpLDB4MTAwMDAwMDAwKQ0KICAgICAgICAgICAgICAgICAgICBtc3RvcmUob2Zmc2V0LHZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0IDo9IGFkZChvZmZzZXQsMHgyMCkNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgIDo9IGRpdihtbG9hZChvZmZzZXQpLDB4MTAwMDAwMDAwKQ0KICAgICAgICAgICAgICAgICAgICBtc3RvcmUob2Zmc2V0LHZhbHVlKSAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBvZmZzZXQgOj0gYWRkKG9mZnNldCwweDIwKQ0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSAgOj0gZGl2KG1sb2FkKG9mZnNldCksMHgxMDAwMDAwMDApDQogICAgICAgICAgICAgICAgICAgIG1zdG9yZShvZmZzZXQsdmFsdWUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgZm9yKCBpID0gMCA7IGkgPCAzMiA7IGkgKz0gNCkgew0KICAgICAgICAgICAgY21peFtpLzRdID0gKGZudihmbnYoZm52KG1peFtpXSwgbWl4W2krMV0pLCBtaXhbaSsyXSksIG1peFtpKzNdKSk7DQogICAgICAgIH0NCiAgICAgICAgDQoNCiAgICAgICAgdWludCByZXN1bHQgPSBjb21wdXRlU2hhMyhzLGNtaXgpOyANCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICANCiAgICB9DQp9'