base 64 content
base64etherGame
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgRXRoZXJHYW1lIA0Kew0KICAgIGFkZHJlc3MgT3duZXI7DQogICAgdWludCBwdWJsaWMgUmVnQ29zdDsNCiAgICB1aW50IHB1YmxpYyBGaXJzdExldmVsQ29zdDsNCiAgICB1aW50IHB1YmxpYyBTZWNvbmRMZXZlbENvc3Q7DQogICAgdWludCBwdWJsaWMgUGFyZW50RmVlOw0KICAgIA0KICAgIHN0cnVjdCB1c2VyDQogICAgew0KICAgICAgICBhZGRyZXNzIHBhcmVudDsNCiAgICAgICAgdWludDggbGV2ZWw7DQogICAgfQ0KICAgIA0KICAgIGFkZHJlc3NbXSBMaXN0T2ZVc2VyczsNCiAgICBtYXBwaW5nKGFkZHJlc3M9PnVzZXIpIHB1YmxpYyBVc2VyczsNCiAgICANCiAgICBldmVudCBuZXd1c2VyKGFkZHJlc3MgVXNlciwgYWRkcmVzcyBQYXJlbnQpOw0KICAgIGV2ZW50IGxldmVsdXAoYWRkcmVzcyBVc2VyLCB1aW50IExldmVsKTsNCiAgICANCiAgICBtb2RpZmllciBPbmx5T3duZXIoKSANCiAgICB7DQogICAgICAgIGlmKG1zZy5zZW5kZXIgPT0gT3duZXIpIA0KICAgICAgICBfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBFdGhlckdhbWUoKQ0KICAgIHsNCiAgICAgICAgT3duZXIgPSBtc2cuc2VuZGVyOw0KICAgICAgICBSZWdDb3N0ID0gMCBldGhlcjsNCiAgICAgICAgRmlyc3RMZXZlbENvc3QgPSAwIGV0aGVyOw0KICAgICAgICBTZWNvbmRMZXZlbENvc3QgPSAwIGV0aGVyOw0KICAgICAgICBQYXJlbnRGZWUgPSAyNTA7DQogICAgICAgIFVzZXJzW2FkZHJlc3ModGhpcyldLnBhcmVudCA9IGFkZHJlc3ModGhpcyk7DQogICAgICAgIFVzZXJzW2FkZHJlc3ModGhpcyldLmxldmVsID0gMjAwOw0KICAgICAgICBMaXN0T2ZVc2Vycy5wdXNoKGFkZHJlc3ModGhpcykpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7fQ0KICAgIA0KICAgIGZ1bmN0aW9uIE5ld1VzZXIoKSBwYXlhYmxlDQogICAgew0KICAgICAgICBpZihtc2cudmFsdWUgPCBSZWdDb3N0IHx8IFVzZXJzW21zZy5zZW5kZXJdLnBhcmVudCAhPSAwKSANCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICBVc2Vyc1ttc2cuc2VuZGVyXS5wYXJlbnQgPSBhZGRyZXNzKHRoaXMpOw0KICAgICAgICBMaXN0T2ZVc2Vycy5wdXNoKG1zZy5zZW5kZXIpOw0KICAgICAgICBuZXd1c2VyKG1zZy5zZW5kZXIsIGFkZHJlc3ModGhpcykpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBOZXdVc2VyKGFkZHJlc3MgYWRkcikgcGF5YWJsZQ0KICAgIHsNCiAgICAgICAgaWYobXNnLnZhbHVlIDwgUmVnQ29zdCB8fCBVc2Vyc1ttc2cuc2VuZGVyXS5wYXJlbnQgIT0gMCB8fCBVc2Vyc1thZGRyXS5wYXJlbnQgPT0gMCkNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICBpZihhZGRyICE9IGFkZHJlc3ModGhpcykpDQogICAgICAgICAgICBhZGRyLnRyYW5zZmVyKFJlZ0Nvc3QpOw0KICAgICAgICBVc2Vyc1ttc2cuc2VuZGVyXS5wYXJlbnQgPSBhZGRyOw0KICAgICAgICBMaXN0T2ZVc2Vycy5wdXNoKG1zZy5zZW5kZXIpOw0KICAgICAgICBuZXd1c2VyKG1zZy5zZW5kZXIsIGFkZHIpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBCdXlMZXZlbCgpIHBheWFibGUNCiAgICB7DQogICAgICAgIHVpbnQgUHJpY2U7DQogICAgICAgIGlmKFVzZXJzW21zZy5zZW5kZXJdLmxldmVsID09IDApDQogICAgICAgICAgICBQcmljZSA9IEZpcnN0TGV2ZWxDb3N0Ow0KICAgICAgICBlbHNlDQogICAgICAgICAgICBQcmljZSA9IHVpbnQoOCkqKlVzZXJzW21zZy5zZW5kZXJdLmxldmVsKlNlY29uZExldmVsQ29zdC91aW50KDUpKipVc2Vyc1ttc2cuc2VuZGVyXS5sZXZlbCoyOw0KICAgICAgICBpZihtc2cudmFsdWUgPCBQcmljZSB8fCBVc2Vyc1ttc2cuc2VuZGVyXS5wYXJlbnQgPT0gMCkNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICBhZGRyZXNzIFRvVHJhbnNmZXIgPSBVc2Vyc1ttc2cuc2VuZGVyXS5wYXJlbnQ7DQogICAgICAgIHVpbnQgTGV2ZWwgPSBVc2Vyc1ttc2cuc2VuZGVyXS5sZXZlbCArIDE7DQogICAgICAgIHdoaWxlKFVzZXJzW1RvVHJhbnNmZXJdLmxldmVsIDwgTGV2ZWwpDQogICAgICAgICAgICBUb1RyYW5zZmVyID0gVXNlcnNbVG9UcmFuc2Zlcl0ucGFyZW50Ow0KICAgICAgICBpZihUb1RyYW5zZmVyICE9IGFkZHJlc3ModGhpcykpDQogICAgICAgIHsNCiAgICAgICAgICAgIFRvVHJhbnNmZXIudHJhbnNmZXIoUHJpY2UvMTAwMCooMTAwMC1QYXJlbnRGZWUpKTsNCiAgICAgICAgICAgIFRvVHJhbnNmZXIgPSBVc2Vyc1tUb1RyYW5zZmVyXS5wYXJlbnQ7DQogICAgICAgICAgICBpZihUb1RyYW5zZmVyICE9IGFkZHJlc3ModGhpcykgJiYgUGFyZW50RmVlICE9IDApDQogICAgICAgICAgICAgICAgVG9UcmFuc2Zlci50cmFuc2ZlcihQcmljZS8xMDAwKlBhcmVudEZlZSk7DQogICAgICAgIH0NCiAgICAgICAgVXNlcnNbbXNnLnNlbmRlcl0ubGV2ZWwrKzsNCiAgICAgICAgbGV2ZWx1cChtc2cuc2VuZGVyLCBMZXZlbCk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIFRha2VNb25leSgpIE9ubHlPd25lcg0KICAgIHsNCiAgICAgICAgT3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gQ2hhbmdlT3duZXIoYWRkcmVzcyBOZXdPd25lcikgT25seU93bmVyDQogICAgew0KICAgICAgICBPd25lciA9IE5ld093bmVyOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBDaGFuZ2VSdWxlcyh1aW50IE5ld1JlZ0Nvc3QsIHVpbnQgTmV3Rmlyc0xldmVsQ29zdCwgdWludCBOZXdTZWNvbmRMZXZlbENvc3QsIHVpbnQgTmV3UGFyZW50RmVlKSBPbmx5T3duZXINCiAgICB7DQogICAgICAgIFBhcmVudEZlZSA9IE5ld1BhcmVudEZlZTsNCiAgICAgICAgRmlyc3RMZXZlbENvc3QgPSBOZXdGaXJzTGV2ZWxDb3N0Ow0KICAgICAgICBTZWNvbmRMZXZlbENvc3QgPSBOZXdTZWNvbmRMZXZlbENvc3Q7DQogICAgICAgIFJlZ0Nvc3QgPSBOZXdSZWdDb3N0Ow0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBLaWxsKCkgT25seU93bmVyDQogICAgew0KICAgICAgICBzZWxmZGVzdHJ1Y3QoT3duZXIpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFVzZXJzTnVtYmVyKCkgY29uc3RhbnQgcmV0dXJucyh1aW50KQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIExpc3RPZlVzZXJzLmxlbmd0aDsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gVXNlcnNMaXN0KCkgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzW10pDQogICAgew0KICAgICAgICByZXR1cm4gTGlzdE9mVXNlcnM7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gTWF4Q2hpbGRMZXZlbChhZGRyZXNzIGFkZHIpIGNvbnN0YW50IHJldHVybnModWludCkNCiAgICB7DQogICAgICAgIHVpbnQgTWF4TGV2ZWwgPSAwOw0KICAgICAgICB1aW50IExldmVsOw0KICAgICAgICBhZGRyZXNzIGNoaWxkOw0KICAgICAgICBmb3IodWludCBpPTA7aTxMaXN0T2ZVc2Vycy5sZW5ndGg7aSsrKQ0KICAgICAgICB7DQogICAgICAgICAgICBjaGlsZCA9IExpc3RPZlVzZXJzW2ldOw0KICAgICAgICAgICAgTGV2ZWwgPSBVc2Vyc1tjaGlsZF0ubGV2ZWw7DQogICAgICAgICAgICB3aGlsZShjaGlsZCAhPSBhZGRyZXNzKHRoaXMpICYmIFVzZXJzW2NoaWxkXS5wYXJlbnQgIT0gYWRkcikNCiAgICAgICAgICAgICAgICBjaGlsZCA9IFVzZXJzW2NoaWxkXS5wYXJlbnQ7DQogICAgICAgICAgICBpZihjaGlsZCAhPSBhZGRyZXNzKHRoaXMpICYmIExldmVsID4gTWF4TGV2ZWwpDQogICAgICAgICAgICAgICAgTWF4TGV2ZWwgPSBMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gTWF4TGV2ZWw7DQogICAgfQ0KICAgIA0KfQ=='