base 64 content
base64etheramid
	^'Y29udHJhY3QgRXRoZXJhbWlkIHsNCg0KICAgIHN0cnVjdCBQYXJ0aWNpcGFudCB7DQogICAgICAgIGFkZHJlc3MgaW52aXRlcjsNCiAgICAgICAgYWRkcmVzcyBpdHNlbGY7DQogICAgICAgIHVpbnQgdG90YWxQYXlvdXQ7DQogICAgfQ0KICAgIA0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gUGFydGljaXBhbnQpIFRyZWU7DQogICAgbWFwcGluZyAodWludCA9PiBhZGRyZXNzKSBJbmRleDsNCgkNCgl1aW50IENvdW50ID0gMDsNCiAgICBhZGRyZXNzIHRvcDsNCiAgICB1aW50IGNvbnN0YW50IGNvbnRyaWJ1dGlvbiA9IDEgZXRoZXI7DQogDQogICAgZnVuY3Rpb24gRXRoZXJhbWlkKCkgew0KICAgICAgICBhZGRQYXJ0aWNpcGFudChtc2cuc2VuZGVyLG1zZy5zZW5kZXIpOw0KICAgICAgICB0b3AgPSBtc2cuc2VuZGVyOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbigpIHsNCgkJdWludCByYW5kID0gdWludChtc2cuc2VuZGVyKSAlIENvdW50Ow0KICAgICAgICBlbnRlcihJbmRleFtyYW5kXSk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGdldFBhcnRpY2lwYW50QnlJZCAodWludCBpZCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKCBhZGRyZXNzIGludml0ZXIsIGFkZHJlc3MgaXRzZWxmLCB1aW50IHRvdGFsUGF5b3V0ICl7DQoJCWlmIChpZCA+PSBDb3VudCkgcmV0dXJuOw0KCQlhZGRyZXNzIGlkYSA9IEluZGV4W2lkXTsNCiAgICAgICAgaW52aXRlciA9IFRyZWVbaWRhXS5pbnZpdGVyOw0KICAgICAgICBpdHNlbGYgPSBUcmVlW2lkYV0uaXRzZWxmOw0KICAgICAgICB0b3RhbFBheW91dCA9IFRyZWVbaWRhXS50b3RhbFBheW91dDsNCiAgICB9DQoJZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRCeUFkZHJlc3MgKGFkZHJlc3MgYWRyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAoIGFkZHJlc3MgaW52aXRlciwgYWRkcmVzcyBpdHNlbGYsIHVpbnQgdG90YWxQYXlvdXQgKXsNCgkJaWYgKFRyZWVbYWRyXS5pdHNlbGYgPT0gMHgwKSByZXR1cm47DQogICAgICAgIGludml0ZXIgPSBUcmVlW2Fkcl0uaW52aXRlcjsNCiAgICAgICAgaXRzZWxmID0gVHJlZVthZHJdLml0c2VsZjsNCiAgICAgICAgdG90YWxQYXlvdXQgPSBUcmVlW2Fkcl0udG90YWxQYXlvdXQ7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGFkZFBhcnRpY2lwYW50KGFkZHJlc3MgaXRzZWxmLCBhZGRyZXNzIGludml0ZXIpIHByaXZhdGV7DQogICAgICAgIEluZGV4W0NvdW50XSA9IGl0c2VsZjsNCgkJVHJlZVtpdHNlbGZdID0gUGFydGljaXBhbnQoIHtpdHNlbGY6IGl0c2VsZiwgaW52aXRlcjogaW52aXRlciwgdG90YWxQYXlvdXQ6IDB9KTsNCiAgICAgICAgQ291bnQgKz0xOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBnZXRQYXJ0aWNpcGFudENvdW50ICgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICggdWludCBjb3VudCApew0KICAgICAgIGNvdW50ID0gQ291bnQ7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGVudGVyKGFkZHJlc3MgaW52aXRlcikgcHVibGljIHsNCiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWU7DQogICAgICAgIGlmICgoYW1vdW50IDwgY29udHJpYnV0aW9uKSB8fCAoVHJlZVttc2cuc2VuZGVyXS5pbnZpdGVyICE9IDB4MCkgfHwgKFRyZWVbaW52aXRlcl0uaW52aXRlciA9PSAweDApKSB7DQogICAgICAgICAgICBtc2cuc2VuZGVyLnNlbmQobXNnLnZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgYWRkUGFydGljaXBhbnQobXNnLnNlbmRlciwgaW52aXRlcik7DQogICAgICAgIGFkZHJlc3MgbmV4dCA9IGludml0ZXI7DQogICAgICAgIHVpbnQgcmVzdCA9IGFtb3VudDsNCiAgICAgICAgdWludCBsZXZlbCA9IDE7DQogICAgICAgIHdoaWxlICggKG5leHQgIT0gdG9wKSAmJiAobGV2ZWwgPCA3KSApew0KICAgICAgICAgICAgdWludCB0b1NlbmQgPSByZXN0LzI7DQogICAgICAgICAgICBuZXh0LnNlbmQodG9TZW5kKTsNCiAgICAgICAgICAgIFRyZWVbbmV4dF0udG90YWxQYXlvdXQgKz0gdG9TZW5kOw0KICAgICAgICAgICAgcmVzdCAtPSB0b1NlbmQ7DQogICAgICAgICAgICBuZXh0ID0gVHJlZVtuZXh0XS5pbnZpdGVyOw0KICAgICAgICAgICAgbGV2ZWwrKzsNCiAgICAgICAgfQ0KICAgICAgICBuZXh0LnNlbmQocmVzdCk7DQoJCVRyZWVbbmV4dF0udG90YWxQYXlvdXQgKz0gcmVzdDsNCiAgICB9DQp9'