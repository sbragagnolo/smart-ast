base 64 content
base64expiringMarket
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQovLy8gYXV0aC5zb2wgLS0gd2lkZWx5LXVzZWQgYWNjZXNzIGNvbnRyb2wgcGF0dGVybiBmb3IgRXRoZXJldW0NCg0KLy8gQ29weXJpZ2h0IChDKSAyMDE1LCAyMDE2LCAyMDE3ICBOZXh1cyBEZXZlbG9wbWVudCwgTExDDQoNCi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpLg0KLy8gWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KDQovLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQovLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQgKGV4cHJlc3Mgb3IgaW1wbGllZCkuDQoNCmNvbnRyYWN0IERTQXV0aG9yaXR5IHsNCiAgICBmdW5jdGlvbiBjYW5DYWxsKA0KICAgICAgICBhZGRyZXNzIHNyYywgYWRkcmVzcyBkc3QsIGJ5dGVzNCBzaWcNCiAgICApIGNvbnN0YW50IHJldHVybnMgKGJvb2wpOw0KfQ0KDQpjb250cmFjdCBEU0F1dGhFdmVudHMgew0KICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7DQogICAgZXZlbnQgTG9nU2V0T3duZXIgICAgIChhZGRyZXNzIGluZGV4ZWQgb3duZXIpOw0KfQ0KDQpjb250cmFjdCBEU0F1dGggaXMgRFNBdXRoRXZlbnRzIHsNCiAgICBEU0F1dGhvcml0eSAgcHVibGljICBhdXRob3JpdHk7DQogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7DQoNCiAgICBmdW5jdGlvbiBEU0F1dGgoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICAgICAgTG9nU2V0T3duZXIobXNnLnNlbmRlcik7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBvd25lcl8pDQogICAgICAgIGF1dGgNCiAgICB7DQogICAgICAgIG93bmVyID0gb3duZXJfOw0KICAgICAgICBMb2dTZXRPd25lcihvd25lcik7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0QXV0aG9yaXR5KERTQXV0aG9yaXR5IGF1dGhvcml0eV8pDQogICAgICAgIGF1dGgNCiAgICB7DQogICAgICAgIGF1dGhvcml0eSA9IGF1dGhvcml0eV87DQogICAgICAgIExvZ1NldEF1dGhvcml0eShhdXRob3JpdHkpOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGF1dGggew0KICAgICAgICBhc3NlcnQoaXNBdXRob3JpemVkKG1zZy5zZW5kZXIsIG1zZy5zaWcpKTsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBhdXRob3JpemVkKGJ5dGVzNCBzaWcpIHsNCiAgICAgICAgYXNzZXJ0KGlzQXV0aG9yaXplZChtc2cuc2VuZGVyLCBzaWcpKTsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgaWYgKHNyYyA9PSBvd25lcikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSBpZiAoYXV0aG9yaXR5ID09IERTQXV0aG9yaXR5KDApKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gYXV0aG9yaXR5LmNhbkNhbGwoc3JjLCB0aGlzLCBzaWcpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgeCkgaW50ZXJuYWwgew0KICAgICAgICBpZiAoIXgpIHRocm93Ow0KICAgIH0NCn0NCg0KY29udHJhY3QgRVJDMjAgew0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpOw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZiggYWRkcmVzcyB3aG8gKSBjb25zdGFudCByZXR1cm5zICh1aW50IHZhbHVlKTsNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoIGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlciApIGNvbnN0YW50IHJldHVybnMgKHVpbnQgX2FsbG93YW5jZSk7DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlciggYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOw0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoIGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSApIHJldHVybnMgKGJvb2wgb2spOw0KDQogICAgZXZlbnQgVHJhbnNmZXIoIGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsNCn0NCg0KY29udHJhY3QgRXZlbnRmdWxNYXJrZXQgew0KICAgIGV2ZW50IEl0ZW1VcGRhdGUoIHVpbnQgaWQgKTsNCiAgICBldmVudCBUcmFkZSggdWludCBzZWxsX2hvd19tdWNoLCBhZGRyZXNzIGluZGV4ZWQgc2VsbF93aGljaF90b2tlbiwNCiAgICAgICAgICAgICAgICAgdWludCBidXlfaG93X211Y2gsIGFkZHJlc3MgaW5kZXhlZCBidXlfd2hpY2hfdG9rZW4gKTsNCg0KICAgIGV2ZW50IExvZ01ha2UoDQogICAgICAgIGJ5dGVzMzIgIGluZGV4ZWQgIGlkLA0KICAgICAgICBieXRlczMyICBpbmRleGVkICBwYWlyLA0KICAgICAgICBhZGRyZXNzICBpbmRleGVkICBtYWtlciwNCiAgICAgICAgRVJDMjAgICAgICAgICAgICAgaGF2ZVRva2VuLA0KICAgICAgICBFUkMyMCAgICAgICAgICAgICB3YW50VG9rZW4sDQogICAgICAgIHVpbnQxMjggICAgICAgICAgIGhhdmVBbW91bnQsDQogICAgICAgIHVpbnQxMjggICAgICAgICAgIHdhbnRBbW91bnQsDQogICAgICAgIHVpbnQ2NCAgICAgICAgICAgIHRpbWVzdGFtcA0KICAgICk7DQoNCiAgICBldmVudCBMb2dCdW1wKA0KICAgICAgICBieXRlczMyICBpbmRleGVkICBpZCwNCiAgICAgICAgYnl0ZXMzMiAgaW5kZXhlZCAgcGFpciwNCiAgICAgICAgYWRkcmVzcyAgaW5kZXhlZCAgbWFrZXIsDQogICAgICAgIEVSQzIwICAgICAgICAgICAgIGhhdmVUb2tlbiwNCiAgICAgICAgRVJDMjAgICAgICAgICAgICAgd2FudFRva2VuLA0KICAgICAgICB1aW50MTI4ICAgICAgICAgICBoYXZlQW1vdW50LA0KICAgICAgICB1aW50MTI4ICAgICAgICAgICB3YW50QW1vdW50LA0KICAgICAgICB1aW50NjQgICAgICAgICAgICB0aW1lc3RhbXANCiAgICApOw0KDQogICAgZXZlbnQgTG9nVGFrZSgNCiAgICAgICAgYnl0ZXMzMiAgICAgICAgICAgaWQsDQogICAgICAgIGJ5dGVzMzIgIGluZGV4ZWQgIHBhaXIsDQogICAgICAgIGFkZHJlc3MgIGluZGV4ZWQgIG1ha2VyLA0KICAgICAgICBFUkMyMCAgICAgICAgICAgICBoYXZlVG9rZW4sDQogICAgICAgIEVSQzIwICAgICAgICAgICAgIHdhbnRUb2tlbiwNCiAgICAgICAgYWRkcmVzcyAgaW5kZXhlZCAgdGFrZXIsDQogICAgICAgIHVpbnQxMjggICAgICAgICAgIHRha2VBbW91bnQsDQogICAgICAgIHVpbnQxMjggICAgICAgICAgIGdpdmVBbW91bnQsDQogICAgICAgIHVpbnQ2NCAgICAgICAgICAgIHRpbWVzdGFtcA0KICAgICk7DQoNCiAgICBldmVudCBMb2dLaWxsKA0KICAgICAgICBieXRlczMyICBpbmRleGVkICBpZCwNCiAgICAgICAgYnl0ZXMzMiAgaW5kZXhlZCAgcGFpciwNCiAgICAgICAgYWRkcmVzcyAgaW5kZXhlZCAgbWFrZXIsDQogICAgICAgIEVSQzIwICAgICAgICAgICAgIGhhdmVUb2tlbiwNCiAgICAgICAgRVJDMjAgICAgICAgICAgICAgd2FudFRva2VuLA0KICAgICAgICB1aW50MTI4ICAgICAgICAgICBoYXZlQW1vdW50LA0KICAgICAgICB1aW50MTI4ICAgICAgICAgICB3YW50QW1vdW50LA0KICAgICAgICB1aW50NjQgICAgICAgICAgICB0aW1lc3RhbXANCiAgICApOw0KfQ0KDQpjb250cmFjdCBTaW1wbGVNYXJrZXQgaXMgRXZlbnRmdWxNYXJrZXQgew0KICAgIGJvb2wgbG9ja2VkOw0KDQogICAgbW9kaWZpZXIgc3luY2hyb25pemVkIHsNCiAgICAgICAgYXNzZXJ0KCFsb2NrZWQpOw0KICAgICAgICBsb2NrZWQgPSB0cnVlOw0KICAgICAgICBfOw0KICAgICAgICBsb2NrZWQgPSBmYWxzZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhc3NlcnQoYm9vbCB4KSBpbnRlcm5hbCB7DQogICAgICAgIGlmICgheCkgdGhyb3c7DQogICAgfQ0KDQogICAgc3RydWN0IE9mZmVySW5mbyB7DQogICAgICAgIHVpbnQgICAgIHNlbGxfaG93X211Y2g7DQogICAgICAgIEVSQzIwICAgIHNlbGxfd2hpY2hfdG9rZW47DQogICAgICAgIHVpbnQgICAgIGJ1eV9ob3dfbXVjaDsNCiAgICAgICAgRVJDMjAgICAgYnV5X3doaWNoX3Rva2VuOw0KICAgICAgICBhZGRyZXNzICBvd25lcjsNCiAgICAgICAgYm9vbCAgICAgYWN0aXZlOw0KICAgICAgICB1aW50NjQgICB0aW1lc3RhbXA7DQogICAgfQ0KDQogICAgbWFwcGluZyAodWludCA9PiBPZmZlckluZm8pIHB1YmxpYyBvZmZlcnM7DQoNCiAgICB1aW50IHB1YmxpYyBsYXN0X29mZmVyX2lkOw0KDQogICAgZnVuY3Rpb24gbmV4dF9pZCgpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgbGFzdF9vZmZlcl9pZCsrOyByZXR1cm4gbGFzdF9vZmZlcl9pZDsNCiAgICB9DQoNCiAgICBtb2RpZmllciBjYW5fb2ZmZXIgew0KICAgICAgICBfOw0KICAgIH0NCiAgICBtb2RpZmllciBjYW5fYnV5KHVpbnQgaWQpIHsNCiAgICAgICAgYXNzZXJ0KGlzQWN0aXZlKGlkKSk7DQogICAgICAgIF87DQogICAgfQ0KICAgIG1vZGlmaWVyIGNhbl9jYW5jZWwodWludCBpZCkgew0KICAgICAgICBhc3NlcnQoaXNBY3RpdmUoaWQpKTsNCiAgICAgICAgYXNzZXJ0KGdldE93bmVyKGlkKSA9PSBtc2cuc2VuZGVyKTsNCiAgICAgICAgXzsNCiAgICB9DQogICAgZnVuY3Rpb24gaXNBY3RpdmUodWludCBpZCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBhY3RpdmUpIHsNCiAgICAgICAgcmV0dXJuIG9mZmVyc1tpZF0uYWN0aXZlOw0KICAgIH0NCiAgICBmdW5jdGlvbiBnZXRPd25lcih1aW50IGlkKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzIG93bmVyKSB7DQogICAgICAgIHJldHVybiBvZmZlcnNbaWRdLm93bmVyOw0KICAgIH0NCiAgICBmdW5jdGlvbiBnZXRPZmZlciggdWludCBpZCApIGNvbnN0YW50IHJldHVybnMgKHVpbnQsIEVSQzIwLCB1aW50LCBFUkMyMCkgew0KICAgICAgdmFyIG9mZmVyID0gb2ZmZXJzW2lkXTsNCiAgICAgIHJldHVybiAob2ZmZXIuc2VsbF9ob3dfbXVjaCwgb2ZmZXIuc2VsbF93aGljaF90b2tlbiwNCiAgICAgICAgICAgICAgb2ZmZXIuYnV5X2hvd19tdWNoLCBvZmZlci5idXlfd2hpY2hfdG9rZW4pOw0KICAgIH0NCg0KICAgIC8vIG5vbiB1bmRlcmZsb3dpbmcgc3VidHJhY3Rpb24NCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIGFzc2VydChiIDw9IGEpOw0KICAgICAgICByZXR1cm4gYSAtIGI7DQogICAgfQ0KICAgIC8vIG5vbiBvdmVyZmxvd2luZyBtdWx0aXBsaWNhdGlvbg0KICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQgYykgew0KICAgICAgICBjID0gYSAqIGI7DQogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhZGUoIGFkZHJlc3Mgc2VsbGVyLCB1aW50IHNlbGxfaG93X211Y2gsIEVSQzIwIHNlbGxfd2hpY2hfdG9rZW4sDQogICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgYnV5ZXIsICB1aW50IGJ1eV9ob3dfbXVjaCwgIEVSQzIwIGJ1eV93aGljaF90b2tlbiApDQogICAgICAgIGludGVybmFsDQogICAgew0KICAgICAgICB2YXIgc2VsbGVyX3BhaWRfb3V0ID0gYnV5X3doaWNoX3Rva2VuLnRyYW5zZmVyRnJvbSggYnV5ZXIsIHNlbGxlciwgYnV5X2hvd19tdWNoICk7DQogICAgICAgIGFzc2VydChzZWxsZXJfcGFpZF9vdXQpOw0KICAgICAgICB2YXIgYnV5ZXJfcGFpZF9vdXQgPSBzZWxsX3doaWNoX3Rva2VuLnRyYW5zZmVyKCBidXllciwgc2VsbF9ob3dfbXVjaCApOw0KICAgICAgICBhc3NlcnQoYnV5ZXJfcGFpZF9vdXQpOw0KICAgICAgICBUcmFkZSggc2VsbF9ob3dfbXVjaCwgc2VsbF93aGljaF90b2tlbiwgYnV5X2hvd19tdWNoLCBidXlfd2hpY2hfdG9rZW4gKTsNCiAgICB9DQoNCiAgICAvLyAtLS0tIFB1YmxpYyBlbnRyeXBvaW50cyAtLS0tIC8vDQoNCiAgICBmdW5jdGlvbiBtYWtlKA0KICAgICAgICBFUkMyMCAgICBoYXZlVG9rZW4sDQogICAgICAgIEVSQzIwICAgIHdhbnRUb2tlbiwNCiAgICAgICAgdWludDEyOCAgaGF2ZUFtb3VudCwNCiAgICAgICAgdWludDEyOCAgd2FudEFtb3VudA0KICAgICkgcmV0dXJucyAoYnl0ZXMzMiBpZCkgew0KICAgICAgICByZXR1cm4gYnl0ZXMzMihvZmZlcihoYXZlQW1vdW50LCBoYXZlVG9rZW4sIHdhbnRBbW91bnQsIHdhbnRUb2tlbikpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRha2UoYnl0ZXMzMiBpZCwgdWludDEyOCBtYXhUYWtlQW1vdW50KSB7DQogICAgICAgIGFzc2VydChidXkodWludDI1NihpZCksIG1heFRha2VBbW91bnQpKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBraWxsKGJ5dGVzMzIgaWQpIHsNCiAgICAgICAgYXNzZXJ0KGNhbmNlbCh1aW50MjU2KGlkKSkpOw0KICAgIH0NCg0KICAgIC8vIE1ha2UgYSBuZXcgb2ZmZXIuIFRha2VzIGZ1bmRzIGZyb20gdGhlIGNhbGxlciBpbnRvIG1hcmtldCBlc2Nyb3cuDQogICAgZnVuY3Rpb24gb2ZmZXIoIHVpbnQgc2VsbF9ob3dfbXVjaCwgRVJDMjAgc2VsbF93aGljaF90b2tlbg0KICAgICAgICAgICAgICAgICAgLCB1aW50IGJ1eV9ob3dfbXVjaCwgIEVSQzIwIGJ1eV93aGljaF90b2tlbiApDQogICAgICAgIGNhbl9vZmZlcg0KICAgICAgICBzeW5jaHJvbml6ZWQNCiAgICAgICAgcmV0dXJucyAodWludCBpZCkNCiAgICB7DQogICAgICAgIGFzc2VydCh1aW50MTI4KHNlbGxfaG93X211Y2gpID09IHNlbGxfaG93X211Y2gpOw0KICAgICAgICBhc3NlcnQodWludDEyOChidXlfaG93X211Y2gpID09IGJ1eV9ob3dfbXVjaCk7DQogICAgICAgIGFzc2VydChzZWxsX2hvd19tdWNoID4gMCk7DQogICAgICAgIGFzc2VydChzZWxsX3doaWNoX3Rva2VuICE9IEVSQzIwKDB4MCkpOw0KICAgICAgICBhc3NlcnQoYnV5X2hvd19tdWNoID4gMCk7DQogICAgICAgIGFzc2VydChidXlfd2hpY2hfdG9rZW4gIT0gRVJDMjAoMHgwKSk7DQogICAgICAgIGFzc2VydChzZWxsX3doaWNoX3Rva2VuICE9IGJ1eV93aGljaF90b2tlbik7DQoNCiAgICAgICAgT2ZmZXJJbmZvIG1lbW9yeSBpbmZvOw0KICAgICAgICBpbmZvLnNlbGxfaG93X211Y2ggPSBzZWxsX2hvd19tdWNoOw0KICAgICAgICBpbmZvLnNlbGxfd2hpY2hfdG9rZW4gPSBzZWxsX3doaWNoX3Rva2VuOw0KICAgICAgICBpbmZvLmJ1eV9ob3dfbXVjaCA9IGJ1eV9ob3dfbXVjaDsNCiAgICAgICAgaW5mby5idXlfd2hpY2hfdG9rZW4gPSBidXlfd2hpY2hfdG9rZW47DQogICAgICAgIGluZm8ub3duZXIgPSBtc2cuc2VuZGVyOw0KICAgICAgICBpbmZvLmFjdGl2ZSA9IHRydWU7DQogICAgICAgIGluZm8udGltZXN0YW1wID0gdWludDY0KG5vdyk7DQogICAgICAgIGlkID0gbmV4dF9pZCgpOw0KICAgICAgICBvZmZlcnNbaWRdID0gaW5mbzsNCg0KICAgICAgICB2YXIgc2VsbGVyX3BhaWQgPSBzZWxsX3doaWNoX3Rva2VuLnRyYW5zZmVyRnJvbSggbXNnLnNlbmRlciwgdGhpcywgc2VsbF9ob3dfbXVjaCApOw0KICAgICAgICBhc3NlcnQoc2VsbGVyX3BhaWQpOw0KDQogICAgICAgIEl0ZW1VcGRhdGUoaWQpOw0KICAgICAgICBMb2dNYWtlKA0KICAgICAgICAgICAgYnl0ZXMzMihpZCksDQogICAgICAgICAgICBzaGEzKHNlbGxfd2hpY2hfdG9rZW4sIGJ1eV93aGljaF90b2tlbiksDQogICAgICAgICAgICBtc2cuc2VuZGVyLA0KICAgICAgICAgICAgc2VsbF93aGljaF90b2tlbiwNCiAgICAgICAgICAgIGJ1eV93aGljaF90b2tlbiwNCiAgICAgICAgICAgIHVpbnQxMjgoc2VsbF9ob3dfbXVjaCksDQogICAgICAgICAgICB1aW50MTI4KGJ1eV9ob3dfbXVjaCksDQogICAgICAgICAgICB1aW50NjQobm93KQ0KICAgICAgICApOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJ1bXAoYnl0ZXMzMiBpZF8pDQogICAgICAgIGNhbl9idXkodWludDI1NihpZF8pKQ0KICAgIHsNCiAgICAgICAgdmFyIGlkID0gdWludDI1NihpZF8pOw0KICAgICAgICBMb2dCdW1wKA0KICAgICAgICAgICAgaWRfLA0KICAgICAgICAgICAgc2hhMyhvZmZlcnNbaWRdLnNlbGxfd2hpY2hfdG9rZW4sIG9mZmVyc1tpZF0uYnV5X3doaWNoX3Rva2VuKSwNCiAgICAgICAgICAgIG9mZmVyc1tpZF0ub3duZXIsDQogICAgICAgICAgICBvZmZlcnNbaWRdLnNlbGxfd2hpY2hfdG9rZW4sDQogICAgICAgICAgICBvZmZlcnNbaWRdLmJ1eV93aGljaF90b2tlbiwNCiAgICAgICAgICAgIHVpbnQxMjgob2ZmZXJzW2lkXS5zZWxsX2hvd19tdWNoKSwNCiAgICAgICAgICAgIHVpbnQxMjgob2ZmZXJzW2lkXS5idXlfaG93X211Y2gpLA0KICAgICAgICAgICAgb2ZmZXJzW2lkXS50aW1lc3RhbXANCiAgICAgICAgKTsNCiAgICB9DQoNCiAgICAvLyBBY2NlcHQgZ2l2ZW4gYHF1YW50aXR5YCBvZiBhbiBvZmZlci4gVHJhbnNmZXJzIGZ1bmRzIGZyb20gY2FsbGVyIHRvDQogICAgLy8gb2ZmZXIgbWFrZXIsIGFuZCBmcm9tIG1hcmtldCB0byBjYWxsZXIuDQogICAgZnVuY3Rpb24gYnV5KCB1aW50IGlkLCB1aW50IHF1YW50aXR5ICkNCiAgICAgICAgY2FuX2J1eShpZCkNCiAgICAgICAgc3luY2hyb25pemVkDQogICAgICAgIHJldHVybnMgKCBib29sIHN1Y2Nlc3MgKQ0KICAgIHsNCiAgICAgICAgYXNzZXJ0KHVpbnQxMjgocXVhbnRpdHkpID09IHF1YW50aXR5KTsNCg0KICAgICAgICAvLyByZWFkLW9ubHkgb2ZmZXIuIE1vZGlmeSBhbiBvZmZlciBieSBkaXJlY3RseSBhY2Nlc3Npbmcgb2ZmZXJzW2lkXQ0KICAgICAgICBPZmZlckluZm8gbWVtb3J5IG9mZmVyID0gb2ZmZXJzW2lkXTsNCg0KICAgICAgICAvLyBpbmZlcnJlZCBxdWFudGl0eSB0aGF0IHRoZSBidXllciB3aXNoZXMgdG8gc3BlbmQNCiAgICAgICAgdWludCBzcGVuZCA9IHNhZmVNdWwocXVhbnRpdHksIG9mZmVyLmJ1eV9ob3dfbXVjaCkgLyBvZmZlci5zZWxsX2hvd19tdWNoOw0KICAgICAgICBhc3NlcnQodWludDEyOChzcGVuZCkgPT0gc3BlbmQpOw0KDQogICAgICAgIGlmICggc3BlbmQgPiBvZmZlci5idXlfaG93X211Y2ggfHwgcXVhbnRpdHkgPiBvZmZlci5zZWxsX2hvd19tdWNoICkgew0KICAgICAgICAgICAgLy8gYnV5ZXIgd2FudHMgbW9yZSB0aGFuIGlzIGF2YWlsYWJsZQ0KICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICB9IGVsc2UgaWYgKCBzcGVuZCA9PSBvZmZlci5idXlfaG93X211Y2ggJiYgcXVhbnRpdHkgPT0gb2ZmZXIuc2VsbF9ob3dfbXVjaCApIHsNCiAgICAgICAgICAgIC8vIGJ1eWVyIHdhbnRzIGV4YWN0bHkgd2hhdCBpcyBhdmFpbGFibGUNCiAgICAgICAgICAgIGRlbGV0ZSBvZmZlcnNbaWRdOw0KDQogICAgICAgICAgICB0cmFkZSggb2ZmZXIub3duZXIsIHF1YW50aXR5LCBvZmZlci5zZWxsX3doaWNoX3Rva2VuLA0KICAgICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIsIHNwZW5kLCBvZmZlci5idXlfd2hpY2hfdG9rZW4gKTsNCg0KICAgICAgICAgICAgSXRlbVVwZGF0ZShpZCk7DQogICAgICAgICAgICBMb2dUYWtlKA0KICAgICAgICAgICAgICAgIGJ5dGVzMzIoaWQpLA0KICAgICAgICAgICAgICAgIHNoYTMob2ZmZXIuc2VsbF93aGljaF90b2tlbiwgb2ZmZXIuYnV5X3doaWNoX3Rva2VuKSwNCiAgICAgICAgICAgICAgICBvZmZlci5vd25lciwNCiAgICAgICAgICAgICAgICBvZmZlci5zZWxsX3doaWNoX3Rva2VuLA0KICAgICAgICAgICAgICAgIG9mZmVyLmJ1eV93aGljaF90b2tlbiwNCiAgICAgICAgICAgICAgICBtc2cuc2VuZGVyLA0KICAgICAgICAgICAgICAgIHVpbnQxMjgob2ZmZXIuc2VsbF9ob3dfbXVjaCksDQogICAgICAgICAgICAgICAgdWludDEyOChvZmZlci5idXlfaG93X211Y2gpLA0KICAgICAgICAgICAgICAgIHVpbnQ2NChub3cpDQogICAgICAgICAgICApOw0KDQogICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIGlmICggc3BlbmQgPiAwICYmIHF1YW50aXR5ID4gMCApIHsNCiAgICAgICAgICAgIC8vIGJ1eWVyIHdhbnRzIGEgZnJhY3Rpb24gb2Ygd2hhdCBpcyBhdmFpbGFibGUNCiAgICAgICAgICAgIG9mZmVyc1tpZF0uc2VsbF9ob3dfbXVjaCA9IHNhZmVTdWIob2ZmZXIuc2VsbF9ob3dfbXVjaCwgcXVhbnRpdHkpOw0KICAgICAgICAgICAgb2ZmZXJzW2lkXS5idXlfaG93X211Y2ggPSBzYWZlU3ViKG9mZmVyLmJ1eV9ob3dfbXVjaCwgc3BlbmQpOw0KDQogICAgICAgICAgICB0cmFkZSggb2ZmZXIub3duZXIsIHF1YW50aXR5LCBvZmZlci5zZWxsX3doaWNoX3Rva2VuLA0KICAgICAgICAgICAgICAgICAgICBtc2cuc2VuZGVyLCBzcGVuZCwgb2ZmZXIuYnV5X3doaWNoX3Rva2VuICk7DQoNCiAgICAgICAgICAgIEl0ZW1VcGRhdGUoaWQpOw0KICAgICAgICAgICAgTG9nVGFrZSgNCiAgICAgICAgICAgICAgICBieXRlczMyKGlkKSwNCiAgICAgICAgICAgICAgICBzaGEzKG9mZmVyLnNlbGxfd2hpY2hfdG9rZW4sIG9mZmVyLmJ1eV93aGljaF90b2tlbiksDQogICAgICAgICAgICAgICAgb2ZmZXIub3duZXIsDQogICAgICAgICAgICAgICAgb2ZmZXIuc2VsbF93aGljaF90b2tlbiwNCiAgICAgICAgICAgICAgICBvZmZlci5idXlfd2hpY2hfdG9rZW4sDQogICAgICAgICAgICAgICAgbXNnLnNlbmRlciwNCiAgICAgICAgICAgICAgICB1aW50MTI4KHF1YW50aXR5KSwNCiAgICAgICAgICAgICAgICB1aW50MTI4KHNwZW5kKSwNCiAgICAgICAgICAgICAgICB1aW50NjQobm93KQ0KICAgICAgICAgICAgKTsNCg0KICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBidXllciB3YW50cyBhbiB1bnNhdGlzZmlhYmxlIGFtb3VudCAobGVzcyB0aGFuIDEgaW50ZWdlcikNCiAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIENhbmNlbCBhbiBvZmZlci4gUmVmdW5kcyBvZmZlciBtYWtlci4NCiAgICBmdW5jdGlvbiBjYW5jZWwoIHVpbnQgaWQgKQ0KICAgICAgICBjYW5fY2FuY2VsKGlkKQ0KICAgICAgICBzeW5jaHJvbml6ZWQNCiAgICAgICAgcmV0dXJucyAoIGJvb2wgc3VjY2VzcyApDQogICAgew0KICAgICAgICAvLyByZWFkLW9ubHkgb2ZmZXIuIE1vZGlmeSBhbiBvZmZlciBieSBkaXJlY3RseSBhY2Nlc3Npbmcgb2ZmZXJzW2lkXQ0KICAgICAgICBPZmZlckluZm8gbWVtb3J5IG9mZmVyID0gb2ZmZXJzW2lkXTsNCiAgICAgICAgZGVsZXRlIG9mZmVyc1tpZF07DQoNCiAgICAgICAgdmFyIHNlbGxlcl9yZWZ1bmRlZCA9IG9mZmVyLnNlbGxfd2hpY2hfdG9rZW4udHJhbnNmZXIoIG9mZmVyLm93bmVyICwgb2ZmZXIuc2VsbF9ob3dfbXVjaCApOw0KICAgICAgICBhc3NlcnQoc2VsbGVyX3JlZnVuZGVkKTsNCg0KICAgICAgICBJdGVtVXBkYXRlKGlkKTsNCiAgICAgICAgTG9nS2lsbCgNCiAgICAgICAgICAgIGJ5dGVzMzIoaWQpLA0KICAgICAgICAgICAgc2hhMyhvZmZlci5zZWxsX3doaWNoX3Rva2VuLCBvZmZlci5idXlfd2hpY2hfdG9rZW4pLA0KICAgICAgICAgICAgb2ZmZXIub3duZXIsDQogICAgICAgICAgICBvZmZlci5zZWxsX3doaWNoX3Rva2VuLA0KICAgICAgICAgICAgb2ZmZXIuYnV5X3doaWNoX3Rva2VuLA0KICAgICAgICAgICAgdWludDEyOChvZmZlci5zZWxsX2hvd19tdWNoKSwNCiAgICAgICAgICAgIHVpbnQxMjgob2ZmZXIuYnV5X2hvd19tdWNoKSwNCiAgICAgICAgICAgIHVpbnQ2NChub3cpDQogICAgICAgICk7DQoNCiAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgfQ0KfQ0KDQovLyBTaW1wbGUgTWFya2V0IHdpdGggYSBtYXJrZXQgbGlmZXRpbWUuIFdoZW4gdGhlIGxpZmV0aW1lIGhhcyBlbGFwc2VkLA0KLy8gb2ZmZXJzIGNhbiBvbmx5IGJlIGNhbmNlbGxlZCAob2ZmZXIgYW5kIGJ1eSB3aWxsIHRocm93KS4NCg0KY29udHJhY3QgRXhwaXJpbmdNYXJrZXQgaXMgRFNBdXRoLCBTaW1wbGVNYXJrZXQgew0KICAgIHVpbnQgcHVibGljIGxpZmV0aW1lOw0KICAgIHVpbnQgcHVibGljIGNsb3NlX3RpbWU7DQogICAgYm9vbCBwdWJsaWMgc3RvcHBlZDsNCg0KICAgIGZ1bmN0aW9uIHN0b3AoKSBhdXRoIHsNCiAgICAgICAgc3RvcHBlZCA9IHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gRXhwaXJpbmdNYXJrZXQodWludCBsaWZldGltZV8pIHsNCiAgICAgICAgbGlmZXRpbWUgPSBsaWZldGltZV87DQogICAgICAgIGNsb3NlX3RpbWUgPSBnZXRUaW1lKCkgKyBsaWZldGltZV87DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0VGltZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIGJsb2NrLnRpbWVzdGFtcDsNCiAgICB9DQogICAgZnVuY3Rpb24gaXNDbG9zZWQoKSBjb25zdGFudCByZXR1cm5zIChib29sIGNsb3NlZCkgew0KICAgICAgICByZXR1cm4gc3RvcHBlZCB8fCAoZ2V0VGltZSgpID4gY2xvc2VfdGltZSk7DQogICAgfQ0KDQogICAgLy8gYWZ0ZXIgbWFya2V0IGxpZmV0aW1lIGhhcyBlbGFwc2VkLCBubyBuZXcgb2ZmZXJzIGFyZSBhbGxvd2VkDQogICAgbW9kaWZpZXIgY2FuX29mZmVyIHsNCiAgICAgICAgYXNzZXJ0KCFpc0Nsb3NlZCgpKTsNCiAgICAgICAgXzsNCiAgICB9DQogICAgLy8gYWZ0ZXIgY2xvc2UsIG5vIG5ldyBidXlzIGFyZSBhbGxvd2VkDQogICAgbW9kaWZpZXIgY2FuX2J1eSh1aW50IGlkKSB7DQogICAgICAgIGFzc2VydChpc0FjdGl2ZShpZCkpOw0KICAgICAgICBhc3NlcnQoIWlzQ2xvc2VkKCkpOw0KICAgICAgICBfOw0KICAgIH0NCiAgICAvLyBhZnRlciBjbG9zZSwgYW55b25lIGNhbiBjYW5jZWwgYW4gb2ZmZXINCiAgICBtb2RpZmllciBjYW5fY2FuY2VsKHVpbnQgaWQpIHsNCiAgICAgICAgYXNzZXJ0KGlzQWN0aXZlKGlkKSk7DQogICAgICAgIGFzc2VydChpc0Nsb3NlZCgpIHx8IChtc2cuc2VuZGVyID09IGdldE93bmVyKGlkKSkpOw0KICAgICAgICBfOw0KICAgIH0NCn0='