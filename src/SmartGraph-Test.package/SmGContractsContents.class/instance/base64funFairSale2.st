base 64 content
base64funFairSale2
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQpjb250cmFjdCBUb2tlbiB7DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcmV0dXJucyh1aW50KTsNCn0NCg0KY29udHJhY3QgT3duZWQgew0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgZnVuY3Rpb24gT3duZWQoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBhZGRyZXNzIG5ld093bmVyOw0KDQogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7DQogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpIHsNCiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmNvbnRyYWN0IFRva2VuUmVjZWl2YWJsZSBpcyBPd25lZCB7DQogICAgZXZlbnQgbG9nVG9rZW5UcmFuc2ZlcihhZGRyZXNzIHRva2VuLCBhZGRyZXNzIHRvLCB1aW50IGFtb3VudCk7DQoNCiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfdG8pIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7DQogICAgICAgIFRva2VuIHRva2VuID0gVG9rZW4oX3Rva2VuKTsNCiAgICAgICAgdWludCBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOw0KICAgICAgICBpZiAodG9rZW4udHJhbnNmZXIoX3RvLCBiYWxhbmNlKSkgew0KICAgICAgICAgICAgbG9nVG9rZW5UcmFuc2ZlcihfdG9rZW4sIF90bywgYmFsYW5jZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KfQ0KDQpjb250cmFjdCBGdW5GYWlyU2FsZSBpcyBPd25lZCwgVG9rZW5SZWNlaXZhYmxlIHsNCiAgICB1aW50IHB1YmxpYyBkZWFkbGluZTsNCiAgICB1aW50IHB1YmxpYyBzdGFydFRpbWUgPSAxMjMxMjM7IC8vc2V0IGFjdHVhbCB0aW1lIGhlcmUNCiAgICB1aW50IHB1YmxpYyBzYWxlVGltZSA9IDE0IGRheXM7DQogICAgdWludCBwdWJsaWMgY2FwQW1vdW50Ow0KDQogICAgZnVuY3Rpb24gRnVuRmFpclNhbGUoKSB7DQogICAgICAgIGRlYWRsaW5lID0gc3RhcnRUaW1lICsgc2FsZVRpbWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0U29mdENhcERlYWRsaW5lKHVpbnQgdCkgb25seU93bmVyIHsNCiAgICAgICAgaWYgKHQgPiBkZWFkbGluZSkgdGhyb3c7DQogICAgICAgIGRlYWRsaW5lID0gdDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBsYXVuY2godWludCBfY2FwKSBvbmx5T3duZXIgew0KICAgICAgICAvLyBjYXAgaXMgaW1tdXRhYmxlIG9uY2UgdGhlIHNhbGUgc3RhcnRzDQogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPiAwKSB0aHJvdzsNCiAgICAgICAgY2FwQW1vdW50ID0gX2NhcDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsNCiAgICAgICAgaWYgKGJsb2NrLnRpbWVzdGFtcCA8IHN0YXJ0VGltZSB8fCBibG9jay50aW1lc3RhbXAgPj0gZGVhZGxpbmUpIHRocm93Ow0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlID49IGNhcEFtb3VudCkgdGhyb3c7DQogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgKyBtc2cudmFsdWUgPj0gY2FwQW1vdW50KSB7DQogICAgICAgICAgICBkZWFkbGluZSA9IGJsb2NrLnRpbWVzdGFtcDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgb25seU93bmVyIHsNCiAgICAgICAgaWYgKGJsb2NrLnRpbWVzdGFtcCA8IGRlYWRsaW5lKSB0aHJvdzsNCiAgICAgICAgaWYgKCFvd25lci5jYWxsLnZhbHVlKHRoaXMuYmFsYW5jZSkoKSkgdGhyb3c7DQogICAgfQ0KDQogICAgLy8gZm9yIHRlc3RpbmcNCiAgICBmdW5jdGlvbiBzZXRTdGFydFRpbWUodWludCBfc3RhcnRUaW1lLCB1aW50IF9kZWFkbGluZSkgb25seU93bmVyIHsNCiAgICAJaWYgKF9kZWFkbGluZSA8IF9zdGFydFRpbWUpIHRocm93Ow0KICAgICAgICBzdGFydFRpbWUgPSBfc3RhcnRUaW1lOw0KICAgICAgICBkZWFkbGluZSA9IF9kZWFkbGluZTsNCiAgICB9DQoNCn0='