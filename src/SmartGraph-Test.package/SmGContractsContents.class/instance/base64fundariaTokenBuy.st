base 64 content
base64fundariaTokenBuy
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCmNvbnRyYWN0IEZ1bmRhcmlhVG9rZW4gew0KICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5Ow0KICAgIHVpbnQgcHVibGljIHN1cHBseUxpbWl0Ow0KICAgIGFkZHJlc3MgcHVibGljIGZ1bmRhcmlhUG9vbEFkZHJlc3M7DQogICAgDQogICAgZnVuY3Rpb24gc3VwcGx5VG8oYWRkcmVzcywgdWludCk7DQogICAgZnVuY3Rpb24gdG9rZW5Gb3JXZWkodWludCkgcmV0dXJucyh1aW50KTsNCiAgICBmdW5jdGlvbiB3ZWlGb3JUb2tlbih1aW50KSByZXR1cm5zKHVpbnQpOyAgICANCiAgICAgICAgIA0KfQ0KDQpjb250cmFjdCBGdW5kYXJpYUJvbnVzRnVuZCB7DQogICAgZnVuY3Rpb24gc2V0T3duZWRCb251cygpIHBheWFibGUge30gICAgDQp9DQoNCmNvbnRyYWN0IEZ1bmRhcmlhVG9rZW5CdXkgew0KICAgICAgICANCiAgICBhZGRyZXNzIHB1YmxpYyBmdW5kYXJpYUJvbnVzRnVuZEFkZHJlc3M7ICAvLyBhZGRyZXNzIG9mIEZ1bmRhcmlhICdib251cyBmdW5kJyBjb250cmFjdA0KICAgIGFkZHJlc3MgcHVibGljIGZ1bmRhcmlhVG9rZW5BZGRyZXNzOyAvLyBhZGRyZXNzIG9mIEZ1bmRhcmlhIHRva2VuIGNvbnRyYWN0DQogICAgDQogICAgdWludCBwdWJsaWMgYm9udXNQZXJpb2QgPSA2NCB3ZWVrczsgLy8gYm9udXMgcGVyaW9kIGZyb20gbW9tZW50IG9mIHRoaXMgY29udHJhY3QgY3JlYXRpbmcNCiAgICB1aW50IGNvbnN0YW50IGJvbnVzSW50ZXJ2YWxzQ291bnQgPSA5OyAvLyBkZWNyZWFzaW5nIG9mIGJvbnVzIHNoYXJlIHdpdGggdGltZQ0KICAgIHVpbnQgcHVibGljIHN0YXJ0VGltZXN0YW1wT2ZCb251c1BlcmlvZDsgLy8gd2hlbiB0aGUgYm9udXMgcGVyaW9kIHN0YXJ0cw0KICAgIHVpbnQgcHVibGljIGZpbmFsVGltZXN0YW1wT2ZCb251c1BlcmlvZDsgLy8gd2hlbiB0aGUgYm9udXMgcGVyaW9kIGVuZHMNCiAgICANCiAgICAvLyBmb3Iga2VlcGluZyBvZiBkYXRhIHRvIGRlZmluZSBib251cyBzaGFyZSBhdCB0aGUgbW9tZW50IG9mIGNhbGxpbmcgYnV5KCkgICAgDQogICAgc3RydWN0IGJvbnVzRGF0YSB7DQogICAgICAgIHVpbnQgdGltZXN0YW1wOw0KICAgICAgICB1aW50IHNoYXJlS29lZjsNCiAgICB9DQogICAgDQogICAgLy8gYXJyYXkgdG8ga2VlcCBib251cyByZWxhdGVkIGRhdGENCiAgICBib251c0RhdGFbOV0gYm9udXNTaGVkdWxlOw0KICAgIA0KICAgIGFkZHJlc3MgY3JlYXRvcjsgLy8gY3JlYXRvciBhZGRyZXNzIG9mIHRoaXMgY29udHJhY3QNCiAgICAvLyBjb25kaXRpb24gdG8gYmUgY3JlYXRvciBhZGRyZXNzIHRvIHJ1biBzb21lIGZ1bmN0aW9ucw0KICAgIG1vZGlmaWVyIG9ubHlDcmVhdG9yIHsgDQogICAgICAgIGlmKG1zZy5zZW5kZXIgPT0gY3JlYXRvcikgXzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gRnVuZGFyaWFUb2tlbkJ1eShhZGRyZXNzIF9mdW5kYXJpYVRva2VuQWRkcmVzcykgew0KICAgICAgICBmdW5kYXJpYVRva2VuQWRkcmVzcyA9IF9mdW5kYXJpYVRva2VuQWRkcmVzczsNCiAgICAgICAgc3RhcnRUaW1lc3RhbXBPZkJvbnVzUGVyaW9kID0gbm93Ow0KICAgICAgICBmaW5hbFRpbWVzdGFtcE9mQm9udXNQZXJpb2QgPSBub3crYm9udXNQZXJpb2Q7DQogICAgICAgIGZvcih1aW50OCBpPTA7IGk8Ym9udXNJbnRlcnZhbHNDb3VudDsgaSsrKSB7DQogICAgICAgICAgICAvLyBkZWZpbmUgdGltZXN0YW1wcyBvZiBib251cyBwZXJpb2QgaW50ZXJ2YWxzDQogICAgICAgICAgICBib251c1NoZWR1bGVbaV0udGltZXN0YW1wID0gZmluYWxUaW1lc3RhbXBPZkJvbnVzUGVyaW9kLShib251c1BlcmlvZCooYm9udXNJbnRlcnZhbHNDb3VudC1pLTEpL2JvbnVzSW50ZXJ2YWxzQ291bnQpOw0KICAgICAgICAgICAgLy8ga29lZiBmb3IgZGVjcmVhc2luZyBib251cyBzaGFyZQ0KICAgICAgICAgICAgYm9udXNTaGVkdWxlW2ldLnNoYXJlS29lZiA9IGJvbnVzSW50ZXJ2YWxzQ291bnQtaTsNCiAgICAgICAgfQ0KICAgICAgICBjcmVhdG9yID0gbXNnLnNlbmRlcjsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2V0RnVuZGFyaWFCb251c0Z1bmRBZGRyZXNzKGFkZHJlc3MgX2Z1bmRhcmlhQm9udXNGdW5kQWRkcmVzcykgb25seUNyZWF0b3Igew0KICAgICAgICBmdW5kYXJpYUJvbnVzRnVuZEFkZHJlc3MgPSBfZnVuZGFyaWFCb251c0Z1bmRBZGRyZXNzOyAgICANCiAgICB9IA0KICAgIA0KICAgIC8vIGZpbmlzaCBib251cyBpZiBuZWVkZWQgKGlmIGJvbnVzIHN5c3RlbSBub3QgZWZmaWNpZW50KQ0KICAgIGZ1bmN0aW9uIGZpbmlzaEJvbnVzUGVyaW9kKCkgb25seUNyZWF0b3Igew0KICAgICAgICBmaW5hbFRpbWVzdGFtcE9mQm9udXNQZXJpb2QgPSBub3c7ICAgIA0KICAgIH0NCiAgICANCiAgICAvLyBpZiB0b2tlbiBib3VnaHQgc3VjY2Vzc2Z1bHkNCiAgICBldmVudCBUb2tlbkJvdWdodChhZGRyZXNzIGJ1eWVyLCB1aW50IHRva2VuVG9CdXllciwgdWludCB3ZWlGb3JGdW5kYXJpYVBvb2wsIHVpbnQgd2VpRm9yQm9udXNGdW5kLCB1aW50IHJlbW5hbnRXZWkpOw0KICAgIA0KICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgew0KICAgICAgICByZXF1aXJlKG1zZy52YWx1ZT4wKTsNCiAgICAgICAgLy8gdXNlIEZ1bmRhcmlhIHRva2VuIGNvbnRyYWN0IGZ1bmN0aW9ucw0KICAgICAgICBGdW5kYXJpYVRva2VuIGZ0ID0gRnVuZGFyaWFUb2tlbihmdW5kYXJpYVRva2VuQWRkcmVzcyk7DQogICAgICAgIC8vIHNob3VsZCBiZSBlbm91Z2ggdG9rZW5zIGJlZm9yZSBzdXBwbHkgcmVhY2hlZCBsaW1pdA0KICAgICAgICByZXF1aXJlKGZ0LnN1cHBseUxpbWl0KCktMT5mdC50b3RhbFN1cHBseSgpKTsNCiAgICAgICAgLy8gdG9rZW5zIHRvIGJ1eWVyIGFjY29yZGluZyB0byBjb3Vyc2UNCiAgICAgICAgdmFyIHRva2VuVG9CdXllciA9IGZ0LnRva2VuRm9yV2VpKG1zZy52YWx1ZSk7DQogICAgICAgIC8vIHNob3VsZCBiZSBlbm9naCBldGhlciBmb3IgYXQgbGVhc3QgMSB0b2tlbg0KICAgICAgICByZXF1aXJlKHRva2VuVG9CdXllcj49MSk7DQogICAgICAgIC8vIGV2ZXJ5IHNlY29uZCB0b2tlbiBnb2VzIHRvIGNyZWF0b3IgYWRkcmVzcw0KICAgICAgICB2YXIgdG9rZW5Ub0NyZWF0b3IgPSB0b2tlblRvQnV5ZXI7DQogICAgICAgIHVpbnQgd2VpRm9yRnVuZGFyaWFQb29sOyAvLyB3ZWkgZGlzdHJpYnV0ZWQgdG8gRnVuZGFyaWEgcG9vbA0KICAgICAgICB1aW50IHdlaUZvckJvbnVzRnVuZDsgLy8gd2VpIGRpc3RyaWJ1dGVkIHRvIEZ1bmRhcmlhIGJvbnVzIGZ1bmQNCiAgICAgICAgdWludCByZXR1cm5lZFdlaTsgLy8gcmVtbmFudA0KICAgICAgICAvLyBpZiB0cnlpbmcgdG8gYnV5IG1vcmUgdG9rZW5zIHRoZW4gc3VwcGx5IGxpbWl0DQogICAgICAgIGlmKGZ0LnRvdGFsU3VwcGx5KCkrdG9rZW5Ub0J1eWVyK3Rva2VuVG9DcmVhdG9yID4gZnQuc3VwcGx5TGltaXQoKSkgew0KICAgICAgICAgICAgLy8gaG93IG1hbnkgdG9rZW5zIGFyZSBzdXBwb3NlZCB0byBidXk/DQogICAgICAgICAgICB2YXIgc3VwcG9zZWRUb2tlblRvQnV5ZXIgPSB0b2tlblRvQnV5ZXI7DQogICAgICAgICAgICAvLyBnZXQgYWxsIHJlbWFpbmluZyB0b2tlbnMgYW5kIGRldmlkZSB0aGVtIGJldHdlZW4gcmVjaWVwZW50cw0KICAgICAgICAgICAgdG9rZW5Ub0J1eWVyID0gKGZ0LnN1cHBseUxpbWl0KCktZnQudG90YWxTdXBwbHkoKSkvMjsNCiAgICAgICAgICAgIC8vIGV2ZXJ5IHNlY29uZCB0b2tlbiBnb2VzIHRvIGNyZWF0b3IgYWRkcmVzcw0KICAgICAgICAgICAgdG9rZW5Ub0NyZWF0b3IgPSB0b2tlblRvQnV5ZXI7IA0KICAgICAgICAgICAgLy8gdG9rZW5zIG92ZXIgbGltaXQNCiAgICAgICAgICAgIHZhciBleGNlc3NUb2tlbiA9IHN1cHBvc2VkVG9rZW5Ub0J1eWVyLXRva2VuVG9CdXllcjsNCiAgICAgICAgICAgIC8vIHdlaSB0byByZXR1cm4gdG8gYnV5ZXINCiAgICAgICAgICAgIHJldHVybmVkV2VpID0gZnQud2VpRm9yVG9rZW4oZXhjZXNzVG9rZW4pOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyByZW1haW5pbmcgd2VpIGZvciB0b2tlbnMNCiAgICAgICAgdmFyIHJlbW5hbnRWYWx1ZSA9IG1zZy52YWx1ZS1yZXR1cm5lZFdlaTsNCiAgICAgICAgLy8gaWYgYm9udXMgcGVyaW9kIGlzIG92ZXINCiAgICAgICAgaWYobm93PmZpbmFsVGltZXN0YW1wT2ZCb251c1BlcmlvZCkgew0KICAgICAgICAgICAgd2VpRm9yRnVuZGFyaWFQb29sID0gcmVtbmFudFZhbHVlOyAgICAgICAgICAgIA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdWludCBwcmV2VGltZXN0YW1wOw0KICAgICAgICAgICAgZm9yKHVpbnQ4IGk9MDsgaTxib251c0ludGVydmFsc0NvdW50OyBpKyspIHsNCiAgICAgICAgICAgICAgICAvLyBmaW5kIGludGVydmFsIHRvIGdldCBuZWVkZWQgYm9udXMgc2hhcmUNCiAgICAgICAgICAgICAgICBpZihib251c1NoZWR1bGVbaV0udGltZXN0YW1wPj1ub3cgJiYgbm93PnByZXZUaW1lc3RhbXApIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gd2VpIHRvIGJlIGRpc3RyaWJ1dGVkIGludG8gdGhlIEZ1bmRhcmlhIGJvbnVzIGZ1bmQNCiAgICAgICAgICAgICAgICAgICAgd2VpRm9yQm9udXNGdW5kID0gcmVtbmFudFZhbHVlKmJvbnVzU2hlZHVsZVtpXS5zaGFyZUtvZWYvKGJvbnVzSW50ZXJ2YWxzQ291bnQrMSk7ICAgIA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwcmV2VGltZXN0YW1wID0gYm9udXNTaGVkdWxlW2ldLnRpbWVzdGFtcDsgICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyB3ZWkgZm9yIEZ1bmRhcmlhIHBvb2wNCiAgICAgICAgICAgIHdlaUZvckZ1bmRhcmlhUG9vbCA9IHJlbW5hbnRWYWx1ZS13ZWlGb3JCb251c0Z1bmQ7ICAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICAvLyB1c2UgRnVuZGFyaWEgdG9rZW4gY29udHJhY3QgZnVuY3Rpb24gdG8gZGlzdHJpYnV0ZSB0b2tlbnMgdG8gY3JlYXRvciBhZGRyZXNzDQogICAgICAgIGZ0LnN1cHBseVRvKGNyZWF0b3IsIHRva2VuVG9DcmVhdG9yKTsNCiAgICAgICAgLy8gdHJhbnNmZXIgd2VpIGZvciBib3VnaHQgdG9rZW5zIHRvIEZ1bmRhcmlhIHBvb2wNCiAgICAgICAgKGZ0LmZ1bmRhcmlhUG9vbEFkZHJlc3MoKSkudHJhbnNmZXIod2VpRm9yRnVuZGFyaWFQb29sKTsNCiAgICAgICAgLy8gaWYgd2UgaGF2ZSB3ZWkgZm9yIGJ1eWVyIHRvIGJlIHNhdmVkIGluIGJvbnVzIGZ1bmQNCiAgICAgICAgaWYod2VpRm9yQm9udXNGdW5kPjApIHsNCiAgICAgICAgICAgIEZ1bmRhcmlhQm9udXNGdW5kIGZiZiA9IEZ1bmRhcmlhQm9udXNGdW5kKGZ1bmRhcmlhQm9udXNGdW5kQWRkcmVzcyk7DQogICAgICAgICAgICAvLyBkaXN0cmlidXRlIGJvbnVzIHdlaSB0byBib251cyBmdW5kDQogICAgICAgICAgICBmYmYuc2V0T3duZWRCb251cy52YWx1ZSh3ZWlGb3JCb251c0Z1bmQpKCk7DQogICAgICAgIH0NCiAgICAgICAgLy8gaWYgaGF2ZSByZW1uYW50LCByZXR1cm4gaXQgdG8gYnV5ZXINCiAgICAgICAgaWYocmV0dXJuZWRXZWk+MCkgbXNnLnNlbmRlci50cmFuc2ZlcihyZXR1cm5lZFdlaSk7DQogICAgICAgIC8vIHVzZSBGdW5kYXJpYSB0b2tlbiBjb250cmFjdCBmdW5jdGlvbiB0byBkaXN0cmlidXRlIHRva2VucyB0byBidXllcg0KICAgICAgICBmdC5zdXBwbHlUbyhtc2cuc2VuZGVyLCB0b2tlblRvQnV5ZXIpOw0KICAgICAgICAvLyBpbmZvcm0gYWJvdXQgJ3Rva2VuIGJvdWdodCcgZXZlbnQNCiAgICAgICAgVG9rZW5Cb3VnaHQobXNnLnNlbmRlciwgdG9rZW5Ub0J1eWVyLCB3ZWlGb3JGdW5kYXJpYVBvb2wsIHdlaUZvckJvbnVzRnVuZCwgcmV0dXJuZWRXZWkpOw0KICAgIH0NCiAgICANCiAgICAvLyBQcmV2ZW50cyBhY2NpZGVudGFsIHNlbmRpbmcgb2YgZXRoZXINCiAgICBmdW5jdGlvbiAoKSB7DQoJICAgIHRocm93OyANCiAgICB9ICAgICAgDQoNCn0='