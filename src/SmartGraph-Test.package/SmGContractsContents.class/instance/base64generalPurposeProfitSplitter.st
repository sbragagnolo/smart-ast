base 64 content
base64generalPurposeProfitSplitter
	^'Ly8gQUxQSEEgMC4xLjAgR2VuZXJhbCBQdXJwb3NlIFByb2ZpdCBTcGxpdHRlcg0KDQovLyBJTlNFUlQgQU5ZVEhJTkcgQUJPVkUgMSBGSU5ORVkgVE8gQkUgQSBDT05UUklCVVRPUi4NCi8vIFRPIElOU0VSVCBQUk9GSVQsIFNFTkQgMSBGSU5ORVkgVE8gVEhJUyBDT05UUkFDVCBGSVJTVCENCi8vIFRIRU4gWU9VIEhBVkUgVE8gU0VORCBUSEUgUFJPRklUIERJUkVDVExZIEFGVEVSIC0gSU4gMSBUUkFOU0FDVElPTiAtIFdJVEggVEhFIFNBTUUgQUREUkVTUyENCg0KLy8gTk8gQ09QWVJJR0hULCBOTyBGRUVTLCBOTyBPV05FUiAoT25seSBhbiBvd25lciBpbiBiZXRhKQ0KLy8gQ09QWSBUSElTIENPREUgQUxMIFlPVSBXQU5UIChub3QgbXkgcmVzcG9uc2liaWxpdHkpDQoNCi8vIElGIFlPVSdSRSBJTkVYUEVSSUVOQ0VEIElOIENPRElORywgQlVUIFdJTExJTkcgVE8gTEVBUk4uIEknTEwgVFJZIFRPIERFU0NSSUJFIEVWRVJZVEhJTkcgVEhFIEJFU1QgSSBDQU4hDQovLyBJJ00gQU4gSU5FWFBFUklFTkNFRCBDT0RFUiBNWVNFTEYuDQovLyBZT1UgQ0FOIFRFTEwsIEJFQ0FVU0UgSSBIQVZFIE5PIElERUEgSE9XIFZFUlNJT04gTlVNQkVSUyBXT1JLLg0KDQpjb250cmFjdCBHZW5lcmFsUHVycG9zZVByb2ZpdFNwbGl0dGVyIHsgICAgICAgICAvLyBUaXRsZSBvZiB0aGUgY29udHJhY3QsIHlvdSBoYXZlIHRvIGdpdmUgaXQgYSBuYW1lLg0KDQogICAgc3RydWN0IENvbnRyaWJ1dG9yIHsgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBhIGRhdGFiYXNlIG9mIGNvbnRyaWJ1dG9ycywgdGhlIGFkZHJlc3MsIGNvbnRyaWJ1dGlvbiBhbmQgcHJvZml0cyBhcmUgc2F2ZWQuDQogICAgICAgIGFkZHJlc3MgYWRkcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBjb250cmlidXRvcnMgYWRkcmVzcw0KICAgICAgICB1aW50IGluZGV4OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlcmUgZG9lcyB0aGUgY29udHJpYnV0b3Igc3RhbmQgaW4gdGhlIGRhdGFiYXNlIGluZGV4Pw0KICAgICAgICB1aW50IGNvbnRyaWJ1dGlvbjsgICAgICAgICAgICAgICAgICAgICAgLy8gaG93IG11Y2ggdGhlIGNvbnRyaWJ1dG9yIGhhcyBjb250cmlidXRlZCBpbiB0aGUgY29udHJhY3QNCiAgICAgICAgdWludCBwcm9maXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdyBtdWNoIHByb2ZpdCB0aGUgY29udHJpYnV0b3IgaGFzIG1hZGUsIGJlY2F1c2Ugb2YgdGhlIGNvbnRyaWJ1dGlvbg0KICAgICAgICB1aW50IHRvdGFsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaG93IG11Y2ggZG9lcyB0aGlzIGNvbnRyaWJ1dG9yIGhhdmUgaW4gdG90YWw/DQogICAgICAgIHVpbnQgbGFzdENvbnRyaWJ1dGlvbjsgICAgICAgICAgICAgICAgICAvLyBob3cgbXVjaCBkaWQgdGhlIGNvbnRyaWJ1dG9yIGNvbnRyaWJ1dGUgbGFzdCB0aW1lPw0KICAgICAgICB1aW50IGxhc3RQcm9maXQ7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gaG93IG11Y2ggd2FzIHRoZSBsYXN0IHByb2ZpdCBhbW91bnQ/DQogICAgICAgIHVpbnQgbGFzdFByb2ZpdFNoYXJlOyAgICAgICAgICAgICAgICAgICAvLyBob3cgbXVjaCBzaGFyZSBkaWQgdGhlIGNvbnRyaWJ1dG9yIGhhdmUgbGFzdCB0aW1lIHByb2ZpdCB3YXMgZGlzdHJlYnV0ZWQ/DQogICAgICAgIHVpbnQgbGFzdFBheW91dDsgICAgICAgICAgICAgICAgICAgICAgICAvLyBob3cgbXVjaCBkaWQgdGhlIGNvbnRyaWJ1dG9yIHBheSBvdXQgdGhlIGxhc3QgdGltZT8NCiAgICAgICAgc3RyaW5nIGVycm9yOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIHNvbWV0aGluZyB3cm9uZyB5b3Ugd2lsbCBrbm93DQogICAgfQ0KICAgIA0KICAgIENvbnRyaWJ1dG9yW10gcHVibGljIGNvbnRyaWJ1dG9yczsgICAgICAgICAgLy8gdXNlIGNvbnRyaWJ1dG9yc1tpbmRleCBvZiBjb250cmlidXRvcl0uYWRkci9jb250cmlidXRpb24vcHJvZml0LiB0byBnZXQgZGF0YSBmcm9tIHRoYXQgY29udHJpYnV0b3IuDQogICAgdWludCBjb250cmlidXRvckZvdW5kID0gMDsgICAgICAgICAgICAgICAgICAvLyBpZiBhIGNvbnRyaWJ1dG9yIGlzIGZvdW5kIHRoaXMgdmFsdWUgdHVybnMgaW50byBhbiBpbmRleCBudW1iZXIgbGF0ZXIgb24NCiAgICB1aW50IGNvbnRyaWJ1dG9yVG90YWwgPSAwOyAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBjb250cmlidXRvcnMgY29udHJpYnV0aW9uICsgcHJvZml0cw0KICAgIHVpbnQgY29udHJpYnV0b3JTaGFyZSA9IDA7ICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBob3cgbXVjaCB0aGF0IHRvdGFsIGlzIGluIGNvbXBhcmlzb24gd2l0aCBhbGwgY29udHJpYnV0aW9ucw0KICAgIHVpbnQgcHVibGljIGNvbnRyaWJ1dG9yc0luZGV4ID0gMDsgICAgICAgICAgLy8gdGhpcyBjb3VudHMgaG93IG1hbnkgY29udHJpYnV0b3JzIGFyZSBpbiB0aGUgY29udHJhY3QuDQogICAgDQogICAgdWludCBwdWJsaWMgdG90YWxDb250cmlidXRvcnNDb250cmlidXRpb24gPSAwOyAgICAvLyB0aGlzIGNvdW50cyBob3cgbXVjaCBjb250cmlidXRpb24gaW4gdG90YWwgaXMgaW4gdGhlIGNvbnRyYWN0Lg0KICAgIHVpbnQgcHVibGljIHRvdGFsQ29udHJpYnV0b3JzUHJvZml0ID0gMDsgICAgLy8gdGhpcyBjb3VudHMgaG93IG11Y2ggcHJvZml0cyBpbiB0b3RhbCBpcyBzdGlsbCBpbiB0aGUgY29udHJhY3QuDQogICAgdWludCB0b3RhbENvbnRyaWJ1dG9yc1RvdGFsID0gMDsgICAgICAgICAgICAvLyBjb3VudHMgdXAgYWxsIHRoZSBjb250cmlidXRpb24gYW5kIGFsbCB0aGUgcHJvZml0cyBub3cgaW4gY29udHJhY3QuDQogICAgYWRkcmVzcyBwdWJsaWMgYmV0YTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IE1FIGNhbiBkZWNpZGUgdG8gZ2l2ZSBhbGwgdGhlIGNvbnRyaWJ1dGlvbnMgYW5kIHByb2ZpdCBiYWNrIHRvIHRoZSBjb250cmlidXRvcnMuIExBU1QgUkVTT1JUIG9yIFNDSEVEVUxFRCENCiAgICBhZGRyZXNzIHB1YmxpYyBuZXh0SW5wdXRQcm9maXQ7ICAgICAgICAgICAgIC8vIElGIHlvdSBpbnNlcnRlZCAxIGZpbm5leSBpbiB0aGUgY29udHJhY3QgZmlyc3QsIFRIRU4gdGhhdCBhZGRyZXNzIHdpbGwgYmUgc2F2ZWQgZm9yIHRoZSBuZXh0IGNvbnRyYWN0IGV4ZWN1dGlvbi4NCiAgICANCiAgICB1aW50IGkgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpIGdldHMgdXNlZCB0byBmaW5kIGEgY29udHJpYnV0b3IgZm9yIGNlcnRhaW4gZnVuY3Rpb25zDQogICAgdWludCBjb3JyZWN0UHJvZml0ID0gMDsgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIGkgdGFrZSAxIGZpbm5leSBhd2F5IGZvciByZWNvZ25pdGlvbiwgSSB3aWxsIGhhdmUgdG8gYWRkIG9uZSBsYXRlci4NCiAgICANCiAgICBmdW5jdGlvbiBHZW5lcmFsUHVycG9zZVByb2ZpdFNwbGl0dGVyKCkgeyAgIC8vIHdpdGhvdXQgdGhpcywgbWlzdCBicm93c2VyIGRvZXNuJ3Qga25vdyBob3cgdG8gZGVwbG95IHRoaXMgY29udHJhY3QsIGFzIGZhciBhcyBJIGtub3cNCiAgICAgICAgYmV0YSA9IG1zZy5zZW5kZXI7ICAgICAgICAgICAgICAgICAgICAgIC8vIEkgYW0gdGhlIGJldGEtYWRkcmVzcyBzbyBJIGNhbiBnaXZlIGV0aGVyIGJhY2sgaWYgZXZlcnl0aGluZyBnb2VzIHdyb25nDQogICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBREQgdHdvIGxpbmVzIG9mIGNvZGUgZW1wdHkgYmV0d2VlbiBmdW5jdGlvbnMuIEkgZG9uJ3Qga25vdyB3aHksIGJ1dCBJIHJlYWQgaXQgc29tZXdoZXJlIHRoYXQgeW91IGhhdmUgdG8uDQoNCiAgICANCiAgICBmdW5jdGlvbigpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaGFzIG5vIG5hbWUsIHdoaWNoIG1lYW5zIHRoYXQgdGhpcyBmdW5jdGlvbiB3aWxsIGdldCB0cmlnZ2VyZWQgd2hlbiBvbmx5IG1vbmV5IGdldHMgc2VuZA0KICAgICAgICBpZiAobXNnLnZhbHVlIDwgMSBmaW5uZXkpIHsgICAgICAgICAgICAgLy8gRE9OJ1QgU0VORCBTT01FVEhJTkcgTEVTUyBUSEVOIDEgRklOTkVZIFRPIFRISVMgQ09OVFJBQ1QNCiAgICAgICAgICAgIG1zZy5zZW5kZXIuc2VuZChtc2cudmFsdWUpOyAgICAgICAgIC8vIHdlbGwgeW91IGNhbiwgYnV0IHRoaXMgY29udHJhY3Qgd2lsbCBqdXN0IHNlbmQgaXQgYmFjaywgYWxsIHRoZSB3YXN0ZWQgZ2FzDQogICAgICAgICAgICB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2Ugd2lsbCBwcmV0ZW5kIGl0IG5ldmVyIGhhcHBlbmVkDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChtc2cudmFsdWUgPT0gMSBmaW5uZXkpIHsgICAgICAgICAgICAvLyBJRiB0aGUgdmFsdWUgeW91IHNlbmQgdG8gdGhpcyBjb250cmFjdCBpcyAxIGZpbm5leQ0KICAgICAgICAgICAgbmV4dElucHV0UHJvZml0ID0gbXNnLnNlbmRlcjsgICAgICAgLy8gVEhFTiB0aGUgYWRkcmVzcyB3aWxsIGdldCBzYXZlZCBhcyBuZXh0SW5wdXRQcm9maXQsIGJlY2F1c2UgdGhlIG5leHQgaW5wdXQgd2lsbCBiZSBwcm9maXQNCiAgICAgICAgICAgIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRIRU4gVEhFIE9USEVSIENPTlRSQUNUIHRoYXQgcHJvdmlkZXMgdGhlIHByb2ZpdCBIQVMgdG8gc2VuZCB0aGUgcHJvZml0IHRvIHRoaXMgY29udHJhY3QgV0lUSCBUSEUgU0FNRSBBRERSRVNTDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChuZXh0SW5wdXRQcm9maXQgPT0gbXNnLnNlbmRlcikgeyAgICAvLyBJRiB0aGlzIGlzIHRoZSBzZWNvbmQgdGltZSB0aGUgc21hcnRjb250cmFjdCB0aGF0IHByb3ZpZGVzIHByb2ZpdCBpbnNlcnQgZXRoZXIsIGl0IGNoZWNrcyBpdHMgYWRkcmVzcyB0byBzZWUgaWYgaXQgbWF0Y2hlcw0KICAgICAgICAgICAgbmV4dElucHV0UHJvZml0ID0gMDsgICAgICAgICAgICAgICAgLy8gdGhpcyByZXNldHMgdGhlIG5leHRJbnB1dFByb2ZpdCB0byBub3RoaW5nLiBiZWNhdXNlIHRoZSBjb2RlIGlzIG5vdyBiZWluZyBleGVjdXRlZCBhbmQgd29uJ3QgYmUgZXhlY3V0ZWQgYWdhaW4sIHVubGVzcyBpdCBzZW5kcyAxIGZpbm5leSBhZ2Fpbi4NCiAgICAgICAgICAgIGNvcnJlY3RQcm9maXQgPSBtc2cudmFsdWUgKyAxIGZpbm5leTsgLy8gdGhpcyBhZGRzIHRoZSAxIGZpbm5leSB0aGF0IHdhcyB0YWtlbiBhd2F5IGZvciBjb2RlIHJlY29nbml0aW9uLg0KICAgICAgICAgICAgaW5zZXJ0UHJvZml0SGVyZSgpOyAgICAgICAgICAgICAgICAgLy8gR08gVE8gdGhlIGZ1bmN0aW9uIHRoYXQgZGVzdHJpYnV0ZXMgcHJvZml0cy4NCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUYgeW91J3JlIE5PVCBhIHByb2ZpdCBwcm92aWRpbmcgc21hcnRjb250cmFjdCBhbmQgaGF2ZSBOT1QgaW5zZXJ0ZWQgMSBmaW5uZXkgZmlyc3QsIHRoZW4gdGhlIGNvbnRyYWN0IHJlY29nbml6ZXMgeW91IGFzIGNvbnRyaWJ1dG9yDQogICAgICAgICAgICBmb3IoaTsgaTxjb250cmlidXRvcnMubGVuZ3RoOyBpKyspIHsvLyB0aGlzIHdpbGwgZ28gdGhyb3VnaCBBTEwgY29udHJpYnV0b3JzIHVudGlsbCBpdCBoYXMgZm91bmQgYSBtYXRjaGluZyBhZGRyZXNzIChMRUFSTiBBQk9VVCBGT1IgTE9PUFMgT04gR09PR0xFIChpZiBpdCBzdGlsbCBleGlzdHMpKQ0KICAgICAgICAgICAgICAgIGlmIChjb250cmlidXRvcnNbaV0uYWRkciA9PSBtc2cuc2VuZGVyKSB7Ly8gSWYgaXQgaGFzIGZvdW5kIG9uZSwgaXQnbGwgcHJldmVudCB0aGUgc2FtZSBjb250cmlidXRvciBhZGRlZCB0d2ljZQ0KICAgICAgICAgICAgICAgICAgICBjb250cmlidXRvckZvdW5kID0gaTsgICAgICAgLy8gdGhlbiB0aGUgbnVtYmVyIGkgaXMgdGhlIGNvbnRyaWJ1dG9ycyBpbmRleCBudW1iZXIuDQogICAgICAgICAgICAgICAgICAgIGkgPSBjb250cmlidXRvcnMubGVuZ3RoOyAgICAvLyB0aGlzIHdpbGwgbWFrZSB0aGUgZm9yIGxvb3Agc3RvcCwgdG8gc2F2ZSBnYXMuDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaSA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRzIHRoYXQgaSB0aGluZ3kgYmFjayB0byB6ZXJvLCBiZWNhdXNlLi4uIHlvdSBrbm93LiANCiAgICAgICAgICAgIGlmIChjb250cmlidXRvckZvdW5kID4gMCkgeyAgICAgICAgIC8vIGlmIHRoZSBjb250cmlidXRvcnNGb3VuZCBpcyBOT1QgMCwgbGlrZSBpbiB0aGUgYmVnaW5uaW5nIG9mIHRoaXMgY29udHJhY3QsIHRoYXQgbWVhbnMgdGhpcyBpcyBub3QgdGhlIGZpcnN0IHRpbWUgdGhpcyBhZGRyZXNzIGNvbnRyaWJ1dGVkDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLmNvbnRyaWJ1dGlvbiArPSBtc2cudmFsdWU7IC8vIGFkZCB0aGUgbmV3IGNvbnRyaWJ1dGlvbiB2YWx1ZSB0byB0aGUgZXhpc3RpbmcgY29udHJpYnV0aW9uIHZhbHVlDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLnRvdGFsID0gY29udHJpYnV0b3JUb3RhbDsgLy8gZm9yIHNob3cgaW4gTWlzdCBCcm93c2VyDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLmxhc3RDb250cmlidXRpb24gPSBtc2cudmFsdWU7IC8vIGZvciBzaG93IGluIE1pc3QgQnJvd3Nlcg0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yVG90YWwgPSBjb250cmlidXRvcnNbY29udHJpYnV0b3JGb3VuZF0uY29udHJpYnV0aW9uICsgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLnByb2ZpdDsgICAvLyBDb3VudHMgdXAgdGhlIHRvdGFsIGFtb3VudCBhIGNvbnRyaWJ1dG9yIGhhcw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB5b3VyIGFkZHJlc3MgY29udHJpYnV0ZWQgaGVyZSwgd2VsY29tZSBmaXJzdCBvZiBhbGwsIGFuZCB5b3Ugd2lsbCBiZSBhZGRlZCBpbiB0aGUgZGF0YWJhc2UNCiAgICAgICAgICAgICAgICBjb250cmlidXRvcnNbY29udHJpYnV0b3JzSW5kZXhdLmFkZHIgPSBtc2cuc2VuZGVyOyAvLyBJRiB5b3UncmUgdGhlIGZpcnN0IGNvbnRyaWJ1dG9yLCB5b3Ugd2lsbCBnZXQgY29udHJpYnV0b3JzSW5kZXggbnVtYmVyIDAuDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yc0luZGV4XS5pbmRleCA9IGNvbnRyaWJ1dG9yc0luZGV4OyAvLyBzbyB5b3Uga25vdyB3aGVyZSB5b3Ugc3RhbmQgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yc0luZGV4XS5jb250cmlidXRpb24gPSBtc2cudmFsdWU7IC8vIHlvdXIgdmFsdWUgd2lsbCBub3cgYmUgc2VlbiBhcyBhIGNvbnRyaWJ1dGlvbiwgYW5kIHlvdSB3aWxsIHJlY2VpdmUgcHJvZml0cw0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yc1tjb250cmlidXRvcnNJbmRleF0udG90YWwgPSBtc2cudmFsdWU7ICAvLyBmb3Igc2hvdyBpbiBNaXN0IEJyb3dzZXINCiAgICAgICAgICAgICAgICBjb250cmlidXRvcnNbY29udHJpYnV0b3JzSW5kZXhdLmxhc3RDb250cmlidXRpb24gPSBtc2cudmFsdWU7IC8vIGZvciBzaG93IGluIE1pc3QgQnJvd3Nlcg0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yc0luZGV4ICs9IDE7ICAgICAgICAgLy8gYWRkIG9uZSB0byB0aGUgY29udHJpYnV0b3JzIGluZGV4LCBubyB0d28gY29udHJpYnV0b3JzIGdldHMgdGhlIHNhbWUgaW5kZXggbnVtYmVyDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0b3RhbENvbnRyaWJ1dG9yc0NvbnRyaWJ1dGlvbiArPSBtc2cudmFsdWU7ICAgLy8gSWYgeW91IHdhbnQgdG8gZ2l2ZSB5b3UncmUgY29udHJpYnV0b3JzIHRoZSBjb3JyZWN0IHNoYXJlIG9mIHByb2ZpdHMsIHRoZSB0b3RhbCBjb250cmlidXRvcnMgYW1vdW50IGhhcyB0byBiZSBjb3JyZWN0IGFsbCB0aGUgdGltZS4NCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICANCiAgICBmdW5jdGlvbiBpbnNlcnRQcm9maXRIZXJlKCkgeyAgICAgICAgICAgICAgIC8vIHNvIGlmIHRoZSBjb250cmFjdCByZWNvZ25pemVzIHlvdXIgaW5wdXQgYXMgcHJvZml0LCBpdCBleGVjdXRlcyB0aGlzIGZ1bmN0aW9uLiBZb3UgY2FuIGFsc28gdXNlIHRoZSBtaXN0IGJyb3dzZXIgdG8gYWRkIHByb2ZpdHMuDQogICAgICAgIHRvdGFsQ29udHJpYnV0b3JzVG90YWwgPSB0b3RhbENvbnRyaWJ1dG9yc1Byb2ZpdCArIHRvdGFsQ29udHJpYnV0b3JzQ29udHJpYnV0aW9uOyAvLyBjb3VudCB1cCBldmVyeXRoaW5nIHRvIGNhbGN1bGF0ZSBzaGFyZXMgbGF0ZXIgb24NCiAgICAgICAgaSA9IGNvbnRyaWJ1dG9ycy5sZW5ndGg7ICAgICAgICAgICAgICAgIC8vIEkgYmVnaW4gd2l0aCB0aGUgbGFzdCBjb250cmlidXRvciwgYmVjYXVzZSBsYXN0IGFkZGVkLCBmaXJzdCBzZXJ2ZWQuDQogICAgICAgIHVpbnQgQ29ycmVjdFByb2ZpdENvdW50ZXIgPSBjb3JyZWN0UHJvZml0OyAgLy8gSSBuZWVkIGFuIGFkZGl0aW9uYWwgY291bnRlciB0byBOT1QgZ2l2ZSBvdXQgdG9vIG11Y2ggcHJvZml0IHRoZW4gdGhhdCB0aGVyZSBpcy4NCiAgICAgICAgdWludCBhZGRlZFByb2ZpdDsgICAgICAgICAgICAgICAgICAgICAgIC8vYWZ0ZXIgY2FsY3VsYXRpbmcgc2hhcmVzLCBhZGRlZFByb2ZpdCBpcyB0aGUgYW1vdW50IG9uZSBjb250cmlidXRvciBnZXRzLg0KICAgICAgICB1aW50IGVycm9yQmVsb3cgPSAwOyAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGVyZSBpcyBub3QgZW5vdWdodCBwcm9maXQgdG8gc2hhcmUgYXJvdW5kLCBpZiBpdCBoYXBwZW5zLCBzb21ldGhpbmcgd2VudCB3cm9uZy4NCiAgICAgICAgICAgIGZvcihpOyBpID49IDA7IGktLSkgeyAgICAgICAgICAgICAgIC8vIHRoaXMgZ2F0aGVycyBhbGwgdGhlIGNvbnRyaWJ1dG9ycyBvbmUgYnkgb25lLCBzdGFydGluZyB3aXRoIHRoZSBsYXN0IGNvbnRyaWJ1dG9yDQogICAgICAgICAgICBjb250cmlidXRvclRvdGFsID0gY29udHJpYnV0b3JzW2ldLmNvbnRyaWJ1dGlvbiArIGNvbnRyaWJ1dG9yc1tpXS5wcm9maXQ7ICAgLy8gQ291bnRzIHVwIHRoZSB0b3RhbCBhbW91bnQgYSBjb250cmlidXRvciBoYXMNCiAgICAgICAgICAgIGNvbnRyaWJ1dG9yU2hhcmUgPSBjb250cmlidXRvclRvdGFsIC8gdG90YWxDb250cmlidXRvcnNUb3RhbDsgIC8vIGNvbXBhcmVzIGl0IHdpdGggdGhlIGFtb3VudCBvZiBhbGwgY29udHJpYnV0aW9uDQogICAgICAgICAgICBhZGRlZFByb2ZpdCA9IGNvbnRyaWJ1dG9yU2hhcmUgLyBjb3JyZWN0UHJvZml0OyAgICAvLyB0aGUgY29udHJhY3QgZ2l2ZXMgdGhlIGNvbnRyaWJ1dG9yIHRoZSBmYWlyIHNoYXJlIGluIGNvbXBhcmlzb24gb2YgdGhlIHJlc3Qgb2YgYWxsIHRoZSBjb250cmlidXRvcnMNCiAgICAgICAgICAgIENvcnJlY3RQcm9maXRDb3VudGVyIC09IGFkZGVkUHJvZml0Oy8vIEkgZG9uJ3Qgd2FudCB0aGUgY29udHJhY3QgYmFsYW5jZSB0byBiZSBiZWxvdyB6ZXJvLCBiZWNhdXNlIG9mIG1pc2NhbGN1bGF0aW9ucywgc28gSSBrZWVwIHN1YnRyYWN0aW5nIHRvIGNoZWNrDQogICAgICAgICAgICBpZiAoQ29ycmVjdFByb2ZpdENvdW50ZXIgPiAwKXsgICAgICAvLyBpZiB0aGVyZSBpcyBzdGlsbCBlbm91Z2ggcHJvZml0IHRvIHNoYXJlLCBzaGFyZSBpdC4gSWYgaXQgZG9lc24ndCwgdGhlbiBzb21ldGhpbmcgd2VudCB3cm9uZy4NCiAgICAgICAgICAgICAgICBjb250cmlidXRvcnNbaV0ucHJvZml0ICs9IGFkZGVkUHJvZml0OyAgLy8gYWRkIHRoZSBwcm9maXQgdG8gdGhlIGNvbnRyaWJ1dG9ycyBkYXRhYmFzZSBpbmRleA0KICAgICAgICAgICAgICAgIHRvdGFsQ29udHJpYnV0b3JzUHJvZml0ICs9IGFkZGVkUHJvZml0OyAvLyBhbHNvIGFkZCB0aGF0IHNhbWUgYW1vdW50IHRvIHRoZSB0b3RhbCBvZiBhbGwgY29udHJpYnV0b3JzDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2ldLmxhc3RQcm9maXQgPSBhZGRlZFByb2ZpdDsgLy8gQWxzbyBmb3Igc2hvdyBpbiB0aGUgTWlzdCBicm93c2VyICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBjb2RlIGdldHMgZXhlY3V0ZXMsIHRoZW4gc29tZXRoaW5nIHdlbnQgd3JvbmcgYW5kIHRoZSBkdXBlZCBvbmVzIGdldCBub3RpZmllZA0KICAgICAgICAgICAgICAgIGVycm9yQmVsb3cgPSBpOyAgICAgICAgICAgICAgICAgLy8gbGV0J3MgaG9wZSB0aGlzIG5ldmVyIGhhcHBlbnMNCiAgICAgICAgICAgICAgICBpID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWFrZXMgdGhlIGZvciBsb29wIHN0b3ANCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZXJyb3JCZWxvdyA+PSAwKXsgICAgICAgICAgICAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmcsIHdlIGhhdmUgdG8gdGVsbCB0aGUgZHVwZWQgYWJvdXQgaXQgcXVpY2shDQogICAgICAgICAgICBmb3IoZXJyb3JCZWxvdzsgZXJyb3JCZWxvdyA+IDA7IGVycm9yQmVsb3ctLSkgeyAvLyBmb3IgbG9vcCB0byB0ZWxsIHRoZSBvbmVzIHdobyBhcmUgZHVwZWQgdGhhdCBzb21ldGhpbmcgd2VudCB3cm9uZw0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yc1tlcnJvckJlbG93XS5lcnJvciA9ICJQbGVhc2UgY2FzaCBhbGwgb3V0IGFuZCByZWNvbnRyaWJ1dGUgdG8gY29udGludWUgZ2V0dGluZyBwcm9maXQiOyAvLyBoYWhhIHF1aWNrZml4DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICANCiAgICBmdW5jdGlvbiBjYXNoT3V0UHJvZml0KCkgeyAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGJlc3QgcGFydCBmb3IgY29udHJpYnV0b3JzDQogICAgICAgIGZvcihpOyBpPGNvbnRyaWJ1dG9ycy5sZW5ndGg7IGkrKykgeyAgICAvLyBmb3IgbG9vcCBhZ2FpbiB0byBzZWFyY2ggeW91IHVwDQogICAgICAgICAgICBpZiAoY29udHJpYnV0b3JzW2ldLmFkZHIgPT0gbXNnLnNlbmRlcikgeyAgIC8vIHNlZSBpZiBpdCBtYXRjaGVzDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JGb3VuZCA9IGk7ICAgICAgICAgICAvLyB3ZSBmb3VuZCB5b3UNCiAgICAgICAgICAgICAgICBpID0gY29udHJpYnV0b3JzLmxlbmd0aDsgICAgICAgIC8vIHN0b3AgdGhlIGZvciBsb29wDQogICAgICAgICAgICAgICAgbXNnLnNlbmRlci5zZW5kKGNvbnRyaWJ1dG9yc1tjb250cmlidXRvckZvdW5kXS5wcm9maXQpOyAvLyBzZW5kIHRoZSBwcm9maXRzIHlvdSd2ZSBlYXJuZWQNCiAgICAgICAgICAgICAgICB0b3RhbENvbnRyaWJ1dG9yc1Byb2ZpdCAtPSBjb250cmlidXRvcnNbY29udHJpYnV0b3JGb3VuZF0ucHJvZml0OyAgIC8vIHJlbW92ZSB0aGUgcHJvZml0cyBmcm9tIHRoZSB0b3RhbCB0byBjb3JyZWN0bHkgY2FsY3VsYXRlIHNoYXJlcyBpbiB0aGUgZnV0dXJlDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLnByb2ZpdCA9IDA7ICAvLyBpZiB5b3UndmUgY2FzaGVkIGFsbCB5b3VyIHByb2ZpdCBvdXQsIHlvdSBoYXZlIG5vIG1vcmUgcHJvZml0IGluIHRoZSBjb250cmFjdA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgaSA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWlnaHQgYmUgdW5uZXNzZWNhcnksIGJ1dCB3aG8gY2FyZXMNCiAgICB9DQogICAgDQogICAgDQogICAgZnVuY3Rpb24gY2FzaEFsbE91dCgpIHsgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHdoZW4geW91IHdhbnQgdG8gc3RvcCBnZXR0aW5nIHByb2ZpdHMgYXMgd2VsbA0KICAgICAgICBmb3IoaTsgaTxjb250cmlidXRvcnMubGVuZ3RoOyBpKyspIHsgICAgLy8gZm9yIGxvb3AgdG8gc2VhcmNoIHlvdSB1cA0KICAgICAgICAgICAgaWYgKGNvbnRyaWJ1dG9yc1tpXS5hZGRyID09IG1zZy5zZW5kZXIpIHsgICAvLyBtYXRjaCBvciBubz8NCiAgICAgICAgICAgICAgICBjb250cmlidXRvckZvdW5kID0gaTsgICAgICAgICAgIC8vIHRhZGFhYWENCiAgICAgICAgICAgICAgICBpID0gY29udHJpYnV0b3JzLmxlbmd0aDsgICAgICAgIC8vIHN0b3AgdGhlIGZvciBsb29wIHBsZWFzZQ0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yVG90YWwgPSBjb250cmlidXRvcnNbY29udHJpYnV0b3JGb3VuZF0uY29udHJpYnV0aW9uICsgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLnByb2ZpdDsgLy8gY291bnQgYWxsIHlvdXIgZnVuZHMgdXANCiAgICAgICAgICAgICAgICBtc2cuc2VuZGVyLnNlbmQoY29udHJpYnV0b3JUb3RhbCk7ICAvLyBhbmQgc2VuZCBpdCBiYWNrIHRvIHlvdSwgaGF2ZSBmdW4NCiAgICAgICAgICAgICAgICB0b3RhbENvbnRyaWJ1dG9yc0NvbnRyaWJ1dGlvbiAtPSBjb250cmlidXRvcnNbY29udHJpYnV0b3JGb3VuZF0uY29udHJpYnV0aW9uOyAgIC8vIHRvIGNvcnJlY3Qgc2hhcmVzIGxhdGVyDQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLmNvbnRyaWJ1dGlvbiA9IDA7ICAgIC8vIGFsbCBnb25lLCBiZWNhdXNlIHlvdSBjYXNoZWQgb3V0DQogICAgICAgICAgICAgICAgdG90YWxDb250cmlidXRvcnNQcm9maXQgLT0gY29udHJpYnV0b3JzW2NvbnRyaWJ1dG9yRm91bmRdLnByb2ZpdDsgICAvLyB0byBjb3JyZWN0IHRoZSBzaGFyZXMgbGF0ZXIgYWxzbw0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yc1tjb250cmlidXRvckZvdW5kXS5wcm9maXQgPSAwOyAgLy8gbm8gcHJvZml0IGlmIHlvdSd2ZSBhc2tlZCBmb3IgaXQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICB9DQogICAgICAgIGkgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBlbmQgSSBndWVzcw0KICAgIH0NCiAgICANCiAgICANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLy0tLS0tLUFMUEhBL0JFVEEgRlVOQ1RJT05TIE9OTFktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBnaXZlQWxsQmFjaygpIHsgICAgICAgICAgICAgICAgICAgIC8vIFRJTUUgVE8gWUVMTCBTQ0FNIQ0KICAgICAgICBpZiAoYmV0YSA9PSBtc2cuc2VuZGVyKSB7ICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBhZGRyZXNzIGV4ZWN1dGluZyB0aGlzIGZ1bmN0aW9uIGlzIGFsc28gdGhlIG93bmVyLCB0byBiZSBzdXJlDQogICAgICAgICAgICBmb3IoaTsgaTxjb250cmlidXRvcnMubGVuZ3RoOyBpKyspIHsvLyBvdyBuZXZlcm1pbmQuLg0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yVG90YWwgPSBjb250cmlidXRvcnNbaV0uY29udHJpYnV0aW9uICsgY29udHJpYnV0b3JzW2ldLnByb2ZpdDsgICAvLyBjb3VudCB1cCBob3cgbXVjaCB0aGUgY29udHJpYnV0b3JzIGhhdmUgaW5kaXZpZHVhbGx5DQogICAgICAgICAgICAgICAgY29udHJpYnV0b3JzW2ldLmFkZHIuc2VuZChjb250cmlidXRvclRvdGFsKTsgICAgLy8gYWFhYW5kIHNlbmQgaXQgYmFjaw0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yc1tpXS5jb250cmlidXRpb24gPSAwOyAvLyByZXNldCBhbGwgdGhlIGJhbGFuY2VzDQogICAgICAgICAgICAgICAgdG90YWxDb250cmlidXRvcnNDb250cmlidXRpb24gPSAwOyAgIC8vIGJhbGFuY2UgcmVzZXQNCiAgICAgICAgICAgICAgICBjb250cmlidXRvcnNbaV0ucHJvZml0ID0gMDsgLy8gbmV2ZXIgaGFkIGEgcmVzZXQgdG8gc2VyaW91cw0KICAgICAgICAgICAgICAgIHRvdGFsQ29udHJpYnV0b3JzUHJvZml0ID0gMDsgICAgLy8gYmFsYW5jZSByZXNldA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaSA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VhcmNoIGZ1bmN0aW9uIHN0dWZmDQogICAgICAgIH0NCiAgICB9DQogICAgDQoNCiAgICBmdW5jdGlvbiBnaXZlQ29udHJpYnV0aW9uc0JhY2tQcm9maXRCdWdnZWQoKSB7ICAvLyBZZWFoIG5vdyB5b3UgY2FuIHllbGwgc2NhbSENCiAgICAgICAgaWYgKGJldGEgPT0gbXNnLnNlbmRlcikgeyAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGUgYWRkcmVzcyBleGVjdXRpbmcgdGhpcyBmdW5jdGlvbiBpcyBhbHNvIHRoZSBvd25lciwgb3IgZWxzZSBldmVyeW9uZSBjYW4gZG8gdGhpcw0KICAgICAgICAgICAgZm9yKGk7IGk8Y29udHJpYnV0b3JzLmxlbmd0aDsgaSsrKSB7ICAgIC8vIGdldCBhbGwgdGhlIGNvbnRyaWJ1dG9ycw0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yVG90YWwgPSBjb250cmlidXRvcnNbaV0uY29udHJpYnV0aW9uOyAgICAvLyBvbmx5IGdpdmUgYmFjayBhbGwgdXNlciBjb250cmlidXRpb24NCiAgICAgICAgICAgICAgICBjb250cmlidXRvcnNbaV0uY29udHJpYnV0aW9uID0gMDsgLy8gcmVzZXQgZXZlcnl0aGluZw0KICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yc1tpXS5hZGRyLnNlbmQoY29udHJpYnV0b3JUb3RhbCk7IC8vIFllYWggc28gdGhlIGNvbnRyYWN0IG5vdyBvbmx5IGhhcyBjbGFpbWFibGUgcHJvZml0cyBsZWZ0DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhdCBsZWFzdCBJIHRyaWVkIG1ha2luZyB0aGlzIHNtYXJ0Y29udHJhY3QNCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgZnVuY3Rpb24gRm9raXRvbCgpIHsgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY3JlYW0gc2NhbSBOT1chISBJZiB5b3UgZG9uJ3QsIHBlb3BsZSB3aWxsIGJlIGJhaXRlZCBhbmQgdGhlIHdvcmxkIGFzIHdlIGtub3cgaXQgd2lsbCBlbmQhIQ0KICAgICAgICBpZiAoYmV0YSA9PSBtc2cuc2VuZGVyKSB7ICAgICAgICAgICAgICAgLy8gaXMgaXQgdGhlIGRlcGxveWVyPw0KICAgICAgICAgICAgYmV0YS5zZW5kKHRoaXMuYmFsYW5jZSk7ICAgICAgICAgICAgLy8gc2VuZCBoaW0gZXZlcnl0aGluZywgd2hpY2ggaXMgc3VwZXIgbGFtZSB0byBkbyBpZiB0aGVyZSBhcmUgb3RoZXIgcGVvcGxlIGNvbnRyaWJ1dGluZyBhcyB3ZWxsLg0KICAgICAgICB9DQogICAgfQ0KICAgIA0KfQ=='