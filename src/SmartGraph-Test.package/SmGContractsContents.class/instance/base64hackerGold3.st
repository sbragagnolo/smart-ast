base 64 content
base64hackerGold3
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4wOw0KDQovKg0KICogVG9rZW4gLSBpcyBhIHNtYXJ0IGNvbnRyYWN0IGludGVyZmFjZSANCiAqIGZvciBtYW5hZ2luZyBjb21tb24gZnVuY3Rpb25hbGl0eSBvZiANCiAqIGEgdG9rZW4uDQogKg0KICogRVJDLjIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoIGVyZXVtL0VJUHMvaXNzdWVzLzIwDQogKi8NCmNvbnRyYWN0IFRva2VuSW50ZXJmYWNlIHsNCg0KICAgICAgICANCiAgICAvLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zDQogICAgdWludCB0b3RhbFN1cHBseTsNCg0KICAgIA0KICAgIC8qKg0KICAgICAqDQogICAgICogYmFsYW5jZU9mKCkgLSBjb25zdGFudCBmdW5jdGlvbiBjaGVjayBjb25jcmV0ZSB0b2tlbnMgYmFsYW5jZSAgDQogICAgICoNCiAgICAgKiAgQHBhcmFtIG93bmVyIC0gYWNjb3VudCBvd25lcg0KICAgICAqICANCiAgICAgKiAgQHJldHVybiB0aGUgdmFsdWUgb2YgYmFsYW5jZSANCiAgICAgKi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7DQogICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvKioNCiAgICAgKg0KICAgICAqIGFwcHJvdmUoKSAtIGZ1bmN0aW9uIGFwcHJvdmVzIHRvIGEgcGVyc29uIHRvIHNwZW5kIHNvbWUgdG9rZW5zIGZyb20gDQogICAgICogICAgICAgICAgIG93bmVyIGJhbGFuY2UuIA0KICAgICAqDQogICAgICogIEBwYXJhbSBzcGVuZGVyIC0gcGVyc29uIHdob20gdGhpcyByaWdodCBiZWVuIGdyYW50ZWQuDQogICAgICogIEBwYXJhbSB2YWx1ZSAgIC0gdmFsdWUgdG8gc3BlbmQuDQogICAgICogDQogICAgICogIEByZXR1cm4gdHJ1ZSBpbiBjYXNlIG9mIHN1Y2Nlcywgb3RoZXJ3aXNlIGZhaWx1cmUNCiAgICAgKiANCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCg0KICAgIC8qKg0KICAgICAqDQogICAgICogYWxsb3dhbmNlKCkgLSBjb25zdGFudCBmdW5jdGlvbiB0byBjaGVjayBob3cgbXVjaCBpcyANCiAgICAgKiAgICAgICAgICAgICAgIHBlcm1pdHRlZCB0byBzcGVuZCB0byAzcmQgcGVyc29uIGZyb20gb3duZXIgYmFsYW5jZQ0KICAgICAqDQogICAgICogIEBwYXJhbSBvd25lciAgIC0gb3duZXIgb2YgdGhlIGJhbGFuY2UNCiAgICAgKiAgQHBhcmFtIHNwZW5kZXIgLSBwZXJtaXR0ZWQgdG8gc3BlbmQgZnJvbSB0aGlzIGJhbGFuY2UgcGVyc29uIA0KICAgICAqICANCiAgICAgKiAgQHJldHVybiAtIHJlbWFpbmluZyByaWdodCB0byBzcGVuZCANCiAgICAgKiANCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7DQoNCiAgICAvLyBldmVudHMgbm90aWZpY2F0aW9ucw0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KfQ0KDQovKg0KICogU3RhbmRhcmRUb2tlbiAtIGlzIGEgc21hcnQgY29udHJhY3QgIA0KICogZm9yIG1hbmFnaW5nIGNvbW1vbiBmdW5jdGlvbmFsaXR5IG9mIA0KICogYSB0b2tlbi4NCiAqDQogKiBFUkMuMjAgVG9rZW4gc3RhbmRhcmQ6IA0KICogICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXRoIGVyZXVtL0VJUHMvaXNzdWVzLzIwDQogKi8NCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW5JbnRlcmZhY2Ugew0KDQoNCiAgICAvLyB0b2tlbiBvd25lcnNoaXANCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KDQogICAgLy8gc3BlbmRpbmcgcGVybWlzaW9uIG1hbmFnZW1lbnQNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQogICAgDQogICAgDQogICAgDQogICAgZnVuY3Rpb24gU3RhbmRhcmRUb2tlbigpew0KICAgIH0NCiAgICANCiAgICANCiAgICAvKioNCiAgICAgKiB0cmFuc2ZlcigpIC0gdHJhbnNmZXIgdG9rZW5zIGZyb20gbXNnLnNlbmRlciBiYWxhbmNlIA0KICAgICAqICAgICAgICAgICAgICB0byByZXF1ZXN0ZWQgYWNjb3VudA0KICAgICAqDQogICAgICogIEBwYXJhbSB0byAgICAtIHRhcmdldCBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2Vucw0KICAgICAqICBAcGFyYW0gdmFsdWUgLSBhbW1vdW50IG9mIHRva2VucyB0byB0cmFuc2Zlcg0KICAgICAqDQogICAgICogIEByZXR1cm4gLSBzdWNjZXNzIC8gZmFpbHVyZSBvZiB0aGUgdHJhbnNhY3Rpb24NCiAgICAgKi8gICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHZhbHVlICYmIHZhbHVlID4gMCkgew0KDQogICAgICAgICAgICAvLyBkbyBhY3R1YWwgdG9rZW5zIHRyYW5zZmVyICAgICAgIA0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1t0b10gICAgICAgICArPSB2YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gcmlzZSB0aGUgVHJhbnNmZXIgZXZlbnQNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIHRvLCB2YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyANCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICANCg0KICAgIA0KICAgIC8qKg0KICAgICAqIHRyYW5zZmVyRnJvbSgpIC0gDQogICAgICoNCiAgICAgKiAgQHBhcmFtIGZyb20gIC0gDQogICAgICogIEBwYXJhbSB0byAgICAtIA0KICAgICAqICBAcGFyYW0gdmFsdWUgLSANCiAgICAgKg0KICAgICAqICBAcmV0dXJuIA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgIA0KICAgICAgICBpZiAoIGJhbGFuY2VzW2Zyb21dID49IHZhbHVlICYmIA0KICAgICAgICAgICAgIGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0gPj0gdmFsdWUgJiYgDQogICAgICAgICAgICAgdmFsdWUgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICANCiAgICAgICAgICAgIC8vIGRvIHRoZSBhY3R1YWwgdHJhbnNmZXINCiAgICAgICAgICAgIGJhbGFuY2VzW2Zyb21dIC09IHZhbHVlOyAgICANCiAgICAgICAgICAgIGJhbGFuY2VzW3RvXSA9KyB2YWx1ZTsgICAgICAgICAgICANCiAgICAgICAgICAgIA0KDQogICAgICAgICAgICAvLyBhZGRqdXN0IHRoZSBwZXJtaXNpb24sIGFmdGVyIHBhcnQgb2YgDQogICAgICAgICAgICAvLyBwZXJtaXRlZCB0byBzcGVuZCB2YWx1ZSB3YXMgdXNlZA0KICAgICAgICAgICAgYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXSAtPSB2YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gcmlzZSB0aGUgVHJhbnNmZXIgZXZlbnQNCiAgICAgICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCB2YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgDQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgDQogICAgICAgIH0NCiAgICB9DQoNCiAgICANCg0KICAgIA0KICAgIC8qKg0KICAgICAqDQogICAgICogYmFsYW5jZU9mKCkgLSBjb25zdGFudCBmdW5jdGlvbiBjaGVjayBjb25jcmV0ZSB0b2tlbnMgYmFsYW5jZSAgDQogICAgICoNCiAgICAgKiAgQHBhcmFtIG93bmVyIC0gYWNjb3VudCBvd25lcg0KICAgICAqICANCiAgICAgKiAgQHJldHVybiB0aGUgdmFsdWUgb2YgYmFsYW5jZSANCiAgICAgKi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbb3duZXJdOw0KICAgIH0NCg0KICAgIA0KICAgIA0KICAgIC8qKg0KICAgICAqDQogICAgICogYXBwcm92ZSgpIC0gZnVuY3Rpb24gYXBwcm92ZXMgdG8gYSBwZXJzb24gdG8gc3BlbmQgc29tZSB0b2tlbnMgZnJvbSANCiAgICAgKiAgICAgICAgICAgb3duZXIgYmFsYW5jZS4gDQogICAgICoNCiAgICAgKiAgQHBhcmFtIHNwZW5kZXIgLSBwZXJzb24gd2hvbSB0aGlzIHJpZ2h0IGJlZW4gZ3JhbnRlZC4NCiAgICAgKiAgQHBhcmFtIHZhbHVlICAgLSB2YWx1ZSB0byBzcGVuZC4NCiAgICAgKiANCiAgICAgKiAgQHJldHVybiB0cnVlIGluIGNhc2Ugb2Ygc3VjY2VzLCBvdGhlcndpc2UgZmFpbHVyZQ0KICAgICAqIA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgDQogICAgICAgIC8vIG5vdyBzcGVuZGVyIGNhbiB1c2UgYmFsYW5jZSBpbiANCiAgICAgICAgLy8gYW1tb3VudCBvZiB2YWx1ZSBmcm9tIG93bmVyIGJhbGFuY2UNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHZhbHVlOw0KICAgICAgICANCiAgICAgICAgLy8gcmlzZSBldmVudCBhYm91dCB0aGUgdHJhbnNhY3Rpb24NCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdmFsdWUpOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLyoqDQogICAgICoNCiAgICAgKiBhbGxvd2FuY2UoKSAtIGNvbnN0YW50IGZ1bmN0aW9uIHRvIGNoZWNrIGhvdyBtb3VjaCBpcyANCiAgICAgKiAgICAgICAgICAgICAgIHBlcm1pdGVkIHRvIHNwZW5kIHRvIDNyZCBwZXJzb24gZnJvbSBvd25lciBiYWxhbmNlDQogICAgICoNCiAgICAgKiAgQHBhcmFtIG93bmVyICAgLSBvd25lciBvZiB0aGUgYmFsYW5jZQ0KICAgICAqICBAcGFyYW0gc3BlbmRlciAtIHBlcm1pdGVkIHRvIHNwZW5kIGZyb20gdGhpcyBiYWxhbmNlIHBlcnNvbiANCiAgICAgKiAgDQogICAgICogIEByZXR1cm4gLSByZW1haW5pbmcgcmlnaHQgdG8gc3BlbmQgDQogICAgICogDQogICAgICovDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICAgIHJldHVybiBhbGxvd2VkW293bmVyXVtzcGVuZGVyXTsNCiAgICB9DQoNCn0NCg0KLyoqDQogKg0KICogQHRpdGxlIEhhY2tlciBHb2xkDQogKiANCiAqIFRoZSBvZmZpY2lhbCB0b2tlbiBwb3dlcmluZyB0aGUgaGFjay5ldGhlci5jYW1wIHZpcnR1YWwgYWNjZWxlcmF0b3IuDQogKiBUaGlzIGlzIHRoZSBvbmx5IHdheSB0byBhY3F1aXJlIHRva2VucyBmcm9tIHN0YXJ0dXBzIGR1cmluZyB0aGUgZXZlbnQuDQogKg0KICogV2hpdGVwYXBlciBodHRwczovL2hhY2suZXRoZXIuY2FtcC93aGl0ZXBhcGVyDQogKg0KICovDQpjb250cmFjdCBIYWNrZXJHb2xkIGlzIFN0YW5kYXJkVG9rZW4gew0KDQogICAgLy8gTmFtZSBvZiB0aGUgdG9rZW4gICAgDQogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkhhY2tlckdvbGQiOw0KDQogICAgLy8gRGVjaW1hbCBwbGFjZXMNCiAgICB1aW50OCAgcHVibGljIGRlY2ltYWxzID0gMzsNCiAgICAvLyBUb2tlbiBhYmJyZXZpYXRpb24gICAgICAgIA0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkhLRyI7DQogICAgDQogICAgLy8gMSBldGhlciA9IDIwMCBoa2cNCiAgICB1aW50IEJBU0VfUFJJQ0UgPSAyMDA7DQogICAgLy8gMSBldGhlciA9IDE1MCBoa2cNCiAgICB1aW50IE1JRF9QUklDRSA9IDE1MDsNCiAgICAvLyAxIGV0aGVyID0gMTAwIGhrZw0KICAgIHVpbnQgRklOX1BSSUNFID0gMTAwOw0KICAgIC8vIFNhZmV0eSBjYXANCiAgICB1aW50IFNBRkVUWV9MSU1JVCA9IDQwMDAwMDAgZXRoZXI7DQogICAgLy8gWmVyb3MgYWZ0ZXIgdGhlIHBvaW50DQogICAgdWludCBERUNJTUFMX1pFUk9TID0gMTAwMDsNCiAgICANCiAgICAvLyBUb3RhbCB2YWx1ZSBpbiB3ZWkNCiAgICB1aW50IHRvdGFsVmFsdWU7DQogICAgDQogICAgLy8gQWRkcmVzcyBvZiBtdWx0aXNpZyB3YWxsZXQgaG9sZGluZyBldGhlciBmcm9tIHNhbGUNCiAgICBhZGRyZXNzIHdhbGxldDsNCg0KICAgIC8vIFN0cnVjdHVyZSBvZiBzYWxlIGluY3JlYXNlIG1pbGVzdG9uZXMNCiAgICBzdHJ1Y3QgbWlsZXN0b25lc19zdHJ1Y3Qgew0KICAgICAgdWludCBwMTsNCiAgICAgIHVpbnQgcDI7IA0KICAgICAgdWludCBwMzsNCiAgICAgIHVpbnQgcDQ7DQogICAgICB1aW50IHA1Ow0KICAgICAgdWludCBwNjsNCiAgICB9DQogICAgLy8gTWlsZXN0b25lcyBpbnN0YW5jZQ0KICAgIG1pbGVzdG9uZXNfc3RydWN0IG1pbGVzdG9uZXM7DQogICAgDQogICAgLyoqDQogICAgICogQ29uc3RydWN0b3Igb2YgdGhlIGNvbnRyYWN0Lg0KICAgICAqIA0KICAgICAqIFBhc3NlcyBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGhvbGRpbmcgdGhlIHZhbHVlLg0KICAgICAqIEhhY2tlckdvbGQgY29udHJhY3QgaXRzZWxmIGRvZXMgbm90IGhvbGQgYW55IHZhbHVlDQogICAgICogDQogICAgICogQHBhcmFtIG11bHRpc2lnIGFkZHJlc3Mgb2YgTXVsdGlTaWcgd2FsbGV0IHdoaWNoIHdpbGwgaG9sZCB0aGUgdmFsdWUNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBIYWNrZXJHb2xkKGFkZHJlc3MgbXVsdGlzaWcpIHsNCiAgICAgICAgDQogICAgICAgIHdhbGxldCA9IG11bHRpc2lnOw0KDQogICAgICAgIC8vIHNldCB0aW1lIHBlcmlvZHMgZm9yIHNhbGUNCiAgICAgICAgbWlsZXN0b25lcyA9IG1pbGVzdG9uZXNfc3RydWN0KA0KICAgICAgICANCiAgICAgICAgICAxNDc2Nzk5MjAwLCAgLy8gUDE6IEdNVDogMTgtT2N0LTIwMTYgMTQ6MDAgID0+IFRoZSBTYWxlIFN0YXJ0cw0KICAgICAgICAgIDE0NzgxODE2MDAsICAvLyBQMjogR01UOiAwMy1Ob3YtMjAxNiAxNDowMCAgPT4gMXN0IFByaWNlIExhZGRlciANCiAgICAgICAgICAxNDc5MzkxMjAwLCAgLy8gUDM6IEdNVDogMTctTm92LTIwMTYgMTQ6MDAgID0+IFByaWNlIFN0YWJsZSwgDQogICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIYWNrYXRob24gU3RhcnRzDQogICAgICAgICAgMTQ4MDYwMDgwMCwgIC8vIFA0OiBHTVQ6IDAxLURlYy0yMDE2IDE0OjAwICA9PiAybmQgUHJpY2UgTGFkZGVyDQogICAgICAgICAgMTQ4MTgxMDQwMCwgIC8vIFA1OiBHTVQ6IDE1LURlYy0yMDE2IDE0OjAwICA9PiBQcmljZSBTdGFibGUNCiAgICAgICAgICAxNDgyNDE1MjAwICAgLy8gUDY6IEdNVDogMjItRGVjLTIwMTYgMTQ6MDAgID0+IFNhbGUgRW5kcywgSGFja2F0aG9uIEVuZHMNCiAgICAgICAgKTsNCiAgICAgICAgICAgICAgICANCiAgICB9DQogICAgDQogICAgDQogICAgLyoqDQogICAgICogRmFsbGJhY2sgZnVuY3Rpb246IGNhbGxlZCBvbiBldGhlciBzZW50Lg0KICAgICAqIA0KICAgICAqIEl0IGNhbGxzIHRvIGNyZWF0ZUhLRyBmdW5jdGlvbiB3aXRoIG1zZy5zZW5kZXIgDQogICAgICogYXMgYSB2YWx1ZSBmb3IgaG9sZGVyIGFyZ3VtZW50DQogICAgICovDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIGNyZWF0ZUhLRyhtc2cuc2VuZGVyKTsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogQ3JlYXRlcyBIS0cgdG9rZW5zLg0KICAgICAqIA0KICAgICAqIFJ1bnMgc2FuaXR5IGNoZWNrcyBpbmNsdWRpbmcgc2FmZXR5IGNhcA0KICAgICAqIFRoZW4gY2FsY3VsYXRlcyBjdXJyZW50IHByaWNlIGJ5IGdldFByaWNlKCkgZnVuY3Rpb24sIGNyZWF0ZXMgSEtHIHRva2Vucw0KICAgICAqIEZpbmFsbHkgc2VuZHMgYSB2YWx1ZSBvZiB0cmFuc2FjdGlvbiB0byB0aGUgd2FsbGV0DQogICAgICogDQogICAgICogTm90ZTogZHVlIHRvIGxhY2sgb2YgZmxvYXRpbmcgcG9pbnQgdHlwZXMgaW4gU29saWRpdHksDQogICAgICogY29udHJhY3QgYXNzdW1lcyB0aGF0IGxhc3QgMyBkaWdpdHMgaW4gdG9rZW5zIGFtb3VudCBhcmUgc3Rvb2QgYWZ0ZXIgdGhlIHBvaW50Lg0KICAgICAqIEl0IG1lYW5zIHRoYXQgaWYgc3RvcmVkIEhLRyBiYWxhbmNlIGlzIDEwMDAwMCwgdGhlbiBpdHMgcmVhbCB2YWx1ZSBpcyAxMDAgSEtHDQogICAgICogDQogICAgICogQHBhcmFtIGhvbGRlciB0b2tlbiBob2xkZXINCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjcmVhdGVIS0coYWRkcmVzcyBob2xkZXIpIHBheWFibGUgew0KICAgICAgICANCiAgICAgICAgaWYgKG5vdyA8IG1pbGVzdG9uZXMucDEpIHRocm93Ow0KICAgICAgICBpZiAobm93ID49IG1pbGVzdG9uZXMucDYpIHRocm93Ow0KICAgICAgICBpZiAobXNnLnZhbHVlID09IDApIHRocm93Ow0KICAgIA0KICAgICAgICAvLyBzYWZldHkgY2FwDQogICAgICAgIGlmIChnZXRUb3RhbFZhbHVlKCkgKyBtc2cudmFsdWUgPiBTQUZFVFlfTElNSVQpIHRocm93OyANCiAgICANCiAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUgKiBnZXRQcmljZSgpICogREVDSU1BTF9aRVJPUyAvIDEgZXRoZXI7DQoNCiAgICAgICAgdG90YWxTdXBwbHkgKz0gdG9rZW5zOw0KICAgICAgICBiYWxhbmNlc1tob2xkZXJdICs9IHRva2VuczsNCiAgICAgICAgdG90YWxWYWx1ZSArPSBtc2cudmFsdWU7DQogICAgICAgIA0KICAgICAgICBpZiAoIXdhbGxldC5zZW5kKG1zZy52YWx1ZSkpIHRocm93Ow0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBEZW5vdGVzIGNvbXBsZXRlIHByaWNlIHN0cnVjdHVyZSBkdXJpbmcgdGhlIHNhbGUuDQogICAgICoNCiAgICAgKiBAcmV0dXJuIEhLRyBhbW91bnQgcGVyIDEgRVRIIGZvciB0aGUgY3VycmVudCBtb21lbnQgaW4gdGltZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGdldFByaWNlKCkgY29uc3RhbnQgcmV0dXJucyAodWludCByZXN1bHQpIHsNCiAgICAgICAgDQogICAgICAgIGlmIChub3cgPCBtaWxlc3RvbmVzLnAxKSByZXR1cm4gMDsNCiAgICAgICAgDQogICAgICAgIGlmIChub3cgPj0gbWlsZXN0b25lcy5wMSAmJiBub3cgPCBtaWxlc3RvbmVzLnAyKSB7DQogICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIEJBU0VfUFJJQ0U7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChub3cgPj0gbWlsZXN0b25lcy5wMiAmJiBub3cgPCBtaWxlc3RvbmVzLnAzKSB7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHVpbnQgZGF5c19pbiA9IDEgKyAobm93IC0gbWlsZXN0b25lcy5wMikgLyAxIGRheXM7IA0KICAgICAgICAgICAgcmV0dXJuIEJBU0VfUFJJQ0UgLSBkYXlzX2luICogMjUgLyA3OyAgLy8gZGFpbHkgZGVjcmVhc2UgMy41DQogICAgICAgIH0NCg0KICAgICAgICBpZiAobm93ID49IG1pbGVzdG9uZXMucDMgJiYgbm93IDwgbWlsZXN0b25lcy5wNCkgew0KICAgICAgICANCiAgICAgICAgICAgIHJldHVybiBNSURfUFJJQ0U7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChub3cgPj0gbWlsZXN0b25lcy5wNCAmJiBub3cgPCBtaWxlc3RvbmVzLnA1KSB7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRheXNfaW4gPSAxICsgKG5vdyAtIG1pbGVzdG9uZXMucDQpIC8gMSBkYXlzOyANCiAgICAgICAgICAgIHJldHVybiBNSURfUFJJQ0UgLSBkYXlzX2luICogMjUgLyA3OyAgLy8gZGFpbHkgZGVjcmVhc2UgMy41DQogICAgICAgIH0NCg0KICAgICAgICBpZiAobm93ID49IG1pbGVzdG9uZXMucDUgJiYgbm93IDwgbWlsZXN0b25lcy5wNikgew0KICAgICAgICANCiAgICAgICAgICAgIHJldHVybiBGSU5fUFJJQ0U7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChub3cgPj0gbWlsZXN0b25lcy5wNil7DQoNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQoNCiAgICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAqIFJldHVybnMgdG90YWwgc3RvcmVkIEhLRyBhbW91bnQuDQogICAgICogDQogICAgICogQ29udHJhY3QgYXNzdW1lcyB0aGF0IGxhc3QgMyBkaWdpdHMgb2YgdGhpcyB2YWx1ZSBhcmUgYmVoaW5kIHRoZSBkZWNpbWFsIHBsYWNlLiBpLmUuIDEwMDAxIGlzIDEwLjAwMQ0KICAgICAqIFRodXMsIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBkaXZpZGVkIGJ5IDEwMDAgdG8gZ2V0IEhLRyB2YWx1ZQ0KICAgICAqIA0KICAgICAqIEByZXR1cm4gcmVzdWx0IHN0b3JlZCBIS0cgYW1vdW50DQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0VG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlc3VsdCkgew0KICAgICAgICByZXR1cm4gdG90YWxTdXBwbHk7DQogICAgfSANCg0KICAgIC8qKg0KICAgICAqIEl0IGlzIHVzZWQgZm9yIHRlc3QgcHVycG9zZXMuDQogICAgICogDQogICAgICogUmV0dXJucyB0aGUgcmVzdWx0IG9mICdub3cnIHN0YXRlbWVudCBvZiBTb2xpZGl0eSBsYW5ndWFnZQ0KICAgICAqIA0KICAgICAqIEByZXR1cm4gdW5peCB0aW1lc3RhbXAgZm9yIGN1cnJlbnQgbW9tZW50IGluIHRpbWUNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXROb3coKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlc3VsdCkgew0KICAgICAgICByZXR1cm4gbm93Ow0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFJldHVybnMgdG90YWwgdmFsdWUgcGFzc2VkIHRocm91Z2ggdGhlIGNvbnRyYWN0DQogICAgICogDQogICAgICogQHJldHVybiByZXN1bHQgdG90YWwgdmFsdWUgaW4gd2VpDQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0VG90YWxWYWx1ZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVzdWx0KSB7DQogICAgICAgIHJldHVybiB0b3RhbFZhbHVlOyAgDQogICAgfQ0KfQ=='