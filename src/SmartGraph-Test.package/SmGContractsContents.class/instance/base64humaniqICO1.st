base 64 content
base64humaniqICO1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4yOw0KDQovLy8gSW1wbGVtZW50cyBFUkMgMjAgVG9rZW4gc3RhbmRhcmQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMA0KLy8vIEB0aXRsZSBBYnN0cmFjdCB0b2tlbiBjb250cmFjdCAtIEZ1bmN0aW9ucyB0byBiZSBpbXBsZW1lbnRlZCBieSB0b2tlbiBjb250cmFjdHMuDQoNCmNvbnRyYWN0IEFic3RyYWN0VG9rZW4gew0KICAgIC8vIFRoaXMgaXMgbm90IGFuIGFic3RyYWN0IGZ1bmN0aW9uLCBiZWNhdXNlIHNvbGMgd29uJ3QgcmVjb2duaXplIGdlbmVyYXRlZCBnZXR0ZXIgZnVuY3Rpb25zIGZvciBwdWJsaWMgdmFyaWFibGVzIGFzIGZ1bmN0aW9ucw0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9DQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCg0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KICAgIGV2ZW50IElzc3VhbmNlKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQp9DQoNCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQWJzdHJhY3RUb2tlbiB7DQoNCiAgICAvKg0KICAgICAqICBEYXRhIHN0cnVjdHVyZXMNCiAgICAgKi8NCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsNCg0KICAgIC8qDQogICAgICogIFJlYWQgYW5kIHdyaXRlIHN0b3JhZ2UgZnVuY3Rpb25zDQogICAgICovDQogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHNlbmRlcidzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4NCiAgICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIG9mIHRva2VuIHJlY2VpdmVyLg0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8vIEBkZXYgQWxsb3dzIGFsbG93ZWQgdGhpcmQgcGFydHkgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlci4gUmV0dXJucyBzdWNjZXNzLg0KICAgIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyBmcm9tIHdoZXJlIHRva2VucyBhcmUgd2l0aGRyYXduLg0KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gd2hlcmUgdG9rZW5zIGFyZSBzZW50Lg0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiB0b2tlbnMgb3duZWQgYnkgZ2l2ZW4gYWRkcmVzcy4NCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLg0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFNldHMgYXBwcm92ZWQgYW1vdW50IG9mIHRva2VucyBmb3Igc3BlbmRlci4gUmV0dXJucyBzdWNjZXNzLg0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhbGxvd2VkIGFjY291bnQuDQogICAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIGFwcHJvdmVkIHRva2Vucy4NCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKg0KICAgICAqIFJlYWQgc3RvcmFnZSBmdW5jdGlvbnMNCiAgICAgKi8NCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiBhbGxvd2VkIHRva2VucyBmb3IgZ2l2ZW4gYWRkcmVzcy4NCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLg0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiB0b2tlbiBzcGVuZGVyLg0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KfQ0KDQoNCi8vLyBAdGl0bGUgVG9rZW4gY29udHJhY3QgLSBJbXBsZW1lbnRzIFN0YW5kYXJkIFRva2VuIEludGVyZmFjZSB3aXRoIEh1bWFuaVEgZmVhdHVyZXMuDQovLy8gQGF1dGhvciBFdGhlcmlvbkxhYiB0ZWFtLCBodHRwczovL2V0aGVyaW9ubGFiLmNvbQ0KY29udHJhY3QgSHVtYW5pcVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gew0KDQogICAgLyoNCiAgICAgKiBFeHRlcm5hbCBjb250cmFjdHMNCiAgICAgKi8NCiAgICBhZGRyZXNzIHB1YmxpYyBlbWlzc2lvbkNvbnRyYWN0QWRkcmVzcyA9IDB4MDsNCg0KICAgIC8qDQogICAgICogVG9rZW4gbWV0YSBkYXRhDQogICAgICovDQogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkh1bWFuaVEiOw0KICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIkhNUSI7DQogICAgdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gODsNCg0KICAgIGFkZHJlc3MgcHVibGljIGZvdW5kZXIgPSAweDA7DQogICAgYm9vbCBsb2NrZWQgPSB0cnVlOw0KICAgIC8qDQogICAgICogTW9kaWZpZXJzDQogICAgICovDQogICAgbW9kaWZpZXIgb25seUZvdW5kZXIoKSB7DQogICAgICAgIC8vIE9ubHkgZm91bmRlciBpcyBhbGxvd2VkIHRvIGRvIHRoaXMgYWN0aW9uLg0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBmb3VuZGVyKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzQ3Jvd2RmdW5kaW5nQ29udHJhY3QoKSB7DQogICAgICAgIC8vIE9ubHkgZW1pc3Npb24gYWRkcmVzcyBpcyBhbGxvd2VkIHRvIHByb2NlZWQuDQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGVtaXNzaW9uQ29udHJhY3RBZGRyZXNzKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIHVubG9ja2VkKCkgew0KICAgICAgICAvLyBPbmx5IHdoZW4gdHJhbnNmZXJyaW5nIGNvaW5zIGlzIGVuYWJsZWQuDQogICAgICAgIGlmIChsb2NrZWQgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICAvKg0KICAgICAqIENvbnRyYWN0IGZ1bmN0aW9ucw0KICAgICAqLw0KDQogICAgLy8vIEBkZXYgQ3Jvd2RmdW5kaW5nIGNvbnRyYWN0IGlzc3VlcyBuZXcgdG9rZW5zIGZvciBhZGRyZXNzLiBSZXR1cm5zIHN1Y2Nlc3MuDQogICAgLy8vIEBwYXJhbSBfZm9yIEFkZHJlc3Mgb2YgcmVjZWl2ZXIuDQogICAgLy8vIEBwYXJhbSB0b2tlbkNvdW50IE51bWJlciBvZiB0b2tlbnMgdG8gaXNzdWUuDQogICAgZnVuY3Rpb24gaXNzdWVUb2tlbnMoYWRkcmVzcyBfZm9yLCB1aW50IHRva2VuQ291bnQpDQogICAgICAgIGV4dGVybmFsDQogICAgICAgIHBheWFibGUNCiAgICAgICAgaXNDcm93ZGZ1bmRpbmdDb250cmFjdA0KICAgICAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgaWYgKHRva2VuQ291bnQgPT0gMCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGJhbGFuY2VzW19mb3JdICs9IHRva2VuQ291bnQ7DQogICAgICAgIHRvdGFsU3VwcGx5ICs9IHRva2VuQ291bnQ7DQogICAgICAgIElzc3VhbmNlKF9mb3IsIHRva2VuQ291bnQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpDQogICAgICAgIHVubG9ja2VkDQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykNCiAgICB7DQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkNCiAgICAgICAgdW5sb2NrZWQNCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRvIGNoYW5nZSBhZGRyZXNzIHRoYXQgaXMgYWxsb3dlZCB0byBkbyBlbWlzc2lvbi4NCiAgICAvLy8gQHBhcmFtIG5ld0FkZHJlc3MgQWRkcmVzcyBvZiBuZXcgZW1pc3Npb24gY29udHJhY3QuDQogICAgZnVuY3Rpb24gY2hhbmdlRW1pc3Npb25Db250cmFjdEFkZHJlc3MoYWRkcmVzcyBuZXdBZGRyZXNzKQ0KICAgICAgICBleHRlcm5hbA0KICAgICAgICBvbmx5Rm91bmRlcg0KICAgICAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgZW1pc3Npb25Db250cmFjdEFkZHJlc3MgPSBuZXdBZGRyZXNzOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRoYXQgbG9ja3MvdW5sb2NrcyB0cmFuc2ZlcnMgb2YgdG9rZW4uDQogICAgLy8vIEBwYXJhbSB2YWx1ZSBUcnVlL0ZhbHNlDQogICAgZnVuY3Rpb24gbG9jayhib29sIHZhbHVlKQ0KICAgICAgICBleHRlcm5hbA0KICAgICAgICBvbmx5Rm91bmRlcg0KICAgIHsNCiAgICAgICAgbG9ja2VkID0gdmFsdWU7DQogICAgfQ0KDQogICAgLy8vIEBkZXYgQ29udHJhY3QgY29uc3RydWN0b3IgZnVuY3Rpb24gc2V0cyBpbml0aWFsIHRva2VuIGJhbGFuY2VzLg0KICAgIC8vLyBAcGFyYW0gX2ZvdW5kZXIgQWRkcmVzcyBvZiB0aGUgZm91bmRlciBvZiBIdW1hbmlRLg0KICAgIGZ1bmN0aW9uIEh1bWFuaXFUb2tlbihhZGRyZXNzIF9mb3VuZGVyKQ0KICAgIHsNCiAgICAgICAgdG90YWxTdXBwbHkgPSAwOw0KICAgICAgICBmb3VuZGVyID0gX2ZvdW5kZXI7DQogICAgfQ0KfQ0KDQoNCi8vLyBAdGl0bGUgSHVtYW5pcUlDTyBjb250cmFjdCAtIFRha2VzIGZ1bmRzIGZyb20gdXNlcnMgYW5kIGlzc3VlcyB0b2tlbnMuDQovLy8gQGF1dGhvciBFdmdlbnkgWXVydGFldiAtIDxldmdlbnlAZXRoZXJpb25sYWIuY29tPg0KY29udHJhY3QgSHVtYW5pcUlDTyB7DQoNCiAgICAvKg0KICAgICAqIEV4dGVybmFsIGNvbnRyYWN0cw0KICAgICAqLw0KICAgIEh1bWFuaXFUb2tlbiBwdWJsaWMgaHVtYW5pcVRva2VuOw0KDQogICAgLyoNCiAgICAgKiBDcm93ZGZ1bmRpbmcgcGFyYW1ldGVycw0KICAgICAqLw0KICAgIHVpbnQgY29uc3RhbnQgcHVibGljIENST1dERlVORElOR19QRVJJT0QgPSAzIHdlZWtzOw0KDQogICAgLyoNCiAgICAgKiAgU3RvcmFnZQ0KICAgICAqLw0KICAgIGFkZHJlc3MgcHVibGljIGZvdW5kZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWc7DQogICAgdWludCBwdWJsaWMgc3RhcnREYXRlID0gMDsNCiAgICB1aW50IHB1YmxpYyBpY29CYWxhbmNlID0gMDsNCiAgICB1aW50IHB1YmxpYyBjb2luc0lzc3VlZCA9IDA7DQogICAgdWludCBwdWJsaWMgYmFzZVRva2VuUHJpY2UgPSAxIGZpbm5leTsgLy8gMC4wMDEgRVRIDQogICAgdWludCBwdWJsaWMgZGlzY291bnRlZFByaWNlID0gYmFzZVRva2VuUHJpY2U7DQogICAgYm9vbCBwdWJsaWMgaXNJQ09BY3RpdmUgPSBmYWxzZTsNCg0KICAgIC8vIHBhcnRpY2lwYW50IGFkZHJlc3MgPT4gdmFsdWUgaW4gV2VpDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaW52ZXN0bWVudHM7DQoNCiAgICAvKg0KICAgICAqICBNb2RpZmllcnMNCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5Rm91bmRlcigpIHsNCiAgICAgICAgLy8gT25seSBmb3VuZGVyIGlzIGFsbG93ZWQgdG8gZG8gdGhpcyBhY3Rpb24uDQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGZvdW5kZXIpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgbWluSW52ZXN0bWVudCgpIHsNCiAgICAgICAgLy8gVXNlciBoYXMgdG8gc2VuZCBhdCBsZWFzdCB0aGUgZXRoZXIgdmFsdWUgb2Ygb25lIHRva2VuLg0KICAgICAgICBpZiAobXNnLnZhbHVlIDwgYmFzZVRva2VuUHJpY2UpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgaWNvQWN0aXZlKCkgew0KICAgICAgICBpZiAoaXNJQ09BY3RpdmUgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLy8vIEBkZXYgUmV0dXJucyBjdXJyZW50IGJvbnVzDQogICAgZnVuY3Rpb24gZ2V0Q3VycmVudEJvbnVzKCkNCiAgICAgICAgcHVibGljDQogICAgICAgIGNvbnN0YW50DQogICAgICAgIHJldHVybnMgKHVpbnQpDQogICAgew0KICAgICAgICByZXR1cm4gZ2V0Qm9udXMobm93KTsNCiAgICB9DQoNCiAgICAvLy8gQGRldiBSZXR1cm5zIGJvbnVzIGZvciB0aGUgc3BlY2lmaWMgbW9tZW50DQogICAgLy8vIEBwYXJhbSB0aW1lc3RhbXAgVGltZSBvZiBpbnZlc3RtZW50IChpbiBzZWNvbmRzKQ0KICAgIGZ1bmN0aW9uIGdldEJvbnVzKHVpbnQgdGltZXN0YW1wKQ0KICAgICAgICBwdWJsaWMNCiAgICAgICAgY29uc3RhbnQNCiAgICAgICAgcmV0dXJucyAodWludCkNCiAgICB7DQoNCiAgICAgICAgaWYgKHN0YXJ0RGF0ZSA9PSAwKSB7DQogICAgICAgICAgICByZXR1cm4gMTQ5OTsgLy8gNDkuOSUNCiAgICAgICAgfQ0KDQogICAgICAgIHVpbnQgaWNvRHVyYXRpb24gPSB0aW1lc3RhbXAgLSBzdGFydERhdGU7DQogICAgICAgIGlmIChpY29EdXJhdGlvbiA+PSAxNiBkYXlzKSB7DQogICAgICAgICAgICByZXR1cm4gMTAwMDsgIC8vIDAlDQogICAgICAgIH0gZWxzZSBpZiAoaWNvRHVyYXRpb24gPj0gOSBkYXlzKSB7DQogICAgICAgICAgICByZXR1cm4gMTEyNTsgIC8vIDEyLjUlDQogICAgICAgIH0gZWxzZSBpZiAoaWNvRHVyYXRpb24gPj0gMiBkYXlzKSB7DQogICAgICAgICAgICByZXR1cm4gMTI1MDsgIC8vIDI1JQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIDE0OTk7ICAvLyA0OS45JQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2FsY3VsYXRlVG9rZW5zKHVpbnQgaW52ZXN0bWVudCwgdWludCB0aW1lc3RhbXApDQogICAgICAgIHB1YmxpYw0KICAgICAgICBjb25zdGFudA0KICAgICAgICByZXR1cm5zICh1aW50KQ0KICAgIHsNCiAgICAgICAgLy8gY2FsY3VsYXRlIGRpc2NvdW50ZWRQcmljZQ0KICAgICAgICBkaXNjb3VudGVkUHJpY2UgPSAoYmFzZVRva2VuUHJpY2UgKiAxMDAwKSAvIGdldEJvbnVzKHRpbWVzdGFtcCk7DQoNCiAgICAgICAgLy8gVG9rZW4gY291bnQgaXMgcm91bmRlZCBkb3duLiBTZW50IEVUSCBzaG91bGQgYmUgbXVsdGlwbGVzIG9mIGJhc2VUb2tlblByaWNlLg0KICAgICAgICByZXR1cm4gaW52ZXN0bWVudCAvIGRpc2NvdW50ZWRQcmljZTsNCiAgICB9DQoNCiAgICAvLy8gQGRldiBJc3N1ZXMgdG9rZW5zDQogICAgLy8vIEBwYXJhbSBiZW5lZmljaWFyeSBBZGRyZXNzIHRoZSB0b2tlbnMgd2lsbCBiZSBpc3N1ZWQgdG8uDQogICAgLy8vIEBwYXJhbSBpbnZlc3RtZW50IEludmVzdGVkIGFtb3VudCBpbiBXZWkNCiAgICAvLy8gQHBhcmFtIHRpbWVzdGFtcCBUaW1lIG9mIGludmVzdG1lbnQgKGluIHNlY29uZHMpDQogICAgLy8vIEBwYXJhbSBzZW5kVG9Gb3VuZGVycyBXaGV0aGVyIHRvIHNlbmQgcmVjZWl2ZWQgZXRoZXJzIHRvIG11bHRpc2lnIGFkZHJlc3Mgb3Igbm90DQogICAgZnVuY3Rpb24gaXNzdWVUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludCBpbnZlc3RtZW50LCB1aW50IHRpbWVzdGFtcCwgYm9vbCBzZW5kVG9Gb3VuZGVycykNCiAgICAgICAgcHJpdmF0ZQ0KICAgICAgICByZXR1cm5zICh1aW50KQ0KICAgIHsNCiAgICAgICAgdWludCB0b2tlbkNvdW50ID0gY2FsY3VsYXRlVG9rZW5zKGludmVzdG1lbnQsIHRpbWVzdGFtcCk7DQoNCiAgICAgICAgLy8gRXRoZXIgc3BlbnQgYnkgdXNlci4NCiAgICAgICAgdWludCByb3VuZGVkSW52ZXN0bWVudCA9IHRva2VuQ291bnQgKiBkaXNjb3VudGVkUHJpY2U7DQoNCiAgICAgICAgLy8gU2VuZCBjaGFuZ2UgYmFjayB0byB1c2VyLg0KICAgICAgICBpZiAoc2VuZFRvRm91bmRlcnMgJiYgaW52ZXN0bWVudCA+IHJvdW5kZWRJbnZlc3RtZW50ICYmICFiZW5lZmljaWFyeS5zZW5kKGludmVzdG1lbnQgLSByb3VuZGVkSW52ZXN0bWVudCkpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVXBkYXRlIGZ1bmQncyBhbmQgdXNlcidzIGJhbGFuY2UgYW5kIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMuDQogICAgICAgIGljb0JhbGFuY2UgKz0gaW52ZXN0bWVudDsNCiAgICAgICAgY29pbnNJc3N1ZWQgKz0gdG9rZW5Db3VudDsNCiAgICAgICAgaW52ZXN0bWVudHNbYmVuZWZpY2lhcnldICs9IHJvdW5kZWRJbnZlc3RtZW50Ow0KDQogICAgICAgIC8vIFNlbmQgZnVuZHMgdG8gZm91bmRlcnMgaWYgaW52ZXN0bWVudCB3YXMgbWFkZQ0KICAgICAgICBpZiAoc2VuZFRvRm91bmRlcnMgJiYgIW11bHRpc2lnLnNlbmQocm91bmRlZEludmVzdG1lbnQpKSB7DQogICAgICAgICAgICAvLyBDb3VsZCBub3Qgc2VuZCBtb25leQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIWh1bWFuaXFUb2tlbi5pc3N1ZVRva2VucyhiZW5lZmljaWFyeSwgdG9rZW5Db3VudCkpIHsNCiAgICAgICAgICAgIC8vIFRva2VucyBjb3VsZCBub3QgYmUgaXNzdWVkLg0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gdG9rZW5Db3VudDsNCiAgICB9DQoNCiAgICAvLy8gQGRldiBBbGxvd3MgdXNlciB0byBjcmVhdGUgdG9rZW5zIGlmIHRva2VuIGNyZWF0aW9uIGlzIHN0aWxsIGdvaW5nDQogICAgLy8vIGFuZCBjYXAgd2FzIG5vdCByZWFjaGVkLiBSZXR1cm5zIHRva2VuIGNvdW50Lg0KICAgIGZ1bmN0aW9uIGZ1bmQoKQ0KICAgICAgICBwdWJsaWMNCiAgICAgICAgaWNvQWN0aXZlDQogICAgICAgIG1pbkludmVzdG1lbnQNCiAgICAgICAgcGF5YWJsZQ0KICAgICAgICByZXR1cm5zICh1aW50KQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGlzc3VlVG9rZW5zKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgbm93LCB0cnVlKTsNCiAgICB9DQoNCiAgICAvLy8gQGRldiBJc3N1ZXMgdG9rZW5zIGZvciB1c2VycyB3aG8gbWFkZSBCVEMgcHVyY2hhc2VzLg0KICAgIC8vLyBAcGFyYW0gYmVuZWZpY2lhcnkgQWRkcmVzcyB0aGUgdG9rZW5zIHdpbGwgYmUgaXNzdWVkIHRvLg0KICAgIC8vLyBAcGFyYW0gaW52ZXN0bWVudCBJbnZlc3RlZCBhbW91bnQgaW4gV2VpDQogICAgLy8vIEBwYXJhbSB0aW1lc3RhbXAgVGltZSBvZiBpbnZlc3RtZW50IChpbiBzZWNvbmRzKQ0KICAgIGZ1bmN0aW9uIGZpeEludmVzdG1lbnQoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludCBpbnZlc3RtZW50LCB1aW50IHRpbWVzdGFtcCkNCiAgICAgICAgZXh0ZXJuYWwNCiAgICAgICAgaWNvQWN0aXZlDQogICAgICAgIG9ubHlGb3VuZGVyDQogICAgICAgIHJldHVybnMgKHVpbnQpDQogICAgew0KICAgICAgICBpZiAodGltZXN0YW1wID09IDApIHsNCiAgICAgICAgICAgIHJldHVybiBpc3N1ZVRva2VucyhiZW5lZmljaWFyeSwgaW52ZXN0bWVudCwgbm93LCBmYWxzZSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gaXNzdWVUb2tlbnMoYmVuZWZpY2lhcnksIGludmVzdG1lbnQsIHRpbWVzdGFtcCwgZmFsc2UpOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IElmIElDTyBoYXMgc3VjY2Vzc2Z1bGx5IGZpbmlzaGVkIHNlbmRzIHRoZSBtb25leSB0byBtdWx0aXNpZw0KICAgIC8vLyB3YWxsZXQuDQogICAgZnVuY3Rpb24gZmluaXNoQ3Jvd2RzYWxlKCkNCiAgICAgICAgZXh0ZXJuYWwNCiAgICAgICAgb25seUZvdW5kZXINCiAgICAgICAgcmV0dXJucyAoYm9vbCkNCiAgICB7DQogICAgICAgIGlmIChpc0lDT0FjdGl2ZSA9PSB0cnVlKSB7DQogICAgICAgICAgICBpc0lDT0FjdGl2ZSA9IGZhbHNlOw0KICAgICAgICAgICAgLy8gRm91bmRlcnMgcmVjZWl2ZSAxNCUgb2YgYWxsIGNyZWF0ZWQgdG9rZW5zLg0KICAgICAgICAgICAgIHVpbnQgZm91bmRlckJvbnVzID0gKGNvaW5zSXNzdWVkICogMTQpIC8gODY7DQogICAgICAgICAgICAgaWYgKCFodW1hbmlxVG9rZW4uaXNzdWVUb2tlbnMobXVsdGlzaWcsIGZvdW5kZXJCb251cykpIHsNCiAgICAgICAgICAgICAgICAgLy8gVG9rZW5zIGNvdWxkIG5vdCBiZSBpc3N1ZWQuDQogICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFNldHMgdG9rZW4gdmFsdWUgaW4gV2VpLg0KICAgIC8vLyBAcGFyYW0gdmFsdWVJbldlaSBOZXcgdmFsdWUuDQogICAgZnVuY3Rpb24gY2hhbmdlQmFzZVRva2VuUHJpY2UodWludCB2YWx1ZUluV2VpKQ0KICAgICAgICBleHRlcm5hbA0KICAgICAgICBvbmx5Rm91bmRlcg0KICAgICAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgYmFzZVRva2VuUHJpY2UgPSB2YWx1ZUluV2VpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjaGFuZ2VUb2tlbkFkZHJlc3MoYWRkcmVzcyB0b2tlbl9hZGRyZXNzKSANCiAgICAgICAgcHVibGljDQogICAgICAgIG9ubHlGb3VuZGVyDQogICAgew0KICAgICAgICAgaHVtYW5pcVRva2VuID0gSHVtYW5pcVRva2VuKHRva2VuX2FkZHJlc3MpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNoYW5nZUZvdW5kZXIoYWRkcmVzcyBfZm91bmRlcikgDQogICAgICAgIHB1YmxpYw0KICAgICAgICBvbmx5Rm91bmRlcg0KICAgIHsNCiAgICAgICAgZm91bmRlciA9IF9mb3VuZGVyOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRoYXQgYWN0aXZhdGVzIElDTy4NCiAgICBmdW5jdGlvbiBzdGFydElDTygpDQogICAgICAgIGV4dGVybmFsDQogICAgICAgIG9ubHlGb3VuZGVyDQogICAgew0KICAgICAgICBpZiAoaXNJQ09BY3RpdmUgPT0gZmFsc2UgJiYgc3RhcnREYXRlID09IDApIHsNCiAgICAgICAgICAvLyBTdGFydCBJQ08NCiAgICAgICAgICBpc0lDT0FjdGl2ZSA9IHRydWU7DQogICAgICAgICAgLy8gU2V0IHN0YXJ0LWRhdGUgb2YgdG9rZW4gY3JlYXRpb24NCiAgICAgICAgICBzdGFydERhdGUgPSBub3c7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvciBmdW5jdGlvbiBzZXRzIGZvdW5kZXIgYW5kIG11bHRpc2lnIGFkZHJlc3Nlcy4NCiAgICBmdW5jdGlvbiBIdW1hbmlxSUNPKGFkZHJlc3MgX2ZvdW5kZXIsIGFkZHJlc3MgX211bHRpc2lnLCBhZGRyZXNzIHRva2VuX2FkZHJlc3MpIHsNCiAgICAgICAgLy8gU2V0IGZvdW5kZXIgYWRkcmVzcw0KICAgICAgICBmb3VuZGVyID0gX2ZvdW5kZXI7DQogICAgICAgIC8vIFNldCBtdWx0aXNpZyBhZGRyZXNzDQogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOw0KICAgICAgICAvLyBTZXQgdG9rZW4gYWRkcmVzcw0KICAgICAgICBodW1hbmlxVG9rZW4gPSBIdW1hbmlxVG9rZW4odG9rZW5fYWRkcmVzcyk7DQogICAgfQ0KDQogICAgLy8vIEBkZXYgRmFsbGJhY2sgZnVuY3Rpb24uIENhbGxzIGZ1bmQoKSBmdW5jdGlvbiB0byBjcmVhdGUgdG9rZW5zLg0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgICAgICBmdW5kKCk7DQogICAgfQ0KfQ=='