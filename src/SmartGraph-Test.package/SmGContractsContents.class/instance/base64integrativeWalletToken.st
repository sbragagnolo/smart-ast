base 64 content
base64integrativeWalletToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBJbnRlZ3JhdGl2ZSBXYWxsZXQgVG9rZW4gJiBDcm93ZHNhbGUNCiAgICAvLyBJd3Rva2VuLmNvbQ0KICAgIC8vIERldmVsb3BlciBmcm9tIEBBZGF0dW0NCiAgICAvLyBUYWtpbmcgaWRlYXMgZnJvbSBAQm9ra3lQb29CYWggDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIA0KDQogICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgLy8gU2FmZSBtYXRocywgYm9ycm93ZWQgZnJvbSBPcGVuWmVwcGVsaW4NCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpsaWJyYXJ5IFNhZmVNYXRoIHsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEFkZCBhIG51bWJlciB0byBhbm90aGVyIG51bWJlciwgY2hlY2tpbmcgZm9yIG92ZXJmbG93cw0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgew0KICAgICAgICB1aW50IGMgPSBhICsgYjsNCiAgICAgICAgYXNzZXJ0KGMgPj0gYSAmJiBjID49IGIpOw0KICAgICAgICByZXR1cm4gYzsNCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBTdWJ0cmFjdCBhIG51bWJlciBmcm9tIGFub3RoZXIgbnVtYmVyLCBjaGVja2luZyBmb3IgdW5kZXJmbG93cw0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgew0KICAgICAgICBhc3NlcnQoYiA8PSBhKTsNCiAgICAgICAgcmV0dXJuIGEgLSBiOw0KICAgIH0NCn0NCg0KDQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyBPd25lZCBjb250cmFjdA0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KY29udHJhY3QgT3duZWQgew0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOw0KICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7DQoNCiAgICBmdW5jdGlvbiBPd25lZCgpIHsNCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsNCiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7DQogICAgfQ0KIA0KICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpIHsNCiAgICAgICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7DQogICAgICAgICAgICBvd25lciA9IG5ld093bmVyOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQoNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIEVSQzIwIFRva2VuLCB3aXRoIHRoZSBhZGRpdGlvbiBvZiBzeW1ib2wsIG5hbWUgYW5kIGRlY2ltYWxzDQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmNvbnRyYWN0IEVSQzIwVG9rZW4gaXMgT3duZWQgew0KICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50Ow0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gVG90YWwgU3VwcGx5DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgdWludDI1NiBfdG90YWxTdXBwbHkgPSAxMDAwMDAwMDAuMDAwMDAwMDAwMDAwMDAwMDAwOw0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gQmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudA0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEdldCB0aGUgdG90YWwgdG9rZW4gc3VwcGx5DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5Ow0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEdldCB0aGUgYWNjb3VudCBiYWxhbmNlIG9mIGFub3RoZXIgYWNjb3VudCB3aXRoIGFkZHJlc3MgX293bmVyDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICAgICAgICAgICAgICAgIC8vIFVzZXIgaGFzIGJhbGFuY2UNCiAgICAgICAgICAgICYmIF9hbW91bnQgPiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9uLXplcm8gdHJhbnNmZXINCiAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSAgICAgLy8gT3ZlcmZsb3cgY2hlY2sNCiAgICAgICAgKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50LCBtdWx0aXBsZSB0aW1lcywgdXAgdG8gdGhlDQogICAgLy8gX3ZhbHVlIGFtb3VudC4gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUNCiAgICAvLyBjdXJyZW50IGFsbG93YW5jZSB3aXRoIF92YWx1ZS4NCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW5jdGlvbiBhcHByb3ZlKA0KICAgICAgICBhZGRyZXNzIF9zcGVuZGVyLA0KICAgICAgICB1aW50MjU2IF9hbW91bnQNCiAgICApIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gU3BlbmRlciBvZiB0b2tlbnMgdHJhbnNmZXIgYW4gYW1vdW50IG9mIHRva2VucyBmcm9tIHRoZSB0b2tlbiBvd25lcidzDQogICAgLy8gYmFsYW5jZSB0byB0aGUgc3BlbmRlcidzIGFjY291bnQuIFRoZSBvd25lciBvZiB0aGUgdG9rZW5zIG11c3QgYWxyZWFkeQ0KICAgIC8vIGhhdmUgYXBwcm92ZSguLi4pLWQgdGhpcyB0cmFuc2Zlcg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgNCiAgICAgICAgYWRkcmVzcyBfZnJvbSwNCiAgICAgICAgYWRkcmVzcyBfdG8sDQogICAgICAgIHVpbnQyNTYgX2Ftb3VudA0KICAgICkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCAgICAgICAgICAgICAgICAgIC8vIEZyb20gYS9jIGhhcyBiYWxhbmNlDQogICAgICAgICAgICAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICAgIC8vIFRyYW5zZmVyIGFwcHJvdmVkDQogICAgICAgICAgICAmJiBfYW1vdW50ID4gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyDQogICAgICAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10gIC8vIE92ZXJmbG93IGNoZWNrDQogICAgICAgICkgew0KICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsNCiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOw0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOw0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIFJldHVybnMgdGhlIGFtb3VudCBvZiB0b2tlbnMgYXBwcm92ZWQgYnkgdGhlIG93bmVyIHRoYXQgY2FuIGJlDQogICAgLy8gdHJhbnNmZXJyZWQgdG8gdGhlIHNwZW5kZXIncyBhY2NvdW50DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKA0KICAgICAgICBhZGRyZXNzIF9vd25lciwgDQogICAgICAgIGFkZHJlc3MgX3NwZW5kZXINCiAgICApIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7DQogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwNCiAgICAgICAgdWludDI1NiBfdmFsdWUpOw0KfQ0KDQoNCmNvbnRyYWN0IEludGVncmF0aXZlV2FsbGV0VG9rZW4gaXMgRVJDMjBUb2tlbiB7DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBUb2tlbiBpbmZvcm1hdGlvbg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIklXVCI7DQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkludGVncmF0aXZlIFdhbGxldCBUb2tlbiI7DQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsNCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJV1RmdW5kID0gNTUgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAgIC8vIDU1bSByZXNlcnZlZCBmb3IgZm91bmRhdGlvbiBhbmQgZXhwZW5zZXMuDQoNCiAgICAvLyBJbml0aWFsIGRhdGUgMjAxNy0wOC0zMSA6IDEzIDAwIGhzIFVUQw0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFNUQVJUREFURSA9IDE1MDQxODQ0MDA7DQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRU5EREFURSA9IFNUQVJUREFURSArIDI4IGRheXM7DQoNCiAgICAvLyBDYXAgVVNEIDEyLjUgbWlsIEAgMTk2Ljg4IEVUSC9VU0QgLT4gMTIuNW0gLyAxOTYuODggLT4gNjM0OTAgLT4gNjM1MDANCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDQVAgPSA2MzUwMCBldGhlcjsNCg0KICAgIC8vIENhbm5vdCBoYXZlIGEgY29uc3RhbnQgYWRkcmVzcyBoZXJlIC0gU29saWRpdHkgYnVnDQogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWcgPSAweGY4MkQ4OWYyNzRlMkM1RkU5RkQzMjAyQzU0MjZBQkU0N0QyMDk5Q2Q7DQogICAgYWRkcmVzcyBwdWJsaWMgaXd0ZnVuZHRva2VucyA9IDB4MUU0MDhjRTM0M0Y0YTM5MkI0MzBkRkM1RTNlMmZFM0I2YTlDYzU4MDsNCg0KDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxFdGhlcnM7DQoNCiAgICBmdW5jdGlvbiBJbnRlZ3JhdGl2ZVdhbGxldFRva2VuKCkgew0KCQkNCgkgIGJhbGFuY2VzW2l3dGZ1bmR0b2tlbnNdID0gSVdUZnVuZDsgICAvLyA1NW0gSVdUIHJlc2VydmVkIGZvciB1c2UgRnVuZGF0aW9uDQoNCiAgICB9DQoNCiAgDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gVG9rZW5zIHBlciBFVEgNCiAgICAvLyBEYXkgIDEtNyAgOiAxLDIwMCBJV1QgPSAxIEV0aGVyDQogICAgLy8gRGF5cyA44oCTMTQgOiAxLDAwMCBJV1QgPSAxIEV0aGVyDQogICAgLy8gRGF5cyAxNeKAkzIxOiA4MDAgICBJV1QgPSAxIEV0aGVyDQogICAgLy8gRGF5cyAyMuKAkzI3OiA2MDAgICBJV1QgPSAxIEV0aGVyDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJDQogICAgZnVuY3Rpb24gYnV5UHJpY2UoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHJldHVybiBidXlQcmljZUF0KG5vdyk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYnV5UHJpY2VBdCh1aW50MjU2IGF0KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIGlmIChhdCA8IFNUQVJUREFURSkgew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMSBkYXlzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDEyMDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgOCBkYXlzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDEwMDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMTUgZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiA4MDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMjIgZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiA2MDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPD0gRU5EREFURSkgew0KICAgICAgICAgICAgcmV0dXJuIDYwMDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvLyBCdXkgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0DQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIHByb3h5UGF5bWVudChtc2cuc2VuZGVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBwcm94eVBheW1lbnQoYWRkcmVzcyBwYXJ0aWNpcGFudCkgcGF5YWJsZSB7DQogICAgICAgIC8vIE5vIGNvbnRyaWJ1dGlvbnMgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgY3Jvd2RzYWxlDQogICAgICAgIHJlcXVpcmUobm93ID49IFNUQVJUREFURSk7DQogICAgICAgIC8vIE5vIGNvbnRyaWJ1dGlvbnMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3Jvd2RzYWxlDQogICAgICAgIHJlcXVpcmUobm93IDw9IEVORERBVEUpOw0KICAgICAgICAvLyBObyAwIGNvbnRyaWJ1dGlvbnMNCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsNCg0KICAgICAgICAvLyBBZGQgRVRIIHJhaXNlZCB0byB0b3RhbA0KICAgICAgICB0b3RhbEV0aGVycyA9IHRvdGFsRXRoZXJzLmFkZChtc2cudmFsdWUpOw0KICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIGNhcA0KICAgICAgICByZXF1aXJlKHRvdGFsRXRoZXJzIDw9IENBUCk7DQoNCiAgICAgICAgLy8gV2hhdCBpcyB0aGUgSVdUIHRvIEVUSCByYXRlDQogICAgICAgIHVpbnQyNTYgX2J1eVByaWNlID0gYnV5UHJpY2UoKTsNCg0KICAgICAgICAvLyBDYWxjdWxhdGUgI0lXVCAtIHRoaXMgaXMgc2FmZSBhcyBfYnV5UHJpY2UgaXMga25vd24NCiAgICAgICAgLy8gYW5kIG1zZy52YWx1ZSBpcyByZXN0cmljdGVkIHRvIHZhbGlkIHZhbHVlcw0KICAgICAgICB1aW50IHRva2VucyA9IG1zZy52YWx1ZSAqIF9idXlQcmljZTsNCg0KICAgICAgICAvLyBDaGVjayB0b2tlbnMgPiAwDQogICAgICAgIHJlcXVpcmUodG9rZW5zID4gMCk7DQogICANCg0KICAgICAgICAvLyBBZGQgdG8gYmFsYW5jZXMNCiAgICAgICAgYmFsYW5jZXNbcGFydGljaXBhbnRdID0gYmFsYW5jZXNbcGFydGljaXBhbnRdLmFkZCh0b2tlbnMpOw0KDQogICAgICAgIC8vIExvZyBldmVudHMNCiAgICAgICAgVG9rZW5zQm91Z2h0KHBhcnRpY2lwYW50LCBtc2cudmFsdWUsIHRvdGFsRXRoZXJzLCB0b2tlbnMsIF90b3RhbFN1cHBseSwgX2J1eVByaWNlKTsNCiAgICAgICAgVHJhbnNmZXIoMHgwLCBwYXJ0aWNpcGFudCwgdG9rZW5zKTsNCg0KICAgICAgICAvLyBNb3ZlIHRoZSBmdW5kcyB0byBhIHNhZmUgd2FsbGV0DQogICAgICAgIG11bHRpc2lnLnRyYW5zZmVyKG1zZy52YWx1ZSk7DQogICAgfQ0KICAgIGV2ZW50IFRva2Vuc0JvdWdodChhZGRyZXNzIGluZGV4ZWQgYnV5ZXIsIHVpbnQyNTYgZXRoZXJzLCANCiAgICAgICAgdWludDI1NiBuZXdFdGhlckJhbGFuY2UsIHVpbnQyNTYgdG9rZW5zLCANCiAgICAgICAgdWludDI1NiBuZXdUb3RhbFN1cHBseSwgdWludDI1NiBidXlQcmljZSk7DQoNCg0KICAgIGZ1bmN0aW9uIGFkZFByZWNvbW1pdG1lbnQoYWRkcmVzcyBwYXJ0aWNpcGFudCwgdWludCBiYWxhbmNlKSBvbmx5T3duZXIgew0KICAgICAgICByZXF1aXJlKG5vdyA8IFNUQVJUREFURSk7DQogICAgICAgIHJlcXVpcmUoYmFsYW5jZSA+IDApOw0KICAgICAgICBiYWxhbmNlc1twYXJ0aWNpcGFudF0gPSBiYWxhbmNlc1twYXJ0aWNpcGFudF0uYWRkKGJhbGFuY2UpOw0KICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKGJhbGFuY2UpOw0KICAgICAgICBUcmFuc2ZlcigweDAsIHBhcnRpY2lwYW50LCBiYWxhbmNlKTsNCiAgICB9DQoNCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAvLyBDYW5ub3QgdHJhbnNmZXIgYmVmb3JlIGNyb3dkc2FsZSBlbmRzIG9yIGNhcCByZWFjaGVkDQogICAgICAgIHJlcXVpcmUobm93ID4gRU5EREFURSB8fCB0b3RhbEV0aGVycyA9PSBDQVApOw0KICAgICAgICAvLyBTdGFuZGFyZCB0cmFuc2Zlcg0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgDQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykNCiAgICB7DQogICAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBiZWZvcmUgY3Jvd2RzYWxlIGVuZHMgb3IgY2FwIHJlYWNoZWQNCiAgICAgICAgcmVxdWlyZShub3cgPiBFTkREQVRFIHx8IHRvdGFsRXRoZXJzID09IENBUCk7DQogICAgICAgIC8vIFN0YW5kYXJkIHRyYW5zZmVyRnJvbQ0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF9hbW91bnQpOw0KICAgIH0NCg0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJBbnlFUkMyMFRva2VuKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCB1aW50IGFtb3VudCkNCiAgICAgIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIA0KICAgIHsNCiAgICAgICAgcmV0dXJuIEVSQzIwVG9rZW4odG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYW1vdW50KTsNCiAgICB9DQogICAgDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIEludGVncmF0aXZlIFdhbGxldCBUb2tlbiAmIENyb3dkc2FsZQ0KICAgIC8vIEl3dG9rZW4uY29tDQogICAgLy8gRGV2ZWxvcGVyIGZyb20gQEFkYXR1bQ0KICAgIC8vIFRha2luZyBpZGVhcyBmcm9tIEBCb2treVBvb0JhaCANCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgDQogICAgDQp9'