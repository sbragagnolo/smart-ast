base 64 content
base64lamboToken1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KY29udHJhY3QgRm9yZWlnblRva2VuIHsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQp9DQoNCmNvbnRyYWN0IExhbWJvVG9rZW4gew0KICAgIGFkZHJlc3Mgb3duZXIgPSBtc2cuc2VuZGVyOw0KDQogICAgYm9vbCBwdWJsaWMgcHVyY2hhc2luZ0FsbG93ZWQgPSBmYWxzZTsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxDb250cmlidXRpb24gPSAwOw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQm9udXNUb2tlbnNJc3N1ZWQgPSAwOw0KDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOw0KDQogICAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykgeyByZXR1cm4gIkxhbWJvIFRva2VuIjsgfQ0KICAgIGZ1bmN0aW9uIHN5bWJvbCgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykgeyByZXR1cm4gIkxBTUJPIjsgfQ0KICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsgcmV0dXJuIDE4OyB9DQogICAgDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IHJldHVybiBiYWxhbmNlc1tfb3duZXJdOyB9DQogICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjaw0KICAgICAgICBpZihtc2cuZGF0YS5sZW5ndGggPCAoMiAqIDMyKSArIDQpIHsgdGhyb3c7IH0NCg0KICAgICAgICBpZiAoX3ZhbHVlID09IDApIHsgcmV0dXJuIGZhbHNlOyB9DQoNCiAgICAgICAgdWludDI1NiBmcm9tQmFsYW5jZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOw0KDQogICAgICAgIGJvb2wgc3VmZmljaWVudEZ1bmRzID0gZnJvbUJhbGFuY2UgPj0gX3ZhbHVlOw0KICAgICAgICBib29sIG92ZXJmbG93ZWQgPSBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZXNbX3RvXTsNCiAgICAgICAgDQogICAgICAgIGlmIChzdWZmaWNpZW50RnVuZHMgJiYgIW92ZXJmbG93ZWQpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAvLyBtaXRpZ2F0ZXMgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrDQogICAgICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8ICgzICogMzIpICsgNCkgeyB0aHJvdzsgfQ0KDQogICAgICAgIGlmIChfdmFsdWUgPT0gMCkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgICAgDQogICAgICAgIHVpbnQyNTYgZnJvbUJhbGFuY2UgPSBiYWxhbmNlc1tfZnJvbV07DQogICAgICAgIHVpbnQyNTYgYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07DQoNCiAgICAgICAgYm9vbCBzdWZmaWNpZW50RnVuZHMgPSBmcm9tQmFsYW5jZSA8PSBfdmFsdWU7DQogICAgICAgIGJvb2wgc3VmZmljaWVudEFsbG93YW5jZSA9IGFsbG93YW5jZSA8PSBfdmFsdWU7DQogICAgICAgIGJvb2wgb3ZlcmZsb3dlZCA9IGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dOw0KDQogICAgICAgIGlmIChzdWZmaWNpZW50RnVuZHMgJiYgc3VmZmljaWVudEFsbG93YW5jZSAmJiAhb3ZlcmZsb3dlZCkgew0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICANCiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAvLyBtaXRpZ2F0ZXMgdGhlIEVSQzIwIHNwZW5kL2FwcHJvdmFsIHJhY2UgY29uZGl0aW9uDQogICAgICAgIGlmIChfdmFsdWUgIT0gMCAmJiBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSB7IHJldHVybiBmYWxzZTsgfQ0KICAgICAgICANCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgICAgIA0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCg0KICAgIGZ1bmN0aW9uIGVuYWJsZVB1cmNoYXNpbmcoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7IHRocm93OyB9DQoNCiAgICAgICAgcHVyY2hhc2luZ0FsbG93ZWQgPSB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRpc2FibGVQdXJjaGFzaW5nKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgeyB0aHJvdzsgfQ0KDQogICAgICAgIHB1cmNoYXNpbmdBbGxvd2VkID0gZmFsc2U7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gd2l0aGRyYXdGb3JlaWduVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsgdGhyb3c7IH0NCg0KICAgICAgICBGb3JlaWduVG9rZW4gdG9rZW4gPSBGb3JlaWduVG9rZW4oX3Rva2VuQ29udHJhY3QpOw0KDQogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOw0KICAgICAgICByZXR1cm4gdG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0U3RhdHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2LCB1aW50MjU2LCB1aW50MjU2LCBib29sKSB7DQogICAgICAgIHJldHVybiAodG90YWxDb250cmlidXRpb24sIHRvdGFsU3VwcGx5LCB0b3RhbEJvbnVzVG9rZW5zSXNzdWVkLCBwdXJjaGFzaW5nQWxsb3dlZCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsNCiAgICAgICAgaWYgKCFwdXJjaGFzaW5nQWxsb3dlZCkgeyB0aHJvdzsgfQ0KICAgICAgICANCiAgICAgICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB7IHJldHVybjsgfQ0KDQogICAgICAgIG93bmVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7DQogICAgICAgIHRvdGFsQ29udHJpYnV0aW9uICs9IG1zZy52YWx1ZTsNCg0KICAgICAgICB1aW50MjU2IHRva2Vuc0lzc3VlZCA9IChtc2cudmFsdWUgKiAxMDApOw0KDQogICAgICAgIGlmIChtc2cudmFsdWUgPj0gMTAgZmlubmV5KSB7DQogICAgICAgICAgICB0b2tlbnNJc3N1ZWQgKz0gdG90YWxDb250cmlidXRpb247DQoNCiAgICAgICAgICAgIGJ5dGVzMjAgYm9udXNIYXNoID0gcmlwZW1kMTYwKGJsb2NrLmNvaW5iYXNlLCBibG9jay5udW1iZXIsIGJsb2NrLnRpbWVzdGFtcCk7DQogICAgICAgICAgICBpZiAoYm9udXNIYXNoWzBdID09IDApIHsNCiAgICAgICAgICAgICAgICB1aW50OCBib251c011bHRpcGxpZXIgPQ0KICAgICAgICAgICAgICAgICAgICAoKGJvbnVzSGFzaFsxXSAmIDB4MDEgIT0gMCkgPyAxIDogMCkgKyAoKGJvbnVzSGFzaFsxXSAmIDB4MDIgIT0gMCkgPyAxIDogMCkgKw0KICAgICAgICAgICAgICAgICAgICAoKGJvbnVzSGFzaFsxXSAmIDB4MDQgIT0gMCkgPyAxIDogMCkgKyAoKGJvbnVzSGFzaFsxXSAmIDB4MDggIT0gMCkgPyAxIDogMCkgKw0KICAgICAgICAgICAgICAgICAgICAoKGJvbnVzSGFzaFsxXSAmIDB4MTAgIT0gMCkgPyAxIDogMCkgKyAoKGJvbnVzSGFzaFsxXSAmIDB4MjAgIT0gMCkgPyAxIDogMCkgKw0KICAgICAgICAgICAgICAgICAgICAoKGJvbnVzSGFzaFsxXSAmIDB4NDAgIT0gMCkgPyAxIDogMCkgKyAoKGJvbnVzSGFzaFsxXSAmIDB4ODAgIT0gMCkgPyAxIDogMCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdWludDI1NiBib251c1Rva2Vuc0lzc3VlZCA9IChtc2cudmFsdWUgKiAxMDApICogYm9udXNNdWx0aXBsaWVyOw0KICAgICAgICAgICAgICAgIHRva2Vuc0lzc3VlZCArPSBib251c1Rva2Vuc0lzc3VlZDsNCg0KICAgICAgICAgICAgICAgIHRvdGFsQm9udXNUb2tlbnNJc3N1ZWQgKz0gYm9udXNUb2tlbnNJc3N1ZWQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0b3RhbFN1cHBseSArPSB0b2tlbnNJc3N1ZWQ7DQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHRva2Vuc0lzc3VlZDsNCiAgICAgICAgDQogICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIG1zZy5zZW5kZXIsIHRva2Vuc0lzc3VlZCk7DQogICAgfQ0KfQ=='