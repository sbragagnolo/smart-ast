base 64 content
base64legendsToken1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC45Ow0KDQoNCi8qKioNCiAqIFZJUCBUb2tlbiBhbmQgQ3Jvd2RmdW5kaW5nIGNvbnRyYWN0cy4NCiAqLw0KDQoNCi8qKg0KICogQHRpdGxlIEVSQzIwDQogKi8NCmNvbnRyYWN0IEVSQzIwIHsNCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOw0KDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQp9DQoNCi8qKg0KICogQHRpdGxlIExlZ2VuZHNDcm93ZGZ1bmQNCiAqLw0KY29udHJhY3QgTGVnZW5kc0Nyb3dkZnVuZCB7DQoNCiAgICBhZGRyZXNzIHB1YmxpYyBjcmVhdG9yOw0KICAgIGFkZHJlc3MgcHVibGljIGV4aXRBZGRyZXNzOw0KDQogICAgdWludCBwdWJsaWMgc3RhcnQ7DQogICAgdWludCBwdWJsaWMgbGltaXRWSVA7DQoNCiAgICBMZWdlbmRzVG9rZW4gcHVibGljIGxlZ2VuZHNUb2tlbjsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHJlY2lwaWVudEVUSDsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyByZWNpcGllbnRWSVA7DQoNCiAgICB1aW50IHB1YmxpYyB0b3RhbEVUSDsNCiAgICB1aW50IHB1YmxpYyB0b3RhbFZJUDsNCg0KICAgIGV2ZW50IFZJUFB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIGFkZHJlc3MgaW5kZXhlZCByZWNpcGllbnQsIHVpbnQgRVRILCB1aW50IFZJUCk7DQoNCiAgICBtb2RpZmllciBzYWxlQWN0aXZlKCkgew0KICAgICAgICBpZiAoYWRkcmVzcyhsZWdlbmRzVG9rZW4pID09IDApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIGlmIChibG9jay50aW1lc3RhbXAgPCBzdGFydCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBoYXNWYWx1ZSgpIHsNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIHJlY2lwaWVudElzVmFsaWQoYWRkcmVzcyByZWNpcGllbnQpIHsNCiAgICAgICAgaWYgKHJlY2lwaWVudCA9PSAwIHx8IHJlY2lwaWVudCA9PSBhZGRyZXNzKHRoaXMpKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzQ3JlYXRvcigpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gY3JlYXRvcikgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciB0b2tlbkNvbnRyYWN0Tm90U2V0KCkgew0KICAgICAgICBpZiAoYWRkcmVzcyhsZWdlbmRzVG9rZW4pICE9IDApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBDb25zdHJ1Y3Rvci4NCiAgICAgKiBAcGFyYW0gX2V4aXRBZGRyZXNzIEFkZHJlc3MgdGhhdCBhbGwgRVRIIHNob3VsZCBiZSBmb3J3YXJkZWQgdG8uDQogICAgICogQHBhcmFtIF9zdGFydCBUaW1lc3RhbXAgb2Ygd2hlbiB0aGUgY3Jvd2RzYWxlIHdpbGwgc3RhcnQuDQogICAgICogQHBhcmFtIF9saW1pdFZJUCBNYXhpbXVtIGFtb3VudCBvZiBWSVAgdGhhdCBjYW4gYmUgYWxsb2NhdGVkIGluIHRvdGFsLiBEZW5vbWluYXRlZCBpbiB3ZWkuDQogICAgICovDQogICAgZnVuY3Rpb24gTGVnZW5kc0Nyb3dkZnVuZChhZGRyZXNzIF9leGl0QWRkcmVzcywgdWludCBfc3RhcnQsIHVpbnQgX2xpbWl0VklQKSB7DQogICAgICAgIGNyZWF0b3IgPSBtc2cuc2VuZGVyOw0KICAgICAgICBleGl0QWRkcmVzcyA9IF9leGl0QWRkcmVzczsNCiAgICAgICAgc3RhcnQgPSBfc3RhcnQ7DQogICAgICAgIGxpbWl0VklQID0gX2xpbWl0VklQOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgU2V0IHRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdC4gTXVzdCBiZSBjYWxsZWQgYnkgY3JlYXRvciBvZiB0aGlzLiBDYW4gb25seSBiZSBzZXQgb25jZS4NCiAgICAgKiBAcGFyYW0gX2xlZ2VuZHNUb2tlbiBBZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdC4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzZXRUb2tlbkNvbnRyYWN0KExlZ2VuZHNUb2tlbiBfbGVnZW5kc1Rva2VuKSBleHRlcm5hbCBpc0NyZWF0b3IgdG9rZW5Db250cmFjdE5vdFNldCB7DQogICAgICAgIGxlZ2VuZHNUb2tlbiA9IF9sZWdlbmRzVG9rZW47DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBGb3J3YXJkIEV0aGVyIHRvIHRoZSBleGl0IGFkZHJlc3MuIFN0b3JlIGFsbCBFVEggYW5kIFZJUCBpbmZvcm1hdGlvbiBpbiBwdWJsaWMgc3RhdGUgYW5kIGxvZ3MuDQogICAgICogQHBhcmFtIHJlY2lwaWVudCBBZGRyZXNzIHRoYXQgdG9rZW5zIHNob3VsZCBiZSBhdHRyaWJ1dGVkIHRvLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHB1cmNoYXNlTWVtYmVyc2hpcChhZGRyZXNzIHNlbmRlciwgYWRkcmVzcyByZWNpcGllbnQpIGV4dGVybmFsIHBheWFibGUgc2FsZUFjdGl2ZSBoYXNWYWx1ZSByZWNpcGllbnRJc1ZhbGlkKHJlY2lwaWVudCkgew0KDQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGFkZHJlc3MobGVnZW5kc1Rva2VuKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgLy8gQXR0ZW1wdCB0byBzZW5kIHRoZSBFVEggdG8gdGhlIGV4aXQgYWRkcmVzcy4NCiAgICAgICAgaWYgKCFleGl0QWRkcmVzcy5zZW5kKG1zZy52YWx1ZSkpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVXBkYXRlIEVUSCBhbW91bnRzLg0KICAgICAgICByZWNpcGllbnRFVEhbcmVjaXBpZW50XSArPSBtc2cudmFsdWU7DQogICAgICAgIHRvdGFsRVRIICs9IG1zZy52YWx1ZTsNCg0KICAgICAgICAvLyBDYWxjdWxhdGUgVklQIGFtb3VudC4NCiAgICAgICAgdWludCBWSVAgPSBtc2cudmFsdWUgKiAxMDsgIC8vICQxIC8gVklQIGJhc2VkIG9uICQxMCAvIEVUSCB2YWx1ZS4NCg0KICAgICAgICAvLyBBcmUgd2UgaW4gdGhlIHByZS1zYWxlPw0KICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wIC0gc3RhcnQgPCAyIHdlZWtzKSB7DQogICAgICAgICAgICBWSVAgPSAoVklQICogMTApIC8gOTsgICAvLyAxMCUgZGlzY291bnQuDQogICAgICAgIH0NCg0KICAgICAgICAvLyBVcGRhdGUgVklQIGFtb3VudHMuDQogICAgICAgIHJlY2lwaWVudFZJUFtyZWNpcGllbnRdICs9IFZJUDsNCiAgICAgICAgdG90YWxWSVAgKz0gVklQOw0KDQogICAgICAgIC8vIENoZWNrIHdlIGhhdmUgbm90IGV4Y2VlZGVkIHRoZSBtYXhpbXVtIFZJUC4NCiAgICAgICAgaWYgKHRvdGFsVklQID4gbGltaXRWSVApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVGVsbCB0aGUgdG9rZW4gY29udHJhY3QgYWJvdXQgdGhlIGluY3JlYXNlLg0KICAgICAgICBsZWdlbmRzVG9rZW4uYWRkVG9rZW5zKHJlY2lwaWVudCwgVklQKTsNCg0KICAgICAgICAvLyBMb2cgdGhpcyBwdXJjaGFzZS4NCiAgICAgICAgVklQUHVyY2hhc2Uoc2VuZGVyLCByZWNpcGllbnQsIG1zZy52YWx1ZSwgVklQKTsNCiAgICB9DQoNCn0NCg0KDQovKioNCiAqIEB0aXRsZSBMZWdlbmRzVG9rZW4NCiAqLw0KY29udHJhY3QgTGVnZW5kc1Rva2VuIGlzIEVSQzIwIHsNCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAnVklQJzsgICAgICAgICAgICAgLy9UaGUgVG9rZW4ncyBuYW1lOiBlLmcuIERpZ2l4REFPIFRva2Vucw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OyAgICAgICAgICAgICAvLyAxVG9rZW4gJiMxNjg7PSAxJCAoMUVUSCAmIzE2ODs9IDEwJCkNCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICdWSVAnOyAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlLmcuIFJFUA0KICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICdWSVBfMC4xJzsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgb3duZXJWSVA7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOw0KICAgIHVpbnQgcHVibGljIHRvdGFsVklQOw0KICAgIHVpbnQgcHVibGljIHN0YXJ0Ow0KDQogICAgYWRkcmVzcyBwdWJsaWMgbGVnZW5kc0Nyb3dkZnVuZDsNCg0KICAgIGJvb2wgcHVibGljIHRlc3Rpbmc7DQoNCiAgICBtb2RpZmllciBmcm9tQ3Jvd2RmdW5kKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBsZWdlbmRzQ3Jvd2RmdW5kKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzQWN0aXZlKCkgew0KICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wIDwgc3RhcnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgaXNOb3RBY3RpdmUoKSB7DQogICAgICAgIGlmICghdGVzdGluZyAmJiBibG9jay50aW1lc3RhbXAgPj0gc3RhcnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgcmVjaXBpZW50SXNWYWxpZChhZGRyZXNzIHJlY2lwaWVudCkgew0KICAgICAgICBpZiAocmVjaXBpZW50ID09IDAgfHwgcmVjaXBpZW50ID09IGFkZHJlc3ModGhpcykpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgYWxsb3dhbmNlSXNaZXJvKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgew0KICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzJiMxODA7DQogICAgICAgIC8vIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsMClgIGlmIGl0IGlzIG5vdA0KICAgICAgICAvLyBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOg0KICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQ0KICAgICAgICBpZiAoKHZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdICE9IDApKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQ29uc3RydWN0b3IuDQogICAgICogQHBhcmFtIF9sZWdlbmRzQ3Jvd2RmdW5kIEFkZHJlc3Mgb2YgY3Jvd2RmdW5kIGNvbnRyYWN0Lg0KICAgICAqIEBwYXJhbSBfcHJlYWxsb2NhdGlvbiBBZGRyZXNzIHRvIHJlY2VpdmUgdGhlIHByZS1hbGxvY2F0aW9uLg0KICAgICAqIEBwYXJhbSBfc3RhcnQgVGltZXN0YW1wIHdoZW4gdGhlIHRva2VuIGJlY29tZXMgYWN0aXZlLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIExlZ2VuZHNUb2tlbihhZGRyZXNzIF9sZWdlbmRzQ3Jvd2RmdW5kLCBhZGRyZXNzIF9wcmVhbGxvY2F0aW9uLCB1aW50IF9zdGFydCwgYm9vbCBfdGVzdGluZykgew0KICAgICAgICBsZWdlbmRzQ3Jvd2RmdW5kID0gX2xlZ2VuZHNDcm93ZGZ1bmQ7DQogICAgICAgIHN0YXJ0ID0gX3N0YXJ0Ow0KICAgICAgICB0ZXN0aW5nID0gX3Rlc3Rpbmc7DQogICAgICAgIHRvdGFsVklQID0gb3duZXJWSVBbX3ByZWFsbG9jYXRpb25dID0gMjUwMDAgZXRoZXI7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBBZGQgdG8gdG9rZW4gYmFsYW5jZSBvbiBhZGRyZXNzLiBNdXN0IGJlIGZyb20gY3Jvd2RmdW5kLg0KICAgICAqIEBwYXJhbSByZWNpcGllbnQgQWRkcmVzcyB0byBhZGQgdG9rZW5zIHRvLg0KICAgICAqIEByZXR1cm4gVklQIEFtb3VudCBvZiBWSVAgdG8gYWRkLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFkZFRva2VucyhhZGRyZXNzIHJlY2lwaWVudCwgdWludCBWSVApIGV4dGVybmFsIGlzTm90QWN0aXZlIGZyb21Dcm93ZGZ1bmQgew0KICAgICAgICBvd25lclZJUFtyZWNpcGllbnRdICs9IFZJUDsNCiAgICAgICAgdG90YWxWSVAgKz0gVklQOw0KICAgICAgICBUcmFuc2ZlcigweDAsIHJlY2lwaWVudCwgVklQKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEltcGxlbWVudHMgRVJDMjAgdG90YWxTdXBwbHkoKQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkgew0KICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsVklQOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSW1wbGVtZW50cyBFUkMyMCBiYWxhbmNlT2YoKQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgICAgIGJhbGFuY2UgPSBvd25lclZJUFtfb3duZXJdOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSW1wbGVtZW50cyBFUkMyMCB0cmFuc2ZlcigpDQogICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc0FjdGl2ZSByZWNpcGllbnRJc1ZhbGlkKF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChvd25lclZJUFttc2cuc2VuZGVyXSA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIG93bmVyVklQW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIG93bmVyVklQW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEltcGxlbWVudHMgRVJDMjAgdHJhbnNmZXJGcm9tKCkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc0FjdGl2ZSByZWNpcGllbnRJc1ZhbGlkKF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgb3duZXJWSVBbX2Zyb21dID49IF92YWx1ZSkgew0KICAgICAgICAgICAgb3duZXJWSVBbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBvd25lclZJUFtfZnJvbV0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBJbXBsZW1lbnRzIEVSQzIwIGFwcHJvdmUoKQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGlzQWN0aXZlIGFsbG93YW5jZUlzWmVybyhfc3BlbmRlciwgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7DQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEltcGxlbWVudHMgRVJDMjAgYWxsb3dhbmNlKCkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7DQogICAgICAgIHJlbWFpbmluZyA9IGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBEaXJlY3QgQnV5DQogICAgICovDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIExlZ2VuZHNDcm93ZGZ1bmQobGVnZW5kc0Nyb3dkZnVuZCkucHVyY2hhc2VNZW1iZXJzaGlwLnZhbHVlKG1zZy52YWx1ZSkobXNnLnNlbmRlciwgbXNnLnNlbmRlcik7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBQcm94eSBCdXkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBwdXJjaGFzZU1lbWJlcnNoaXAoYWRkcmVzcyByZWNpcGllbnQpIHBheWFibGUgew0KICAgICAgICBMZWdlbmRzQ3Jvd2RmdW5kKGxlZ2VuZHNDcm93ZGZ1bmQpLnB1cmNoYXNlTWVtYmVyc2hpcC52YWx1ZShtc2cudmFsdWUpKG1zZy5zZW5kZXIsIHJlY2lwaWVudCk7DQogICAgfQ0KDQp9'