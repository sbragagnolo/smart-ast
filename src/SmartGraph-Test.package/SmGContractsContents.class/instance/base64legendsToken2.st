base 64 content
base64legendsToken2
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC45Ow0KDQoNCi8qKg0KICogQHRpdGxlIEVSQzIwDQogKi8NCmNvbnRyYWN0IEVSQzIwIHsNCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOw0KICAgIA0KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOw0KfQ0KDQovKioNCiAqIEB0aXRsZSBMZWdlbmRzQ3Jvd2RmdW5kDQogKi8NCmNvbnRyYWN0IExlZ2VuZHNDcm93ZGZ1bmQgew0KDQogICAgYWRkcmVzcyBwdWJsaWMgY3JlYXRvcjsNCiAgICBhZGRyZXNzIHB1YmxpYyBleGl0QWRkcmVzczsNCg0KICAgIHVpbnQgcHVibGljIHN0YXJ0Ow0KICAgIHVpbnQgcHVibGljIGxpbWl0VklQOw0KDQogICAgTGVnZW5kc1Rva2VuIHB1YmxpYyBsZWdlbmRzVG9rZW47DQoNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyByZWNpcGllbnRFVEg7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgcmVjaXBpZW50VklQOw0KDQogICAgdWludCBwdWJsaWMgdG90YWxFVEg7DQogICAgdWludCBwdWJsaWMgdG90YWxWSVA7DQoNCiAgICBldmVudCBWSVBQdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIGluZGV4ZWQgcmVjaXBpZW50LCB1aW50IEVUSCwgdWludCBWSVApOw0KDQogICAgbW9kaWZpZXIgc2FsZUFjdGl2ZSgpIHsNCiAgICAgICAgaWYgKGFkZHJlc3MobGVnZW5kc1Rva2VuKSA9PSAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wIDwgc3RhcnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgaGFzVmFsdWUoKSB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPT0gMCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciByZWNpcGllbnRJc1ZhbGlkKGFkZHJlc3MgcmVjaXBpZW50KSB7DQogICAgICAgIGlmIChyZWNpcGllbnQgPT0gMCB8fCByZWNpcGllbnQgPT0gYWRkcmVzcyh0aGlzKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBpc0NyZWF0b3IoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGNyZWF0b3IpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgdG9rZW5Db250cmFjdE5vdFNldCgpIHsNCiAgICAgICAgaWYgKGFkZHJlc3MobGVnZW5kc1Rva2VuKSAhPSAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQ29uc3RydWN0b3IuDQogICAgICogQHBhcmFtIF9leGl0QWRkcmVzcyBBZGRyZXNzIHRoYXQgYWxsIEVUSCBzaG91bGQgYmUgZm9yd2FyZGVkIHRvLg0KICAgICAqIEBwYXJhbSBfc3RhcnQgVGltZXN0YW1wIG9mIHdoZW4gdGhlIGNyb3dkc2FsZSB3aWxsIHN0YXJ0Lg0KICAgICAqIEBwYXJhbSBfbGltaXRWSVAgTWF4aW11bSBhbW91bnQgb2YgVklQIHRoYXQgY2FuIGJlIGFsbG9jYXRlZCBpbiB0b3RhbC4gRGVub21pbmF0ZWQgaW4gd2VpLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIExlZ2VuZHNDcm93ZGZ1bmQoYWRkcmVzcyBfZXhpdEFkZHJlc3MsIHVpbnQgX3N0YXJ0LCB1aW50IF9saW1pdFZJUCkgew0KICAgICAgICBjcmVhdG9yID0gbXNnLnNlbmRlcjsNCiAgICAgICAgZXhpdEFkZHJlc3MgPSBfZXhpdEFkZHJlc3M7DQogICAgICAgIHN0YXJ0ID0gX3N0YXJ0Ow0KICAgICAgICBsaW1pdFZJUCA9IF9saW1pdFZJUDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IFNldCB0aGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QuIE11c3QgYmUgY2FsbGVkIGJ5IGNyZWF0b3Igb2YgdGhpcy4gQ2FuIG9ubHkgYmUgc2V0IG9uY2UuDQogICAgICogQHBhcmFtIF9sZWdlbmRzVG9rZW4gQWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QuDQogICAgICovDQogICAgZnVuY3Rpb24gc2V0VG9rZW5Db250cmFjdChMZWdlbmRzVG9rZW4gX2xlZ2VuZHNUb2tlbikgZXh0ZXJuYWwgaXNDcmVhdG9yIHRva2VuQ29udHJhY3ROb3RTZXQgew0KICAgICAgICBsZWdlbmRzVG9rZW4gPSBfbGVnZW5kc1Rva2VuOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgRm9yd2FyZCBFdGhlciB0byB0aGUgZXhpdCBhZGRyZXNzLiBTdG9yZSBhbGwgRVRIIGFuZCBWSVAgaW5mb3JtYXRpb24gaW4gcHVibGljIHN0YXRlIGFuZCBsb2dzLg0KICAgICAqIEBwYXJhbSByZWNpcGllbnQgQWRkcmVzcyB0aGF0IHRva2VucyBzaG91bGQgYmUgYXR0cmlidXRlZCB0by4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBwdXJjaGFzZU1lbWJlcnNoaXAoYWRkcmVzcyBzZW5kZXIsIGFkZHJlc3MgcmVjaXBpZW50KSBleHRlcm5hbCBwYXlhYmxlIHNhbGVBY3RpdmUgaGFzVmFsdWUgcmVjaXBpZW50SXNWYWxpZChyZWNpcGllbnQpIHsNCg0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBhZGRyZXNzKGxlZ2VuZHNUb2tlbikpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIC8vIEF0dGVtcHQgdG8gc2VuZCB0aGUgRVRIIHRvIHRoZSBleGl0IGFkZHJlc3MuDQogICAgICAgIGlmICghZXhpdEFkZHJlc3Muc2VuZChtc2cudmFsdWUpKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFVwZGF0ZSBFVEggYW1vdW50cy4NCiAgICAgICAgcmVjaXBpZW50RVRIW3JlY2lwaWVudF0gKz0gbXNnLnZhbHVlOw0KICAgICAgICB0b3RhbEVUSCArPSBtc2cudmFsdWU7DQoNCiAgICAgICAgLy8gQ2FsY3VsYXRlIFZJUCBhbW91bnQuDQogICAgICAgIHVpbnQgVklQID0gbXNnLnZhbHVlICogMTA7ICAvLyAkMSAvIFZJUCBiYXNlZCBvbiAkMTAgLyBFVEggdmFsdWUuDQoNCiAgICAgICAgLy8gQXJlIHdlIGluIHRoZSBwcmUtc2FsZT8NCiAgICAgICAgaWYgKGJsb2NrLnRpbWVzdGFtcCAtIHN0YXJ0IDwgMiB3ZWVrcykgew0KICAgICAgICAgICAgVklQID0gKFZJUCAqIDEwKSAvIDk7ICAgLy8gMTAlIGRpc2NvdW50Lg0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVXBkYXRlIFZJUCBhbW91bnRzLg0KICAgICAgICByZWNpcGllbnRWSVBbcmVjaXBpZW50XSArPSBWSVA7DQogICAgICAgIHRvdGFsVklQICs9IFZJUDsNCg0KICAgICAgICAvLyBDaGVjayB3ZSBoYXZlIG5vdCBleGNlZWRlZCB0aGUgbWF4aW11bSBWSVAuDQogICAgICAgIGlmICh0b3RhbFZJUCA+IGxpbWl0VklQKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFRlbGwgdGhlIHRva2VuIGNvbnRyYWN0IGFib3V0IHRoZSBpbmNyZWFzZS4NCiAgICAgICAgbGVnZW5kc1Rva2VuLmFkZFRva2VucyhyZWNpcGllbnQsIFZJUCk7DQoNCiAgICAgICAgLy8gTG9nIHRoaXMgcHVyY2hhc2UuDQogICAgICAgIFZJUFB1cmNoYXNlKHNlbmRlciwgcmVjaXBpZW50LCBtc2cudmFsdWUsIFZJUCk7DQogICAgfQ0KDQp9DQoNCg0KLyoqDQogKiBAdGl0bGUgTGVnZW5kc1Rva2VuDQogKi8NCmNvbnRyYWN0IExlZ2VuZHNUb2tlbiBpcyBFUkMyMCB7DQogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gJ1ZJUCc7ICAgICAgICAgICAgIC8vVGhlIFRva2VuJ3MgbmFtZTogZS5nLiBEaWdpeERBTyBUb2tlbnMNCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAgLy8gMVRva2VuICYjMTY4Oz0gMSQgKDFFVEggJiMxNjg7PSAxMCQpDQogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAnVklQJzsgICAgICAgICAgIC8vQW4gaWRlbnRpZmllcjogZS5nLiBSRVANCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnVklQXzAuMSc7DQoNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIG93bmVyVklQOw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsNCiAgICB1aW50IHB1YmxpYyB0b3RhbFZJUDsNCiAgICB1aW50IHB1YmxpYyBzdGFydDsNCg0KICAgIGFkZHJlc3MgcHVibGljIGxlZ2VuZHNDcm93ZGZ1bmQ7DQoNCiAgICBib29sIHB1YmxpYyB0ZXN0aW5nOw0KDQogICAgbW9kaWZpZXIgZnJvbUNyb3dkZnVuZCgpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gbGVnZW5kc0Nyb3dkZnVuZCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBpc0FjdGl2ZSgpIHsNCiAgICAgICAgaWYgKGJsb2NrLnRpbWVzdGFtcCA8IHN0YXJ0KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzTm90QWN0aXZlKCkgew0KICAgICAgICBpZiAoIXRlc3RpbmcgJiYgYmxvY2sudGltZXN0YW1wID49IHN0YXJ0KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIHJlY2lwaWVudElzVmFsaWQoYWRkcmVzcyByZWNpcGllbnQpIHsNCiAgICAgICAgaWYgKHJlY2lwaWVudCA9PSAwIHx8IHJlY2lwaWVudCA9PSBhZGRyZXNzKHRoaXMpKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGFsbG93YW5jZUlzWmVybyhhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHsNCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3NlcyYjMTgwOw0KICAgICAgICAvLyBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLDApYCBpZiBpdCBpcyBub3QNCiAgICAgICAgLy8gYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToNCiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkNCiAgICAgICAgaWYgKCh2YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSAhPSAwKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IENvbnN0cnVjdG9yLg0KICAgICAqIEBwYXJhbSBfbGVnZW5kc0Nyb3dkZnVuZCBBZGRyZXNzIG9mIGNyb3dkZnVuZCBjb250cmFjdC4NCiAgICAgKiBAcGFyYW0gX3ByZWFsbG9jYXRpb24gQWRkcmVzcyB0byByZWNlaXZlIHRoZSBwcmUtYWxsb2NhdGlvbi4NCiAgICAgKiBAcGFyYW0gX3N0YXJ0IFRpbWVzdGFtcCB3aGVuIHRoZSB0b2tlbiBiZWNvbWVzIGFjdGl2ZS4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBMZWdlbmRzVG9rZW4oYWRkcmVzcyBfbGVnZW5kc0Nyb3dkZnVuZCwgYWRkcmVzcyBfcHJlYWxsb2NhdGlvbiwgdWludCBfc3RhcnQsIGJvb2wgX3Rlc3RpbmcpIHsNCiAgICAgICAgbGVnZW5kc0Nyb3dkZnVuZCA9IF9sZWdlbmRzQ3Jvd2RmdW5kOw0KICAgICAgICBzdGFydCA9IF9zdGFydDsNCiAgICAgICAgdGVzdGluZyA9IF90ZXN0aW5nOw0KICAgICAgICB0b3RhbFZJUCA9IG93bmVyVklQW19wcmVhbGxvY2F0aW9uXSA9IDI1MDAwIGV0aGVyOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQWRkIHRvIHRva2VuIGJhbGFuY2Ugb24gYWRkcmVzcy4gTXVzdCBiZSBmcm9tIGNyb3dkZnVuZC4NCiAgICAgKiBAcGFyYW0gcmVjaXBpZW50IEFkZHJlc3MgdG8gYWRkIHRva2VucyB0by4NCiAgICAgKiBAcmV0dXJuIFZJUCBBbW91bnQgb2YgVklQIHRvIGFkZC4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhZGRUb2tlbnMoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgVklQKSBleHRlcm5hbCBpc05vdEFjdGl2ZSBmcm9tQ3Jvd2RmdW5kIHsNCiAgICAgICAgb3duZXJWSVBbcmVjaXBpZW50XSArPSBWSVA7DQogICAgICAgIHRvdGFsVklQICs9IFZJUDsNCiAgICAgICAgVHJhbnNmZXIoMHgwLCByZWNpcGllbnQsIFZJUCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBJbXBsZW1lbnRzIEVSQzIwIHRvdGFsU3VwcGx5KCkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpIHsNCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFZJUDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEltcGxlbWVudHMgRVJDMjAgYmFsYW5jZU9mKCkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICBiYWxhbmNlID0gb3duZXJWSVBbX293bmVyXTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEltcGxlbWVudHMgRVJDMjAgdHJhbnNmZXIoKQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaXNBY3RpdmUgcmVjaXBpZW50SXNWYWxpZChfdG8pIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBpZiAob3duZXJWSVBbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKSB7DQogICAgICAgICAgICBvd25lclZJUFttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBvd25lclZJUFtfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBJbXBsZW1lbnRzIEVSQzIwIHRyYW5zZmVyRnJvbSgpDQogICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaXNBY3RpdmUgcmVjaXBpZW50SXNWYWxpZChfdG8pIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBpZiAoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIG93bmVyVklQW19mcm9tXSA+PSBfdmFsdWUpIHsNCiAgICAgICAgICAgIG93bmVyVklQW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgb3duZXJWSVBbX2Zyb21dIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSW1wbGVtZW50cyBFUkMyMCBhcHByb3ZlKCkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBpc0FjdGl2ZSBhbGxvd2FuY2VJc1plcm8oX3NwZW5kZXIsIF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBJbXBsZW1lbnRzIEVSQzIwIGFsbG93YW5jZSgpDQogICAgICovDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgICAgICByZW1haW5pbmcgPSBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgRGlyZWN0IEJ1eQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgICAgICBMZWdlbmRzQ3Jvd2RmdW5kKGxlZ2VuZHNDcm93ZGZ1bmQpLnB1cmNoYXNlTWVtYmVyc2hpcC52YWx1ZShtc2cudmFsdWUpKG1zZy5zZW5kZXIsIG1zZy5zZW5kZXIpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgUHJveHkgQnV5DQogICAgICovDQogICAgZnVuY3Rpb24gcHVyY2hhc2VNZW1iZXJzaGlwKGFkZHJlc3MgcmVjaXBpZW50KSBwYXlhYmxlIHsNCiAgICAgICAgTGVnZW5kc0Nyb3dkZnVuZChsZWdlbmRzQ3Jvd2RmdW5kKS5wdXJjaGFzZU1lbWJlcnNoaXAudmFsdWUobXNnLnZhbHVlKShtc2cuc2VuZGVyLCByZWNpcGllbnQpOw0KICAgIH0NCg0KfQ=='