base 64 content
base64legendsToken3
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC45Ow0KDQovKioNCiAqIEB0aXRsZSBFUkMyMA0KICovDQpjb250cmFjdCBFUkMyMCB7DQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KTsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsNCiAgICANCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCn0NCg0KDQovKioNCiAqIEB0aXRsZSBMZWdlbmRzVG9rZW4NCiAqLw0KY29udHJhY3QgTGVnZW5kc1Rva2VuIGlzIEVSQzIwIHsNCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAnVklQJzsgICAgICAgICAgICAgLy9UaGUgVG9rZW4ncyBuYW1lOiBlLmcuIERpZ2l4REFPIFRva2Vucw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OyAgICAgICAgICAgICAvLyAxVG9rZW4gJiMxNjg7PSAxJCAoMUVUSCAmIzE2ODs9IDEwJCkNCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICdWSVAnOyAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlLmcuIFJFUA0KICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICdWSVBfMC4xJzsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgb3duZXJWSVA7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOw0KICAgIHVpbnQgcHVibGljIHRvdGFsVklQOw0KICAgIHVpbnQgcHVibGljIHN0YXJ0Ow0KDQogICAgYWRkcmVzcyBwdWJsaWMgbGVnZW5kc0Nyb3dkZnVuZDsNCg0KICAgIGJvb2wgcHVibGljIHRlc3Rpbmc7DQoNCiAgICBtb2RpZmllciBmcm9tQ3Jvd2RmdW5kKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBsZWdlbmRzQ3Jvd2RmdW5kKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzQWN0aXZlKCkgew0KICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wIDwgc3RhcnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgaXNOb3RBY3RpdmUoKSB7DQogICAgICAgIGlmICghdGVzdGluZyAmJiBibG9jay50aW1lc3RhbXAgPj0gc3RhcnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgcmVjaXBpZW50SXNWYWxpZChhZGRyZXNzIHJlY2lwaWVudCkgew0KICAgICAgICBpZiAocmVjaXBpZW50ID09IDAgfHwgcmVjaXBpZW50ID09IGFkZHJlc3ModGhpcykpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgYWxsb3dhbmNlSXNaZXJvKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgew0KICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzJiMxODA7DQogICAgICAgIC8vIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsMClgIGlmIGl0IGlzIG5vdA0KICAgICAgICAvLyBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOg0KICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQ0KICAgICAgICBpZiAoKHZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdICE9IDApKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgVG9rZW5zIGhhdmUgYmVlbiBhZGRlZCB0byBhbiBhZGRyZXNzIGJ5IHRoZSBjcm93ZGZ1bmRpbmcgY29udHJhY3QuDQogICAgICogQHBhcmFtIHJlY2lwaWVudCBBZGRyZXNzIHJlY2VpdmluZyB0aGUgVklQLg0KICAgICAqIEBwYXJhbSBWSVAgQW1vdW50IG9mIFZJUCBhZGRlZC4NCiAgICAgKi8NCiAgICBldmVudCBUb2tlbnNBZGRlZChhZGRyZXNzIGluZGV4ZWQgcmVjaXBpZW50LCB1aW50IFZJUCk7DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IENvbnN0cnVjdG9yLg0KICAgICAqIEBwYXJhbSBfbGVnZW5kc0Nyb3dkZnVuZCBBZGRyZXNzIG9mIGNyb3dkZnVuZCBjb250cmFjdC4NCiAgICAgKiBAcGFyYW0gX3ByZWFsbG9jYXRpb24gQWRkcmVzcyB0byByZWNlaXZlIHRoZSBwcmUtYWxsb2NhdGlvbi4NCiAgICAgKiBAcGFyYW0gX3N0YXJ0IFRpbWVzdGFtcCB3aGVuIHRoZSB0b2tlbiBiZWNvbWVzIGFjdGl2ZS4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBMZWdlbmRzVG9rZW4oYWRkcmVzcyBfbGVnZW5kc0Nyb3dkZnVuZCwgYWRkcmVzcyBfcHJlYWxsb2NhdGlvbiwgdWludCBfc3RhcnQsIGJvb2wgX3Rlc3RpbmcpIHsNCiAgICAgICAgbGVnZW5kc0Nyb3dkZnVuZCA9IF9sZWdlbmRzQ3Jvd2RmdW5kOw0KICAgICAgICBzdGFydCA9IF9zdGFydDsNCiAgICAgICAgdGVzdGluZyA9IF90ZXN0aW5nOw0KICAgICAgICB0b3RhbFZJUCA9IG93bmVyVklQW19wcmVhbGxvY2F0aW9uXSA9IDI1MDAwIGV0aGVyOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgQWRkIHRvIHRva2VuIGJhbGFuY2Ugb24gYWRkcmVzcy4gTXVzdCBiZSBmcm9tIGNyb3dkZnVuZC4NCiAgICAgKiBAcGFyYW0gcmVjaXBpZW50IEFkZHJlc3MgdG8gYWRkIHRva2VucyB0by4NCiAgICAgKiBAcmV0dXJuIFZJUCBBbW91bnQgb2YgVklQIHRvIGFkZC4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhZGRUb2tlbnMoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgVklQKSBleHRlcm5hbCBpc05vdEFjdGl2ZSBmcm9tQ3Jvd2RmdW5kIHsNCiAgICAgICAgb3duZXJWSVBbcmVjaXBpZW50XSArPSBWSVA7DQogICAgICAgIHRvdGFsVklQICs9IFZJUDsNCiAgICAgICAgVG9rZW5zQWRkZWQocmVjaXBpZW50LCBWSVApOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSW1wbGVtZW50cyBFUkMyMCB0b3RhbFN1cHBseSgpDQogICAgICovDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxWSVA7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBJbXBsZW1lbnRzIEVSQzIwIGJhbGFuY2VPZigpDQogICAgICovDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICAgICAgYmFsYW5jZSA9IG93bmVyVklQW19vd25lcl07DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBJbXBsZW1lbnRzIEVSQzIwIHRyYW5zZmVyKCkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGlzQWN0aXZlIHJlY2lwaWVudElzVmFsaWQoX3RvKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKG93bmVyVklQW21zZy5zZW5kZXJdID49IF92YWx1ZSkgew0KICAgICAgICAgICAgb3duZXJWSVBbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgb3duZXJWSVBbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSW1wbGVtZW50cyBFUkMyMCB0cmFuc2ZlckZyb20oKQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGlzQWN0aXZlIHJlY2lwaWVudElzVmFsaWQoX3RvKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBvd25lclZJUFtfZnJvbV0gPj0gX3ZhbHVlKSB7DQogICAgICAgICAgICBvd25lclZJUFtfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIG93bmVyVklQW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IEltcGxlbWVudHMgRVJDMjAgYXBwcm92ZSgpDQogICAgICovDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgaXNBY3RpdmUgYWxsb3dhbmNlSXNaZXJvKF9zcGVuZGVyLCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgSW1wbGVtZW50cyBFUkMyMCBhbGxvd2FuY2UoKQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICAgICAgcmVtYWluaW5nID0gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAZGV2IERpcmVjdCBCdXkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsNCiAgICAgICAgTGVnZW5kc0Nyb3dkZnVuZChsZWdlbmRzQ3Jvd2RmdW5kKS5wdXJjaGFzZU1lbWJlcnNoaXAudmFsdWUobXNnLnZhbHVlKShtc2cuc2VuZGVyKTsNCiAgICB9DQoNCn0NCg0KDQoNCi8qKg0KICogQHRpdGxlIExlZ2VuZHNDcm93ZGZ1bmQNCiAqLw0KY29udHJhY3QgTGVnZW5kc0Nyb3dkZnVuZCB7DQoNCiAgICBhZGRyZXNzIHB1YmxpYyBjcmVhdG9yOw0KICAgIGFkZHJlc3MgcHVibGljIGV4aXRBZGRyZXNzOw0KDQogICAgdWludCBwdWJsaWMgc3RhcnQ7DQogICAgdWludCBwdWJsaWMgbGltaXRWSVA7DQoNCiAgICBMZWdlbmRzVG9rZW4gcHVibGljIGxlZ2VuZHNUb2tlbjsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHJlY2lwaWVudEVUSDsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyByZWNpcGllbnRWSVA7DQoNCiAgICB1aW50IHB1YmxpYyB0b3RhbEVUSDsNCiAgICB1aW50IHB1YmxpYyB0b3RhbFZJUDsNCg0KICAgIGV2ZW50IFZJUFB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIGFkZHJlc3MgaW5kZXhlZCByZWNpcGllbnQsIHVpbnQgRVRILCB1aW50IFZJUCk7DQoNCiAgICBtb2RpZmllciBzYWxlQWN0aXZlKCkgew0KICAgICAgICBpZiAoYWRkcmVzcyhsZWdlbmRzVG9rZW4pID09IDApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIGlmIChibG9jay50aW1lc3RhbXAgPCBzdGFydCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBoYXNWYWx1ZSgpIHsNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIHJlY2lwaWVudElzVmFsaWQoYWRkcmVzcyByZWNpcGllbnQpIHsNCiAgICAgICAgaWYgKHJlY2lwaWVudCA9PSAwIHx8IHJlY2lwaWVudCA9PSBhZGRyZXNzKHRoaXMpKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzQ3JlYXRvcigpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gY3JlYXRvcikgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciB0b2tlbkNvbnRyYWN0Tm90U2V0KCkgew0KICAgICAgICBpZiAoYWRkcmVzcyhsZWdlbmRzVG9rZW4pICE9IDApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBDb25zdHJ1Y3Rvci4NCiAgICAgKiBAcGFyYW0gX2V4aXRBZGRyZXNzIEFkZHJlc3MgdGhhdCBhbGwgRVRIIHNob3VsZCBiZSBmb3J3YXJkZWQgdG8uDQogICAgICogQHBhcmFtIF9zdGFydCBUaW1lc3RhbXAgb2Ygd2hlbiB0aGUgY3Jvd2RzYWxlIHdpbGwgc3RhcnQuDQogICAgICogQHBhcmFtIF9saW1pdFZJUCBNYXhpbXVtIGFtb3VudCBvZiBWSVAgdGhhdCBjYW4gYmUgYWxsb2NhdGVkIGluIHRvdGFsLiBEZW5vbWluYXRlZCBpbiB3ZWkuDQogICAgICovDQogICAgZnVuY3Rpb24gTGVnZW5kc0Nyb3dkZnVuZChhZGRyZXNzIF9leGl0QWRkcmVzcywgdWludCBfc3RhcnQsIHVpbnQgX2xpbWl0VklQKSB7DQogICAgICAgIGNyZWF0b3IgPSBtc2cuc2VuZGVyOw0KICAgICAgICBleGl0QWRkcmVzcyA9IF9leGl0QWRkcmVzczsNCiAgICAgICAgc3RhcnQgPSBfc3RhcnQ7DQogICAgICAgIGxpbWl0VklQID0gX2xpbWl0VklQOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBkZXYgU2V0IHRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdC4gTXVzdCBiZSBjYWxsZWQgYnkgY3JlYXRvciBvZiB0aGlzLiBDYW4gb25seSBiZSBzZXQgb25jZS4NCiAgICAgKiBAcGFyYW0gX2xlZ2VuZHNUb2tlbiBBZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdC4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzZXRUb2tlbkNvbnRyYWN0KExlZ2VuZHNUb2tlbiBfbGVnZW5kc1Rva2VuKSBleHRlcm5hbCBpc0NyZWF0b3IgdG9rZW5Db250cmFjdE5vdFNldCB7DQogICAgICAgIGxlZ2VuZHNUb2tlbiA9IF9sZWdlbmRzVG9rZW47DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQGRldiBGb3J3YXJkIEV0aGVyIHRvIHRoZSBleGl0IGFkZHJlc3MuIFN0b3JlIGFsbCBFVEggYW5kIFZJUCBpbmZvcm1hdGlvbiBpbiBwdWJsaWMgc3RhdGUgYW5kIGxvZ3MuDQogICAgICogQHBhcmFtIHJlY2lwaWVudCBBZGRyZXNzIHRoYXQgdG9rZW5zIHNob3VsZCBiZSBhdHRyaWJ1dGVkIHRvLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHB1cmNoYXNlTWVtYmVyc2hpcChhZGRyZXNzIHJlY2lwaWVudCkgZXh0ZXJuYWwgcGF5YWJsZSBzYWxlQWN0aXZlIGhhc1ZhbHVlIHJlY2lwaWVudElzVmFsaWQocmVjaXBpZW50KSB7DQoNCiAgICAgICAgLy8gQXR0ZW1wdCB0byBzZW5kIHRoZSBFVEggdG8gdGhlIGV4aXQgYWRkcmVzcy4NCiAgICAgICAgaWYgKCFleGl0QWRkcmVzcy5zZW5kKG1zZy52YWx1ZSkpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVXBkYXRlIEVUSCBhbW91bnRzLg0KICAgICAgICByZWNpcGllbnRFVEhbcmVjaXBpZW50XSArPSBtc2cudmFsdWU7DQogICAgICAgIHRvdGFsRVRIICs9IG1zZy52YWx1ZTsNCg0KICAgICAgICAvLyBDYWxjdWxhdGUgVklQIGFtb3VudC4NCiAgICAgICAgdWludCBWSVAgPSBtc2cudmFsdWUgKiAxMDsgIC8vICQxIC8gVklQIGJhc2VkIG9uICQxMCAvIEVUSCB2YWx1ZS4NCg0KICAgICAgICAvLyBBcmUgd2UgaW4gdGhlIHByZS1zYWxlPw0KICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wIC0gc3RhcnQgPCAyIHdlZWtzKSB7DQogICAgICAgICAgICBWSVAgPSAoVklQICogMTApIC8gOTsgICAvLyAxMCUgZGlzY291bnQuDQogICAgICAgIH0NCg0KICAgICAgICAvLyBVcGRhdGUgVklQIGFtb3VudHMuDQogICAgICAgIHJlY2lwaWVudFZJUFtyZWNpcGllbnRdICs9IFZJUDsNCiAgICAgICAgdG90YWxWSVAgKz0gVklQOw0KDQogICAgICAgIC8vIENoZWNrIHdlIGhhdmUgbm90IGV4Y2VlZGVkIHRoZSBtYXhpbXVtIFZJUC4NCiAgICAgICAgaWYgKHRvdGFsVklQID4gbGltaXRWSVApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVGVsbCB0aGUgdG9rZW4gY29udHJhY3QgYWJvdXQgdGhlIGluY3JlYXNlLg0KICAgICAgICBsZWdlbmRzVG9rZW4uYWRkVG9rZW5zKHJlY2lwaWVudCwgVklQKTsNCg0KICAgICAgICAvLyBMb2cgdGhpcyBwdXJjaGFzZS4NCiAgICAgICAgVklQUHVyY2hhc2UobXNnLnNlbmRlciwgcmVjaXBpZW50LCBtc2cudmFsdWUsIFZJUCk7DQogICAgfQ0KDQp9'