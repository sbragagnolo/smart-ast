base 64 content
base64logoVote
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgRVJDMjAgew0KICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsNCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsNCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7DQoNCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7DQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOw0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7DQogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOw0KICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsNCn0NCi8qDQogKiBTYWZlIE1hdGggU21hcnQgQ29udHJhY3QuICBDb3B5cmlnaHQgJiMxNjk7IDIwMTYgYnkgQUJESyBDb25zdWx0aW5nLg0KICovDQoNCi8qKg0KICogUHJvdmlkZXMgbWV0aG9kcyB0byBzYWZlbHkgYWRkLCBzdWJ0cmFjdCBhbmQgbXVsdGlwbHkgdWludDI1NiBudW1iZXJzLg0KICovDQpjb250cmFjdCBTYWZlTWF0aCB7DQogIHVpbnQyNTYgY29uc3RhbnQgcHJpdmF0ZSBNQVhfVUlOVDI1NiA9DQogICAgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOw0KDQogIC8qKg0KICAgKiBBZGQgdHdvIHVpbnQyNTYgdmFsdWVzLCB0aHJvdyBpbiBjYXNlIG9mIG92ZXJmbG93Lg0KICAgKg0KICAgKiBAcGFyYW0geCBmaXJzdCB2YWx1ZSB0byBhZGQNCiAgICogQHBhcmFtIHkgc2Vjb25kIHZhbHVlIHRvIGFkZA0KICAgKiBAcmV0dXJuIHggKyB5DQogICAqLw0KICBmdW5jdGlvbiBzYWZlQWRkICh1aW50MjU2IHgsIHVpbnQyNTYgeSkNCiAgY29uc3RhbnQgaW50ZXJuYWwNCiAgcmV0dXJucyAodWludDI1NiB6KSB7DQogICAgaWYgKHggPiBNQVhfVUlOVDI1NiAtIHkpIHRocm93Ow0KICAgIHJldHVybiB4ICsgeTsNCiAgfQ0KDQogIC8qKg0KICAgKiBTdWJ0cmFjdCBvbmUgdWludDI1NiB2YWx1ZSBmcm9tIGFub3RoZXIsIHRocm93IGluIGNhc2Ugb2YgdW5kZXJmbG93Lg0KICAgKg0KICAgKiBAcGFyYW0geCB2YWx1ZSB0byBzdWJ0cmFjdCBmcm9tDQogICAqIEBwYXJhbSB5IHZhbHVlIHRvIHN1YnRyYWN0DQogICAqIEByZXR1cm4geCAtIHkNCiAgICovDQogIGZ1bmN0aW9uIHNhZmVTdWIgKHVpbnQyNTYgeCwgdWludDI1NiB5KQ0KICBjb25zdGFudCBpbnRlcm5hbA0KICByZXR1cm5zICh1aW50MjU2IHopIHsNCiAgICBpZiAoeCA8IHkpIHRocm93Ow0KICAgIHJldHVybiB4IC0geTsNCiAgfQ0KDQogIC8qKg0KICAgKiBNdWx0aXBseSB0d28gdWludDI1NiB2YWx1ZXMsIHRocm93IGluIGNhc2Ugb2Ygb3ZlcmZsb3cuDQogICAqDQogICAqIEBwYXJhbSB4IGZpcnN0IHZhbHVlIHRvIG11bHRpcGx5DQogICAqIEBwYXJhbSB5IHNlY29uZCB2YWx1ZSB0byBtdWx0aXBseQ0KICAgKiBAcmV0dXJuIHggKiB5DQogICAqLw0KICBmdW5jdGlvbiBzYWZlTXVsICh1aW50MjU2IHgsIHVpbnQyNTYgeSkNCiAgY29uc3RhbnQgaW50ZXJuYWwNCiAgcmV0dXJucyAodWludDI1NiB6KSB7DQogICAgaWYgKHkgPT0gMCkgcmV0dXJuIDA7IC8vIFByZXZlbnQgZGl2aXNpb24gYnkgemVybyBhdCB0aGUgbmV4dCBsaW5lDQogICAgaWYgKHggPiBNQVhfVUlOVDI1NiAvIHkpIHRocm93Ow0KICAgIHJldHVybiB4ICogeTsNCiAgfQ0KfQ0KDQpjb250cmFjdCBWb3RlIGlzIEVSQzIwLCBTYWZlTWF0aHsNCg0KCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7DQoJbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOw0KDQoJdWludCBwdWJsaWMgdG90YWxTdXBwbHk7DQoJdWludCBwdWJsaWMgaW5pdGlhbFN1cHBseTsNCglzdHJpbmcgcHVibGljIG5hbWU7DQoJc3RyaW5nIHB1YmxpYyBzeW1ib2w7DQoJdWludDggcHVibGljIGRlY2ltYWxzOw0KDQoJZnVuY3Rpb24gVm90ZSgpew0KCQlpbml0aWFsU3VwcGx5ID0gMTAwMDAwOw0KCQl0b3RhbFN1cHBseSA9IGluaXRpYWxTdXBwbHk7DQoJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsNCgkJbmFtZSA9ICJFdGhUYWlwZWkgTG9nbyBWb3RlIjsNCgkJc3ltYm9sID0gIkV0aFRhaXBlaSBMb2dvIjsNCgkJZGVjaW1hbHMgPSAwOw0KCX0NCg0KCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KCSAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7DQoJICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7DQoJICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCgkgICAgcmV0dXJuIHRydWU7DQogIAl9DQoNCiAgCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsNCgkgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsJICAgIA0KCSAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOw0KCSAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsNCgkgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKF9hbGxvd2FuY2UsIF92YWx1ZSk7DQoJICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQoJICAgIHJldHVybiB0cnVlOw0KICAJfQ0KDQogIAlmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgIAlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAJcmV0dXJuIHRydWU7DQogIAl9DQoNCiAgCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsNCiAgCQlyZXR1cm4gYmFsYW5jZXNbX2FkZHJlc3NdOw0KICAJfQ0KDQogIAlmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7DQogICAgCXJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAJfQ0KDQp9DQpjb250cmFjdCBPd25hYmxlIHsNCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7DQoNCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsNCiAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogIH0NCg0KICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpDQogICAgICBfOw0KICB9DQoNCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsNCiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgb3duZXIgPSBuZXdPd25lcjsNCiAgfQ0KDQp9DQoNCmNvbnRyYWN0IHdMb2dvVm90ZSB7DQoJZnVuY3Rpb24gY2xhaW1SZXdhcmQoYWRkcmVzcyBfcmVjZWl2ZXIpOw0KfQ0KDQpjb250cmFjdCBMb2dvIGlzIE93bmFibGV7DQoNCgl3TG9nb1ZvdGUgcHVibGljIGxvZ29Wb3RlOw0KDQoJYWRkcmVzcyBwdWJsaWMgYXV0aG9yOw0KCXN0cmluZyBwdWJsaWMgbWV0YWRhdGFVcmw7DQoNCglldmVudCBSZWNlaXZlVGlwcyhhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSk7DQoNCglmdW5jdGlvbiBMb2dvKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9hdXRob3IsIHN0cmluZyBfbWV0YWRhdFVybCl7DQoJCW93bmVyID0gX293bmVyOw0KCQlhdXRob3IgPSBfYXV0aG9yOw0KCQltZXRhZGF0YVVybCA9IF9tZXRhZGF0VXJsOw0KCQlsb2dvVm90ZSA9IHdMb2dvVm90ZShtc2cuc2VuZGVyKTsNCgl9DQoNCglmdW5jdGlvbiB0aXBzKCkgcGF5YWJsZSB7DQoJCVJlY2VpdmVUaXBzKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7DQoJCWlmKCFhdXRob3Iuc2VuZChtc2cudmFsdWUpKSB0aHJvdzsNCgl9DQoNCglmdW5jdGlvbiBjbGFpbVJld2FyZCgpIG9ubHlPd25lciB7DQoJCWxvZ29Wb3RlLmNsYWltUmV3YXJkKGF1dGhvcik7DQoJfQ0KDQoJZnVuY3Rpb24gc2V0TWV0YWRhdGEoc3RyaW5nIF9tZXRhZGF0YVVybCkgb25seU93bmVyIHsNCgkJbWV0YWRhdGFVcmwgPSBfbWV0YWRhdGFVcmw7DQoJfQ0KDQoJZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQoJCXRpcHMoKTsNCgl9DQp9DQovKg0KICogUGF1c2FibGUNCiAqIEFic3RyYWN0IGNvbnRyYWN0IHRoYXQgYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbg0KICogZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLg0KICovDQoNCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgew0KICBib29sIHB1YmxpYyBzdG9wcGVkOw0KDQogIG1vZGlmaWVyIHN0b3BJbkVtZXJnZW5jeSB7DQogICAgaWYgKHN0b3BwZWQpIHsNCiAgICAgIHRocm93Ow0KICAgIH0NCiAgICBfOw0KICB9DQogIA0KICBtb2RpZmllciBvbmx5SW5FbWVyZ2VuY3kgew0KICAgIGlmICghc3RvcHBlZCkgew0KICAgICAgdGhyb3c7DQogICAgfQ0KICAgIF87DQogIH0NCg0KICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVtZXJnZW5jeSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQ0KICBmdW5jdGlvbiBlbWVyZ2VuY3lTdG9wKCkgZXh0ZXJuYWwgb25seU93bmVyIHsNCiAgICBzdG9wcGVkID0gdHJ1ZTsNCiAgfQ0KDQogIC8vIGNhbGxlZCBieSB0aGUgb3duZXIgb24gZW5kIG9mIGVtZXJnZW5jeSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUNCiAgZnVuY3Rpb24gcmVsZWFzZSgpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5SW5FbWVyZ2VuY3kgew0KICAgIHN0b3BwZWQgPSBmYWxzZTsNCiAgfQ0KDQp9DQpjb250cmFjdCBUb2tlbnsNCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsNCn0NCg0KY29udHJhY3QgRmF1Y2V0IHsNCg0KCWFkZHJlc3MgcHVibGljIHRva2VuQWRkcmVzczsNCglUb2tlbiB0b2tlbjsNCg0KCWZ1bmN0aW9uIEZhdWNldChhZGRyZXNzIF90b2tlbkFkZHJlc3MpIHsNCgkJdG9rZW5BZGRyZXNzID0gX3Rva2VuQWRkcmVzczsNCgkJdG9rZW4gPSBUb2tlbih0b2tlbkFkZHJlc3MpOw0KCX0NCiAgDQoJZnVuY3Rpb24gZ2V0VG9rZW4oKSB7DQoJCWlmKCF0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCAxKSkgdGhyb3c7DQoJfQ0KDQoJZnVuY3Rpb24gKCkgew0KCQlnZXRUb2tlbigpOw0KCX0NCg0KfQ0KDQpjb250cmFjdCBMb2dvVm90ZSBpcyBQYXVzYWJsZSwgU2FmZU1hdGh7DQoNCglWb3RlIHB1YmxpYyB2b3RlOw0KCUZhdWNldCBwdWJsaWMgZmF1Y2V0Ow0KCUxvZ29bXSBwdWJsaWMgbG9nb3M7DQoNCgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhY2tlcnM7DQoJbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSByZXdhcmRzOw0KCXVpbnQgcmV3YXJkQ2xhaW1lZDsNCg0KCXVpbnQgcHVibGljIHZvdGVQZXJFVEg7DQoJdWludCBwdWJsaWMgdG90YWxSZXdhcmQ7DQoJdWludCBwdWJsaWMgc3RhcnRCbG9jazsNCgl1aW50IHB1YmxpYyBlbmRCbG9jazsNCglhZGRyZXNzIHB1YmxpYyB3aW5uZXI7DQoNCglldmVudCBSZWNlaXZlRG9uYXRlKGFkZHJlc3MgYWRkciwgdWludCB2YWx1ZSk7DQoNCgltb2RpZmllciByZXNwZWN0VGltZUZyYW1lKCkgew0KCQlpZiAoIWlzUmVzcGVjdFRpbWVGcmFtZSgpKSB0aHJvdzsNCgkJXzsNCgl9DQoNCgltb2RpZmllciBhZnRlckVuZCgpIHsNCgkJaWYgKCFpc0FmdGVyRW5kKCkpIHRocm93Ow0KCQlfOw0KCX0NCg0KCWZ1bmN0aW9uIExvZ29Wb3RlKCkgew0KCQl2b3RlID0gbmV3IFZvdGUoKTsNCgkJZmF1Y2V0ID0gbmV3IEZhdWNldCh2b3RlKTsNCgkJdm90ZVBlckVUSCA9IDEwMDA7IC8vIGRvbmF0ZSAwLjAwMSBldGhlciB0byBnZXQgMSB2b3RlIA0KCQl0b3RhbFJld2FyZCA9IDA7DQoJCXN0YXJ0QmxvY2sgPSBnZXRCbG9ja051bWJlcigpOw0KCQllbmRCbG9jayA9IHN0YXJ0QmxvY2sgKyAoIDMwICogMjQgKiA2MCAqIDYwIC8gMTUgKTsgLy9lbmQgaW4gMzAgZGF5cw0KCQlyZXdhcmRDbGFpbWVkID0gMDsNCgl9DQoNCgkvLyBmdW5jdGlvbnMgb25seSBmb3Igb3duZXIgDQoJZnVuY3Rpb24gc2VuZFRvRmF1Y2V0KHVpbnQgX2Ftb3VudCkgb25seU93bmVyIHsNCgkJaWYoIXZvdGUudHJhbnNmZXIoZmF1Y2V0LCBfYW1vdW50KSkgdGhyb3c7DQoJfQ0KDQoJZnVuY3Rpb24gcmVnaXN0TG9nbyhhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfYXV0aG9yLCBzdHJpbmcgX21ldGFkYXRVcmwpIA0KCQkJCQkJb25seU93bmVyIHJlc3BlY3RUaW1lRnJhbWUgcmV0dXJucyAoYWRkcmVzcykgew0KCQlMb2dvIGxvZ29BZGRyZXNzID0gbmV3IExvZ28oX293bmVyLCBfYXV0aG9yLCBfbWV0YWRhdFVybCk7DQoJCWxvZ29zLnB1c2gobG9nb0FkZHJlc3MpOw0KCQlyZXR1cm4gbG9nb0FkZHJlc3M7DQoJfQ0KDQoJZnVuY3Rpb24gY2xhaW1XaW5uZXIgKCkgb25seU93bmVyIGFmdGVyRW5kIHsNCgkJaWYgKGlzTG9nbyh3aW5uZXIpKSB0aHJvdzsNCgkJd2lubmVyID0gbG9nb3NbMF07DQoJCWZvciAodWludDggaSA9IDE7IGkgPCBsb2dvcy5sZW5ndGg7IGkrKykgew0KCQkJaWYgKHZvdGUuYmFsYW5jZU9mKGxvZ29zW2ldKSA+IHZvdGUuYmFsYW5jZU9mKHdpbm5lcikpDQoJCQkJd2lubmVyID0gbG9nb3NbaV07DQoJCX0gDQoJfQ0KDQoJZnVuY3Rpb24gY2xlYW5CYWxhbmNlICgpIG9ubHlPd25lciBhZnRlckVuZCB7DQoJCWlmIChyZXdhcmRDbGFpbWVkID49IGxvZ29zLmxlbmd0aCB8fCBnZXRCbG9ja051bWJlcigpIDwgZW5kQmxvY2sgKyA0MzIwMCkgdGhyb3c7DQoJCWlmKCF2b3RlLnRyYW5zZmVyKG93bmVyLCB2b3RlLmJhbGFuY2VPZih0aGlzKSkpIHRocm93Ow0KCQlpZiAoIW93bmVyLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7DQoJfQ0KDQoJLy8gbm9ybWFsIHVzZXIgY2FuIGRvbmF0ZSB0byBnZXQgdm90ZXMNCglmdW5jdGlvbiBkb25hdGUoYWRkcmVzcyBiZW5lZmljaWFyeSkgaW50ZXJuYWwgc3RvcEluRW1lcmdlbmN5IHJlc3BlY3RUaW1lRnJhbWUgew0KCQl1aW50IHZvdGVUb1NlbmQgPSBzYWZlTXVsKG1zZy52YWx1ZSwgdm90ZVBlckVUSCkvKDEgZXRoZXIpOw0KCQlpZiAoIXZvdGUudHJhbnNmZXIoYmVuZWZpY2lhcnksIHZvdGVUb1NlbmQpKSB0aHJvdzsgDQoJCWJhY2tlcnNbYmVuZWZpY2lhcnldID0gc2FmZUFkZChiYWNrZXJzW2JlbmVmaWNpYXJ5XSwgbXNnLnZhbHVlKTsNCgkJdG90YWxSZXdhcmQgPSBzYWZlQWRkKHRvdGFsUmV3YXJkLCBtc2cudmFsdWUpOw0KDQoJCVJlY2VpdmVEb25hdGUoYmVuZWZpY2lhcnksIG1zZy52YWx1ZSk7DQoJfQ0KDQoJLy8gbm9ybWFsIHVzZXIgY2FuIGdldCBiYWNrIHRoZWlyIGZ1bmRzIGlmIGluIGVtZXJnZW5jeSANCglmdW5jdGlvbiBnZXRGdW5kcygpIG9ubHlJbkVtZXJnZW5jeSB7DQoJCWlmIChiYWNrZXJzW21zZy5zZW5kZXJdID09IDApIHRocm93Ow0KCQl1aW50IGFtb3VudCA9IGJhY2tlcnNbbXNnLnNlbmRlcl07DQoJCWJhY2tlcnNbbXNnLnNlbmRlcl0gPSAwOw0KDQoJCWlmKCFtc2cuc2VuZGVyLnNlbmQoYW1vdW50KSkgdGhyb3c7DQoJfQ0KDQoJLy8gbG9nbydzIG93bmVyIGNhbiBjbGFpbSB0aGVpciByZXdhcmRzIGFmdGVyIGVuZCANCglmdW5jdGlvbiBjbGFpbVJld2FyZCAoYWRkcmVzcyBfcmVjZWl2ZXIpIHN0b3BJbkVtZXJnZW5jeSBhZnRlckVuZCB7DQoJCWlmICghaXNMb2dvKG1zZy5zZW5kZXIpKSB0aHJvdzsNCgkJaWYgKHJld2FyZHNbbXNnLnNlbmRlcl0pIHRocm93Ow0KCQlpZiAocmV3YXJkQ2xhaW1lZCA9PSBsb2dvcy5sZW5ndGgpIHRocm93Ow0KCQl1aW50IGFtb3VudCA9IHRvdGFsUmV3YXJkIC8gc2FmZU11bCgyLCBsb2dvcy5sZW5ndGgpOyAvLyBhbGwgbG9nb3Mgc2hhcmUgdGhlIDUwJSBvZiByZXdhcmRzDQoJCWlmIChtc2cuc2VuZGVyID09IHdpbm5lcikgew0KCQkJYW1vdW50ID0gc2FmZUFkZChhbW91bnQsIHRvdGFsUmV3YXJkLzIpOw0KCQl9DQoJCXJld2FyZHNbbXNnLnNlbmRlcl0gPSB0cnVlOw0KCQlyZXdhcmRDbGFpbWVkID0gc2FmZUFkZChyZXdhcmRDbGFpbWVkLCAxKTsNCgkJaWYgKCFfcmVjZWl2ZXIuc2VuZChhbW91bnQpKSB0aHJvdzsNCgl9DQoNCg0KCS8vIGhlbHBlciBmdW5jdGlvbnMgDQoJZnVuY3Rpb24gaXNMb2dvIChhZGRyZXNzIF9sb2dvQWRkcmVzcykgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgew0KCQlmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgbG9nb3MubGVuZ3RoOyBpKyspIHsNCgkJCWlmIChsb2dvc1tpXSA9PSBfbG9nb0FkZHJlc3MpIHJldHVybiB0cnVlOw0KCQl9DQoJfQ0KDQoJZnVuY3Rpb24gZ2V0TG9nb3MoKSBjb25zdGFudCByZXR1cm5zIChMb2dvW10pIHsNCgkJcmV0dXJuIGxvZ29zOw0KCX0NCg0KCWZ1bmN0aW9uIGdldEJsb2NrTnVtYmVyKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgew0KICAgICAgcmV0dXJuIGJsb2NrLm51bWJlcjsNCiAgICB9DQoNCglmdW5jdGlvbiBpc0FmdGVyRW5kKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgew0KICAgICAgcmV0dXJuIGdldEJsb2NrTnVtYmVyKCkgPiBlbmRCbG9jazsNCiAgICB9DQoNCglmdW5jdGlvbiBpc1Jlc3BlY3RUaW1lRnJhbWUoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7DQoJCXJldHVybiBnZXRCbG9ja051bWJlcigpIDwgZW5kQmxvY2s7DQoJfQ0KDQoJZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQoJCWlmIChpc0FmdGVyRW5kKCkpIHRocm93Ow0KCQlkb25hdGUobXNnLnNlbmRlcik7DQoJfQ0KfQ=='