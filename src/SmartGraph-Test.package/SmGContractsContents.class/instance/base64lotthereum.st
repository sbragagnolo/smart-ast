base 64 content
base64lotthereum
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KDQpjb250cmFjdCBTYWZlTWF0aCB7DQoNCiAgICBmdW5jdGlvbiBhZGQodWludCB4LCB1aW50IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgeikgew0KICAgICAgICBhc3NlcnQoKHogPSB4ICsgeSkgPj0geCk7DQogICAgfQ0KIA0KICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50IHopIHsNCiAgICAgICAgYXNzZXJ0KCh6ID0geCAtIHkpIDw9IHgpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG11bHRpcGx5KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50IHopIHsNCiAgICAgICAgeiA9IHggKiB5Ow0KICAgICAgICBhc3NlcnQoeCA9PSAwIHx8IHogLyB4ID09IHkpOw0KICAgICAgICByZXR1cm4gejsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXZpZGUodWludCB4LCB1aW50IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgeikgew0KICAgICAgICB6ID0geCAvIHk7DQogICAgICAgIGFzc2VydCh4ID09ICggKHkgKiB6KSArICh4ICUgeSkgKSk7DQogICAgICAgIHJldHVybiB6Ow0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBtaW42NCh1aW50NjQgeCwgdWludDY0IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgew0KICAgICAgICByZXR1cm4geCA8IHkgPyB4OiB5Ow0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgeCwgdWludDY0IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgew0KICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbWluKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHJldHVybiAoeCA8PSB5KSA/IHggOiB5Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1heCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgew0KICAgICAgICByZXR1cm4gKHggPj0geSkgPyB4IDogeTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsNCiAgICAgICAgaWYgKCFhc3NlcnRpb24pIHsNCiAgICAgICAgICAgIHJldmVydCgpOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQoNCmNvbnRyYWN0IE93bmVkIHsNCiAgICBhZGRyZXNzIG93bmVyOw0KDQogICAgbW9kaWZpZXIgb25seW93bmVyKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgew0KICAgICAgICAgICAgXzsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIE93bmVkKCkgew0KICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgfQ0KfQ0KDQoNCmNvbnRyYWN0IE1vcnRhbCBpcyBPd25lZCB7DQogICAgDQogICAgZnVuY3Rpb24ga2lsbCgpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpDQogICAgICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOw0KICAgIH0NCn0NCg0KDQpjb250cmFjdCBMb3R0aGVyZXVtIGlzIE1vcnRhbCwgU2FmZU1hdGggew0KDQogICAgR2FtZVtdIHByaXZhdGUgZ2FtZXM7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwcml2YXRlIGJhbGFuY2VzOyAgLy8gYmFsYW5jZXMgcGVyIGFkZHJlc3MNCg0KICAgIHN0cnVjdCBHYW1lIHsNCiAgICAgICAgdWludCBpZDsNCiAgICAgICAgYm9vbCBvcGVuOw0KICAgICAgICB1aW50IHBvaW50ZXI7DQogICAgICAgIHVpbnQgbWF4TnVtYmVyT2ZCZXRzOw0KICAgICAgICB1aW50IG1pbkFtb3VudEJ5QmV0Ow0KICAgICAgICB1aW50IHByaXplOw0KICAgICAgICB1aW50IGN1cnJlbnRSb3VuZDsNCiAgICAgICAgUm91bmRbXSByb3VuZHM7DQogICAgfQ0KDQogICAgc3RydWN0IFJvdW5kIHsNCiAgICAgICAgdWludCBpZDsNCiAgICAgICAgdWludCBwb2ludGVyOw0KICAgICAgICBieXRlczMyIGhhc2g7DQogICAgICAgIGJvb2wgb3BlbjsNCiAgICAgICAgdWludDggbnVtYmVyOw0KICAgICAgICBCZXRbXSBiZXRzOw0KICAgICAgICBhZGRyZXNzW10gd2lubmVyczsNCiAgICB9DQoNCiAgICBzdHJ1Y3QgQmV0IHsNCiAgICAgICAgdWludCBpZDsNCiAgICAgICAgYWRkcmVzcyBvcmlnaW47DQogICAgICAgIHVpbnQgYW1vdW50Ow0KICAgICAgICB1aW50OCBiZXQ7DQogICAgICAgIHVpbnQgcm91bmQ7DQogICAgfQ0KDQogICAgZXZlbnQgUm91bmRPcGVuKA0KICAgICAgICB1aW50IGluZGV4ZWQgZ2FtZUlkLA0KICAgICAgICB1aW50IGluZGV4ZWQgcm91bmRJZA0KICAgICk7DQogICAgZXZlbnQgUm91bmRDbG9zZSgNCiAgICAgICAgdWludCBpbmRleGVkIGdhbWVJZCwNCiAgICAgICAgdWludCBpbmRleGVkIHJvdW5kSWQsDQogICAgICAgIHVpbnQ4IG51bWJlcg0KICAgICk7DQogICAgZXZlbnQgTWF4TnVtYmVyT2ZCZXRzQ2hhbmdlZCgNCiAgICAgICAgdWludCBtYXhOdW1iZXJPZkJldHMNCiAgICApOw0KICAgIGV2ZW50IE1pbkFtb3VudEJ5QmV0Q2hhbmdlZCgNCiAgICAgICAgdWludCBtaW5BbW91bnRCeUJldA0KICAgICk7DQogICAgZXZlbnQgQmV0UGxhY2VkKA0KICAgICAgICB1aW50IGluZGV4ZWQgZ2FtZUlkLA0KICAgICAgICB1aW50IGluZGV4ZWQgcm91bmRJZCwNCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIG9yaWdpbiwNCiAgICAgICAgdWludCBiZXRJZA0KICAgICk7DQogICAgZXZlbnQgUm91bmRXaW5uZXIoDQogICAgICAgIHVpbnQgaW5kZXhlZCBnYW1lSWQsDQogICAgICAgIHVpbnQgaW5kZXhlZCByb3VuZElkLA0KICAgICAgICBhZGRyZXNzIGluZGV4ZWQgd2lubmVyQWRkcmVzcywNCiAgICAgICAgdWludCBhbW91bnQNCiAgICApOw0KICAgIGV2ZW50IEdhbWVPcGVuZWQoDQogICAgICAgIHVpbnQgaW5kZXhlZCBnYW1lSWQNCiAgICApOw0KICAgIGV2ZW50IEdhbWVDbG9zZWQoDQogICAgICAgIHVpbnQgaW5kZXhlZCBnYW1lSWQNCiAgICApOw0KDQogICAgZnVuY3Rpb24gY3JlYXRlR2FtZSgNCiAgICAgICAgdWludCBwb2ludGVyLA0KICAgICAgICB1aW50IG1heE51bWJlck9mQmV0cywNCiAgICAgICAgdWludCBtaW5BbW91bnRCeUJldCwNCiAgICAgICAgdWludCBwcml6ZQ0KICAgICkgb25seW93bmVyIHJldHVybnMgKHVpbnQgaWQpIHsNCiAgICAgICAgaWQgPSBnYW1lcy5sZW5ndGg7DQogICAgICAgIGdhbWVzLmxlbmd0aCArPSAxOw0KICAgICAgICBnYW1lc1tpZF0uaWQgPSBpZDsNCiAgICAgICAgZ2FtZXNbaWRdLnBvaW50ZXIgPSBwb2ludGVyOw0KICAgICAgICBnYW1lc1tpZF0ubWF4TnVtYmVyT2ZCZXRzID0gbWF4TnVtYmVyT2ZCZXRzOw0KICAgICAgICBnYW1lc1tpZF0ubWluQW1vdW50QnlCZXQgPSBtaW5BbW91bnRCeUJldDsNCiAgICAgICAgZ2FtZXNbaWRdLnByaXplID0gcHJpemU7DQogICAgICAgIGdhbWVzW2lkXS5vcGVuID0gdHJ1ZTsNCiAgICAgICAgZ2FtZXNbaWRdLmN1cnJlbnRSb3VuZCA9IGNyZWF0ZUdhbWVSb3VuZChpZCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2xvc2VHYW1lKHVpbnQgZ2FtZUlkKSBvbmx5b3duZXIgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBnYW1lc1tnYW1lSWRdLm9wZW4gPSBmYWxzZTsNCiAgICAgICAgR2FtZUNsb3NlZChnYW1lSWQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBvcGVuR2FtZSh1aW50IGdhbWVJZCkgb25seW93bmVyIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgZ2FtZXNbZ2FtZUlkXS5vcGVuID0gdHJ1ZTsNCiAgICAgICAgR2FtZU9wZW5lZChnYW1lSWQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjcmVhdGVHYW1lUm91bmQodWludCBnYW1lSWQpIGludGVybmFsIHJldHVybnMgKHVpbnQgaWQpIHsNCiAgICAgICAgaWQgPSBnYW1lc1tnYW1lSWRdLnJvdW5kcy5sZW5ndGg7DQogICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzLmxlbmd0aCArPSAxOw0KICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tpZF0uaWQgPSBpZDsNCiAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbaWRdLm9wZW4gPSB0cnVlOw0KICAgICAgICBSb3VuZE9wZW4oZ2FtZUlkLCBpZCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcGF5b3V0KHVpbnQgZ2FtZUlkKSBpbnRlcm5hbCB7DQogICAgICAgIGFkZHJlc3NbXSB3aW5uZXJzID0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLndpbm5lcnM7DQogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGdhbWVzW2dhbWVJZF0ubWF4TnVtYmVyT2ZCZXRzIC0xOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0c1tpXS5iZXQgPT0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLm51bWJlcikgew0KICAgICAgICAgICAgICAgIHVpbnQgaWQgPSB3aW5uZXJzLmxlbmd0aDsNCiAgICAgICAgICAgICAgICB3aW5uZXJzLmxlbmd0aCArPSAxOw0KICAgICAgICAgICAgICAgIHdpbm5lcnNbaWRdID0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaV0ub3JpZ2luOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHdpbm5lcnMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdWludCBwcml6ZSA9IGRpdmlkZShnYW1lc1tnYW1lSWRdLnByaXplLCB3aW5uZXJzLmxlbmd0aCk7DQogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgd2lubmVycy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIGJhbGFuY2VzW3dpbm5lcnNbaV1dID0gYWRkKGJhbGFuY2VzW3dpbm5lcnNbaV1dLCBwcml6ZSk7DQogICAgICAgICAgICAgICAgUm91bmRXaW5uZXIoZ2FtZUlkLCBnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZCwgd2lubmVyc1tpXSwgcHJpemUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2xvc2VSb3VuZCh1aW50IGdhbWVJZCkgY29uc3RhbnQgaW50ZXJuYWwgew0KICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0ub3BlbiA9IGZhbHNlOw0KICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uaGFzaCA9IGdldEJsb2NrSGFzaChnYW1lc1tnYW1lSWRdLnBvaW50ZXIpOw0KICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0ubnVtYmVyID0gZ2V0TnVtYmVyKGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5oYXNoKTsNCiAgICAgICAgLy8gZ2FtZXNbZ2FtZUlkXS5wb2ludGVyID0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLm51bWJlcjsNCiAgICAgICAgcGF5b3V0KGdhbWVJZCk7DQogICAgICAgIFJvdW5kQ2xvc2UoDQogICAgICAgICAgICBnYW1lSWQsDQogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uaWQsDQogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0ubnVtYmVyDQogICAgICAgICk7DQogICAgICAgIGdhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kID0gY3JlYXRlR2FtZVJvdW5kKGdhbWVJZCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0QmxvY2tIYXNoKHVpbnQgaSkgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMiBibG9ja0hhc2gpIHsNCiAgICAgICAgaWYgKGkgPiAyNTUpIHsNCiAgICAgICAgICAgIGkgPSAyNTU7DQogICAgICAgIH0NCiAgICAgICAgYmxvY2tIYXNoID0gYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIGkpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldE51bWJlcihieXRlczMyIF9hKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgew0KICAgICAgICB1aW50OCBfYiA9IDE7DQogICAgICAgIHVpbnQ4IG1pbnQgPSAwOw0KICAgICAgICBib29sIGRlY2ltYWxzID0gZmFsc2U7DQogICAgICAgIGZvciAodWludCBpID0gX2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsNCiAgICAgICAgICAgIGlmICgoX2FbaV0gPj0gNDgpICYmIChfYVtpXSA8PSA1NykpIHsNCiAgICAgICAgICAgICAgICBpZiAoZGVjaW1hbHMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKF9iID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgX2ItLTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBtaW50ICo9IDEwOw0KICAgICAgICAgICAgICAgIG1pbnQgKz0gdWludDgoX2FbaV0pIC0gNDg7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1pbnQ7DQogICAgICAgICAgICB9IGVsc2UgaWYgKF9hW2ldID09IDQ2KSB7DQogICAgICAgICAgICAgICAgZGVjaW1hbHMgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBtaW50Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHBsYWNlQmV0KHVpbnQgZ2FtZUlkLCB1aW50OCBiZXQpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgaWYgKCFnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0ub3Blbikgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IGdhbWVzW2dhbWVJZF0ubWluQW1vdW50QnlCZXQpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0cy5sZW5ndGggPCBnYW1lc1tnYW1lSWRdLm1heE51bWJlck9mQmV0cykgew0KICAgICAgICAgICAgdWludCBpZCA9IGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5iZXRzLmxlbmd0aDsNCiAgICAgICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5iZXRzLmxlbmd0aCArPSAxOw0KICAgICAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaWRdLmlkID0gaWQ7DQogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0c1tpZF0ucm91bmQgPSBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uaWQ7DQogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0c1tpZF0uYmV0ID0gYmV0Ow0KICAgICAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaWRdLm9yaWdpbiA9IG1zZy5zZW5kZXI7DQogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0c1tpZF0uYW1vdW50ID0gbXNnLnZhbHVlOw0KICAgICAgICAgICAgQmV0UGxhY2VkKGdhbWVJZCwgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmlkLCBtc2cuc2VuZGVyLCBpZCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHMubGVuZ3RoID49IGdhbWVzW2dhbWVJZF0ubWF4TnVtYmVyT2ZCZXRzKSB7DQogICAgICAgICAgICBjbG9zZVJvdW5kKGdhbWVJZCk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIHB1YmxpYyByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHVpbnQgYW1vdW50ID0gZ2V0QmFsYW5jZSgpOw0KICAgICAgICBpZiAoYW1vdW50ID4gMCkgew0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOw0KICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOw0KICAgICAgICAgICAgcmV0dXJuIGFtb3VudDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRCYWxhbmNlKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgew0KICAgICAgICBpZiAoKGJhbGFuY2VzW21zZy5zZW5kZXJdID4gMCkgJiYgKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgdGhpcy5iYWxhbmNlKSkgew0KICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW21zZy5zZW5kZXJdOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG51bWJlck9mQ2xvc2VkR2FtZXMoKSBjb25zdGFudCByZXR1cm5zKHVpbnQgbnVtYmVyT2ZDbG9zZWRHYW1lcykgew0KICAgICAgICBudW1iZXJPZkNsb3NlZEdhbWVzID0gMDsNCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgZ2FtZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChnYW1lc1tpXS5vcGVuICE9IHRydWUpIHsNCiAgICAgICAgICAgICAgICBudW1iZXJPZkNsb3NlZEdhbWVzKys7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bWJlck9mQ2xvc2VkR2FtZXM7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0R2FtZXMoKSBjb25zdGFudCByZXR1cm5zKHVpbnRbXSBtZW1vcnkgaWRzKSB7DQogICAgICAgIGlkcyA9IG5ldyB1aW50W10oZ2FtZXMubGVuZ3RoIC0gbnVtYmVyT2ZDbG9zZWRHYW1lcygpKTsNCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgZ2FtZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChnYW1lc1tpXS5vcGVuID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBpZHNbaV0gPSBnYW1lc1tpXS5pZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldEdhbWVDdXJyZW50Um91bmRJZCh1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRHYW1lUm91bmRPcGVuKHVpbnQgZ2FtZUlkLCB1aW50IHJvdW5kSWQpIGNvbnN0YW50IHJldHVybnMoYm9vbCkgew0KICAgICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbcm91bmRJZF0ub3BlbjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRHYW1lTWF4TnVtYmVyT2ZCZXRzKHVpbnQgZ2FtZUlkKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0ubWF4TnVtYmVyT2ZCZXRzOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldEdhbWVNaW5BbW91bnRCeUJldCh1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLm1pbkFtb3VudEJ5QmV0Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldEdhbWVQcml6ZSh1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnByaXplOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFJvdW5kTnVtYmVyT2ZCZXRzKHVpbnQgZ2FtZUlkLCB1aW50IHJvdW5kSWQpIGNvbnN0YW50IHJldHVybnModWludCkgew0KICAgICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbcm91bmRJZF0uYmV0cy5sZW5ndGg7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Um91bmRCZXRPcmlnaW4odWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCwgdWludCBiZXRJZCkgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzKSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnJvdW5kc1tyb3VuZElkXS5iZXRzW2JldElkXS5vcmlnaW47DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Um91bmRCZXRBbW91bnQodWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCwgdWludCBiZXRJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnJvdW5kc1tyb3VuZElkXS5iZXRzW2JldElkXS5hbW91bnQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Um91bmRCZXROdW1iZXIodWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCwgdWludCBiZXRJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnJvdW5kc1tyb3VuZElkXS5iZXRzW2JldElkXS5iZXQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Um91bmROdW1iZXIodWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50OCkgew0KICAgICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbcm91bmRJZF0ubnVtYmVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFJvdW5kUG9pbnRlcih1aW50IGdhbWVJZCwgdWludCByb3VuZElkKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0ucm91bmRzW3JvdW5kSWRdLnBvaW50ZXI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0UG9pbnRlcih1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7DQogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnBvaW50ZXI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgfQ0KfQ=='