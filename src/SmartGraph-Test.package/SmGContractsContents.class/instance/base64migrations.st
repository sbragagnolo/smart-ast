base 64 content
base64migrations
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4yOw0KDQpjb250cmFjdCBPd25lZEkgew0KICAgIGV2ZW50IExvZ093bmVyQ2hhbmdlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsNCg0KICAgIGZ1bmN0aW9uIGdldE93bmVyKCkNCiAgICAgICAgY29uc3RhbnQNCiAgICAgICAgcmV0dXJucyAoYWRkcmVzcyk7DQoNCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIG5ld093bmVyKQ0KICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpOyANCn0NCg0KY29udHJhY3QgT3duZWQgaXMgT3duZWRJIHsNCiAgICAvKioNCiAgICAgKiBAZGV2IE1hZGUgcHJpdmF0ZSB0byBwcm90ZWN0IGFnYWluc3QgY2hpbGQgY29udHJhY3Qgc2V0dGluZyBpdCB0byAwIGJ5IG1pc3Rha2UuDQogICAgICovDQogICAgYWRkcmVzcyBwcml2YXRlIG93bmVyOw0KDQogICAgZnVuY3Rpb24gT3duZWQoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBtb2RpZmllciBmcm9tT3duZXIgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRPd25lcigpDQogICAgICAgIGNvbnN0YW50DQogICAgICAgIHJldHVybnMgKGFkZHJlc3MpIHsNCiAgICAgICAgcmV0dXJuIG93bmVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldE93bmVyKGFkZHJlc3MgbmV3T3duZXIpDQogICAgICAgIGZyb21Pd25lciANCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChuZXdPd25lciA9PSAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAob3duZXIgIT0gbmV3T3duZXIpIHsNCiAgICAgICAgICAgIExvZ093bmVyQ2hhbmdlZChvd25lciwgbmV3T3duZXIpOw0KICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsNCiAgICAgICAgfQ0KICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICB9DQp9DQoNCmNvbnRyYWN0IEJhbGFuY2VGaXhhYmxlIGlzIE93bmVkSSB7DQogICAgZnVuY3Rpb24gZml4QmFsYW5jZSgpIA0KICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKCFnZXRPd25lcigpLnNlbmQodGhpcy5iYWxhbmNlKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KfQ0KDQpjb250cmFjdCBNaWdyYXRpb25zIGlzIE93bmVkLCBCYWxhbmNlRml4YWJsZSB7DQogICAgdWludCBwdWJsaWMgbGFzdF9jb21wbGV0ZWRfbWlncmF0aW9uOw0KICAgIGFkZHJlc3MgcHVibGljIGFsbG93ZWRBY2NvdW50Ow0KDQogICAgZnVuY3Rpb24gTWlncmF0aW9ucygpIHsNCiAgICAgICAgaWYobXNnLnZhbHVlID4gMCkgdGhyb3c7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0Q29tcGxldGVkKHVpbnQgY29tcGxldGVkKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGdldE93bmVyKCkNCiAgICAgICAgICAgICYmIG1zZy5zZW5kZXIgIT0gYWxsb3dlZEFjY291bnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIGxhc3RfY29tcGxldGVkX21pZ3JhdGlvbiA9IGNvbXBsZXRlZDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZXRBbGxvd2VkQWNjb3VudChhZGRyZXNzIF9hbGxvd2VkQWNjb3VudCkgZnJvbU93bmVyIHsNCiAgICAgICAgYWxsb3dlZEFjY291bnQgPSBfYWxsb3dlZEFjY291bnQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdXBncmFkZShhZGRyZXNzIG5ld19hZGRyZXNzKSBmcm9tT3duZXIgew0KICAgICAgICBNaWdyYXRpb25zIHVwZ3JhZGVkID0gTWlncmF0aW9ucyhuZXdfYWRkcmVzcyk7DQogICAgICAgIHVwZ3JhZGVkLnNldENvbXBsZXRlZChsYXN0X2NvbXBsZXRlZF9taWdyYXRpb24pOw0KICAgIH0NCn0='