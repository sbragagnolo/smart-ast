base 64 content
base64omnipurse
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCBPbW5pcHVyc2Ugew0KDQogIHN0cnVjdCBDb250cmlidXRpb24gew0KICAgIGFkZHJlc3Mgc2VuZGVyOw0KICAgIHVpbnQgdmFsdWU7DQogICAgYm9vbCByZWZ1bmRlZDsNCiAgICB1aW50MjU2IHRpbWVzdGFtcDsNCiAgfQ0KDQogIHN0cnVjdCBQdXJzZSB7DQogICAgYWRkcmVzcyBjcmVhdG9yOw0KICAgIHVpbnQyNTYgdGltZXN0YW1wOw0KICAgIHN0cmluZyB0aXRsZTsNCiAgICB1aW50OCBzdGF0dXM7DQogICAgdWludCBudW1Db250cmlidXRpb25zOw0KICAgIHVpbnQgdG90YWxDb250cmlidXRlZDsNCiAgICBtYXBwaW5nICh1aW50ID0+IENvbnRyaWJ1dGlvbikgY29udHJpYnV0aW9uczsNCiAgfQ0KDQogIHVpbnQgcHVibGljIG51bVB1cnNlOw0KICBtYXBwaW5nICh1aW50ID0+IFB1cnNlKSBwdXJzZXM7DQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludFtdKSBwdXJzZXNCeUNyZWF0b3I7DQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gc3RyaW5nKSBuaWNrbmFtZXM7DQoNCiAgZnVuY3Rpb24gc2VhcmNoUHVyc2VzQnlBZGRyZXNzKGFkZHJlc3MgY3JlYXRvcikgY29uc3RhbnQgcmV0dXJucyAodWludFtdIGlkcykgew0KICAgIGlkcyA9IHB1cnNlc0J5Q3JlYXRvcltjcmVhdG9yXTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGdldFB1cnNlRGV0YWlscyh1aW50IHB1cnNlSWQpIGNvbnN0YW50IHJldHVybnMgKA0KICAgIGFkZHJlc3MgY3JlYXRvciwNCiAgICB1aW50MjU2IHRpbWVzdGFtcCwNCiAgICBzdHJpbmcgdGl0bGUsDQogICAgdWludDggc3RhdHVzLA0KICAgIHVpbnQgbnVtQ29udHJpYnV0aW9ucywNCiAgICB1aW50IHRvdGFsQ29udHJpYnV0ZWQNCiAgKSB7DQogICAgUHVyc2UgcCA9IHB1cnNlc1twdXJzZUlkXTsNCiAgICBjcmVhdG9yID0gcC5jcmVhdG9yOw0KICAgIHRpbWVzdGFtcCA9IHAudGltZXN0YW1wOw0KICAgIHRpdGxlID0gcC50aXRsZTsNCiAgICBzdGF0dXMgPSBwLnN0YXR1czsNCiAgICBudW1Db250cmlidXRpb25zID0gcC5udW1Db250cmlidXRpb25zOw0KICAgIHRvdGFsQ29udHJpYnV0ZWQgPSBwLnRvdGFsQ29udHJpYnV0ZWQ7DQogIH0NCg0KICBmdW5jdGlvbiBnZXRQdXJzZUNvbnRyaWJ1dGlvbnModWludCBwdXJzZUlkLCB1aW50IGNvbnRyaWJ1dGlvbklkKSBjb25zdGFudCByZXR1cm5zICgNCiAgICBhZGRyZXNzIHNlbmRlciwNCiAgICB1aW50IHZhbHVlLA0KICAgIGJvb2wgcmVmdW5kZWQsDQogICAgc3RyaW5nIG5pY2tuYW1lLA0KICAgIHVpbnQgdGltZXN0YW1wDQogICkgew0KICAgIFB1cnNlIHAgPSBwdXJzZXNbcHVyc2VJZF07DQogICAgQ29udHJpYnV0aW9uIGMgPSBwLmNvbnRyaWJ1dGlvbnNbY29udHJpYnV0aW9uSWRdOw0KICAgIHNlbmRlciA9IGMuc2VuZGVyOw0KICAgIHZhbHVlID0gYy52YWx1ZTsNCiAgICByZWZ1bmRlZCA9IGMucmVmdW5kZWQ7DQogICAgbmlja25hbWUgPSBuaWNrbmFtZXNbYy5zZW5kZXJdOw0KICAgIHRpbWVzdGFtcCA9IGMudGltZXN0YW1wOw0KICB9DQoNCiAgZnVuY3Rpb24gY3JlYXRlUHVyc2Uoc3RyaW5nIHRpdGxlKSByZXR1cm5zICh1aW50IHB1cnNlSWQpIHsNCiAgICBwdXJzZUlkID0gbnVtUHVyc2UrKzsNCiAgICBwdXJzZXNbcHVyc2VJZF0gPSBQdXJzZShtc2cuc2VuZGVyLCBibG9jay50aW1lc3RhbXAsIHRpdGxlLCAxLCAwLCAwKTsNCiAgICBwdXJzZXNCeUNyZWF0b3JbbXNnLnNlbmRlcl0ucHVzaChwdXJzZUlkKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGNvbnRyaWJ1dGVUb1B1cnNlKHVpbnQgcHVyc2VJZCkgcGF5YWJsZSB7DQogICAgUHVyc2UgcCA9IHB1cnNlc1twdXJzZUlkXTsNCiAgICBpZiAocC5zdGF0dXMgIT0gMSkgeyB0aHJvdzsgfQ0KICAgIHAudG90YWxDb250cmlidXRlZCArPSBtc2cudmFsdWU7DQogICAgcC5jb250cmlidXRpb25zW3AubnVtQ29udHJpYnV0aW9ucysrXSA9IENvbnRyaWJ1dGlvbihtc2cuc2VuZGVyLCBtc2cudmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBibG9jay50aW1lc3RhbXApOw0KICB9DQoNCiAgZnVuY3Rpb24gZGlzc21pc1B1cnNlKHVpbnQgcHVyc2VJZCkgew0KICAgIFB1cnNlIHAgPSBwdXJzZXNbcHVyc2VJZF07DQogICAgaWYgKHAuY3JlYXRvciAhPSBtc2cuc2VuZGVyIHx8IChwLnN0YXR1cyAhPSAxICYmIHAuc3RhdHVzICE9IDQpKSB7IHRocm93OyB9DQogICAgYm9vbCBzdWNjZXNzID0gdHJ1ZTsNCiAgICBmb3IgKHVpbnQgaT0wOyBpPHAubnVtQ29udHJpYnV0aW9uczsgaSsrKSB7DQogICAgICBDb250cmlidXRpb24gYyA9IHAuY29udHJpYnV0aW9uc1tpXTsNCiAgICAgIGlmKCFjLnJlZnVuZGVkKSB7DQogICAgICAgIGMucmVmdW5kZWQgPSBjLnNlbmRlci5zZW5kKGMudmFsdWUpOw0KICAgICAgfQ0KICAgICAgc3VjY2VzcyA9IHN1Y2Nlc3MgJiYgYy5yZWZ1bmRlZDsNCiAgICB9DQogICAgcC5zdGF0dXMgPSBzdWNjZXNzID8gMyA6IDQ7DQogIH0NCg0KICBmdW5jdGlvbiBmaW5pc2hQdXJzZSh1aW50IHB1cnNlSWQpIHsNCiAgICBQdXJzZSBwID0gcHVyc2VzW3B1cnNlSWRdOw0KICAgIGlmIChwLmNyZWF0b3IgIT0gbXNnLnNlbmRlciB8fCBwLnN0YXR1cyAhPSAxKSB7IHRocm93OyB9DQogICAgaWYgKHAuY3JlYXRvci5zZW5kKHAudG90YWxDb250cmlidXRlZCkpIHsgcC5zdGF0dXMgPSAyOyB9DQogIH0NCg0KICBmdW5jdGlvbiByZWdpc3Rlck5pY2tuYW1lKHN0cmluZyBuaWNrbmFtZSkgew0KICAgIG5pY2tuYW1lc1ttc2cuc2VuZGVyXSA9IG5pY2tuYW1lOw0KICB9DQoNCn0='