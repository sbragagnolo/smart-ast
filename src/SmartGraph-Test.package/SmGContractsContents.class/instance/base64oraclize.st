base 64 content
base64oraclize
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KY29udHJhY3QgT3JhY2xpemUgew0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcmVxYzsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYnl0ZSkgcHVibGljIGNiQWRkcmVzc2VzOw0KDQogICAgZXZlbnQgTG9nMShhZGRyZXNzIHNlbmRlciwgYnl0ZXMzMiBjaWQsIHVpbnQgdGltZXN0YW1wLCBzdHJpbmcgZGF0YXNvdXJjZSwgc3RyaW5nIGFyZywgdWludCBnYXNsaW1pdCwgYnl0ZSBwcm9vZlR5cGUsIHVpbnQgZ2FzUHJpY2UpOw0KICAgIGV2ZW50IExvZzIoYWRkcmVzcyBzZW5kZXIsIGJ5dGVzMzIgY2lkLCB1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcxLCBzdHJpbmcgYXJnMiwgdWludCBnYXNsaW1pdCwgYnl0ZSBwcm9vZlR5cGUsIHVpbnQgZ2FzUHJpY2UpOw0KICAgIGV2ZW50IExvZ04oYWRkcmVzcyBzZW5kZXIsIGJ5dGVzMzIgY2lkLCB1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIGJ5dGVzIGFyZ3MsIHVpbnQgZ2FzbGltaXQsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IGdhc1ByaWNlKTsNCiAgICBldmVudCBMb2cxX2ZuYyhhZGRyZXNzIHNlbmRlciwgYnl0ZXMzMiBjaWQsIHVpbnQgdGltZXN0YW1wLCBzdHJpbmcgZGF0YXNvdXJjZSwgc3RyaW5nIGFyZywgZnVuY3Rpb24oKSBleHRlcm5hbCBjYWxsYmFjaywgdWludCBnYXNsaW1pdCwgYnl0ZSBwcm9vZlR5cGUsIHVpbnQgZ2FzUHJpY2UpOw0KICAgIGV2ZW50IExvZzJfZm5jKGFkZHJlc3Mgc2VuZGVyLCBieXRlczMyIGNpZCwgdWludCB0aW1lc3RhbXAsIHN0cmluZyBkYXRhc291cmNlLCBzdHJpbmcgYXJnMSwgc3RyaW5nIGFyZzIsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgY2FsbGJhY2ssIHVpbnQgZ2FzbGltaXQsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IGdhc1ByaWNlKTsNCiAgICBldmVudCBMb2dOX2ZuYyhhZGRyZXNzIHNlbmRlciwgYnl0ZXMzMiBjaWQsIHVpbnQgdGltZXN0YW1wLCBzdHJpbmcgZGF0YXNvdXJjZSwgYnl0ZXMgYXJncywgZnVuY3Rpb24oKSBleHRlcm5hbCBjYWxsYmFjaywgdWludCBnYXNsaW1pdCwgYnl0ZSBwcm9vZlR5cGUsIHVpbnQgZ2FzUHJpY2UpOw0KDQogICAgYWRkcmVzcyBvd25lcjsNCg0KICAgIG1vZGlmaWVyIG9ubHlhZG1pbiB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsNCiAgICAgICBfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VBZG1pbihhZGRyZXNzIF9uZXdBZG1pbikgDQogICAgb25seWFkbWluIHsNCiAgICAgICAgb3duZXIgPSBfbmV3QWRtaW47DQogICAgfQ0KDQogICAgLy8gcHJvb2YgaXMgY3VycmVudGx5IGEgcGxhY2Vob2xkZXIgZm9yIHdoZW4gYXNzb2NpYXRlZCBwcm9vZiBmb3IgYWRkcmVzc1R5cGUgaXMgYWRkZWQNCiAgICBmdW5jdGlvbiBhZGRDYkFkZHJlc3MoYWRkcmVzcyBuZXdDYkFkZHJlc3MsIGJ5dGUgYWRkcmVzc1R5cGUsIGJ5dGVzIHByb29mKSANCiAgICBvbmx5YWRtaW4gew0KICAgICAgICBjYkFkZHJlc3Nlc1tuZXdDYkFkZHJlc3NdID0gYWRkcmVzc1R5cGU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWRkQ2JBZGRyZXNzKGFkZHJlc3MgbmV3Q2JBZGRyZXNzLCBieXRlIGFkZHJlc3NUeXBlKQ0KICAgIG9ubHlhZG1pbiB7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBuaWwgPSAnJzsNCiAgICAgICAgYWRkQ2JBZGRyZXNzKG5ld0NiQWRkcmVzcywgYWRkcmVzc1R5cGUsIG5pbCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcmVtb3ZlQ2JBZGRyZXNzKGFkZHJlc3MgbmV3Q2JBZGRyZXNzKQ0KICAgIG9ubHlhZG1pbiB7DQogICAgICAgIGRlbGV0ZSBjYkFkZHJlc3Nlc1tuZXdDYkFkZHJlc3NdOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNiQWRkcmVzcygpDQogICAgY29uc3RhbnQNCiAgICByZXR1cm5zIChhZGRyZXNzIF9jYkFkZHJlc3MpIHsNCiAgICAgICAgaWYgKGNiQWRkcmVzc2VzW3R4Lm9yaWdpbl0gIT0gMCkNCiAgICAgICAgICAgIF9jYkFkZHJlc3MgPSB0eC5vcmlnaW47DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWRkRFNvdXJjZShzdHJpbmcgZHNuYW1lLCB1aW50IG11bHRpcGxpZXIpIHsNCiAgICAgICAgYWRkRFNvdXJjZShkc25hbWUsIDB4MDAsIG11bHRpcGxpZXIpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFkZERTb3VyY2Uoc3RyaW5nIGRzbmFtZSwgYnl0ZSBwcm9vZlR5cGUsIHVpbnQgbXVsdGlwbGllcikgb25seWFkbWluIHsNCiAgICAgICAgYnl0ZXMzMiBkc25hbWVfaGFzaCA9IHNoYTMoZHNuYW1lLCBwcm9vZlR5cGUpOw0KICAgICAgICBkc291cmNlc1tkc291cmNlcy5sZW5ndGgrK10gPSBkc25hbWVfaGFzaDsNCiAgICAgICAgcHJpY2VfbXVsdGlwbGllcltkc25hbWVfaGFzaF0gPSBtdWx0aXBsaWVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG11bHRpc2V0UHJvb2ZUeXBlKHVpbnRbXSBfcHJvb2ZUeXBlLCBhZGRyZXNzW10gX2FkZHIpIG9ubHlhZG1pbiB7DQogICAgICAgIGZvciAodWludCBpPTA7IGk8X2FkZHIubGVuZ3RoOyBpKyspIGFkZHJfcHJvb2ZUeXBlW19hZGRyW2ldXSA9IGJ5dGUoX3Byb29mVHlwZVtpXSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbXVsdGlzZXRDdXN0b21HYXNQcmljZSh1aW50W10gX2dhc1ByaWNlLCBhZGRyZXNzW10gX2FkZHIpIG9ubHlhZG1pbiB7DQogICAgICAgIGZvciAodWludCBpPTA7IGk8X2FkZHIubGVuZ3RoOyBpKyspIGFkZHJfZ2FzUHJpY2VbX2FkZHJbaV1dID0gX2dhc1ByaWNlW2ldOw0KICAgIH0NCg0KICAgIHVpbnQgZ2FzcHJpY2UgPSAyMDAwMDAwMDAwMDsNCg0KICAgIGZ1bmN0aW9uIHNldEdhc1ByaWNlKHVpbnQgbmV3Z2FzcHJpY2UpDQogICAgb25seWFkbWluIHsNCiAgICAgICAgZ2FzcHJpY2UgPSBuZXdnYXNwcmljZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZXRCYXNlUHJpY2UodWludCBuZXdfYmFzZXByaWNlKQ0KICAgIG9ubHlhZG1pbiB7IC8vMC4wMDEgdXNkIGluIGV0aGVyDQogICAgICAgIGJhc2VwcmljZSA9IG5ld19iYXNlcHJpY2U7DQogICAgICAgIGZvciAodWludCBpPTA7IGk8ZHNvdXJjZXMubGVuZ3RoOyBpKyspIHByaWNlW2Rzb3VyY2VzW2ldXSA9IG5ld19iYXNlcHJpY2UqcHJpY2VfbXVsdGlwbGllcltkc291cmNlc1tpXV07DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0QmFzZVByaWNlKHVpbnQgbmV3X2Jhc2VwcmljZSwgYnl0ZXMgcHJvb2ZJRCkNCiAgICBvbmx5YWRtaW4geyAvLzAuMDAxIHVzZCBpbiBldGhlcg0KICAgICAgICBiYXNlcHJpY2UgPSBuZXdfYmFzZXByaWNlOw0KICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGRzb3VyY2VzLmxlbmd0aDsgaSsrKSBwcmljZVtkc291cmNlc1tpXV0gPSBuZXdfYmFzZXByaWNlKnByaWNlX211bHRpcGxpZXJbZHNvdXJjZXNbaV1dOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHMoYWRkcmVzcyBfYWRkcikNCiAgICBvbmx5YWRtaW4gew0KICAgICAgICBfYWRkci5zZW5kKHRoaXMuYmFsYW5jZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24oKSBvbmx5YWRtaW4ge30NCg0KICAgIGZ1bmN0aW9uIE9yYWNsaXplKCkgew0KICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgfQ0KDQogICAgbW9kaWZpZXIgY29zdHMoc3RyaW5nIGRhdGFzb3VyY2UsIHVpbnQgZ2FzbGltaXQpIHsNCiAgICAgICAgdWludCBwcmljZSA9IGdldFByaWNlKGRhdGFzb3VyY2UsIGdhc2xpbWl0LCBtc2cuc2VuZGVyKTsNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA+PSBwcmljZSl7DQogICAgICAgICAgICB1aW50IGRpZmYgPSBtc2cudmFsdWUgLSBwcmljZTsNCiAgICAgICAgICAgIGlmIChkaWZmID4gMCkgbXNnLnNlbmRlci5zZW5kKGRpZmYpOw0KICAgICAgICAgICBfOw0KICAgICAgICB9IGVsc2UgdGhyb3c7DQogICAgfQ0KDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBieXRlKSBhZGRyX3Byb29mVHlwZTsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGFkZHJfZ2FzUHJpY2U7DQogICAgdWludCBwdWJsaWMgYmFzZXByaWNlOw0KICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gdWludCkgcHJpY2U7DQogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50KSBwcmljZV9tdWx0aXBsaWVyOw0KICAgIGJ5dGVzMzJbXSBkc291cmNlczsNCg0KICAgIGJ5dGVzMzJbXSBwdWJsaWMgcmFuZG9tRFNfc2Vzc2lvblB1YktleXNIYXNoOw0KDQogICAgZnVuY3Rpb24gcmFuZG9tRFNfdXBkYXRlU2Vzc2lvblB1YktleXNIYXNoKGJ5dGVzMzJbXSBfbmV3U2Vzc2lvblB1YktleXNIYXNoKSBvbmx5YWRtaW4gew0KICAgICAgICByYW5kb21EU19zZXNzaW9uUHViS2V5c0hhc2gubGVuZ3RoID0gMDsNCiAgICAgICAgZm9yICh1aW50IGk9MDsgaTxfbmV3U2Vzc2lvblB1YktleXNIYXNoLmxlbmd0aDsgaSsrKSByYW5kb21EU19zZXNzaW9uUHViS2V5c0hhc2gucHVzaChfbmV3U2Vzc2lvblB1YktleXNIYXNoW2ldKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiByYW5kb21EU19nZXRTZXNzaW9uUHViS2V5SGFzaCgpIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpIHsNCiAgICAgICAgdWludCBpID0gdWludChzaGEzKHJlcWNbbXNnLnNlbmRlcl0pKSVyYW5kb21EU19zZXNzaW9uUHViS2V5c0hhc2gubGVuZ3RoOw0KICAgICAgICByZXR1cm4gcmFuZG9tRFNfc2Vzc2lvblB1YktleXNIYXNoW2ldOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldFByb29mVHlwZShieXRlIF9wcm9vZlR5cGUpIHsNCiAgICAgICAgYWRkcl9wcm9vZlR5cGVbbXNnLnNlbmRlcl0gPSBfcHJvb2ZUeXBlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldEN1c3RvbUdhc1ByaWNlKHVpbnQgX2dhc1ByaWNlKSB7DQogICAgICAgIGFkZHJfZ2FzUHJpY2VbbXNnLnNlbmRlcl0gPSBfZ2FzUHJpY2U7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0UHJpY2Uoc3RyaW5nIF9kYXRhc291cmNlKQ0KICAgIHB1YmxpYw0KICAgIHJldHVybnMgKHVpbnQgX2RzcHJpY2UpIHsNCiAgICAgICAgcmV0dXJuIGdldFByaWNlKF9kYXRhc291cmNlLCBtc2cuc2VuZGVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRQcmljZShzdHJpbmcgX2RhdGFzb3VyY2UsIHVpbnQgX2dhc2xpbWl0KQ0KICAgIHB1YmxpYw0KICAgIHJldHVybnMgKHVpbnQgX2RzcHJpY2UpIHsNCiAgICAgICAgcmV0dXJuIGdldFByaWNlKF9kYXRhc291cmNlLCBfZ2FzbGltaXQsIG1zZy5zZW5kZXIpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFByaWNlKHN0cmluZyBfZGF0YXNvdXJjZSwgYWRkcmVzcyBfYWRkcikNCiAgICBwcml2YXRlDQogICAgcmV0dXJucyAodWludCBfZHNwcmljZSkgew0KICAgICAgICByZXR1cm4gZ2V0UHJpY2UoX2RhdGFzb3VyY2UsIDIwMDAwMCwgX2FkZHIpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFByaWNlKHN0cmluZyBfZGF0YXNvdXJjZSwgdWludCBfZ2FzbGltaXQsIGFkZHJlc3MgX2FkZHIpDQogICAgcHJpdmF0ZQ0KICAgIHJldHVybnMgKHVpbnQgX2RzcHJpY2UpIHsNCiAgICAgICAgdWludCBnYXNwcmljZV8gPSBhZGRyX2dhc1ByaWNlW19hZGRyXTsNCiAgICAgICAgaWYgKChfZ2FzbGltaXQgPD0gMjAwMDAwKSYmKHJlcWNbX2FkZHJdID09IDApJiYoZ2FzcHJpY2VfIDw9IGdhc3ByaWNlKSYmKHR4Lm9yaWdpbiAhPSBjYkFkZHJlc3MoKSkpIHJldHVybiAwOw0KICAgICAgICBpZiAoZ2FzcHJpY2VfID09IDApIGdhc3ByaWNlXyA9IGdhc3ByaWNlOw0KICAgICAgICBfZHNwcmljZSA9IHByaWNlW3NoYTMoX2RhdGFzb3VyY2UsIGFkZHJfcHJvb2ZUeXBlW19hZGRyXSldOw0KICAgICAgICBfZHNwcmljZSArPSBfZ2FzbGltaXQqZ2FzcHJpY2VfOw0KICAgICAgICByZXR1cm4gX2RzcHJpY2U7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Q29kZVNpemUoYWRkcmVzcyBfYWRkcikNCiAgICBwcml2YXRlDQogICAgY29uc3RhbnQNCiAgICByZXR1cm5zKHVpbnQgX3NpemUpIHsNCiAgICBhc3NlbWJseSB7DQogICAgICAgIF9zaXplIDo9IGV4dGNvZGVzaXplKF9hZGRyKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnkoc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZykNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5MSgwLCBfZGF0YXNvdXJjZSwgX2FyZywgMjAwMDAwKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeTEoc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZykNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5MSgwLCBfZGF0YXNvdXJjZSwgX2FyZywgMjAwMDAwKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeTIoc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZzEsIHN0cmluZyBfYXJnMikNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5MigwLCBfZGF0YXNvdXJjZSwgX2FyZzEsIF9hcmcyLCAyMDAwMDApOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHF1ZXJ5TihzdHJpbmcgX2RhdGFzb3VyY2UsIGJ5dGVzIF9hcmdzKQ0KICAgIHBheWFibGUNCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkgew0KICAgICAgICByZXR1cm4gcXVlcnlOKDAsIF9kYXRhc291cmNlLCBfYXJncywgMjAwMDAwKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeSh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcpDQogICAgcGF5YWJsZQ0KICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKSB7DQogICAgICAgIHJldHVybiBxdWVyeTEoX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmcsIDIwMDAwMCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnkxKHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZykNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5MShfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZywgMjAwMDAwKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeTIodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnMSwgc3RyaW5nIF9hcmcyKQ0KICAgIHBheWFibGUNCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkgew0KICAgICAgICByZXR1cm4gcXVlcnkyKF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnMSwgX2FyZzIsIDIwMDAwMCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnlOKHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBieXRlcyBfYXJncykNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5TihfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZ3MsIDIwMDAwMCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnkodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnLCB1aW50IF9nYXNsaW1pdCkNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5MShfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZywgX2dhc2xpbWl0KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeV93aXRoR2FzTGltaXQodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnLCB1aW50IF9nYXNsaW1pdCkNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5KF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnLCBfZ2FzbGltaXQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHF1ZXJ5MV93aXRoR2FzTGltaXQodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnLCB1aW50IF9nYXNsaW1pdCkNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgcmV0dXJuIHF1ZXJ5MShfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZywgX2dhc2xpbWl0KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeTJfd2l0aEdhc0xpbWl0KHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZzEsIHN0cmluZyBfYXJnMiwgdWludCBfZ2FzbGltaXQpDQogICAgcGF5YWJsZQ0KICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKSB7DQogICAgICAgIHJldHVybiBxdWVyeTIoX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmcxLCBfYXJnMiwgX2dhc2xpbWl0KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeU5fd2l0aEdhc0xpbWl0KHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBieXRlcyBfYXJncywgdWludCBfZ2FzbGltaXQpDQogICAgcGF5YWJsZQ0KICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKSB7DQogICAgICAgIHJldHVybiBxdWVyeU4oX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmdzLCBfZ2FzbGltaXQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHF1ZXJ5MSh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIHVpbnQgX2dhc2xpbWl0KSBjb3N0cyhfZGF0YXNvdXJjZSwgX2dhc2xpbWl0KQ0KICAgIHBheWFibGUNCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkgew0KICAgIAlpZiAoKF90aW1lc3RhbXAgPiBub3crMzYwMCoyNCo2MCl8fChfZ2FzbGltaXQgPiBibG9jay5nYXNsaW1pdCkpIHRocm93Ow0KDQogICAgICAgIF9pZCA9IHNoYTModGhpcywgbXNnLnNlbmRlciwgcmVxY1ttc2cuc2VuZGVyXSk7DQogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsNCiAgICAgICAgTG9nMShtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnLCBfZ2FzbGltaXQsIGFkZHJfcHJvb2ZUeXBlW21zZy5zZW5kZXJdLCBhZGRyX2dhc1ByaWNlW21zZy5zZW5kZXJdKTsNCiAgICAgICAgcmV0dXJuIF9pZDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxdWVyeTIodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnMSwgc3RyaW5nIF9hcmcyLCB1aW50IF9nYXNsaW1pdCkNCiAgICBjb3N0cyhfZGF0YXNvdXJjZSwgX2dhc2xpbWl0KQ0KICAgIHBheWFibGUNCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkgew0KICAgIAlpZiAoKF90aW1lc3RhbXAgPiBub3crMzYwMCoyNCo2MCl8fChfZ2FzbGltaXQgPiBibG9jay5nYXNsaW1pdCkpIHRocm93Ow0KDQogICAgICAgIF9pZCA9IHNoYTModGhpcywgbXNnLnNlbmRlciwgcmVxY1ttc2cuc2VuZGVyXSk7DQogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsNCiAgICAgICAgTG9nMihtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnMSwgX2FyZzIsIF9nYXNsaW1pdCwgYWRkcl9wcm9vZlR5cGVbbXNnLnNlbmRlcl0sIGFkZHJfZ2FzUHJpY2VbbXNnLnNlbmRlcl0pOw0KICAgICAgICByZXR1cm4gX2lkOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHF1ZXJ5Tih1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgYnl0ZXMgX2FyZ3MsIHVpbnQgX2dhc2xpbWl0KSBjb3N0cyhfZGF0YXNvdXJjZSwgX2dhc2xpbWl0KQ0KICAgIHBheWFibGUNCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkgew0KICAgIAlpZiAoKF90aW1lc3RhbXAgPiBub3crMzYwMCoyNCo2MCl8fChfZ2FzbGltaXQgPiBibG9jay5nYXNsaW1pdCkpIHRocm93Ow0KDQogICAgICAgIF9pZCA9IHNoYTModGhpcywgbXNnLnNlbmRlciwgcmVxY1ttc2cuc2VuZGVyXSk7DQogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsNCiAgICAgICAgTG9nTihtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJncywgX2dhc2xpbWl0LCBhZGRyX3Byb29mVHlwZVttc2cuc2VuZGVyXSwgYWRkcl9nYXNQcmljZVttc2cuc2VuZGVyXSk7DQogICAgICAgIHJldHVybiBfaWQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnkxX2ZuYyh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgX2ZuYywgdWludCBfZ2FzbGltaXQpDQogICAgY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCkNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpfHxhZGRyZXNzKF9mbmMpICE9IG1zZy5zZW5kZXIpIHRocm93Ow0KDQogICAgICAgIF9pZCA9IHNoYTModGhpcywgbXNnLnNlbmRlciwgcmVxY1ttc2cuc2VuZGVyXSk7DQogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsNCiAgICAgICAgTG9nMV9mbmMobXNnLnNlbmRlciwgX2lkLCBfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZywgX2ZuYywgX2dhc2xpbWl0LCBhZGRyX3Byb29mVHlwZVttc2cuc2VuZGVyXSwgYWRkcl9nYXNQcmljZVttc2cuc2VuZGVyXSk7DQogICAgICAgIHJldHVybiBfaWQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnkyX2ZuYyh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcxLCBzdHJpbmcgX2FyZzIsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgX2ZuYywgdWludCBfZ2FzbGltaXQpDQogICAgY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCkNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpfHxhZGRyZXNzKF9mbmMpICE9IG1zZy5zZW5kZXIpIHRocm93Ow0KDQogICAgICAgIF9pZCA9IHNoYTModGhpcywgbXNnLnNlbmRlciwgcmVxY1ttc2cuc2VuZGVyXSk7DQogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsNCiAgICAgICAgTG9nMl9mbmMobXNnLnNlbmRlciwgX2lkLCBfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZzEsIF9hcmcyLCBfZm5jLCAgX2dhc2xpbWl0LCBhZGRyX3Byb29mVHlwZVttc2cuc2VuZGVyXSwgYWRkcl9nYXNQcmljZVttc2cuc2VuZGVyXSk7DQogICAgICAgIHJldHVybiBfaWQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXVlcnlOX2ZuYyh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgYnl0ZXMgX2FyZ3MsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgX2ZuYywgdWludCBfZ2FzbGltaXQpDQogICAgY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCkNCiAgICBwYXlhYmxlDQogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpIHsNCiAgICAgICAgaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpfHxhZGRyZXNzKF9mbmMpICE9IG1zZy5zZW5kZXIpIHRocm93Ow0KDQogICAgICAgIF9pZCA9IHNoYTModGhpcywgbXNnLnNlbmRlciwgcmVxY1ttc2cuc2VuZGVyXSk7DQogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsNCiAgICAgICAgTG9nTl9mbmMobXNnLnNlbmRlciwgX2lkLCBfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZ3MsIF9mbmMsIF9nYXNsaW1pdCwgYWRkcl9wcm9vZlR5cGVbbXNnLnNlbmRlcl0sIGFkZHJfZ2FzUHJpY2VbbXNnLnNlbmRlcl0pOw0KICAgICAgICByZXR1cm4gX2lkOw0KICAgIH0NCn0='