base 64 content
base64preCrowdsale
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLyoqDQogKiBAdGl0bGUgU2FmZU1hdGgNCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yDQogKi8NCmxpYnJhcnkgU2FmZU1hdGggew0KICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICB1aW50MjU2IGMgPSBhICogYjsNCiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsNCiAgICAgICAgcmV0dXJuIGM7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMA0KICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsNCiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQNCiAgICAgICAgcmV0dXJuIGM7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIGFzc2VydChiIDw9IGEpOw0KICAgICAgICByZXR1cm4gYSAtIGI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOw0KICAgICAgICBhc3NlcnQoYyA+PSBhKTsNCiAgICAgICAgcmV0dXJuIGM7DQogICAgfQ0KfQ0KDQovKioNCiAqIEB0aXRsZSBPd25hYmxlDQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sIA0KICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4gDQogKi8NCmNvbnRyYWN0IE93bmFibGUgew0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgLyoqIA0KICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcg0KICAgICAqIGFjY291bnQuDQogICAgICovDQogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsNCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiANCiAgICAqLw0KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLyoqDQogICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLg0KICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4gDQogICAgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgew0KICAgICAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgew0KICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KLyoqDQogKiBAdGl0bGUgRVJDMjBCYXNpYw0KICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlDQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqLw0KY29udHJhY3QgRVJDMjBCYXNpYyB7DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsNCn0NCg0KLyoqDQogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlDQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqLw0KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7DQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7DQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSk7DQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KfQ0KDQovKioNCiAqIEB0aXRsZSBCYXNpYyB0b2tlbg0KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gDQogKi8NCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYywgT3duYWJsZSB7DQogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7DQoNCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQoNCiAgICAvKioNCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MNCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uDQogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuDQogICAgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsNCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7DQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuDQogICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gDQogICAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLg0KICAgICovDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgfQ0KfQ0KDQovKioNCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbg0KICoNCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLg0KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wNCiAqLw0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KDQogICAgLyoqDQogICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXINCiAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20NCiAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bw0KICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZA0KICAgICovDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgew0KICAgICAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOw0KDQogICAgICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldA0KICAgICAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgdGhyb3c7DQoNCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7DQogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsNCiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOw0KICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4NCiAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4NCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuDQogICAgKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSB7DQoNCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2ANCiAgICAgICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QNCiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6DQogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQ0KICAgICAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHRocm93Ow0KDQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4NCiAgICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4NCiAgICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLg0KICAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLg0KICAgICovDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgew0KICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgICB9DQoNCn0NCg0KLyoqDQogKiBAdGl0bGUgVEtSUFRva2VuDQogKiBAZGV2IFZlcnkgc2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdoZXJlIGFsbCB0b2tlbnMgYXJlIHByZS1hc3NpZ25lZCB0byB0aGUgY3JlYXRvci4gDQogKiBOb3RlIHRoZXkgY2FuIGxhdGVyIGRpc3RyaWJ1dGUgdGhlc2UgdG9rZW5zIGFzIHRoZXkgd2lzaCB1c2luZyBgdHJhbnNmZXJgIGFuZCBvdGhlcg0KICogYFN0YW5kYXJkVG9rZW5gIGZ1bmN0aW9ucy4NCiAqLw0KY29udHJhY3QgVEtSUFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gew0KICAgIGV2ZW50IERlc3Ryb3koYWRkcmVzcyBpbmRleGVkIF9mcm9tKTsNCg0KICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJUS1JQVG9rZW4iOw0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlRLUlAiOw0KICAgIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gMTg7DQogICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFN1cHBseSA9IDUwMDAwMDsNCg0KICAgIC8qKg0KICAgICogQGRldiBDb250cnVjdG9yIHRoYXQgZ2l2ZXMgdGhlIHNlbmRlciBhbGwgdG9rZW5zDQogICAgKi8NCiAgICBmdW5jdGlvbiBUS1JQVG9rZW4oKSB7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5Ow0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQGRldiBEZXN0cm95cyB0b2tlbnMgZnJvbSBhbiBhZGRyZXNzLCB0aGlzIHByb2Nlc3MgaXMgaXJyZWNvdmVyYWJsZS4NCiAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0byBkZXN0cm95IHRoZSB0b2tlbnMgZnJvbS4NCiAgICAqLw0KICAgIGZ1bmN0aW9uIGRlc3Ryb3lGcm9tKGFkZHJlc3MgX2Zyb20pIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7DQogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IGJhbGFuY2VPZihfZnJvbSk7DQogICAgICAgIGlmIChiYWxhbmNlID09IDApIHRocm93Ow0KDQogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IDA7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKGJhbGFuY2UpOw0KDQogICAgICAgIERlc3Ryb3koX2Zyb20pOw0KICAgIH0NCn0NCg0KLyoqDQogKiBAdGl0bGUgUHJlQ3Jvd2RzYWxlDQogKiBAZGV2IFNtYXJ0IGNvbnRyYWN0IHdoaWNoIGNvbGxlY3RzIEVUSCBhbmQgaW4gcmV0dXJuIHRyYW5zZmVycyB0aGUgVEtSUFRva2VuIHRvIHRoZSBjb250cmlidXRvcnMNCiAqIExvZyBldmVudHMgYXJlIGVtaXR0ZWQgZm9yIGVhY2ggdHJhbnNhY3Rpb24gDQogKi8NCmNvbnRyYWN0IFByZUNyb3dkc2FsZSBpcyBPd25hYmxlIHsNCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsNCg0KICAgIC8qIENvbnN0YW50cyAqLw0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX0NBUCA9IDUwMDAwMDsNCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNSU5JTVVNX0NPTlRSSUJVVElPTiA9IDEwIGZpbm5leTsNCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTlNfUEVSX0VUSEVSID0gMTAwMDA7DQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFX0NST1dEU0FMRV9EVVJBVElPTiA9IDUgZGF5czsNCg0KICAgIC8qIFB1YmxpYyBWYXJpYWJsZXMgKi8NCiAgICBUS1JQVG9rZW4gcHVibGljIHRva2VuOw0KICAgIGFkZHJlc3MgcHVibGljIHByZUNyb3dkc2FsZU93bmVyOw0KICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1NlbnQ7DQogICAgdWludDI1NiBwdWJsaWMgcHJlQ3Jvd2RzYWxlU3RhcnRUaW1lOw0KICAgIHVpbnQyNTYgcHVibGljIHByZUNyb3dkc2FsZUVuZFRpbWU7DQogICAgYm9vbCBwdWJsaWMgY3Jvd2RTYWxlSXNSdW5uaW5nID0gZmFsc2U7DQoNCiAgICAvKioNCiAgICAqIEBkZXYgRmFsbGJhY2sgZnVuY3Rpb24gd2hpY2ggaW52b2tlcyB0aGUgcHJvY2Vzc0NvbnRyaWJ1dGlvbiBmdW5jdGlvbg0KICAgICogQHBhcmFtIF90b2tlbkFkZHJlc3MgVEtSUCBUb2tlbiBhZGRyZXNzDQogICAgKiBAcGFyYW0gX3RvIHByZUNyb3dkc2FsZSBvd25lciBhZGRyZXNzDQogICAgKi8NCiAgICBmdW5jdGlvbiBQcmVDcm93ZHNhbGUoYWRkcmVzcyBfdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF90bykgew0KICAgICAgICB0b2tlbiA9IFRLUlBUb2tlbihfdG9rZW5BZGRyZXNzKTsNCiAgICAgICAgcHJlQ3Jvd2RzYWxlT3duZXIgPSBfdG87DQogICAgfQ0KDQogICAgLyoqDQogICAgKiBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGludm9rZXMgdGhlIHByb2Nlc3NDb250cmlidXRpb24gZnVuY3Rpb24NCiAgICAqLw0KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7DQogICAgICAgIGlmICghY3Jvd2RTYWxlSXNSdW5uaW5nKSB0aHJvdzsNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IE1JTklNVU1fQ09OVFJJQlVUSU9OKSB0aHJvdzsNCg0KICAgICAgICB1aW50MjU2IGNvbnRyaWJ1dGlvbkluVG9rZW5zID0gbXNnLnZhbHVlLm11bChUT0tFTlNfUEVSX0VUSEVSKS5kaXYoMSBldGhlcik7DQogICAgICAgIGlmIChjb250cmlidXRpb25JblRva2Vucy5hZGQodG9rZW5zU2VudCkgPiBUT0tFTl9DQVApIHRocm93OyANCg0KICAgICAgICAvKiBTZW5kIHRoZSB0b2tlbnMgKi8NCiAgICAgICAgdG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgY29udHJpYnV0aW9uSW5Ub2tlbnMpOw0KICAgICAgICB0b2tlbnNTZW50ID0gdG9rZW5zU2VudC5hZGQoY29udHJpYnV0aW9uSW5Ub2tlbnMpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQGRldiBTdGFydHMgdGhlIHByZUNyb3dkc2FsZQ0KICAgICovDQogICAgZnVuY3Rpb24gc3RhcnQoKSBvbmx5T3duZXIgew0KICAgICAgICBpZiAocHJlQ3Jvd2RzYWxlU3RhcnRUaW1lICE9IDApIHRocm93Ow0KDQogICAgICAgIGNyb3dkU2FsZUlzUnVubmluZyA9IHRydWU7DQogICAgICAgIHByZUNyb3dkc2FsZVN0YXJ0VGltZSA9IG5vdzsgICAgICAgICAgICANCiAgICAgICAgcHJlQ3Jvd2RzYWxlRW5kVGltZSA9IG5vdyArIFBSRV9DUk9XRFNBTEVfRFVSQVRJT047ICAgIA0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQGRldiBBIGJhY2t1cCBmYWlsLXNhZmUgZHJhaW4gaWYgcmVxdWlyZWQNCiAgICAqLw0KICAgIGZ1bmN0aW9uIGRyYWluKCkgb25seU93bmVyIHsNCiAgICAgICAgaWYgKCFwcmVDcm93ZHNhbGVPd25lci5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93Ow0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQGRldiBGaW5hbGl6ZXMgdGhlIHByZUNyb3dkc2FsZSBhbmQgc2VuZHMgZnVuZHMNCiAgICAqLw0KICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgb25seU93bmVyIHsNCiAgICAgICAgaWYgKChwcmVDcm93ZHNhbGVTdGFydFRpbWUgPT0gMCB8fCBub3cgPCBwcmVDcm93ZHNhbGVFbmRUaW1lKSAmJiB0b2tlbnNTZW50ICE9IFRPS0VOX0NBUCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIXByZUNyb3dkc2FsZU93bmVyLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7DQogICAgICAgIGNyb3dkU2FsZUlzUnVubmluZyA9IGZhbHNlOw0KICAgIH0NCn0='