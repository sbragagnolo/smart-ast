base 64 content
base64presale3
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KDQpjb250cmFjdCBQcmVzYWxlIHsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlczsNCiAgICB1aW50IHB1YmxpYyB0cmFuc2ZlcmVkX3RvdGFsID0gMDsNCiAgICANCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBtaW5fZ29hbF9hbW91bnQgPSA1IGV0aGVyOw0KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IG1heF9nb2FsX2Ftb3VudCA9IDEwIGV0aGVyOw0KICAgIA0KICAgIC8vIFZlZ2EgRnVuZCBSb3VuZCBBIEFkZHJlc3MNCiAgICBhZGRyZXNzIHB1YmxpYyBwcm9qZWN0X3dhbGxldDsNCg0KICAgIHVpbnQgcHVibGljIHByZXNhbGVfc3RhcnRfYmxvY2s7DQogICAgdWludCBwdWJsaWMgcHJlc2FsZV9lbmRfYmxvY2s7DQogICAgDQogICAgLy8gZXN0LiBvZiBibG9ja3MgY291bnQgaW4gMSBtb250aA0KICAgIC8vIEJhc2VkIG9uIDEgYmxvY2sgZXZlcnkgMTcgc2Vjb25kcywgMzAgZGF5cyB3b3VsZCBwcm9kdWNlIH4xNTIsNDcxDQogICAgLy8gSnVzdCBmb3IgYWxsb3dpbmcgZm9yIHNvbWUgYWRkaXRpb25hbCB0aW1lIHJvdW5kIHRvIDE1MywwMDANCiAgICB1aW50IGNvbnN0YW50IGJsb2Nrc19pbl9vbmVfbW9udGhzID0gMTAwOw0KICAgIA0KICAgIC8vIGJsb2NrIG51bWJlciBvZiB0aGUgZW5kIG9mIHJlZnVuZCB3aW5kb3csIA0KICAgIC8vIHdoaWNoIHdpbGwgb2NjdXIgaW4gdGhlIGVuZCBvZiAxIG1vbnRoIGFmdGVyIHByZXNhbGUNCiAgICB1aW50IHB1YmxpYyByZWZ1bmRfd2luZG93X2VuZF9ibG9jazsNCiAgICANCiAgICBmdW5jdGlvbiBQcmVzYWxlKHVpbnQgX3N0YXJ0X2Jsb2NrLCB1aW50IF9lbmRfYmxvY2ssIGFkZHJlc3MgX3Byb2plY3Rfd2FsbGV0KSB7DQogICAgICAgIGlmIChfc3RhcnRfYmxvY2sgPD0gYmxvY2subnVtYmVyKSB0aHJvdzsNCiAgICAgICAgaWYgKF9lbmRfYmxvY2sgPD0gX3N0YXJ0X2Jsb2NrKSB0aHJvdzsNCiAgICAgICAgaWYgKF9wcm9qZWN0X3dhbGxldCA9PSAwKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIHByZXNhbGVfc3RhcnRfYmxvY2sgPSBfc3RhcnRfYmxvY2s7DQogICAgICAgIHByZXNhbGVfZW5kX2Jsb2NrID0gX2VuZF9ibG9jazsNCiAgICAgICAgcHJvamVjdF93YWxsZXQgPSBfcHJvamVjdF93YWxsZXQ7DQoJcmVmdW5kX3dpbmRvd19lbmRfYmxvY2sgPSBwcmVzYWxlX2VuZF9ibG9jayArIGJsb2Nrc19pbl9vbmVfbW9udGhzOw0KICAgIH0NCgkNCiAgICBmdW5jdGlvbiBoYXNfcHJlc2FsZV9zdGFydGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7DQoJcmV0dXJuIGJsb2NrLm51bWJlciA+PSBwcmVzYWxlX3N0YXJ0X2Jsb2NrOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBoYXNfcHJlc2FsZV90aW1lX2VuZGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7DQogICAgICAgIHJldHVybiBibG9jay5udW1iZXIgPiBwcmVzYWxlX2VuZF9ibG9jazsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gaXNfbWluX2dvYWxfcmVhY2hlZCgpIHByaXZhdGUgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICByZXR1cm4gdHJhbnNmZXJlZF90b3RhbCA+PSBtaW5fZ29hbF9hbW91bnQ7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGlzX21heF9nb2FsX3JlYWNoZWQoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIHRyYW5zZmVyZWRfdG90YWwgPj0gbWF4X2dvYWxfYW1vdW50Ow0KICAgIH0NCiAgICANCiAgICAvLyBBY2NlcHQgRVRIIHdoaWxlIHByZXNhbGUgaXMgYWN0aXZlIG9yIHVudGlsIG1heGltdW0gZ29hbCBpcyByZWFjaGVkLg0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KCS8vIGNoZWNrIGlmIHByZXNhbGUgaGFzIHN0YXJ0ZWQNCiAgICAgICAgaWYgKCFoYXNfcHJlc2FsZV9zdGFydGVkKCkpIHRocm93Ow0KCSAgICANCgkvLyBjaGVjayBpZiBwcmVzYWxlIGRhdGUgaXMgbm90IG92ZXINCglpZiAoaGFzX3ByZXNhbGVfdGltZV9lbmRlZCgpKSB0aHJvdzsNCgkgICAgDQoJLy8gZG9uYHQgYWNjZXB0IHRyYW5zYWN0aW9ucyB3aXRoIHplcm8gdmFsdWUNCglpZiAobXNnLnZhbHVlID09IDApIHRocm93Ow0KDQogICAgICAgIC8vIGNoZWNrIGlmIG1heCBnb2FsIGlzIG5vdCByZWFjaGVkDQoJaWYgKGlzX21heF9nb2FsX3JlYWNoZWQoKSkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBpZiAodHJhbnNmZXJlZF90b3RhbCArIG1zZy52YWx1ZSA+IG1heF9nb2FsX2Ftb3VudCkgew0KICAgICAgICAgICAgLy8gcmV0dXJuIGNoYW5nZQ0KCSAgICB2YXIgY2hhbmdlX3RvX3JldHVybiA9IHRyYW5zZmVyZWRfdG90YWwgKyBtc2cudmFsdWUgLSBtYXhfZ29hbF9hbW91bnQ7DQoJICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGNoYW5nZV90b19yZXR1cm4pKSB0aHJvdzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdmFyIHRvX2FkZCA9IG1heF9nb2FsX2Ftb3VudCAtIHRyYW5zZmVyZWRfdG90YWw7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b19hZGQ7DQoJICAgIHRyYW5zZmVyZWRfdG90YWwgKz0gdG9fYWRkOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gc2V0IGRhdGENCgkgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOw0KCSAgICB0cmFuc2ZlcmVkX3RvdGFsICs9IG1zZy52YWx1ZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBUcmFuc2ZlciBFVEggdG8gVmVnYSBSb3VuZCBBIGFkZHJlc3MsIGFzIHNvb24gYXMgbWluaW11bSBnb2FsIGlzIHJlYWNoZWQuDQogICAgZnVuY3Rpb24gdHJhbnNmZXJfZnVuZHNfdG9fcHJvamVjdCgpIHsNCiAgICAgICAgaWYgKCFpc19taW5fZ29hbF9yZWFjaGVkKCkpIHRocm93Ow0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93Ow0KICAgICAgICANCiAgICAgICAgLy8gdHJhbnNmZXIgZXRoZXJzIHRvIFZlZ2EgUm91bmQgQSBhZGRyZXNzDQogICAgICAgIGlmICghcHJvamVjdF93YWxsZXQuc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsNCiAgICB9DQogICAgDQogICAgLy8gUmVmdW5kIEVUSCBpbiBjYXNlIG1pbmltdW0gZ29hbCB3YXMgbm90IHJlYWNoZWQgZHVyaW5nIHByZXNhbGUuDQogICAgLy8gUmVmdW5kIHdpbGwgYmUgYXZhaWxhYmxlIGZvciBvbmUgbW9udGggd2luZG93IGFmdGVyIHByZXNhbGUuDQogICAgZnVuY3Rpb24gcmVmdW5kKCkgew0KICAgICAgICBpZiAoIWhhc19wcmVzYWxlX3RpbWVfZW5kZWQoKSkgdGhyb3c7DQogICAgICAgIGlmIChpc19taW5fZ29hbF9yZWFjaGVkKCkpIHRocm93Ow0KICAgICAgICBpZiAoYmxvY2subnVtYmVyID4gcmVmdW5kX3dpbmRvd19lbmRfYmxvY2spIHRocm93Ow0KICAgICAgICANCiAgICAgICAgdmFyIGFtb3VudCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOw0KICAgICAgICAvLyBjaGVjayBpZiBzZW5kZXIgaGFzIGJhbGFuY2UNCiAgICAgICAgaWYgKGFtb3VudCA9PSAwKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIC8vIHJlc2V0IGJhbGFuY2UNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOw0KICAgICAgICANCiAgICAgICAgLy8gYWN0dWFsIHJlZnVuZA0KICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChhbW91bnQpKSB0aHJvdzsNCiAgICB9DQogICAgDQogICAgLy8gSW4gY2FzZSBhbnkgRVRIIGhhcyBsZWZ0IHVuY2xhaW1lZCBhZnRlciBvbmUgbW9udGggd2luZG93LCBzZW5kIHRoZW0gdG8gVmVnYSBSb3VuZCBBIGFkZHJlc3MuDQogICAgZnVuY3Rpb24gdHJhbnNmZXJfbGVmdF9mdW5kc190b19wcm9qZWN0KCkgew0KICAgICAgICBpZiAoIWhhc19wcmVzYWxlX3RpbWVfZW5kZWQoKSkgdGhyb3c7DQogICAgICAgIGlmIChpc19taW5fZ29hbF9yZWFjaGVkKCkpIHRocm93Ow0KICAgICAgICBpZiAoYmxvY2subnVtYmVyIDw9IHJlZnVuZF93aW5kb3dfZW5kX2Jsb2NrKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPT0gMCkgdGhyb3c7DQogICAgICAgIC8vIHRyYW5zZmVyIGxlZnQgRVRIIHRvIFZlZ2EgUm91bmQgQSBhZGRyZXNzDQogICAgICAgIGlmICghcHJvamVjdF93YWxsZXQuc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsNCiAgICB9DQp9'