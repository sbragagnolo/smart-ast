base 64 content
base64presale32
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KDQpjb250cmFjdCBQcmVzYWxlIHsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlczsNCiAgICB1aW50IHB1YmxpYyB0cmFuc2ZlcmVkX3RvdGFsID0gMDsNCiAgICANCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBtaW5fZ29hbF9hbW91bnQgPSAyMDAwIGV0aGVyOw0KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IG1heF9nb2FsX2Ftb3VudCA9IDYwMDAgZXRoZXI7DQogICAgDQogICAgLy8gTXlzdGVyaXVtIHByb2plY3Qgd2FsbGV0DQogICAgYWRkcmVzcyBwdWJsaWMgcHJvamVjdF93YWxsZXQ7DQoNCiAgICB1aW50IHB1YmxpYyBwcmVzYWxlX3N0YXJ0X2Jsb2NrOw0KICAgIHVpbnQgcHVibGljIHByZXNhbGVfZW5kX2Jsb2NrOw0KICAgIA0KICAgIC8vIGFwcHJveGltYXRlIGJsb2NrcyBjb3VudCBpbiAyIG1vbnRocyANCiAgICB1aW50IGNvbnN0YW50IGJsb2Nrc19pbl90d29fbW9udGhzID0gMzUxNTU4Ow0KICAgIA0KICAgIC8vIGJsb2NrIG51bWJlciBvZiB0aGUgZW5kIG9mIHJlZnVuZCB3aW5kb3csIA0KICAgIC8vIHdoaWNoIHdpbGwgb2NjdXIgaW4gdGhlIGVuZCBvZiAyIG1vbnRocyBhZnRlciBwcmVzYWxlDQogICAgdWludCBwdWJsaWMgcmVmdW5kX3dpbmRvd19lbmRfYmxvY2s7DQogICAgDQogICAgZnVuY3Rpb24gUHJlc2FsZSgvKnVpbnQgX3N0YXJ0X2Jsb2NrLCB1aW50IF9lbmRfYmxvY2ssIGFkZHJlc3MgX3Byb2plY3Rfd2FsbGV0Ki8pIHsNCiAgICAgICAgDQogICAgICAgIHVpbnQgX3N0YXJ0X2Jsb2NrID0gMjgxODYwMDsNCiAgICAgICAgdWludCBfZW5kX2Jsb2NrID0gMzE5MTAwMDsNCiAgICAgICAgYWRkcmVzcyBfcHJvamVjdF93YWxsZXQgPSAweDAwMjUxNWEyZmQ1QzlERGExZDQxMDlhRThCQkY5ZjczQTcwN0I3MmY7DQogICAgICAgIA0KICAgICAgICBpZiAoX3N0YXJ0X2Jsb2NrIDw9IGJsb2NrLm51bWJlcikgdGhyb3c7DQogICAgICAgIGlmIChfZW5kX2Jsb2NrIDw9IF9zdGFydF9ibG9jaykgdGhyb3c7DQogICAgICAgIGlmIChfcHJvamVjdF93YWxsZXQgPT0gMCkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBwcmVzYWxlX3N0YXJ0X2Jsb2NrID0gX3N0YXJ0X2Jsb2NrOw0KICAgICAgICBwcmVzYWxlX2VuZF9ibG9jayA9IF9lbmRfYmxvY2s7DQogICAgICAgIHByb2plY3Rfd2FsbGV0ID0gX3Byb2plY3Rfd2FsbGV0Ow0KCQlyZWZ1bmRfd2luZG93X2VuZF9ibG9jayA9IHByZXNhbGVfZW5kX2Jsb2NrICsgYmxvY2tzX2luX3R3b19tb250aHM7DQoJfQ0KCQ0KCWZ1bmN0aW9uIGhhc19wcmVzYWxlX3N0YXJ0ZWQoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsNCgkgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+PSBwcmVzYWxlX3N0YXJ0X2Jsb2NrOw0KCX0NCiAgICANCiAgICBmdW5jdGlvbiBoYXNfcHJlc2FsZV90aW1lX2VuZGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7DQogICAgICAgIHJldHVybiBibG9jay5udW1iZXIgPiBwcmVzYWxlX2VuZF9ibG9jazsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gaXNfbWluX2dvYWxfcmVhY2hlZCgpIHByaXZhdGUgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICByZXR1cm4gdHJhbnNmZXJlZF90b3RhbCA+PSBtaW5fZ29hbF9hbW91bnQ7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGlzX21heF9nb2FsX3JlYWNoZWQoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIHRyYW5zZmVyZWRfdG90YWwgPj0gbWF4X2dvYWxfYW1vdW50Ow0KICAgIH0NCiAgICANCiAgICAvLyBBY2NlcHQgRVRIIHdoaWxlIHByZXNhbGUgaXMgYWN0aXZlIG9yIHVudGlsIG1heGltdW0gZ29hbCBpcyByZWFjaGVkLg0KCWZ1bmN0aW9uICgpIHBheWFibGUgew0KCSAgICAvLyBjaGVjayBpZiBwcmVzYWxlIGhhcyBzdGFydGVkDQogICAgICAgIGlmICghaGFzX3ByZXNhbGVfc3RhcnRlZCgpKSB0aHJvdzsNCgkgICAgDQoJICAgIC8vIGNoZWNrIGlmIHByZXNhbGUgZGF0ZSBpcyBub3Qgb3Zlcg0KCSAgICBpZiAoaGFzX3ByZXNhbGVfdGltZV9lbmRlZCgpKSB0aHJvdzsNCgkgICAgDQoJICAgIC8vIGRvbmB0IGFjY2VwdCB0cmFuc2FjdGlvbnMgd2l0aCB6ZXJvIHZhbHVlDQoJICAgIGlmIChtc2cudmFsdWUgPT0gMCkgdGhyb3c7DQoNCiAgICAgICAgLy8gY2hlY2sgaWYgbWF4IGdvYWwgaXMgbm90IHJlYWNoZWQNCgkgICAgaWYgKGlzX21heF9nb2FsX3JlYWNoZWQoKSkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBpZiAodHJhbnNmZXJlZF90b3RhbCArIG1zZy52YWx1ZSA+IG1heF9nb2FsX2Ftb3VudCkgew0KICAgICAgICAgICAgLy8gcmV0dXJuIGNoYW5nZQ0KCSAgICAgICAgdmFyIGNoYW5nZV90b19yZXR1cm4gPSB0cmFuc2ZlcmVkX3RvdGFsICsgbXNnLnZhbHVlIC0gbWF4X2dvYWxfYW1vdW50Ow0KCSAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoY2hhbmdlX3RvX3JldHVybikpIHRocm93Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICB2YXIgdG9fYWRkID0gbWF4X2dvYWxfYW1vdW50IC0gdHJhbnNmZXJlZF90b3RhbDsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHRvX2FkZDsNCgkgICAgICAgIHRyYW5zZmVyZWRfdG90YWwgKz0gdG9fYWRkOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gc2V0IGRhdGENCgkgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCgkgICAgICAgIHRyYW5zZmVyZWRfdG90YWwgKz0gbXNnLnZhbHVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIFRyYW5zZmVyIEVUSCB0byBNeXN0ZXJpdW0gcHJvamVjdCB3YWxsZXQsIGFzIHNvb24gYXMgbWluaW11bSBnb2FsIGlzIHJlYWNoZWQuDQogICAgZnVuY3Rpb24gdHJhbnNmZXJfZnVuZHNfdG9fcHJvamVjdCgpIHsNCiAgICAgICAgaWYgKCFpc19taW5fZ29hbF9yZWFjaGVkKCkpIHRocm93Ow0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93Ow0KICAgICAgICANCiAgICAgICAgLy8gdHJhbnNmZXIgZXRoZXJzIHRvIE15c3Rlcml1bSBwcm9qZWN0IHdhbGxldA0KICAgICAgICBpZiAoIXByb2plY3Rfd2FsbGV0LnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7DQogICAgfQ0KICAgIA0KICAgIC8vIFJlZnVuZCBFVEggaW4gY2FzZSBtaW5pbXVtIGdvYWwgd2FzIG5vdCByZWFjaGVkIGR1cmluZyBwcmVzYWxlLg0KICAgIC8vIFJlZnVuZCB3aWxsIGJlIGF2YWlsYWJsZSBmb3IgdHdvIG1vbnRocyB3aW5kb3cgYWZ0ZXIgcHJlc2FsZS4NCiAgICBmdW5jdGlvbiByZWZ1bmQoKSB7DQogICAgICAgIGlmICghaGFzX3ByZXNhbGVfdGltZV9lbmRlZCgpKSB0aHJvdzsNCiAgICAgICAgaWYgKGlzX21pbl9nb2FsX3JlYWNoZWQoKSkgdGhyb3c7DQogICAgICAgIGlmIChibG9jay5udW1iZXIgPiByZWZ1bmRfd2luZG93X2VuZF9ibG9jaykgdGhyb3c7DQogICAgICAgIA0KICAgICAgICB2YXIgYW1vdW50ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07DQogICAgICAgIC8vIGNoZWNrIGlmIHNlbmRlciBoYXMgYmFsYW5jZQ0KICAgICAgICBpZiAoYW1vdW50ID09IDApIHRocm93Ow0KICAgICAgICANCiAgICAgICAgLy8gcmVzZXQgYmFsYW5jZQ0KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7DQogICAgICAgIA0KICAgICAgICAvLyBhY3R1YWwgcmVmdW5kDQogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGFtb3VudCkpIHRocm93Ow0KICAgIH0NCiAgICANCiAgICAvLyBJbiBjYXNlIGFueSBFVEggaGFzIGxlZnQgdW5jbGFpbWVkIGFmdGVyIHR3byBtb250aHMgd2luZG93LCBzZW5kIHRoZW0gdG8gTXlzdGVyaXVtIHByb2plY3Qgd2FsbGV0Lg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyX2xlZnRfZnVuZHNfdG9fcHJvamVjdCgpIHsNCiAgICAgICAgaWYgKCFoYXNfcHJlc2FsZV90aW1lX2VuZGVkKCkpIHRocm93Ow0KICAgICAgICBpZiAoaXNfbWluX2dvYWxfcmVhY2hlZCgpKSB0aHJvdzsNCiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8PSByZWZ1bmRfd2luZG93X2VuZF9ibG9jaykgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93Ow0KICAgICAgICAvLyB0cmFuc2ZlciBsZWZ0IEVUSCB0byBNeXN0ZXJpdW0gcHJvamVjdCB3YWxsZXQNCiAgICAgICAgaWYgKCFwcm9qZWN0X3dhbGxldC5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93Ow0KICAgIH0NCn0='