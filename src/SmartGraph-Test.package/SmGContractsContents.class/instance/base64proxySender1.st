base 64 content
base64proxySender1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC40Ow0KDQpjb250cmFjdCBEdXRjaEF1Y3Rpb25JbnRlcmZhY2Ugew0KICAgIGZ1bmN0aW9uIGJpZChhZGRyZXNzIHJlY2VpdmVyKSBwYXlhYmxlIHJldHVybnMgKHVpbnQpOw0KICAgIGZ1bmN0aW9uIGNsYWltVG9rZW5zKGFkZHJlc3MgcmVjZWl2ZXIpOw0KICAgIGZ1bmN0aW9uIHN0YWdlKCkgcmV0dXJucyAodWludCk7DQogICAgVG9rZW5JbnRlcmZhY2UgcHVibGljIGdub3Npc1Rva2VuOw0KfQ0KDQoNCmNvbnRyYWN0IFRva2VuSW50ZXJmYWNlIHsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOw0KfQ0KDQoNCmNvbnRyYWN0IFByb3h5U2VuZGVyIHsNCg0KICAgIGV2ZW50IEJpZFN1Ym1pc3Npb24oYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludDI1NiBhbW91bnQpOw0KICAgIGV2ZW50IFJlZnVuZFN1Ym1pc3Npb24oYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludDI1NiBhbW91bnQpOw0KICAgIGV2ZW50IFJlZnVuZFJlY2VpdmVkKHVpbnQyNTYgYW1vdW50KTsNCg0KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEFVQ1RJT05fU1RBUlRFRCA9IDI7DQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVFJBRElOR19TVEFSVEVEID0gNDsNCg0KICAgIER1dGNoQXVjdGlvbkludGVyZmFjZSBwdWJsaWMgZHV0Y2hBdWN0aW9uOw0KICAgIFRva2VuSW50ZXJmYWNlIHB1YmxpYyBnbm9zaXNUb2tlbjsNCiAgICB1aW50IHB1YmxpYyB0b3RhbENvbnRyaWJ1dGlvbnM7DQogICAgdWludCBwdWJsaWMgdG90YWxUb2tlbnM7DQogICAgdWludCBwdWJsaWMgdG90YWxCYWxhbmNlOw0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGNvbnRyaWJ1dGlvbnM7DQogICAgU3RhZ2VzIHB1YmxpYyBzdGFnZTsNCg0KICAgIGVudW0gU3RhZ2VzIHsNCiAgICAgICAgQ29udHJpYnV0aW9uc0NvbGxlY3Rpb24sDQogICAgICAgIENvbnRyaWJ1dGlvbnNTZW50LA0KICAgICAgICBUb2tlbnNDbGFpbWVkDQogICAgfQ0KDQogICAgbW9kaWZpZXIgYXRTdGFnZShTdGFnZXMgX3N0YWdlKSB7DQogICAgICAgIGlmIChzdGFnZSAhPSBfc3RhZ2UpDQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBQcm94eVNlbmRlcihhZGRyZXNzIF9kdXRjaEF1Y3Rpb24pDQogICAgICAgIHB1YmxpYw0KICAgIHsNCiAgICAgICAgaWYgKF9kdXRjaEF1Y3Rpb24gPT0gMCkgdGhyb3c7DQogICAgICAgIGR1dGNoQXVjdGlvbiA9IER1dGNoQXVjdGlvbkludGVyZmFjZShfZHV0Y2hBdWN0aW9uKTsNCiAgICAgICAgZ25vc2lzVG9rZW4gPSBkdXRjaEF1Y3Rpb24uZ25vc2lzVG9rZW4oKTsNCiAgICAgICAgaWYgKGFkZHJlc3MoZ25vc2lzVG9rZW4pID09IDApIHRocm93Ow0KICAgICAgICBzdGFnZSA9IFN0YWdlcy5Db250cmlidXRpb25zQ29sbGVjdGlvbjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbigpDQogICAgICAgIHB1YmxpYw0KICAgICAgICBwYXlhYmxlDQogICAgew0KICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBhZGRyZXNzKGR1dGNoQXVjdGlvbikpDQogICAgICAgICAgICBSZWZ1bmRSZWNlaXZlZChtc2cudmFsdWUpOw0KICAgICAgICBlbHNlIGlmIChzdGFnZSA9PSBTdGFnZXMuQ29udHJpYnV0aW9uc0NvbGxlY3Rpb24pDQogICAgICAgICAgICBjb250cmlidXRlKCk7DQogICAgICAgIGVsc2UgaWYoc3RhZ2UgPT0gU3RhZ2VzLlRva2Vuc0NsYWltZWQpDQogICAgICAgICAgICB0cmFuc2ZlcigpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICB0aHJvdzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkNCiAgICAgICAgcHVibGljDQogICAgICAgIHBheWFibGUNCiAgICAgICAgYXRTdGFnZShTdGFnZXMuQ29udHJpYnV0aW9uc0NvbGxlY3Rpb24pDQogICAgew0KICAgICAgICBjb250cmlidXRpb25zW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsNCiAgICAgICAgdG90YWxDb250cmlidXRpb25zICs9IG1zZy52YWx1ZTsNCiAgICAgICAgQmlkU3VibWlzc2lvbihtc2cuc2VuZGVyLCBtc2cudmFsdWUpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHJlZnVuZCgpDQogICAgICAgIHB1YmxpYw0KICAgICAgICBhdFN0YWdlKFN0YWdlcy5Db250cmlidXRpb25zQ29sbGVjdGlvbikNCiAgICB7DQogICAgICAgIHVpbnQgY29udHJpYnV0aW9uID0gY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXTsNCiAgICAgICAgY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSA9IDA7DQogICAgICAgIHRvdGFsQ29udHJpYnV0aW9ucyAtPSBjb250cmlidXRpb247DQogICAgICAgIFJlZnVuZFN1Ym1pc3Npb24obXNnLnNlbmRlciwgY29udHJpYnV0aW9uKTsNCiAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoY29udHJpYnV0aW9uKSkgdGhyb3c7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYmlkUHJveHkoKQ0KICAgICAgICBwdWJsaWMNCiAgICAgICAgYXRTdGFnZShTdGFnZXMuQ29udHJpYnV0aW9uc0NvbGxlY3Rpb24pDQogICAgICAgIHJldHVybnMoYm9vbCkNCiAgICB7DQogICAgICAgIC8vIENoZWNrIGF1Y3Rpb24gaGFzIHN0YXJ0ZWQNCiAgICAgICAgaWYgKGR1dGNoQXVjdGlvbi5zdGFnZSgpICE9IEFVQ1RJT05fU1RBUlRFRCkNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAvLyBTZW5kIGFsbCBtb25leSB0byBhdWN0aW9uIGNvbnRyYWN0DQogICAgICAgIHN0YWdlID0gU3RhZ2VzLkNvbnRyaWJ1dGlvbnNTZW50Ow0KICAgICAgICBkdXRjaEF1Y3Rpb24uYmlkLnZhbHVlKHRoaXMuYmFsYW5jZSkoMCk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNsYWltUHJveHkoKQ0KICAgICAgICBwdWJsaWMNCiAgICAgICAgYXRTdGFnZShTdGFnZXMuQ29udHJpYnV0aW9uc1NlbnQpDQogICAgew0KICAgICAgICAvLyBBdWN0aW9uIGlzIG92ZXINCiAgICAgICAgaWYgKGR1dGNoQXVjdGlvbi5zdGFnZSgpICE9IFRSQURJTkdfU1RBUlRFRCkNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICBkdXRjaEF1Y3Rpb24uY2xhaW1Ub2tlbnMoMCk7DQogICAgICAgIHRvdGFsVG9rZW5zID0gZ25vc2lzVG9rZW4uYmFsYW5jZU9mKHRoaXMpOw0KICAgICAgICB0b3RhbEJhbGFuY2UgPSB0aGlzLmJhbGFuY2U7DQogICAgICAgIHN0YWdlID0gU3RhZ2VzLlRva2Vuc0NsYWltZWQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoKQ0KICAgICAgICBwdWJsaWMNCiAgICAgICAgYXRTdGFnZShTdGFnZXMuVG9rZW5zQ2xhaW1lZCkNCiAgICAgICAgcmV0dXJucyAodWludCBhbW91bnQpDQogICAgew0KICAgICAgICB1aW50IGNvbnRyaWJ1dGlvbiA9IGNvbnRyaWJ1dGlvbnNbbXNnLnNlbmRlcl07DQogICAgICAgIGNvbnRyaWJ1dGlvbnNbbXNnLnNlbmRlcl0gPSAwOw0KICAgICAgICAvLyBDYWxjLiBwZXJjZW50YWdlIG9mIHRva2VucyBmb3Igc2VuZGVyDQogICAgICAgIGFtb3VudCA9IHRvdGFsVG9rZW5zICogY29udHJpYnV0aW9uIC8gdG90YWxDb250cmlidXRpb25zOw0KICAgICAgICBnbm9zaXNUb2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpOw0KICAgICAgICAvLyBTZW5kIHBvc3NpYmxlIHJlZnVuZCBzaGFyZQ0KICAgICAgICB1aW50IHJlZnVuZCA9IHRvdGFsQmFsYW5jZSAqIGNvbnRyaWJ1dGlvbiAvIHRvdGFsQ29udHJpYnV0aW9uczsNCiAgICAgICAgaWYgKHJlZnVuZCA+IDApDQogICAgICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChyZWZ1bmQpKSB0aHJvdzsNCiAgICB9DQp9'