base 64 content
base64registrar8
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4wOw0KDQoNCmNvbnRyYWN0IFJlZ2lzdHJhciB7DQogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7DQoNCiAgICBmdW5jdGlvbiBSZWdpc3RyYXIoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5b3duZXIgeyBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7IF87IH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXIoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlvd25lciB7DQogICAgICAgIG93bmVyID0gbmV3T3duZXI7DQogICAgfQ0KDQogICAgUmVnaXN0cmFyIHB1YmxpYyBwYXJlbnQ7DQoNCiAgICBmdW5jdGlvbiBzZXRQYXJlbnQoYWRkcmVzcyBwYXJlbnRBZGRyZXNzKSBwdWJsaWMgb25seW93bmVyIHsNCiAgICAgICAgcGFyZW50ID0gUmVnaXN0cmFyKHBhcmVudEFkZHJlc3MpOw0KICAgIH0NCg0KICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gYnl0ZXMzMikgcmVjb3JkczsNCiAgICBtYXBwaW5nIChieXRlczMyID0+IHN0cmluZykgc3RyaW5nUmVjb3JkczsNCiAgICBtYXBwaW5nIChieXRlczMyID0+IGJvb2wpIHJlY29yZEV4aXN0czsNCg0KDQogICAgZnVuY3Rpb24gc2V0KHN0cmluZyBrZXksIGJ5dGVzMzIgdmFsdWUpIHB1YmxpYyBvbmx5b3duZXIgew0KICAgICAgICAvLyBDb21wdXRlIHRoZSBmaXhlZCBsZW5ndGgga2V5DQogICAgICAgIGJ5dGVzMzIgX2tleSA9IHNoYTMoa2V5KTsNCg0KICAgICAgICAvLyBTZXQgdGhlIHZhbHVlDQogICAgICAgIHJlY29yZHNbX2tleV0gPSB2YWx1ZTsNCiAgICAgICAgcmVjb3JkRXhpc3RzW19rZXldID0gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXQoc3RyaW5nIGtleSkgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMikgew0KICAgICAgICAvLyBDb21wdXRlIHRoZSBmaXhlZCBsZW5ndGgga2V5DQogICAgICAgIGJ5dGVzMzIgX2tleSA9IHNoYTMoa2V5KTsNCg0KICAgICAgICBpZiAoIXJlY29yZEV4aXN0c1tfa2V5XSkgew0KICAgICAgICAgICAgaWYgKGFkZHJlc3MocGFyZW50KSA9PSAweDApIHsNCiAgICAgICAgICAgICAgICAvLyBEbyByZXR1cm4gdW5zZXQga2V5cw0KICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBEZWxlZ2F0ZSB0byB0aGUgcGFyZW50Lg0KICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0KGtleSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gcmVjb3Jkc1tfa2V5XTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBleGlzdHMoc3RyaW5nIGtleSkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICAvLyBDb21wdXRlIHRoZSBmaXhlZCBsZW5ndGgga2V5DQogICAgICAgIGJ5dGVzMzIgX2tleSA9IHNoYTMoa2V5KTsNCg0KICAgICAgICByZXR1cm4gcmVjb3JkRXhpc3RzW19rZXldOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldEFkZHJlc3Moc3RyaW5nIGtleSwgYWRkcmVzcyB2YWx1ZSkgcHVibGljIG9ubHlvd25lciB7DQogICAgICAgIHNldChrZXksIGJ5dGVzMzIodmFsdWUpKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRBZGRyZXNzKHN0cmluZyBrZXkpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsNCiAgICAgICAgcmV0dXJuIGFkZHJlc3MoZ2V0KGtleSkpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldFVJbnQoc3RyaW5nIGtleSwgdWludCB2YWx1ZSkgcHVibGljIG9ubHlvd25lciB7DQogICAgICAgIHNldChrZXksIGJ5dGVzMzIodmFsdWUpKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRVSW50KHN0cmluZyBrZXkpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIHVpbnQoZ2V0KGtleSkpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldEludChzdHJpbmcga2V5LCBpbnQgdmFsdWUpIHB1YmxpYyBvbmx5b3duZXIgew0KICAgICAgICBzZXQoa2V5LCBieXRlczMyKHZhbHVlKSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0SW50KHN0cmluZyBrZXkpIGNvbnN0YW50IHJldHVybnMgKGludCkgew0KICAgICAgICByZXR1cm4gaW50KGdldChrZXkpKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZXRCb29sKHN0cmluZyBrZXksIGJvb2wgdmFsdWUpIHB1YmxpYyBvbmx5b3duZXIgew0KICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICAgIHNldChrZXksIGJ5dGVzMzIoMHgxKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBzZXQoa2V5LCBieXRlczMyKDB4MCkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Qm9vbChzdHJpbmcga2V5KSBjb25zdGFudCByZXR1cm5zIChib29sKSB7DQogICAgICAgIHJldHVybiBnZXQoa2V5KSAhPSBieXRlczMyKDB4MCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0U3RyaW5nKHN0cmluZyBrZXksIHN0cmluZyB2YWx1ZSkgcHVibGljIG9ubHlvd25lciB7DQogICAgICAgIGJ5dGVzMzIgdmFsdWVIYXNoID0gc2hhMyh2YWx1ZSk7DQogICAgICAgIHNldChrZXksIHZhbHVlSGFzaCk7DQogICAgICAgIHN0cmluZ1JlY29yZHNbdmFsdWVIYXNoXSA9IHZhbHVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFN0cmluZyhzdHJpbmcga2V5KSBwdWJsaWMgcmV0dXJucyAoc3RyaW5nKSB7DQogICAgICAgIGJ5dGVzMzIgdmFsdWVIYXNoID0gZ2V0KGtleSk7DQogICAgICAgIHJldHVybiBzdHJpbmdSZWNvcmRzW3ZhbHVlSGFzaF07DQogICAgfQ0KfQ=='