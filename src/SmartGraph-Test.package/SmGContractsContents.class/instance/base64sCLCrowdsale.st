base 64 content
base64sCLCrowdsale
	^'Y29udHJhY3QgVG9rZW4geyANCiAgICBmdW5jdGlvbiBpc3N1ZShhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9IA0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9DQogICAgZnVuY3Rpb24gdW5sb2NrKCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQ0KfQ0KDQpjb250cmFjdCBTQ0xDcm93ZHNhbGUgew0KDQogICAgLy8gQ3Jvd2RzYWxlIGRldGFpbHMNCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsgLy8gQ29tcGFueSBhZGRyZXNzIG11bHRpc2lnICg5NSUgZnVuZGluZykNCiAgICBhZGRyZXNzIHB1YmxpYyBjcmVhdG9yOyAvLyBDcmVhdG9yICg1JSBmdW5kaW5nKQ0KICAgIGFkZHJlc3MgcHVibGljIGNvbmZpcm1lZEJ5OyAvLyBBZGRyZXNzIHRoYXQgY29uZmlybWVkIGJlbmVmaWNpYXJ5DQogICAgdWludDI1NiBwdWJsaWMgbWluQW1vdW50ID0gMjk0IGV0aGVyOyAvLyDiiYggMjUwayBTQ0wNCiAgICB1aW50MjU2IHB1YmxpYyBtYXhBbW91bnQgPSAxMDAwMDAgZXRoZXI7IC8vIOKJiCA1MCBtbG4gU0NMDQogICAgdWludDI1NiBwdWJsaWMgbWF4U3VwcGx5ID0gNTAwMDAwMDAgKiAxMCoqODsgLy8gNTAgbWxuIFNDTA0KICAgIHVpbnQyNTYgcHVibGljIG1pbkFjY2VwdGVkQW1vdW50ID0gNDAgZmlubmV5OyAvLyAxLzI1IGV0aGVyDQoNCiAgICAvLyBFdGggdG8gU0NMIHJhdGUNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlUHJlSUNPID0gODUwOw0KICAgIHVpbnQyNTYgcHVibGljIHJhdGVXYWl0aW5nID0gMDsNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlQW5nZWxEYXkgPSA3NTA7DQogICAgdWludDI1NiBwdWJsaWMgcmF0ZUZpcnN0V2VlayA9IDcwMDsNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlU2Vjb25kV2VlayA9IDY1MDsNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlVGhpcmRXZWVrID0gNjAwOw0KICAgIHVpbnQyNTYgcHVibGljIHJhdGVMYXN0V2VlayA9IDU1MDsNCg0KICAgIHVpbnQyNTYgcHVibGljIHJhdGVQcmVJQ09FbmQgPSAxMCBkYXlzOw0KICAgIHVpbnQyNTYgcHVibGljIHJhdGVXYWl0aW5nRW5kID0gMjAgZGF5czsNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlQW5nZWxEYXlFbmQgPSAyMSBkYXlzOw0KICAgIHVpbnQyNTYgcHVibGljIHJhdGVGaXJzdFdlZWtFbmQgPSAyOCBkYXlzOw0KICAgIHVpbnQyNTYgcHVibGljIHJhdGVTZWNvbmRXZWVrRW5kID0gMzUgZGF5czsNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlVGhpcmRXZWVrRW5kID0gNDIgZGF5czsNCiAgICB1aW50MjU2IHB1YmxpYyByYXRlTGFzdFdlZWtFbmQgPSA0OSBkYXlzOw0KDQogICAgZW51bSBTdGFnZXMgew0KICAgICAgICBJblByb2dyZXNzLA0KICAgICAgICBFbmRlZCwNCiAgICAgICAgV2l0aGRyYXduDQogICAgfQ0KDQogICAgU3RhZ2VzIHB1YmxpYyBzdGFnZSA9IFN0YWdlcy5JblByb2dyZXNzOw0KDQogICAgLy8gQ3Jvd2RzYWxlIHN0YXRlDQogICAgdWludDI1NiBwdWJsaWMgc3RhcnQ7DQogICAgdWludDI1NiBwdWJsaWMgZW5kOw0KICAgIHVpbnQyNTYgcHVibGljIHJhaXNlZDsNCg0KICAgIC8vIFNDTCB0b2tlbg0KICAgIFRva2VuIHB1YmxpYyBzY2xUb2tlbjsNCg0KICAgIC8vIEludmVzdGVkIGJhbGFuY2VzDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCg0KDQogICAgLyoqDQogICAgICogVGhyb3cgaWYgYXQgc3RhZ2Ugb3RoZXIgdGhhbiBjdXJyZW50IHN0YWdlDQogICAgICogDQogICAgICogQHBhcmFtIF9zdGFnZSBleHBlY3RlZCBzdGFnZSB0byB0ZXN0IGZvcg0KICAgICAqLw0KICAgIG1vZGlmaWVyIGF0U3RhZ2UoU3RhZ2VzIF9zdGFnZSkgew0KICAgICAgICBpZiAoc3RhZ2UgIT0gX3N0YWdlKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCiAgICANCg0KICAgIC8qKg0KICAgICAqIFRocm93IGlmIHNlbmRlciBpcyBub3QgYmVuZWZpY2lhcnkNCiAgICAgKi8NCiAgICBtb2RpZmllciBvbmx5QmVuZWZpY2lhcnkoKSB7DQogICAgICAgIGlmIChiZW5lZmljaWFyeSAhPSBtc2cuc2VuZGVyKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KDQogICAgLyoqIA0KICAgICAqIEdldCBiYWxhbmNlIG9mIGBfaW52ZXN0b3JgIA0KICAgICAqIA0KICAgICAqIEBwYXJhbSBfaW52ZXN0b3IgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZA0KICAgICAqIEByZXR1cm4gVGhlIGJhbGFuY2UNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfaW52ZXN0b3IpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX2ludmVzdG9yXTsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIENvbnN0cnVjdA0KICAgICAqDQogICAgICogQHBhcmFtIF90b2tlbkFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIFNDTCB0b2tlbiBjb250YWN0DQogICAgICovDQogICAgZnVuY3Rpb24gU0NMQ3Jvd2RzYWxlKGFkZHJlc3MgX3Rva2VuQWRkcmVzcywgYWRkcmVzcyBfYmVuZWZpY2lhcnksIGFkZHJlc3MgX2NyZWF0b3IsIHVpbnQyNTYgX3N0YXJ0KSB7DQogICAgICAgIHNjbFRva2VuID0gVG9rZW4oX3Rva2VuQWRkcmVzcyk7DQogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5Ow0KICAgICAgICBjcmVhdG9yID0gX2NyZWF0b3I7DQogICAgICAgIHN0YXJ0ID0gX3N0YXJ0Ow0KICAgICAgICBlbmQgPSBzdGFydCArIHJhdGVMYXN0V2Vla0VuZDsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzDQogICAgICoNCiAgICAgKiBAcmV0dXJuIFRoZSBiZW5lZmljaWFyeSBhZGRyZXNzDQogICAgICovDQogICAgZnVuY3Rpb24gY29uZmlybUJlbmVmaWNpYXJ5KCkgb25seUJlbmVmaWNpYXJ5IHsNCiAgICAgICAgY29uZmlybWVkQnkgPSBtc2cuc2VuZGVyOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogQ29udmVydCBgX3dlaWAgdG8gYW4gYW1vdW50IGluIFNDTCB1c2luZyANCiAgICAgKiB0aGUgY3VycmVudCByYXRlDQogICAgICoNCiAgICAgKiBAcGFyYW0gX3dlaSBhbW91bnQgb2Ygd2VpIHRvIGNvbnZlcnQNCiAgICAgKiBAcmV0dXJuIFRoZSBhbW91bnQgaW4gU0NMDQogICAgICovDQogICAgZnVuY3Rpb24gdG9TQ0wodWludDI1NiBfd2VpKSByZXR1cm5zICh1aW50MjU2IGFtb3VudCkgew0KICAgICAgICB1aW50MjU2IHJhdGUgPSAwOw0KICAgICAgICBpZiAoc3RhZ2UgIT0gU3RhZ2VzLkVuZGVkICYmIG5vdyA+PSBzdGFydCAmJiBub3cgPD0gZW5kKSB7DQoNCiAgICAgICAgICAgIC8vIENoZWNrIGZvciBwcmVpY28NCiAgICAgICAgICAgIGlmIChub3cgPD0gc3RhcnQgKyByYXRlUHJlSUNPRW5kKSB7DQogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVQcmVJQ087DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIENoZWNrIGZvciB3YWl0aW5nIHBlcmlvZA0KICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZVdhaXRpbmdFbmQpIHsNCiAgICAgICAgICAgICAgICByYXRlID0gcmF0ZVdhaXRpbmc7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIENoZWNrIGZvciBhbmdlbGRheQ0KICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZUFuZ2VsRGF5RW5kKSB7DQogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVBbmdlbERheTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQ2hlY2sgZmlyc3Qgd2Vlaw0KICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZUZpcnN0V2Vla0VuZCkgew0KICAgICAgICAgICAgICAgIHJhdGUgPSByYXRlRmlyc3RXZWVrOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBDaGVjayBzZWNvbmQgd2Vlaw0KICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZVNlY29uZFdlZWtFbmQpIHsNCiAgICAgICAgICAgICAgICByYXRlID0gcmF0ZVNlY29uZFdlZWs7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIENoZWNrIHRoaXJkIHdlZWsNCiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA8PSBzdGFydCArIHJhdGVUaGlyZFdlZWtFbmQpIHsNCiAgICAgICAgICAgICAgICByYXRlID0gcmF0ZVRoaXJkV2VlazsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQ2hlY2sgbGFzdCB3ZWVrDQogICAgICAgICAgICBlbHNlIGlmIChub3cgPD0gc3RhcnQgKyByYXRlTGFzdFdlZWtFbmQpIHsNCiAgICAgICAgICAgICAgICByYXRlID0gcmF0ZUxhc3RXZWVrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIF93ZWkgKiByYXRlICogMTAqKjggLyAxIGV0aGVyOyAvLyAxMCoqOCBmb3IgOCBkZWNpbWFscw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogRnVuY3Rpb24gdG8gZW5kIHRoZSBjcm93ZHNhbGUgYnkgc2V0dGluZyANCiAgICAgKiB0aGUgc3RhZ2UgdG8gRW5kZWQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBlbmRDcm93ZHNhbGUoKSBhdFN0YWdlKFN0YWdlcy5JblByb2dyZXNzKSB7DQoNCiAgICAgICAgLy8gQ3Jvd2RzYWxlIG5vdCBlbmRlZCB5ZXQNCiAgICAgICAgaWYgKG5vdyA8IGVuZCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICBzdGFnZSA9IFN0YWdlcy5FbmRlZDsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIFRyYW5zZmVyIGFwcHJvcHJpYXRlIHBlcmNlbnRhZ2Ugb2YgcmFpc2VkIGFtb3VudCANCiAgICAgKiB0byB0aGUgY29tcGFueSBhZGRyZXNzDQogICAgICovDQogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5QmVuZWZpY2lhcnkgYXRTdGFnZShTdGFnZXMuRW5kZWQpIHsNCg0KICAgICAgICAvLyBDb25maXJtIHRoYXQgbWluQW1vdW50IGlzIHJhaXNlZA0KICAgICAgICBpZiAocmFpc2VkIDwgbWluQW1vdW50KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghc2NsVG9rZW4udW5sb2NrKCkpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgdWludDI1NiBldGhCYWxhbmNlID0gdGhpcy5iYWxhbmNlOw0KDQogICAgICAgIC8vIDUlIGV0aA0KICAgICAgICB1aW50MjU2IGV0aEZlZXMgPSBldGhCYWxhbmNlICogNSAvIDEwKioyOw0KICAgICAgICBpZiAoIWNyZWF0b3Iuc2VuZChldGhGZWVzKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICAvLyA5NSUgZXRoDQogICAgICAgIGlmICghYmVuZWZpY2lhcnkuc2VuZChldGhCYWxhbmNlIC0gZXRoRmVlcykpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuV2l0aGRyYXduOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogUmVmdW5kIGluIHRoZSBjYXNlIG9mIGFuIHVuc3VjY2Vzc2Z1bCBjcm93ZHNhbGUuIFRoZSANCiAgICAgKiBjcm93ZHNhbGUgaXMgY29uc2lkZXJlZCB1bnN1Y2Nlc3NmdWwgaWYgbWluQW1vdW50IHdhcyANCiAgICAgKiBub3QgcmFpc2VkIGJlZm9yZSBlbmQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBhdFN0YWdlKFN0YWdlcy5FbmRlZCkgew0KDQogICAgICAgIC8vIE9ubHkgYWxsb3cgcmVmdW5kcyBpZiBtaW5BbW91bnQgaXMgbm90IHJhaXNlZA0KICAgICAgICBpZiAocmFpc2VkID49IG1pbkFtb3VudCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICB1aW50MjU2IHJlY2VpdmVkQW1vdW50ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07DQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsNCg0KICAgICAgICBpZiAocmVjZWl2ZWRBbW91bnQgPiAwICYmICFtc2cuc2VuZGVyLnNlbmQocmVjZWl2ZWRBbW91bnQpKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHJlY2VpdmVkQW1vdW50Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgDQogICAgLyoqDQogICAgICogUmVjZWl2ZXMgRXRoIGFuZCBpc3N1ZSBTQ0wgdG9rZW5zIHRvIHRoZSBzZW5kZXINCiAgICAgKi8NCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIGF0U3RhZ2UoU3RhZ2VzLkluUHJvZ3Jlc3MpIHsNCg0KICAgICAgICAvLyBDcm93ZHNhbGUgbm90IHN0YXJ0ZWQgeWV0DQogICAgICAgIGlmIChub3cgPCBzdGFydCkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBDcm93ZHNhbGUgZXhwaXJlZA0KICAgICAgICBpZiAobm93ID4gZW5kKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEVuZm9yY2UgbWluIGFtb3VudA0KICAgICAgICBpZiAobXNnLnZhbHVlIDwgbWluQWNjZXB0ZWRBbW91bnQpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogDQogICAgICAgIHVpbnQyNTYgcmVjZWl2ZWQgPSBtc2cudmFsdWU7DQogICAgICAgIHVpbnQyNTYgdmFsdWVJblNDTCA9IHRvU0NMKG1zZy52YWx1ZSk7DQoNCiAgICAgICAgLy8gUGVyaW9kIGJldHdlZW4gcHJlLWljbyBhbmQgaWNvDQogICAgICAgIGlmICh2YWx1ZUluU0NMID09IDApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCFzY2xUb2tlbi5pc3N1ZShtc2cuc2VuZGVyLCB2YWx1ZUluU0NMKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBGZWVzDQogICAgICAgIHVpbnQyNTYgc2NsRmVlcyA9IHZhbHVlSW5TQ0wgKiA1IC8gMTAqKjI7DQoNCiAgICAgICAgLy8gNSUgdG9rZW5zDQogICAgICAgIGlmICghc2NsVG9rZW4uaXNzdWUoY3JlYXRvciwgc2NsRmVlcykpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKG5vdyA8PSBzdGFydCArIHJhdGVQcmVJQ09FbmQpIHsNCg0KICAgICAgICAgICAgLy8gRmVlcw0KICAgICAgICAgICAgdWludDI1NiBldGhGZWVzID0gcmVjZWl2ZWQgKiA1IC8gMTAqKjI7DQoNCiAgICAgICAgICAgIC8vIDUlIGV0aA0KICAgICAgICAgICAgaWYgKCFjcmVhdG9yLnNlbmQoZXRoRmVlcykpIHsNCiAgICAgICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gRHVyaW5nIHByZS1pY28gLSBOb24tUmVmdW5kYWJsZQ0KICAgICAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5zZW5kKHJlY2VpdmVkIC0gZXRoRmVlcykpIHsNCiAgICAgICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAvLyBEdXJpbmcgdGhlIElDTw0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gcmVjZWl2ZWQ7IC8vIDEwMCUgcmVmdW5kYWJsZQ0KICAgICAgICB9DQoNCiAgICAgICAgcmFpc2VkICs9IHJlY2VpdmVkOw0KDQogICAgICAgIC8vIENoZWNrIG1heEFtb3VudCByYWlzZWQNCiAgICAgICAgaWYgKHJhaXNlZCA+PSBtYXhBbW91bnQgfHwgc2NsVG9rZW4udG90YWxTdXBwbHkoKSA+PSBtYXhTdXBwbHkpIHsNCiAgICAgICAgICAgIHN0YWdlID0gU3RhZ2VzLkVuZGVkOw0KICAgICAgICB9DQogICAgfQ0KfQ=='