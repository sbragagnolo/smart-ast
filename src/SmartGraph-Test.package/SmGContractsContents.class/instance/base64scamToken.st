base 64 content
base64scamToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KLy8gc2NhbXRva2VuDQovLyBjb21wbGV0ZWx5IG9yaWdpbmFsIGFuZCBub3QgY29weSBwYXN0ZWQgY29udHJhY3QNCi8vIHByaW5jZSBvZiBuaWdlcmlhIGFuZCBtYWpvciB0dW5kZSBzZW5kIHRoZWlyIHJlZ2FyZHMNCg0KY29udHJhY3QgQ2xvbmVUb2tlbiB7DQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOw0KfQ0KDQpjb250cmFjdCBTY2FtVG9rZW4gew0KICAgIGFkZHJlc3Mgb3duZXIgPSBtc2cuc2VuZGVyOw0KDQogICAgYm9vbCBwdWJsaWMgcHVyY2hhc2luZ0FsbG93ZWQgPSBmYWxzZTsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KICAgLy8gc3VjaCBjb2RlDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxDb250cmlidXRpb24gPSAwOw0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQm9udXNUb2tlbnNJc3N1ZWQgPSAwOw0KDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOw0KDQogICAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykgeyByZXR1cm4gIlNjYW1Ub2tlbiI7IH0NCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsgcmV0dXJuICJTQ0FNIjsgfQ0KICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsgcmV0dXJuIDE4OyB9DQogICAgLy8gbXVjaCB3b3cNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07IH0NCiAgICANCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAvLyBtaXRpZ2F0ZXMgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrDQogICAgICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8ICgyICogMzIpICsgNCkgeyB0aHJvdzsgfQ0KDQogICAgICAgIGlmIChfdmFsdWUgPT0gMCkgeyByZXR1cm4gZmFsc2U7IH0NCg0KICAgICAgICB1aW50MjU2IGZyb21CYWxhbmNlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07DQoNCiAgICAgICAgYm9vbCBzdWZmaWNpZW50RnVuZHMgPSBmcm9tQmFsYW5jZSA+PSBfdmFsdWU7DQogICAgICAgIGJvb2wgb3ZlcmZsb3dlZCA9IGJhbGFuY2VzW190b10gKyBfdmFsdWUgPCBiYWxhbmNlc1tfdG9dOw0KICAgICAgICANCiAgICAgICAgaWYgKHN1ZmZpY2llbnRGdW5kcyAmJiAhb3ZlcmZsb3dlZCkgew0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgDQogICAgICAgICAgLy8gc28gc2NhbSAgDQogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICAvLyBtaXRpZ2F0ZXMgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrDQogICAgICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8ICgzICogMzIpICsgNCkgeyB0aHJvdzsgfQ0KDQogICAgICAgIGlmIChfdmFsdWUgPT0gMCkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgICAgDQogICAgICAgIHVpbnQyNTYgZnJvbUJhbGFuY2UgPSBiYWxhbmNlc1tfZnJvbV07DQogICAgICAgIHVpbnQyNTYgYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07DQogICAgICAgIC8vIG15IHNxdWFuY2ggaXMgc3F1YW5jaGVkDQogICAgICAgIGJvb2wgc3VmZmljaWVudEZ1bmRzID0gZnJvbUJhbGFuY2UgPD0gX3ZhbHVlOw0KICAgICAgICBib29sIHN1ZmZpY2llbnRBbGxvd2FuY2UgPSBhbGxvd2FuY2UgPD0gX3ZhbHVlOw0KICAgICAgICBib29sIG92ZXJmbG93ZWQgPSBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXTsNCg0KICAgICAgICBpZiAoc3VmZmljaWVudEZ1bmRzICYmIHN1ZmZpY2llbnRBbGxvd2FuY2UgJiYgIW92ZXJmbG93ZWQpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzcGVuZC9hcHByb3ZhbCByYWNlIGNvbmRpdGlvbg0KICAgICAgICBpZiAoX3ZhbHVlICE9IDAgJiYgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgICAgDQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICANCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICANCiAgICAvLyB3dXQNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQoNCiAgICBmdW5jdGlvbiBlbmFibGVQdXJjaGFzaW5nKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgeyB0aHJvdzsgfQ0KDQogICAgICAgIHB1cmNoYXNpbmdBbGxvd2VkID0gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXNhYmxlUHVyY2hhc2luZygpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsgdGhyb3c7IH0NCg0KICAgICAgICBwdXJjaGFzaW5nQWxsb3dlZCA9IGZhbHNlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3Q2xvbmVUb2tlbnMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgeyB0aHJvdzsgfQ0KDQogICAgICAgIENsb25lVG9rZW4gdG9rZW4gPSBDbG9uZVRva2VuKF90b2tlbkNvbnRyYWN0KTsNCg0KICAgICAgICB1aW50MjU2IGFtb3VudCA9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsNCiAgICAgICAgcmV0dXJuIHRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFN0YXRzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiwgdWludDI1NiwgdWludDI1NiwgYm9vbCkgew0KICAgICAgICByZXR1cm4gKHRvdGFsQ29udHJpYnV0aW9uLCB0b3RhbFN1cHBseSwgdG90YWxCb251c1Rva2Vuc0lzc3VlZCwgcHVyY2hhc2luZ0FsbG93ZWQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7DQogICAgICAgIGlmICghcHVyY2hhc2luZ0FsbG93ZWQpIHsgdGhyb3c7IH0NCiAgICAgICAgDQogICAgICAgIGlmIChtc2cudmFsdWUgPT0gMCkgeyByZXR1cm47IH0NCg0KICAgICAgICBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOw0KICAgICAgICB0b3RhbENvbnRyaWJ1dGlvbiArPSBtc2cudmFsdWU7DQoNCiAgICAgICAgdWludDI1NiB0b2tlbnNJc3N1ZWQgPSAobXNnLnZhbHVlICogMTAwKTsNCg0KICAgICAgICBpZiAobXNnLnZhbHVlID49IDEwIGZpbm5leSkgew0KICAgICAgICAgICAgdG9rZW5zSXNzdWVkICs9IHRvdGFsQ29udHJpYnV0aW9uOw0KDQogICAgICAgICAgICBieXRlczIwIGJvbnVzSGFzaCA9IHJpcGVtZDE2MChibG9jay5jb2luYmFzZSwgYmxvY2subnVtYmVyLCBibG9jay50aW1lc3RhbXApOw0KICAgICAgICAgICAgaWYgKGJvbnVzSGFzaFswXSA9PSAwKSB7DQoJCQkJLy8ganVzdCBkZWxldGVkIGEgYnVuY2ggb2Ygc2hpdCBsb2wgaG9wZSBpdCBzdGlsbCB3b3Jrcw0KICAgICAgICAgICAgICAgIHVpbnQ4IGJvbnVzTXVsdGlwbGllciA9IDEwMDsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB1aW50MjU2IGJvbnVzVG9rZW5zSXNzdWVkID0gKG1zZy52YWx1ZSAqIDEwMCkgKiBib251c011bHRpcGxpZXI7DQogICAgICAgICAgICAgICAgdG9rZW5zSXNzdWVkICs9IGJvbnVzVG9rZW5zSXNzdWVkOw0KDQogICAgICAgICAgICAgICAgdG90YWxCb251c1Rva2Vuc0lzc3VlZCArPSBib251c1Rva2Vuc0lzc3VlZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRvdGFsU3VwcGx5ICs9IHRva2Vuc0lzc3VlZDsNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zSXNzdWVkOw0KICAgICAgICANCiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgbXNnLnNlbmRlciwgdG9rZW5zSXNzdWVkKTsNCiAgICB9DQp9'