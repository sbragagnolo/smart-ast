base 64 content
base64sikobaPresale1
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQovKioNCiAqIFNJS09CQSBQUkVTQUxFIENPTlRSQUNUUw0KICoNCiAqIFZlcnNpb24gMC4xDQogKg0KICogQXV0aG9yIFJvbGFuZCBLb2ZsZXIsIEFsZXggS2FtcGEsIEJvayAnQm9ra3lQb29CYWgnIEtob28NCiAqDQogKiBNSVQgTElDRU5TRSBDb3B5cmlnaHQgMjAxNiBTaWtvYmEgTFREDQogKg0KICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQ0KICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwNCiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMNCiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwNCiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcw0KICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoNCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluDQogKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4NCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SDQogKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwNCiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQ0KICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUg0KICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwNCiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFDQogKiBTT0ZUV0FSRS4NCiAqKi8NCg0KY29udHJhY3QgT3duZWQgew0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgZnVuY3Rpb24gT3duZWQoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCn0NCg0KLy8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vLyBAdGl0bGUgU2lrb2JhIFByZXNhbGUgQ29udHJhY3QNCi8vLyBAYXV0aG9yIFJvbGFuZCBLb2ZsZXIsIEFsZXggS2FtcGEsIEJvayAnQm9ra3kgUG9vIEJhaCcgS2hvbw0KLy8vIEBkZXYgQ2hhbmdlcyB0byB0aGlzIGNvbnRyYWN0IHdpbGwgaW52YWxpZGF0ZSBhbnkgc2VjdXJpdHkgYXVkaXRzIGRvbmUgYmVmb3JlLg0KLy8vIEl0IGlzIE1BTkRBVE9SWSB0byBwcm90b2NvbCBhdWRpdHMgaW4gdGhlICJTZWN1cml0eSByZXZpZXdzIGRvbmUiIHNlY3Rpb24NCi8vLyAgIyBTZWN1cml0eSBjaGVja2xpc3RzIHRvIHVzZSBpbiBlYWNoIHJldmlldzoNCi8vLyAgLSBDb25zZW5zeXMgY2hlY2tsaXN0IGh0dHBzOi8vZ2l0aHViLmNvbS9Db25zZW5TeXMvc21hcnQtY29udHJhY3QtYmVzdC1wcmFjdGljZXMNCi8vLyAgLSBSb2xhbmQgS29mbGVyJ3MgY2hlY2tsaXN0IGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xhbmRrb2ZsZXIvZXRoZXItc2VjdXJpdHkNCi8vLyAgLSBSZWFkIGFsbCBvZiB0aGUgY29kZSBhbmQgdXNlIGNyZWF0aXZlIGFuZCBsYXRlcmFsIHRoaW5raW5nIHRvIGRpc2NvdmVyIGJ1Z3MNCi8vLyAgIyBTZWN1cml0eSByZXZpZXdzIGRvbmU6DQovLy8gIERhdGUgICAgICAgICBBdWRpdG9ycyAgICAgICBTaG9ydCBzdW1tYXJ5IG9mIHRoZSByZXZpZXcgZXhlY3V0ZWQNCi8vLyAgTWFyIDAzIDIwMTcgLSBSb2xhbmQgS29mbGVyICAtIE5PIFNFQ1VSSVRZIFJFVklFVyBET05FDQovLy8gIE1hciAwNyAyMDE3IC0gUm9sYW5kIEtvZmxlciwgLSBJbmZvcm1hbCBTZWN1cml0eSBSZXZpZXc7IGFkZGVkIG92ZXJmbG93IHByb3RlY3Rpb25zOw0KLy8vICAgICAgICAgICAgICAgIEFsZXggS2FtcGEgICAgICAgZml4ZWQgd3JvbmcgaW5lcXVhbGl0eSBvcGVyYXRvcnM7IGFkZGVkIG1heGltdW0gYW1vdW50DQovLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXIgdHJhbnNhY3Rpb25zDQovLy8gIE1hciAwNyAyMDE3IC0gQWxleCBLYW1wYSAgICAgLSBTb21lIGNvZGUgY2xlYW4gdXA7IHJlbW92ZWQgcmVzdHJpY3Rpb24gb2YNCi8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1JTklNVU1fUEFSVElDSVBBVElPTl9BTU9VTlQgZm9yIHByZWFsbG9jYXRpb25zDQovLy8gIE1hciAwOCAyMDE3IC0gQm9rIEtob28gICAgICAgLSBDb21wbGV0ZSBzZWN1cml0eSByZXZpZXcgYW5kIG1vZGlmaWNhdGlvbnMNCi8vLyAgTWFyIDA5IDIwMTcgLSBSb2xhbmQgS29mbGVyICAtIENoZWNrIHRoZSBkaWZmcyBiZXR3ZWVuIE1BUiA4IGFuZCBNQVIgNyB2ZXJzaW9ucw0KLy8vICBNYXIgMTIgMjAxNyAtIEJvayBLaG9vICAgICAgIC0gUmVuYW1lZCBUT1RBTF9QUkVBTExPQ0FUSU9OX0lOX1dFSQ0KLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gVE9UQUxfUFJFQUxMT0NBVElPTi4NCi8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZWQgaXNQcmVBbGxvY2F0aW9uIGZyb20gYWRkQmFsYW5jZSguLi4pDQovLy8gIE1hciAxMyAyMDE3IC0gQm9rIEtob28gICAgICAgLSBNYWRlIGRhdGVzIGluIGNvbW1lbnRzIGNvbnNpc3RlbnQNCi8vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb250cmFjdCBTaWtvYmFQcmVzYWxlIGlzIE93bmVkIHsNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgLy8gVE9ETyBCZWZvcmUgZGVwbG95bWVudCBvZiBjb250cmFjdCB0byBNYWlubmV0DQogICAgLy8gMS4gQ29uZmlybSBNSU5JTVVNX1BBUlRJQ0lQQVRJT05fQU1PVU5UIGFuZCBNQVhJTVVNX1BBUlRJQ0lQQVRJT05fQU1PVU5UIGJlbG93DQogICAgLy8gMi4gQWRqdXN0IFBSRVNBTEVfTUlOSU1VTV9GVU5ESU5HIGFuZCBQUkVTQUxFX01BWElNVU1fRlVORElORyB0byBkZXNpcmVkIEVVUg0KICAgIC8vICAgIGVxdWl2YWxlbnRzDQogICAgLy8gMy4gQWRqdXN0IFBSRVNBTEVfU1RBUlRfREFURSBhbmQgY29uZmlybSB0aGUgcHJlc2FsZSBwZXJpb2QNCiAgICAvLyA0LiBVcGRhdGUgVE9UQUxfUFJFQUxMT0NBVElPTiB0byB0aGUgdG90YWwgcHJlYWxsb2NhdGlvbnMgcmVjZWl2ZWQNCiAgICAvLyA1LiBBZGQgZWFjaCBwcmVhbGxvY2F0aW9uIGFkZHJlc3MgYW5kIGZ1bmRpbmcgYW1vdW50IGZyb20gdGhlIFNpa29iYSBib29rbWFrZXINCiAgICAvLyAgICB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24NCiAgICAvLyA2LiBUZXN0IHRoZSBkZXBsb3ltZW50IHRvIGEgZGV2IGJsb2NrY2hhaW4gb3IgVGVzdG5ldCB0byBjb25maXJtIHRoZSBjb25zdHJ1Y3Rvcg0KICAgIC8vICAgIHdpbGwgbm90IHJ1biBvdXQgb2YgZ2FzIGFzIHRoaXMgd2lsbCB2YXJ5IHdpdGggdGhlIG51bWJlciBvZiBwcmVhbGxvY2F0aW9uDQogICAgLy8gICAgYWNjb3VudCBlbnRyaWVzDQogICAgLy8gNy4gQSBzdGFibGUgdmVyc2lvbiBvZiBTb2xpZGl0eSBoYXMgYmVlbiB1c2VkLiBDaGVjayBmb3IgYW55IG1ham9yIGJ1Z3MgaW4gdGhlDQogICAgLy8gICAgU29saWRpdHkgcmVsZWFzZSBhbm5vdW5jZW1lbnRzIGFmdGVyIHRoaXMgdmVyc2lvbi4NCiAgICAvLyA4LiBSZW1lbWJlciB0byBzZW5kIHRoZSBwcmVhbGxvY2F0ZWQgZnVuZHMgd2hlbiBkZXBsb3lpbmcgdGhlIGNvbnRyYWN0IQ0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIGZ1bmRpbmcgYW1vdW50DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxGdW5kaW5nOw0KDQogICAgLy8gTWluaW11bSBhbmQgbWF4aW11bSBhbW91bnRzIHBlciB0cmFuc2FjdGlvbiBmb3IgcHVibGljIHBhcnRpY2lwYW50cw0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1JTklNVU1fUEFSVElDSVBBVElPTl9BTU9VTlQgPSAgIDAgZXRoZXI7DQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUFYSU1VTV9QQVJUSUNJUEFUSU9OX0FNT1VOVCA9IDI1MCBldGhlcjsNCg0KICAgIC8vIE1pbmltdW0gYW5kIG1heGltdW0gZ29hbHMgb2YgdGhlIHByZXNhbGUNCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUkVTQUxFX01JTklNVU1fRlVORElORyA9ICAxIGV0aGVyOw0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRVNBTEVfTUFYSU1VTV9GVU5ESU5HID0gMiBldGhlcjsNCg0KICAgIC8vIFRvdGFsIHByZWFsbG9jYXRpb24gaW4gd2VpDQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9UQUxfUFJFQUxMT0NBVElPTiA9IDAgZXRoZXI7DQoNCiAgICAvLyBQdWJsaWMgcHJlc2FsZSBwZXJpb2QNCiAgICAvLyBTdGFydHMgQXByIDA1IDIwMTcgQCAxMjowMHBtIChVVEMpIDIwMTctMDQtMDVUMTI6MDA6MDArMDA6MDAgaW4gSVNPIDg2MDENCiAgICAvLyBFbmRzIDIgd2Vla3MgYWZ0ZXIgdGhlIHN0YXJ0DQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9TVEFSVF9EQVRFID0gbm93Ow0KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRVNBTEVfRU5EX0RBVEUgPSBQUkVTQUxFX1NUQVJUX0RBVEUgKyAxNSBtaW51dGVzOw0KDQogICAgLy8gT3duZXIgY2FuIGNsYXdiYWNrIGFmdGVyIGEgZGF0ZSBpbiB0aGUgZnV0dXJlLCBzbyBubyBldGhlcnMgcmVtYWluDQogICAgLy8gdHJhcHBlZCBpbiB0aGUgY29udHJhY3QuIFRoaXMgd2lsbCBvbmx5IGJlIHJlbGV2YW50IGlmIHRoZQ0KICAgIC8vIG1pbmltdW0gZnVuZGluZyBsZXZlbCBpcyBub3QgcmVhY2hlZA0KICAgIC8vIEphbiAwMSAyMDE4IEAgMTI6MDBwbSAoVVRDKSAyMDE4LTAxLTAxVDEyOjAwOjAwKzAwOjAwIGluIElTTyA4NjAxDQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgT1dORVJfQ0xBV0JBQ0tfREFURSA9IFBSRVNBTEVfU1RBUlRfREFURSArIDIwIG1pbnV0ZXM7DQoNCiAgICAvLy8gQG5vdGljZSBLZWVwIHRyYWNrIG9mIGFsbCBwYXJ0aWNpcGFudHMgY29udHJpYnV0aW9ucywgaW5jbHVkaW5nIGJvdGggdGhlDQogICAgLy8vICAgICAgICAgcHJlYWxsb2NhdGlvbiBhbmQgcHVibGljIHBoYXNlcw0KICAgIC8vLyBAZGV2IE5hbWUgY29tcGxpZXMgd2l0aCBFUkMyMCB0b2tlbiBzdGFuZGFyZCwgZXRoZXJzY2FuIGZvciBleGFtcGxlIHdpbGwgcmVjb2duaXplDQogICAgLy8vICAgICAgdGhpcyBhbmQgc2hvdyB0aGUgYmFsYW5jZXMgb2YgdGhlIGFkZHJlc3MNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7DQoNCiAgICAvLy8gQG5vdGljZSBMb2cgYW4gZXZlbnQgZm9yIGVhY2ggZnVuZGluZyBjb250cmlidXRlZCBkdXJpbmcgdGhlIHB1YmxpYyBwaGFzZQ0KICAgIC8vLyBAbm90aWNlIEV2ZW50cyBhcmUgbm90IGxvZ2dlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBiZWluZyBleGVjdXRlZCBkdXJpbmcNCiAgICAvLy8gICAgICAgICBkZXBsb3ltZW50LCBzbyB0aGUgcHJlYWxsb2NhdGlvbnMgd2lsbCBub3QgYmUgbG9nZ2VkDQogICAgZXZlbnQgTG9nUGFydGljaXBhdGlvbihhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IHRpbWVzdGFtcCk7DQoNCiAgICBmdW5jdGlvbiBTaWtvYmFQcmVzYWxlICgpIHBheWFibGUgew0KICAgICAgICBhc3NlcnRFcXVhbHMoVE9UQUxfUFJFQUxMT0NBVElPTiwgbXNnLnZhbHVlKTsNCiAgICAgICAgLy8gUHJlLWFsbG9jYXRpb25zDQogICAgICAgIC8vIGFkZEJhbGFuY2UoMHhkZWFkYmVlZiwgMTAgd2VpKTsNCiAgICAgICAgLy8gYWRkQmFsYW5jZSgweGNhZmViYWJlLCA1IHdlaSk7DQogICAgICAgIGFzc2VydEVxdWFscyhUT1RBTF9QUkVBTExPQ0FUSU9OLCB0b3RhbEZ1bmRpbmcpOw0KICAgIH0NCg0KICAgIC8vLyBAbm90aWNlIEEgcGFydGljaXBhbnQgc2VuZHMgYSBjb250cmlidXRpb24gdG8gdGhlIGNvbnRyYWN0J3MgYWRkcmVzcw0KICAgIC8vLyAgICAgICAgIGJldHdlZW4gdGhlIFBSRVNBTEVfU1RBVEVfREFURSBhbmQgdGhlIFBSRVNBTEVfRU5EX0RBVEUNCiAgICAvLy8gQG5vdGljZSBPbmx5IGNvbnRyaWJ1dGlvbnMgYmV0d2VlbiB0aGUgTUlOSU1VTV9QQVJUSUNJUEFUSU9OX0FNT1VOVCBhbmQNCiAgICAvLy8gICAgICAgICBNQVhJTVVNX1BBUlRJQ0lQQVRJT05fQU1PVU5UIGFyZSBhY2NlcHRlZC4gT3RoZXJ3aXNlIHRoZSB0cmFuc2FjdGlvbg0KICAgIC8vLyAgICAgICAgIGlzIHJlamVjdGVkIGFuZCBjb250cmlidXRlZCBhbW91bnQgaXMgcmV0dXJuZWQgdG8gdGhlIHBhcnRpY2lwYW50J3MNCiAgICAvLy8gICAgICAgICBhY2NvdW50DQogICAgLy8vIEBub3RpY2UgQSBwYXJ0aWNpcGFudCdzIGNvbnRyaWJ1dGlvbiB3aWxsIGJlIHJlamVjdGVkIGlmIHRoZSBwcmVzYWxlDQogICAgLy8vICAgICAgICAgaGFzIGJlZW4gZnVuZGVkIHRvIHRoZSBtYXhpbXVtIGFtb3VudA0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgICAgICAvLyBBIHBhcnRpY2lwYW50IGNhbm5vdCBzZW5kIGZ1bmRzIGJlZm9yZSB0aGUgcHJlc2FsZSBzdGFydCBkYXRlDQogICAgICAgIGlmIChub3cgPCBQUkVTQUxFX1NUQVJUX0RBVEUpIHRocm93Ow0KICAgICAgICAvLyBBIHBhcnRpY2lwYW50IGNhbm5vdCBzZW5kIGZ1bmRzIGFmdGVyIHRoZSBwcmVzYWxlIGVuZCBkYXRlDQogICAgICAgIGlmIChub3cgPiBQUkVTQUxFX0VORF9EQVRFKSB0aHJvdzsNCiAgICAgICAgLy8gQSBwYXJ0aWNpcGFudCBjYW5ub3Qgc2VuZCBsZXNzIHRoYW4gdGhlIG1pbmltdW0gYW1vdW50DQogICAgICAgIGlmIChtc2cudmFsdWUgPCBNSU5JTVVNX1BBUlRJQ0lQQVRJT05fQU1PVU5UKSB0aHJvdzsNCiAgICAgICAgLy8gQSBwYXJ0aWNpcGFudCBjYW5ub3Qgc2VuZCBtb3JlIHRoYW4gdGhlIG1heGltdW0gYW1vdW50DQogICAgICAgIGlmIChtc2cudmFsdWUgPiBNQVhJTVVNX1BBUlRJQ0lQQVRJT05fQU1PVU5UKSB0aHJvdzsNCiAgICAgICAgLy8gQSBwYXJ0aWNpcGFudCBjYW5ub3Qgc2VuZCBmdW5kcyBpZiB0aGUgcHJlc2FsZSBoYXMgYmVlbiByZWFjaGVkIHRoZSBtYXhpbXVtDQogICAgICAgIC8vIGZ1bmRpbmcgYW1vdW50DQogICAgICAgIGlmIChzYWZlSW5jcmVtZW50KHRvdGFsRnVuZGluZywgbXNnLnZhbHVlKSA+IFBSRVNBTEVfTUFYSU1VTV9GVU5ESU5HKSB0aHJvdzsNCiAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIHBhcnRpY2lwYW50J3MgY29udHJpYnV0aW9uDQogICAgICAgIGFkZEJhbGFuY2UobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsNCiAgICB9DQoNCiAgICAvLy8gQG5vdGljZSBUaGUgb3duZXIgY2FuIHdpdGhkcmF3IGV0aGVycyBhZnRlciB0aGUgcHJlc2FsZSBoYXMgY29tcGxldGVkLA0KICAgIC8vLyAgICAgICAgIG9ubHkgaWYgdGhlIG1pbmltdW0gZnVuZGluZyBsZXZlbCBoYXMgYmVlbiByZWFjaGVkDQogICAgZnVuY3Rpb24gb3duZXJXaXRoZHJhdyh1aW50MjU2IHZhbHVlKSBleHRlcm5hbCBvbmx5T3duZXIgew0KICAgICAgICAvLyBUaGUgb3duZXIgY2Fubm90IHdpdGhkcmF3IGJlZm9yZSB0aGUgcHJlc2FsZSBlbmRzDQogICAgICAgIGlmIChub3cgPD0gUFJFU0FMRV9FTkRfREFURSkgdGhyb3c7DQogICAgICAgIC8vIFRoZSBvd25lciBjYW5ub3Qgd2l0aGRyYXcgaWYgdGhlIHByZXNhbGUgZGlkIG5vdCByZWFjaCB0aGUgbWluaW11bSBmdW5kaW5nIGFtb3VudA0KICAgICAgICBpZiAodG90YWxGdW5kaW5nIDwgUFJFU0FMRV9NSU5JTVVNX0ZVTkRJTkcpIHRocm93Ow0KICAgICAgICAvLyBXaXRoZHJhdyB0aGUgYW1vdW50IHJlcXVlc3RlZA0KICAgICAgICBpZiAoIW93bmVyLnNlbmQodmFsdWUpKSB0aHJvdzsNCiAgICB9DQoNCiAgICAvLy8gQG5vdGljZSBUaGUgcGFydGljaXBhbnQgd2lsbCBuZWVkIHRvIHdpdGhkcmF3IHRoZWlyIGZ1bmRzIGZyb20gdGhpcyBjb250cmFjdCBpZg0KICAgIC8vLyAgICAgICAgIHRoZSBwcmVzYWxlIGhhcyBub3QgYWNoaWV2ZWQgdGhlIG1pbmltdW0gZnVuZGluZyBsZXZlbA0KICAgIGZ1bmN0aW9uIHBhcnRpY2lwYW50V2l0aGRyYXdJZk1pbmltdW1GdW5kaW5nTm90UmVhY2hlZCh1aW50MjU2IHZhbHVlKSBleHRlcm5hbCB7DQogICAgICAgIC8vIFBhcnRpY2lwYW50IGNhbm5vdCB3aXRoZHJhdyBiZWZvcmUgdGhlIHByZXNhbGUgZW5kcw0KICAgICAgICBpZiAobm93IDw9IFBSRVNBTEVfRU5EX0RBVEUpIHRocm93Ow0KICAgICAgICAvLyBQYXJ0aWNpcGFudCBjYW5ub3Qgd2l0aGRyYXcgaWYgdGhlIG1pbmltdW0gZnVuZGluZyBhbW91bnQgaGFzIGJlZW4gcmVhY2hlZA0KICAgICAgICBpZiAodG90YWxGdW5kaW5nID49IFBSRVNBTEVfTUlOSU1VTV9GVU5ESU5HKSB0aHJvdzsNCiAgICAgICAgLy8gUGFydGljaXBhbnQgY2FuIG9ubHkgd2l0aGRyYXcgYW4gYW1vdW50IHVwIHRvIHRoZWlyIGNvbnRyaWJ1dGVkIGJhbGFuY2UNCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IHZhbHVlKSB0aHJvdzsNCiAgICAgICAgLy8gUGFydGljaXBhbnQncyBiYWxhbmNlIGlzIHJlZHVjZWQgYnkgdGhlIGNsYWltZWQgYW1vdW50Lg0KICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBzYWZlRGVjcmVtZW50KGJhbGFuY2VPZlttc2cuc2VuZGVyXSwgdmFsdWUpOw0KICAgICAgICAvLyBTZW5kIGV0aGVycyBiYWNrIHRvIHRoZSBwYXJ0aWNpcGFudCdzIGFjY291bnQNCiAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQodmFsdWUpKSB0aHJvdzsNCiAgICB9DQoNCiAgICAvLy8gQG5vdGljZSBUaGUgb3duZXIgY2FuIGNsYXdiYWNrIGFueSBldGhlcnMgYWZ0ZXIgYSBkYXRlIGluIHRoZSBmdXR1cmUsIHNvIG5vDQogICAgLy8vICAgICAgICAgZXRoZXJzIHJlbWFpbiB0cmFwcGVkIGluIHRoaXMgY29udHJhY3QuIFRoaXMgd2lsbCBvbmx5IGJlIHJlbGV2YW50DQogICAgLy8vICAgICAgICAgaWYgdGhlIG1pbmltdW0gZnVuZGluZyBsZXZlbCBpcyBub3QgcmVhY2hlZA0KICAgIGZ1bmN0aW9uIG93bmVyQ2xhd2JhY2soKSBleHRlcm5hbCBvbmx5T3duZXIgew0KICAgICAgICAvLyBUaGUgb3duZXIgY2Fubm90IHdpdGhkcmF3IGJlZm9yZSB0aGUgY2xhd2JhY2sgZGF0ZQ0KICAgICAgICBpZiAobm93IDwgT1dORVJfQ0xBV0JBQ0tfREFURSkgdGhyb3c7DQogICAgICAgIC8vIFNlbmQgcmVtYWluaW5nIGZ1bmRzIGJhY2sgdG8gdGhlIG93bmVyDQogICAgICAgIGlmICghb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsNCiAgICB9DQoNCiAgICAvLy8gQGRldiBLZWVwIHRyYWNrIG9mIHBhcnRpY2lwYW50cyBjb250cmlidXRpb25zIGFuZCB0aGUgdG90YWwgZnVuZGluZyBhbW91bnQNCiAgICBmdW5jdGlvbiBhZGRCYWxhbmNlKGFkZHJlc3MgcGFydGljaXBhbnQsIHVpbnQyNTYgdmFsdWUpIHByaXZhdGUgew0KICAgICAgICAvLyBQYXJ0aWNpcGFudCdzIGJhbGFuY2UgaXMgaW5jcmVhc2VkIGJ5IHRoZSBzZW50IGFtb3VudA0KICAgICAgICBiYWxhbmNlT2ZbcGFydGljaXBhbnRdID0gc2FmZUluY3JlbWVudChiYWxhbmNlT2ZbcGFydGljaXBhbnRdLCB2YWx1ZSk7DQogICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIGZ1bmRpbmcgYW1vdW50DQogICAgICAgIHRvdGFsRnVuZGluZyA9IHNhZmVJbmNyZW1lbnQodG90YWxGdW5kaW5nLCB2YWx1ZSk7DQogICAgICAgIC8vIExvZyBhbiBldmVudCBvZiB0aGUgcGFydGljaXBhbnQncyBjb250cmlidXRpb24NCiAgICAgICAgTG9nUGFydGljaXBhdGlvbihwYXJ0aWNpcGFudCwgdmFsdWUsIG5vdyk7DQogICAgfQ0KDQogICAgLy8vIEBkZXYgVGhyb3cgYW4gZXhjZXB0aW9uIGlmIHRoZSBhbW91bnRzIGFyZSBub3QgZXF1YWwNCiAgICBmdW5jdGlvbiBhc3NlcnRFcXVhbHModWludDI1NiBleHBlY3RlZFZhbHVlLCB1aW50MjU2IGFjdHVhbFZhbHVlKSBwcml2YXRlIGNvbnN0YW50IHsNCiAgICAgICAgaWYgKGV4cGVjdGVkVmFsdWUgIT0gYWN0dWFsVmFsdWUpIHRocm93Ow0KICAgIH0NCg0KICAgIC8vLyBAZGV2IEFkZCBhIG51bWJlciB0byBhIGJhc2UgdmFsdWUuIERldGVjdCBvdmVyZmxvd3MgYnkgY2hlY2tpbmcgdGhlIHJlc3VsdCBpcyBsYXJnZXINCiAgICAvLy8gICAgICB0aGFuIHRoZSBvcmlnaW5hbCBiYXNlIHZhbHVlLg0KICAgIGZ1bmN0aW9uIHNhZmVJbmNyZW1lbnQodWludDI1NiBiYXNlLCB1aW50MjU2IGluY3JlbWVudCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHVpbnQyNTYgcmVzdWx0ID0gYmFzZSArIGluY3JlbWVudDsNCiAgICAgICAgaWYgKHJlc3VsdCA8IGJhc2UpIHRocm93Ow0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFN1YnRyYWN0IGEgbnVtYmVyIGZyb20gYSBiYXNlIHZhbHVlLiBEZXRlY3QgdW5kZXJmbG93cyBieSBjaGVja2luZyB0aGF0IHRoZSByZXN1bHQNCiAgICAvLy8gICAgICBpcyBzbWFsbGVyIHRoYW4gdGhlIG9yaWdpbmFsIGJhc2UgdmFsdWUNCiAgICBmdW5jdGlvbiBzYWZlRGVjcmVtZW50KHVpbnQyNTYgYmFzZSwgdWludDI1NiBpbmNyZW1lbnQpIHByaXZhdGUgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICB1aW50MjU2IHJlc3VsdCA9IGJhc2UgLSBpbmNyZW1lbnQ7DQogICAgICAgIGlmIChyZXN1bHQgPiBiYXNlKSB0aHJvdzsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQp9'