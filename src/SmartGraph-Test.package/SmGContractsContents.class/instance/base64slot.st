base 64 content
base64slot
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4wOy8vcGxlYXNlIGltcG9ydCBvcmFjbGl6ZUFQSV9wcmUwLjQuc29sIHdoZW4gc29saWRpdHkgPCAwLjQuMA0KDQpjb250cmFjdCBPcmFjbGl6ZUkgew0KICAgIGFkZHJlc3MgcHVibGljIGNiQWRkcmVzczsNCiAgICBmdW5jdGlvbiBxdWVyeSh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcpIHBheWFibGUgcmV0dXJucyAoYnl0ZXMzMiBfaWQpOw0KICAgIGZ1bmN0aW9uIHF1ZXJ5X3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIHVpbnQgX2dhc2xpbWl0KSBwYXlhYmxlIHJldHVybnMgKGJ5dGVzMzIgX2lkKTsNCiAgICBmdW5jdGlvbiBxdWVyeTIodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnMSwgc3RyaW5nIF9hcmcyKSBwYXlhYmxlIHJldHVybnMgKGJ5dGVzMzIgX2lkKTsNCiAgICBmdW5jdGlvbiBxdWVyeTJfd2l0aEdhc0xpbWl0KHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZzEsIHN0cmluZyBfYXJnMiwgdWludCBfZ2FzbGltaXQpIHBheWFibGUgcmV0dXJucyAoYnl0ZXMzMiBfaWQpOw0KICAgIGZ1bmN0aW9uIGdldFByaWNlKHN0cmluZyBfZGF0YXNvdXJjZSkgcmV0dXJucyAodWludCBfZHNwcmljZSk7DQogICAgZnVuY3Rpb24gZ2V0UHJpY2Uoc3RyaW5nIF9kYXRhc291cmNlLCB1aW50IGdhc2xpbWl0KSByZXR1cm5zICh1aW50IF9kc3ByaWNlKTsNCiAgICBmdW5jdGlvbiB1c2VDb3Vwb24oc3RyaW5nIF9jb3Vwb24pOw0KICAgIGZ1bmN0aW9uIHNldFByb29mVHlwZShieXRlIF9wcm9vZlR5cGUpOw0KICAgIGZ1bmN0aW9uIHNldENvbmZpZyhieXRlczMyIF9jb25maWcpOw0KICAgIGZ1bmN0aW9uIHNldEN1c3RvbUdhc1ByaWNlKHVpbnQgX2dhc1ByaWNlKTsNCn0NCmNvbnRyYWN0IE9yYWNsaXplQWRkclJlc29sdmVySSB7DQogICAgZnVuY3Rpb24gZ2V0QWRkcmVzcygpIHJldHVybnMgKGFkZHJlc3MgX2FkZHIpOw0KfQ0KY29udHJhY3QgdXNpbmdPcmFjbGl6ZSB7DQogICAgdWludCBjb25zdGFudCBkYXkgPSA2MCo2MCoyNDsNCiAgICB1aW50IGNvbnN0YW50IHdlZWsgPSA2MCo2MCoyNCo3Ow0KICAgIHVpbnQgY29uc3RhbnQgbW9udGggPSA2MCo2MCoyNCozMDsNCiAgICBieXRlIGNvbnN0YW50IHByb29mVHlwZV9OT05FID0gMHgwMDsNCiAgICBieXRlIGNvbnN0YW50IHByb29mVHlwZV9UTFNOb3RhcnkgPSAweDEwOw0KICAgIGJ5dGUgY29uc3RhbnQgcHJvb2ZTdG9yYWdlX0lQRlMgPSAweDAxOw0KICAgIHVpbnQ4IGNvbnN0YW50IG5ldHdvcmtJRF9hdXRvID0gMDsNCiAgICB1aW50OCBjb25zdGFudCBuZXR3b3JrSURfbWFpbm5ldCA9IDE7DQogICAgdWludDggY29uc3RhbnQgbmV0d29ya0lEX3Rlc3RuZXQgPSAyOw0KICAgIHVpbnQ4IGNvbnN0YW50IG5ldHdvcmtJRF9tb3JkZW4gPSAyOw0KICAgIHVpbnQ4IGNvbnN0YW50IG5ldHdvcmtJRF9jb25zZW5zeXMgPSAxNjE7DQoNCiAgICBPcmFjbGl6ZUFkZHJSZXNvbHZlckkgT0FSOw0KICAgIA0KICAgIE9yYWNsaXplSSBvcmFjbGl6ZTsNCiAgICBtb2RpZmllciBvcmFjbGl6ZUFQSSB7DQogICAgICAgIGlmKGFkZHJlc3MoT0FSKT09MCkgb3JhY2xpemVfc2V0TmV0d29yayhuZXR3b3JrSURfYXV0byk7DQogICAgICAgIG9yYWNsaXplID0gT3JhY2xpemVJKE9BUi5nZXRBZGRyZXNzKCkpOw0KICAgICAgICBfOw0KICAgIH0NCiAgICBtb2RpZmllciBjb3Vwb24oc3RyaW5nIGNvZGUpew0KICAgICAgICBvcmFjbGl6ZSA9IE9yYWNsaXplSShPQVIuZ2V0QWRkcmVzcygpKTsNCiAgICAgICAgb3JhY2xpemUudXNlQ291cG9uKGNvZGUpOw0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG9yYWNsaXplX3NldE5ldHdvcmsodWludDggbmV0d29ya0lEKSBpbnRlcm5hbCByZXR1cm5zKGJvb2wpew0KICAgICAgICBpZiAoZ2V0Q29kZVNpemUoMHgxZDNiMjYzOGE3Y2M5ZjJjYjNkMjk4YTNkYTdhOTBiNjdlNTUwNmVkKT4wKXsgLy9tYWlubmV0DQogICAgICAgICAgICBPQVIgPSBPcmFjbGl6ZUFkZHJSZXNvbHZlckkoMHgxZDNiMjYzOGE3Y2M5ZjJjYjNkMjk4YTNkYTdhOTBiNjdlNTUwNmVkKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGlmIChnZXRDb2RlU2l6ZSgweGMwM2EyNjE1ZDVlZmFmNWY0OWY2MGI3YmI2NTgzZWFlYzIxMmZkZjEpPjApeyAvL3JvcHN0ZW4gdGVzdG5ldA0KICAgICAgICAgICAgT0FSID0gT3JhY2xpemVBZGRyUmVzb2x2ZXJJKDB4YzAzYTI2MTVkNWVmYWY1ZjQ5ZjYwYjdiYjY1ODNlYWVjMjEyZmRmMSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoZ2V0Q29kZVNpemUoMHgyMGUxMmExZjg1OWIzZmVhZTVmYjJhMGEzMmMxOGY1YTY1NTU1YmJmKT4wKXsgLy9ldGhlci5jYW1wIGlkZQ0KICAgICAgICAgICAgT0FSID0gT3JhY2xpemVBZGRyUmVzb2x2ZXJJKDB4MjBlMTJhMWY4NTliM2ZlYWU1ZmIyYTBhMzJjMThmNWE2NTU1NWJiZik7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoZ2V0Q29kZVNpemUoMHg5M2JiYmU1Y2U3NzAzNGUzMDk1ZjA0Nzk5MTk5NjJhOTAzZjg5OGFkKT4wKXsgLy9ub3JzYm9yZyB0ZXN0bmV0DQogICAgICAgICAgICBPQVIgPSBPcmFjbGl6ZUFkZHJSZXNvbHZlckkoMHg5M2JiYmU1Y2U3NzAzNGUzMDk1ZjA0Nzk5MTk5NjJhOTAzZjg5OGFkKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGlmIChnZXRDb2RlU2l6ZSgweDUxZWZhZjRjOGIzYzlhZmJkNWFiOWY0YmJjODI3ODRhYjZlZjhmYWEpPjApeyAvL2Jyb3dzZXItc29saWRpdHkNCiAgICAgICAgICAgIE9BUiA9IE9yYWNsaXplQWRkclJlc29sdmVySSgweDUxZWZhZjRjOGIzYzlhZmJkNWFiOWY0YmJjODI3ODRhYjZlZjhmYWEpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBfX2NhbGxiYWNrKGJ5dGVzMzIgbXlpZCwgc3RyaW5nIHJlc3VsdCkgew0KICAgICAgICBfX2NhbGxiYWNrKG15aWQsIHJlc3VsdCwgbmV3IGJ5dGVzKDApKTsNCiAgICB9DQogICAgZnVuY3Rpb24gX19jYWxsYmFjayhieXRlczMyIG15aWQsIHN0cmluZyByZXN1bHQsIGJ5dGVzIHByb29mKSB7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIG9yYWNsaXplX2dldFByaWNlKHN0cmluZyBkYXRhc291cmNlKSBvcmFjbGl6ZUFQSSBpbnRlcm5hbCByZXR1cm5zICh1aW50KXsNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9nZXRQcmljZShzdHJpbmcgZGF0YXNvdXJjZSwgdWludCBnYXNsaW1pdCkgb3JhY2xpemVBUEkgaW50ZXJuYWwgcmV0dXJucyAodWludCl7DQogICAgICAgIHJldHVybiBvcmFjbGl6ZS5nZXRQcmljZShkYXRhc291cmNlLCBnYXNsaW1pdCk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIG9yYWNsaXplX3F1ZXJ5KHN0cmluZyBkYXRhc291cmNlLCBzdHJpbmcgYXJnKSBvcmFjbGl6ZUFQSSBpbnRlcm5hbCByZXR1cm5zIChieXRlczMyIGlkKXsNCiAgICAgICAgdWludCBwcmljZSA9IG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UpOw0KICAgICAgICBpZiAocHJpY2UgPiAxIGV0aGVyICsgdHguZ2FzcHJpY2UqMjAwMDAwKSByZXR1cm4gMDsgLy8gdW5leHBlY3RlZGx5IGhpZ2ggcHJpY2UNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnF1ZXJ5LnZhbHVlKHByaWNlKSgwLCBkYXRhc291cmNlLCBhcmcpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9xdWVyeSh1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcpIG9yYWNsaXplQVBJIGludGVybmFsIHJldHVybnMgKGJ5dGVzMzIgaWQpew0KICAgICAgICB1aW50IHByaWNlID0gb3JhY2xpemUuZ2V0UHJpY2UoZGF0YXNvdXJjZSk7DQogICAgICAgIGlmIChwcmljZSA+IDEgZXRoZXIgKyB0eC5nYXNwcmljZSoyMDAwMDApIHJldHVybiAwOyAvLyB1bmV4cGVjdGVkbHkgaGlnaCBwcmljZQ0KICAgICAgICByZXR1cm4gb3JhY2xpemUucXVlcnkudmFsdWUocHJpY2UpKHRpbWVzdGFtcCwgZGF0YXNvdXJjZSwgYXJnKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb3JhY2xpemVfcXVlcnkodWludCB0aW1lc3RhbXAsIHN0cmluZyBkYXRhc291cmNlLCBzdHJpbmcgYXJnLCB1aW50IGdhc2xpbWl0KSBvcmFjbGl6ZUFQSSBpbnRlcm5hbCByZXR1cm5zIChieXRlczMyIGlkKXsNCiAgICAgICAgdWludCBwcmljZSA9IG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UsIGdhc2xpbWl0KTsNCiAgICAgICAgaWYgKHByaWNlID4gMSBldGhlciArIHR4Lmdhc3ByaWNlKmdhc2xpbWl0KSByZXR1cm4gMDsgLy8gdW5leHBlY3RlZGx5IGhpZ2ggcHJpY2UNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnF1ZXJ5X3dpdGhHYXNMaW1pdC52YWx1ZShwcmljZSkodGltZXN0YW1wLCBkYXRhc291cmNlLCBhcmcsIGdhc2xpbWl0KTsNCiAgICB9DQogICAgZnVuY3Rpb24gb3JhY2xpemVfcXVlcnkoc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcsIHVpbnQgZ2FzbGltaXQpIG9yYWNsaXplQVBJIGludGVybmFsIHJldHVybnMgKGJ5dGVzMzIgaWQpew0KICAgICAgICB1aW50IHByaWNlID0gb3JhY2xpemUuZ2V0UHJpY2UoZGF0YXNvdXJjZSwgZ2FzbGltaXQpOw0KICAgICAgICBpZiAocHJpY2UgPiAxIGV0aGVyICsgdHguZ2FzcHJpY2UqZ2FzbGltaXQpIHJldHVybiAwOyAvLyB1bmV4cGVjdGVkbHkgaGlnaCBwcmljZQ0KICAgICAgICByZXR1cm4gb3JhY2xpemUucXVlcnlfd2l0aEdhc0xpbWl0LnZhbHVlKHByaWNlKSgwLCBkYXRhc291cmNlLCBhcmcsIGdhc2xpbWl0KTsNCiAgICB9DQogICAgZnVuY3Rpb24gb3JhY2xpemVfcXVlcnkoc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcxLCBzdHJpbmcgYXJnMikgb3JhY2xpemVBUEkgaW50ZXJuYWwgcmV0dXJucyAoYnl0ZXMzMiBpZCl7DQogICAgICAgIHVpbnQgcHJpY2UgPSBvcmFjbGl6ZS5nZXRQcmljZShkYXRhc291cmNlKTsNCiAgICAgICAgaWYgKHByaWNlID4gMSBldGhlciArIHR4Lmdhc3ByaWNlKjIwMDAwMCkgcmV0dXJuIDA7IC8vIHVuZXhwZWN0ZWRseSBoaWdoIHByaWNlDQogICAgICAgIHJldHVybiBvcmFjbGl6ZS5xdWVyeTIudmFsdWUocHJpY2UpKDAsIGRhdGFzb3VyY2UsIGFyZzEsIGFyZzIpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9xdWVyeSh1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcxLCBzdHJpbmcgYXJnMikgb3JhY2xpemVBUEkgaW50ZXJuYWwgcmV0dXJucyAoYnl0ZXMzMiBpZCl7DQogICAgICAgIHVpbnQgcHJpY2UgPSBvcmFjbGl6ZS5nZXRQcmljZShkYXRhc291cmNlKTsNCiAgICAgICAgaWYgKHByaWNlID4gMSBldGhlciArIHR4Lmdhc3ByaWNlKjIwMDAwMCkgcmV0dXJuIDA7IC8vIHVuZXhwZWN0ZWRseSBoaWdoIHByaWNlDQogICAgICAgIHJldHVybiBvcmFjbGl6ZS5xdWVyeTIudmFsdWUocHJpY2UpKHRpbWVzdGFtcCwgZGF0YXNvdXJjZSwgYXJnMSwgYXJnMik7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9yYWNsaXplX3F1ZXJ5KHVpbnQgdGltZXN0YW1wLCBzdHJpbmcgZGF0YXNvdXJjZSwgc3RyaW5nIGFyZzEsIHN0cmluZyBhcmcyLCB1aW50IGdhc2xpbWl0KSBvcmFjbGl6ZUFQSSBpbnRlcm5hbCByZXR1cm5zIChieXRlczMyIGlkKXsNCiAgICAgICAgdWludCBwcmljZSA9IG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UsIGdhc2xpbWl0KTsNCiAgICAgICAgaWYgKHByaWNlID4gMSBldGhlciArIHR4Lmdhc3ByaWNlKmdhc2xpbWl0KSByZXR1cm4gMDsgLy8gdW5leHBlY3RlZGx5IGhpZ2ggcHJpY2UNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnF1ZXJ5Ml93aXRoR2FzTGltaXQudmFsdWUocHJpY2UpKHRpbWVzdGFtcCwgZGF0YXNvdXJjZSwgYXJnMSwgYXJnMiwgZ2FzbGltaXQpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9xdWVyeShzdHJpbmcgZGF0YXNvdXJjZSwgc3RyaW5nIGFyZzEsIHN0cmluZyBhcmcyLCB1aW50IGdhc2xpbWl0KSBvcmFjbGl6ZUFQSSBpbnRlcm5hbCByZXR1cm5zIChieXRlczMyIGlkKXsNCiAgICAgICAgdWludCBwcmljZSA9IG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UsIGdhc2xpbWl0KTsNCiAgICAgICAgaWYgKHByaWNlID4gMSBldGhlciArIHR4Lmdhc3ByaWNlKmdhc2xpbWl0KSByZXR1cm4gMDsgLy8gdW5leHBlY3RlZGx5IGhpZ2ggcHJpY2UNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnF1ZXJ5Ml93aXRoR2FzTGltaXQudmFsdWUocHJpY2UpKDAsIGRhdGFzb3VyY2UsIGFyZzEsIGFyZzIsIGdhc2xpbWl0KTsNCiAgICB9DQogICAgZnVuY3Rpb24gb3JhY2xpemVfY2JBZGRyZXNzKCkgb3JhY2xpemVBUEkgaW50ZXJuYWwgcmV0dXJucyAoYWRkcmVzcyl7DQogICAgICAgIHJldHVybiBvcmFjbGl6ZS5jYkFkZHJlc3MoKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb3JhY2xpemVfc2V0UHJvb2YoYnl0ZSBwcm9vZlApIG9yYWNsaXplQVBJIGludGVybmFsIHsNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnNldFByb29mVHlwZShwcm9vZlApOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9zZXRDdXN0b21HYXNQcmljZSh1aW50IGdhc1ByaWNlKSBvcmFjbGl6ZUFQSSBpbnRlcm5hbCB7DQogICAgICAgIHJldHVybiBvcmFjbGl6ZS5zZXRDdXN0b21HYXNQcmljZShnYXNQcmljZSk7DQogICAgfSAgICANCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9zZXRDb25maWcoYnl0ZXMzMiBjb25maWcpIG9yYWNsaXplQVBJIGludGVybmFsIHsNCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnNldENvbmZpZyhjb25maWcpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldENvZGVTaXplKGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCBfc2l6ZSkgew0KICAgICAgICBhc3NlbWJseSB7DQogICAgICAgICAgICBfc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikNCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgZnVuY3Rpb24gcGFyc2VBZGRyKHN0cmluZyBfYSkgaW50ZXJuYWwgcmV0dXJucyAoYWRkcmVzcyl7DQogICAgICAgIGJ5dGVzIG1lbW9yeSB0bXAgPSBieXRlcyhfYSk7DQogICAgICAgIHVpbnQxNjAgaWFkZHIgPSAwOw0KICAgICAgICB1aW50MTYwIGIxOw0KICAgICAgICB1aW50MTYwIGIyOw0KICAgICAgICBmb3IgKHVpbnQgaT0yOyBpPDIrMioyMDsgaSs9Mil7DQogICAgICAgICAgICBpYWRkciAqPSAyNTY7DQogICAgICAgICAgICBiMSA9IHVpbnQxNjAodG1wW2ldKTsNCiAgICAgICAgICAgIGIyID0gdWludDE2MCh0bXBbaSsxXSk7DQogICAgICAgICAgICBpZiAoKGIxID49IDk3KSYmKGIxIDw9IDEwMikpIGIxIC09IDg3Ow0KICAgICAgICAgICAgZWxzZSBpZiAoKGIxID49IDQ4KSYmKGIxIDw9IDU3KSkgYjEgLT0gNDg7DQogICAgICAgICAgICBpZiAoKGIyID49IDk3KSYmKGIyIDw9IDEwMikpIGIyIC09IDg3Ow0KICAgICAgICAgICAgZWxzZSBpZiAoKGIyID49IDQ4KSYmKGIyIDw9IDU3KSkgYjIgLT0gNDg7DQogICAgICAgICAgICBpYWRkciArPSAoYjEqMTYrYjIpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhZGRyZXNzKGlhZGRyKTsNCiAgICB9DQoNCg0KICAgIGZ1bmN0aW9uIHN0ckNvbXBhcmUoc3RyaW5nIF9hLCBzdHJpbmcgX2IpIGludGVybmFsIHJldHVybnMgKGludCkgew0KICAgICAgICBieXRlcyBtZW1vcnkgYSA9IGJ5dGVzKF9hKTsNCiAgICAgICAgYnl0ZXMgbWVtb3J5IGIgPSBieXRlcyhfYik7DQogICAgICAgIHVpbnQgbWluTGVuZ3RoID0gYS5sZW5ndGg7DQogICAgICAgIGlmIChiLmxlbmd0aCA8IG1pbkxlbmd0aCkgbWluTGVuZ3RoID0gYi5sZW5ndGg7DQogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG1pbkxlbmd0aDsgaSArKykNCiAgICAgICAgICAgIGlmIChhW2ldIDwgYltpXSkNCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICBlbHNlIGlmIChhW2ldID4gYltpXSkNCiAgICAgICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpDQogICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgIGVsc2UgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpDQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICB9IA0KDQogICAgZnVuY3Rpb24gaW5kZXhPZihzdHJpbmcgX2hheXN0YWNrLCBzdHJpbmcgX25lZWRsZSkgaW50ZXJuYWwgcmV0dXJucyAoaW50KQ0KICAgIHsNCiAgICAgICAgYnl0ZXMgbWVtb3J5IGggPSBieXRlcyhfaGF5c3RhY2spOw0KICAgICAgICBieXRlcyBtZW1vcnkgbiA9IGJ5dGVzKF9uZWVkbGUpOw0KICAgICAgICBpZihoLmxlbmd0aCA8IDEgfHwgbi5sZW5ndGggPCAxIHx8IChuLmxlbmd0aCA+IGgubGVuZ3RoKSkgDQogICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgIGVsc2UgaWYoaC5sZW5ndGggPiAoMioqMTI4IC0xKSkNCiAgICAgICAgICAgIHJldHVybiAtMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgICAgdWludCBzdWJpbmRleCA9IDA7DQogICAgICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBoLmxlbmd0aDsgaSArKykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoaFtpXSA9PSBuWzBdKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgc3ViaW5kZXggPSAxOw0KICAgICAgICAgICAgICAgICAgICB3aGlsZShzdWJpbmRleCA8IG4ubGVuZ3RoICYmIChpICsgc3ViaW5kZXgpIDwgaC5sZW5ndGggJiYgaFtpICsgc3ViaW5kZXhdID09IG5bc3ViaW5kZXhdKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdWJpbmRleCsrOw0KICAgICAgICAgICAgICAgICAgICB9ICAgDQogICAgICAgICAgICAgICAgICAgIGlmKHN1YmluZGV4ID09IG4ubGVuZ3RoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludChpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgIH0gICANCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdHJDb25jYXQoc3RyaW5nIF9hLCBzdHJpbmcgX2IsIHN0cmluZyBfYywgc3RyaW5nIF9kLCBzdHJpbmcgX2UpIGludGVybmFsIHJldHVybnMgKHN0cmluZyl7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmEgPSBieXRlcyhfYSk7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmIgPSBieXRlcyhfYik7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmMgPSBieXRlcyhfYyk7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmQgPSBieXRlcyhfZCk7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmUgPSBieXRlcyhfZSk7DQogICAgICAgIHN0cmluZyBtZW1vcnkgYWJjZGUgPSBuZXcgc3RyaW5nKF9iYS5sZW5ndGggKyBfYmIubGVuZ3RoICsgX2JjLmxlbmd0aCArIF9iZC5sZW5ndGggKyBfYmUubGVuZ3RoKTsNCiAgICAgICAgYnl0ZXMgbWVtb3J5IGJhYmNkZSA9IGJ5dGVzKGFiY2RlKTsNCiAgICAgICAgdWludCBrID0gMDsNCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2JhLmxlbmd0aDsgaSsrKSBiYWJjZGVbaysrXSA9IF9iYVtpXTsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9iYi5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmJbaV07DQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBfYmMubGVuZ3RoOyBpKyspIGJhYmNkZVtrKytdID0gX2JjW2ldOw0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX2JkLmxlbmd0aDsgaSsrKSBiYWJjZGVbaysrXSA9IF9iZFtpXTsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9iZS5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmVbaV07DQogICAgICAgIHJldHVybiBzdHJpbmcoYmFiY2RlKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc3RyQ29uY2F0KHN0cmluZyBfYSwgc3RyaW5nIF9iLCBzdHJpbmcgX2MsIHN0cmluZyBfZCkgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nKSB7DQogICAgICAgIHJldHVybiBzdHJDb25jYXQoX2EsIF9iLCBfYywgX2QsICIiKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdHJDb25jYXQoc3RyaW5nIF9hLCBzdHJpbmcgX2IsIHN0cmluZyBfYykgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nKSB7DQogICAgICAgIHJldHVybiBzdHJDb25jYXQoX2EsIF9iLCBfYywgIiIsICIiKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdHJDb25jYXQoc3RyaW5nIF9hLCBzdHJpbmcgX2IpIGludGVybmFsIHJldHVybnMgKHN0cmluZykgew0KICAgICAgICByZXR1cm4gc3RyQ29uY2F0KF9hLCBfYiwgIiIsICIiLCAiIik7DQogICAgfQ0KDQogICAgLy8gcGFyc2VJbnQNCiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcgX2EpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIHBhcnNlSW50KF9hLCAwKTsNCiAgICB9DQoNCiAgICAvLyBwYXJzZUludChwYXJzZUZsb2F0KjEwXl9iKQ0KICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZyBfYSwgdWludCBfYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgew0KICAgICAgICBieXRlcyBtZW1vcnkgYnJlc3VsdCA9IGJ5dGVzKF9hKTsNCiAgICAgICAgdWludCBtaW50ID0gMDsNCiAgICAgICAgYm9vbCBkZWNpbWFscyA9IGZhbHNlOw0KICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGJyZXN1bHQubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgaWYgKChicmVzdWx0W2ldID49IDQ4KSYmKGJyZXN1bHRbaV0gPD0gNTcpKXsNCiAgICAgICAgICAgICAgICBpZiAoZGVjaW1hbHMpew0KICAgICAgICAgICAgICAgICAgIGlmIChfYiA9PSAwKSBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgZWxzZSBfYi0tOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBtaW50ICo9IDEwOw0KICAgICAgICAgICAgICAgIG1pbnQgKz0gdWludChicmVzdWx0W2ldKSAtIDQ4Ow0KICAgICAgICAgICAgfSBlbHNlIGlmIChicmVzdWx0W2ldID09IDQ2KSBkZWNpbWFscyA9IHRydWU7DQogICAgICAgIH0NCiAgICAgICAgaWYgKF9iID4gMCkgbWludCAqPSAxMCoqX2I7DQogICAgICAgIHJldHVybiBtaW50Ow0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB1aW50MnN0cih1aW50IGkpIGludGVybmFsIHJldHVybnMgKHN0cmluZyl7DQogICAgICAgIGlmIChpID09IDApIHJldHVybiAiMCI7DQogICAgICAgIHVpbnQgaiA9IGk7DQogICAgICAgIHVpbnQgbGVuOw0KICAgICAgICB3aGlsZSAoaiAhPSAwKXsNCiAgICAgICAgICAgIGxlbisrOw0KICAgICAgICAgICAgaiAvPSAxMDsNCiAgICAgICAgfQ0KICAgICAgICBieXRlcyBtZW1vcnkgYnN0ciA9IG5ldyBieXRlcyhsZW4pOw0KICAgICAgICB1aW50IGsgPSBsZW4gLSAxOw0KICAgICAgICB3aGlsZSAoaSAhPSAwKXsNCiAgICAgICAgICAgIGJzdHJbay0tXSA9IGJ5dGUoNDggKyBpICUgMTApOw0KICAgICAgICAgICAgaSAvPSAxMDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc3RyaW5nKGJzdHIpOw0KICAgIH0NCiAgICANCiAgICANCg0KfQ0KLy8gPC9PUkFDTElaRV9BUEk+DQoNCg0KDQpjb250cmFjdCBtb3J0YWwgew0KICAgIGFkZHJlc3Mgb3duZXI7DQoNCiAgICBmdW5jdGlvbiBtb3J0YWwoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBraWxsKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgc3VpY2lkZShvd25lcik7DQogICAgfQ0KfQ0KDQoNCmNvbnRyYWN0IHNsb3QgaXMgbW9ydGFsLCB1c2luZ09yYWNsaXplIHsNCiAgICAvKiogd2hpY2ggb3JhY2xpemUgSUQgYmVsb25nIHRvIHdoaWNoIHBsYXllciBhZGRyZXNzPyoqLw0KICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gYWRkcmVzcykgcGxheWVyczsgDQogICAgLyoqIHRoZSBhbW91bnQgb2YgZ2FzIHRvIGJlIHNlbnQgdG8gb3JhY2xpemUqKi8NCiAgICB1aW50MzIgcHVibGljIG9yYWNsaXplR2FzOw0KICAgIC8qKiBwcm9iYWJpbGl0aWVzIG9mIHRoZSBkaWZmZXJlbnQgcmVzdWx0cyAoYWJzb2x1dGUgZnJlcXVlbmN5IG91dCBvZiAxLjAwMC4wMDAgc3BpbnMpKiovDQogICAgdWludDMyW10gcHVibGljIHByb2JhYmlsaXRpZXM7DQogICAgLyoqIHRoZSBwcml6ZSBwZXIgcHJvYmFiaWxpdHkgKHNoaWZ0ZWQgYnkgdHdvIGRpZ2l0cyAtPiAzNzUgaXMgYWN1dHVhbGx5IDMuNzUpKi8NCiAgICB1aW50MzJbXSBwdWJsaWMgcHJpemVzOw0KICAgIC8qKiB0aGUgYW1vdW50IG9mIGV0aGVyIHBlciBiZXQgKiovDQogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50KSBiZXRzOw0KICAgIC8qKiB0aGUgb3JhY2xpemUgcXVlcnkgc3RyaW5nKiovDQogICAgc3RyaW5nIHB1YmxpYyBxdWVyeTsNCiAgICAvKiogdGhlIHR5cGUgb2YgdGhlIG9yYWNsaXplIHF1ZXJ5KiovDQogICAgc3RyaW5nIHB1YmxpYyBxdWVyeVR5cGU7DQogICAgLyoqIHRlbGwgdGhlIGxpc3RlbmVycyB0aGUgcmVzdWx0DQogICAgZmlyc3QgdmFsdWU6IHR5cGUsIHNlY29uZCB2YWx1ZTogcGxheWVyIGFkZHJlc3MsIHRoaXJkIHZhbHVlOiBvcmFjbGl6ZSBJRCoqLw0KICAgIGV2ZW50IGdhbWVSZXN1bHQodWludCwgYWRkcmVzcyk7Ly8gMC0+ICU1OyAxIC0+IDgwJTsgMiAtPiBsb3NzLCAzLT5lcnJvciBpbiBjYWxsYmFjazsNCg0KICAgIA0KICAgIC8qKiAqKi8NCiAgICBmdW5jdGlvbiBzbG90KCkgcGF5YWJsZXsNCiAgICAgICAgcHJvYmFiaWxpdGllcy5wdXNoKDQpOw0KICAgICAgICBwcm9iYWJpbGl0aWVzLnB1c2goNTApOw0KICAgICAgICBwcm9iYWJpbGl0aWVzLnB1c2goMjAwKTsNCiAgICAgICAgcHJvYmFiaWxpdGllcy5wdXNoKDYwMCk7DQogICAgICAgIHByb2JhYmlsaXRpZXMucHVzaCgxMDAwKTsNCiAgICAgICAgcHJvYmFiaWxpdGllcy5wdXNoKDIwMDApOw0KICAgICAgICBwcm9iYWJpbGl0aWVzLnB1c2goNDAwMCk7DQogICAgICAgIHByb2JhYmlsaXRpZXMucHVzaCgzMDAwMCk7DQogICAgICAgIHByb2JhYmlsaXRpZXMucHVzaCg5MDAwMCk7DQogICAgICAgIHByaXplcy5wdXNoKDUwMDApOw0KICAgICAgICBwcml6ZXMucHVzaCgyNTAwKTsNCiAgICAgICAgcHJpemVzLnB1c2goMjAwMCk7DQogICAgICAgIHByaXplcy5wdXNoKDE5MDApOw0KICAgICAgICBwcml6ZXMucHVzaCgxODAwKTsNCiAgICAgICAgcHJpemVzLnB1c2goMTcwMCk7DQogICAgICAgIHByaXplcy5wdXNoKDE2MDApOw0KICAgICAgICBwcml6ZXMucHVzaCgxNTAwKTsNCiAgICAgICAgcHJpemVzLnB1c2goMzc1KTsNCiAgICAgICAgb3JhY2xpemVHYXMgPSAyNTAwMDA7DQogICAgICAgIHF1ZXJ5ID0gInJhbmRvbSBudW1iZXIgYmV0d2VlbiAxIGFuZCAxMDAwMDAwIjsNCiAgICAgICAgcXVlcnlUeXBlID0gIldvbGZyYW1BbHBoYSI7DQogICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAqIElmIG1vcmUgdGhhbiAwLjEgZXRoZXIgYW5kIGxlc3MgdGhhbiAxIGV0aGVyIGlzIHNlbnQgYW5kIHRoZSBjb250cmFjdHMgaG9sZHMgZW5vdWdoIHRvIHBheSBvdXQgdGhlIHBsYXllciBpbiBjYXNlIG9mIGEgd2luLCBhIHJhbmRvbSBudW1iZXIgaXMgYXNrZWQgZnJvbSBvcmFjbGl6ZS4NCiAgICAgKiAqLw0KDQogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsNCiAgICAgICAgaWYobXNnLnNlbmRlciE9b3duZXIpey8vb3duZXIgc2hvdWxkIGJlIGFibGUgdG8gc2VuZCBmdW5kcyB0byB0aGUgY29udHJhY3QgYW55dGltZQ0KICAgICAgICAgICAgaWYobXNnLnZhbHVlPDEwMDAwMDAwMDAwMDAwMDAwMHx8bXNnLnZhbHVlPjEwMDAwMDAwMDAwMDAwMDAwMDApIHRocm93Oy8vYmV0IGhhcyB0byBsaWUgYmV0d2VlbiAwLjEgYW5kIDEgRVRIDQogICAgICAgICAgICBpZihhZGRyZXNzKHRoaXMpLmJhbGFuY2UgPCBtc2cudmFsdWUvMTAwKnByaXplc1swXSkgdGhyb3c7IC8vbWFrZSBzdXJlIHRoZSBjb250cmFjdCBpcyBhYmxlIHRvIHBheSBvdXQgdGhlIHBsYXllciBpbiBjYXNlIGhlIHdpbnMNCiAgICAgICAgICAgIGJ5dGVzMzIgb2lkID0gb3JhY2xpemVfcXVlcnkocXVlcnlUeXBlLCBxdWVyeSwgb3JhY2xpemVHYXMpOw0KICAgICAgICAgICAgYmV0c1tvaWRdID0gbXNnLnZhbHVlOw0KICAgICAgICAgICAgcGxheWVyc1tvaWRdID0gbXNnLnNlbmRlcjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFRoZSByYW5kb20gbnVtYmVyIGZyb20gT3JhY2xpemVzIGRlY2lkZXMgdGhlIGdhbWUgcmVzdWx0Lg0KICAgICAqIElmIE9yYWNsaXplIHNlbmRzIGEgbWVzc2FnZSBpbnN0ZWFkIG9mIHRoZSByZXF1ZXN0ZWQgbnVtYmVyLCB0aGUgYmV0IGlzIHJldHVybmVkIHRvIHRoZSBwbGF5ZXIuDQogICAgICogKi8NCiAgICBmdW5jdGlvbiBfX2NhbGxiYWNrKGJ5dGVzMzIgbXlpZCwgc3RyaW5nIHJlc3VsdCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvcmFjbGl6ZV9jYkFkZHJlc3MoKSkgdGhyb3c7DQogICAgICAgIGlmIChwbGF5ZXJzW215aWRdPT0weDApIHRocm93Ow0KICAgICAgICB1aW50IHJhbmRvbSA9IGNvbnZlcnRUb0ludChyZXN1bHQpOw0KICAgICAgICBpZihyYW5kb209PTApey8vcmVzdWx0IG5vdCBhIG51bWJlciwgcmV0dXJuIGJldA0KICAgICAgICAgICAgaWYoIXBsYXllcnNbbXlpZF0uc2VuZChiZXRzW215aWRdKSkgdGhyb3c7DQogICAgICAgICAgICBnYW1lUmVzdWx0KDEwMSxwbGF5ZXJzW215aWRdKTsNCiAgICAgICAgICAgIGRlbGV0ZSBwbGF5ZXJzW215aWRdOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHVpbnQgcmFuZ2UgPSAwOw0KICAgICAgICBmb3IodWludCBpID0gMDsgaTxwcm9iYWJpbGl0aWVzLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgIHJhbmdlKz1wcm9iYWJpbGl0aWVzW2ldOw0KICAgICAgICAgICAgaWYocmFuZG9tPD1yYW5nZSl7DQogICAgICAgICAgICAgICAgaWYoIXBsYXllcnNbbXlpZF0uc2VuZChiZXRzW215aWRdLzEwMCpwcml6ZXNbaV0pKXsNCiAgICAgICAgICAgICAgICAgICAgZ2FtZVJlc3VsdCgxMDAscGxheWVyc1tteWlkXSk7Ly8xMDAgLT4gZXJyb3INCiAgICAgICAgICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICBnYW1lUmVzdWx0KGksIHBsYXllcnNbbXlpZF0pOw0KICAgICAgICAgICAgICAgIGRlbGV0ZSBwbGF5ZXJzW215aWRdOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vZWxzZSBwbGF5ZXIgbG9zZXMgZXZlcnl0aGluZw0KICAgICAgICBnYW1lUmVzdWx0KHByb2JhYmlsaXRpZXMubGVuZ3RoLCBwbGF5ZXJzW215aWRdKTsNCiAgICAgICAgDQogICAgICAgIGRlbGV0ZSBwbGF5ZXJzW215aWRdOw0KICAgICAgICANCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogc2V0cyB0aGUgYW1vdW50IG9mIGdhcyB0byBiZSBzZW50IHRvIG9yYWNsaXplDQogICAgICogKi8NCiAgICBmdW5jdGlvbiBzZXRPcmFjbGl6ZUdhcyh1aW50MzIgbmV3R2FzKXsNCiAgICAgICAgaWYoIShtc2cuc2VuZGVyPT1vd25lcikpIHRocm93Ow0KICAgIAlvcmFjbGl6ZUdhcyA9IG5ld0dhczsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogc2V0cyB0aGUgYW1vdW50IG9mIGdhcyB0byBiZSBzZW50IHRvIG9yYWNsaXplDQogICAgICogKi8NCiAgICBmdW5jdGlvbiBzZXRPcmFjbGl6ZVF1ZXJ5KHN0cmluZyBuZXdRdWVyeSl7DQogICAgICAgIGlmKCEobXNnLnNlbmRlcj09b3duZXIpKSB0aHJvdzsNCiAgICAJcXVlcnkgPSBuZXdRdWVyeTsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogc2V0cyB0aGUgYW1vdW50IG9mIGdhcyB0byBiZSBzZW50IHRvIG9yYWNsaXplDQogICAgICogKi8NCiAgICBmdW5jdGlvbiBzZXRPcmFjbGl6ZVF1ZXJ5VHlwZShzdHJpbmcgbmV3UXVlcnlUeXBlKXsNCiAgICAgICAgaWYoIShtc2cuc2VuZGVyPT1vd25lcikpIHRocm93Ow0KICAgIAlxdWVyeVR5cGUgPSBuZXdRdWVyeVR5cGU7DQogICAgfQ0KICAgIA0KICAgIC8qKiBzZXQgdGhlIHByb2JhYmlsaXRpZXMgb2YgdGhlIHJlc3VsdHMgKGFic29sdXRlIGZyZXF1ZW5jaWVzIG91dCBvZiAxLjAwMC4wMDAgc3BpbnMpICoqLw0KICAgIGZ1bmN0aW9uIHNldFByb2JhYmlsaXRpZXModWludDMyW10gcHJvYnMpew0KICAgICAgICBpZighKG1zZy5zZW5kZXI9PW93bmVyKSkgdGhyb3c7DQogICAgICAgIHByb2JhYmlsaXRpZXM9cHJvYnM7DQogICAgfQ0KICAgIA0KICAgIC8qKiBzZXQgdGhlIHByaXplcyBvZiB0aGUgcmVzdWx0cyAoc2hpZnRlZCBieSAyIGRpZ2l0cyAtPiAzNzUgbWVhbnMgMy43NSkqKi8NCiAgICBmdW5jdGlvbiBzZXRQcml6ZXModWludDMyW10gcHJpeil7DQogICAgICAgIGlmKCEobXNnLnNlbmRlcj09b3duZXIpKSB0aHJvdzsNCiAgICAgICAgcHJpemVzPXByaXo7DQogICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAqIGFsbG93cyB0aGUgb3duZXIgdG8gY29sbGVjdCB0aGUgYWNjdW11bGF0ZWQgbG9zc2VzDQogICAgICogKi8NCiAgICBmdW5jdGlvbiBjb2xsZWN0RmVlcyh1aW50IGFtb3VudCl7DQogICAgICAgIGlmKCEobXNnLnNlbmRlcj09b3duZXIpKSB0aHJvdzsNCiAgICAgICAgaWYoIGFkZHJlc3ModGhpcykuYmFsYW5jZSA8IGFtb3VudCkgdGhyb3c7DQogICAgICAgIGlmKCFvd25lci5zZW5kKGFtb3VudCkpIHRocm93Ow0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBjb252ZXJ0cyBhIHN0cmluZyB0byBhbiBpbnRlZ2VyICh0aGVyZSBtYXkgb25seSBiZSBkaWdpdHMpDQogICAgICogKi8NCiAgICBmdW5jdGlvbiBjb252ZXJ0VG9JbnQoc3RyaW5nIF9hKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIGJ5dGVzIG1lbW9yeSBicmVzdWx0ID0gYnl0ZXMoX2EpOw0KICAgICAgICB1aW50IG1pbnQgPSAwOw0KICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGJyZXN1bHQubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgaWYgKChicmVzdWx0W2ldID49IDQ4KSYmKGJyZXN1bHRbaV0gPD0gNTcpKXsNCiAgICAgICAgICAgICAgICBtaW50ICo9IDEwOw0KICAgICAgICAgICAgICAgIG1pbnQgKz0gdWludChicmVzdWx0W2ldKSAtIDQ4Ow0KICAgICAgICAgICAgfSBlbHNlIGlmKChicmVzdWx0W2ldID49IDU4KSYmKGJyZXN1bHRbaV0gPD0gMTI2KSkgcmV0dXJuIDA7Ly9pdHMgYSBtZXNzYWdlLCBubyBwdXJlIGludA0KICAgICAgICB9DQogICAgICAgIHJldHVybiBtaW50Ow0KICAgIH0NCn0='