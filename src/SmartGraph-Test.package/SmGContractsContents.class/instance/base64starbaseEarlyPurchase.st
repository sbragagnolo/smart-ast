base 64 content
base64starbaseEarlyPurchase
	^'Y29udHJhY3QgQWJzdHJhY3RTdGFyYmFzZUNyb3dkc2FsZSB7DQogICAgZnVuY3Rpb24gc3RhcnREYXRlKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdGFydERhdGUpIHt9DQp9DQoNCi8vLyBAdGl0bGUgRWFybHlQdXJjaGFzZSBjb250cmFjdCAtIEtlZXAgdHJhY2sgb2YgcHVyY2hhc2VkIGFtb3VudCBieSBFYXJseSBQdXJjaGFzZXJzDQovLy8gQGF1dGhvciBTdGFyYmFzZSBQVEUuIExURC4gLSA8aW5mb0BzdGFyYmFzZS5jbz4NCmNvbnRyYWN0IFN0YXJiYXNlRWFybHlQdXJjaGFzZSB7DQogICAgLyoNCiAgICAgKiAgQ29uc3RhbnRzDQogICAgICovDQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBQVVJDSEFTRV9BTU9VTlRfVU5JVCA9ICdDTlknOyAgICAvLyBDaGluZXNlIFl1YW4NCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFBVUkNIQVNFX0FNT1VOVF9SQVRFX1JFRkVSRU5DRSA9ICdodHRwOi8vd3d3LnhlLmNvbS9jdXJyZW5jeXRhYmxlcy8nOw0KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBVUkNIQVNFX0FNT1VOVF9DQVAgPSA5MDAwMDAwOw0KDQogICAgLyoNCiAgICAgKiAgVHlwZXMNCiAgICAgKi8NCiAgICBzdHJ1Y3QgRWFybHlQdXJjaGFzZSB7DQogICAgICAgIGFkZHJlc3MgcHVyY2hhc2VyOw0KICAgICAgICB1aW50IGFtb3VudDsgICAgICAgIC8vIENOWSBiYXNlZCBhbW91bnQNCiAgICAgICAgdWludCBwdXJjaGFzZWRBdDsgICAvLyB0aW1lc3RhbXANCiAgICB9DQoNCiAgICAvKg0KICAgICAqICBFeHRlcm5hbCBjb250cmFjdHMNCiAgICAgKi8NCiAgICBBYnN0cmFjdFN0YXJiYXNlQ3Jvd2RzYWxlIHB1YmxpYyBzdGFyYmFzZUNyb3dkc2FsZTsNCg0KICAgIC8qDQogICAgICogIFN0b3JhZ2UNCiAgICAgKi8NCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCiAgICBFYXJseVB1cmNoYXNlW10gcHVibGljIGVhcmx5UHVyY2hhc2VzOw0KICAgIHVpbnQgcHVibGljIGVhcmx5UHVyY2hhc2VDbG9zZWRBdDsNCg0KICAgIC8qDQogICAgICogIE1vZGlmaWVycw0KICAgICAqLw0KICAgIG1vZGlmaWVyIG5vRXRoZXIoKSB7DQogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIF87DQogICAgfQ0KDQogICAgbW9kaWZpZXIgb25seUJlZm9yZUNyb3dkc2FsZSgpIHsNCiAgICAgICAgaWYgKGFkZHJlc3Moc3RhcmJhc2VDcm93ZHNhbGUpICE9IDAgJiYNCiAgICAgICAgICAgIHN0YXJiYXNlQ3Jvd2RzYWxlLnN0YXJ0RGF0ZSgpID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5RWFybHlQdXJjaGFzZVRlcm0oKSB7DQogICAgICAgIGlmIChlYXJseVB1cmNoYXNlQ2xvc2VkQXQgPiAwKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIC8qDQogICAgICogIENvbnRyYWN0IGZ1bmN0aW9ucw0KICAgICAqLw0KICAgIC8vLyBAZGV2IFJldHVybnMgZWFybHkgcHVyY2hhc2VkIGFtb3VudCBieSBwdXJjaGFzZXIncyBhZGRyZXNzDQogICAgLy8vIEBwYXJhbSBwdXJjaGFzZXIgUHVyY2hhc2VyIGFkZHJlc3MNCiAgICBmdW5jdGlvbiBwdXJjaGFzZWRBbW91bnRCeShhZGRyZXNzIHB1cmNoYXNlcikNCiAgICAgICAgZXh0ZXJuYWwNCiAgICAgICAgY29uc3RhbnQNCiAgICAgICAgbm9FdGhlcg0KICAgICAgICByZXR1cm5zICh1aW50IGFtb3VudCkNCiAgICB7DQogICAgICAgIGZvciAodWludCBpOyBpIDwgZWFybHlQdXJjaGFzZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChlYXJseVB1cmNoYXNlc1tpXS5wdXJjaGFzZXIgPT0gcHVyY2hhc2VyKSB7DQogICAgICAgICAgICAgICAgYW1vdW50ICs9IGVhcmx5UHVyY2hhc2VzW2ldLmFtb3VudDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFJldHVybnMgdG90YWwgYW1vdW50IG9mIHJhaXNlZCBmdW5kcyBieSBFYXJseSBQdXJjaGFzZXJzDQogICAgZnVuY3Rpb24gdG90YWxBbW91bnRPZkVhcmx5UHVyY2hhc2VzKCkNCiAgICAgICAgY29uc3RhbnQNCiAgICAgICAgbm9FdGhlcg0KICAgICAgICByZXR1cm5zICh1aW50IHRvdGFsQW1vdW50KQ0KICAgIHsNCiAgICAgICAgZm9yICh1aW50IGk7IGkgPCBlYXJseVB1cmNoYXNlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdG90YWxBbW91bnQgKz0gZWFybHlQdXJjaGFzZXNbaV0uYW1vdW50Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgZWFybHkgcHVyY2hhc2VzDQogICAgZnVuY3Rpb24gbnVtYmVyT2ZFYXJseVB1cmNoYXNlcygpDQogICAgICAgIGV4dGVybmFsDQogICAgICAgIGNvbnN0YW50DQogICAgICAgIG5vRXRoZXINCiAgICAgICAgcmV0dXJucyAodWludCkNCiAgICB7DQogICAgICAgIHJldHVybiBlYXJseVB1cmNoYXNlcy5sZW5ndGg7DQogICAgfQ0KDQogICAgLy8vIEBkZXYgQXBwZW5kIGFuIGVhcmx5IHB1cmNoYXNlIGxvZw0KICAgIC8vLyBAcGFyYW0gcHVyY2hhc2VyIFB1cmNoYXNlciBhZGRyZXNzDQogICAgLy8vIEBwYXJhbSBhbW91bnQgUHVyY2hhc2UgYW1vdW50DQogICAgLy8vIEBwYXJhbSBwdXJjaGFzZWRBdCBUaW1lc3RhbXAgb2YgcHVyY2hhc2VkIGRhdGUNCiAgICBmdW5jdGlvbiBhcHBlbmRFYXJseVB1cmNoYXNlKGFkZHJlc3MgcHVyY2hhc2VyLCB1aW50IGFtb3VudCwgdWludCBwdXJjaGFzZWRBdCkNCiAgICAgICAgZXh0ZXJuYWwNCiAgICAgICAgbm9FdGhlcg0KICAgICAgICBvbmx5T3duZXINCiAgICAgICAgb25seUJlZm9yZUNyb3dkc2FsZQ0KICAgICAgICBvbmx5RWFybHlQdXJjaGFzZVRlcm0NCiAgICAgICAgcmV0dXJucyAoYm9vbCkNCiAgICB7DQogICAgICAgIGlmIChhbW91bnQgPT0gMCB8fA0KICAgICAgICAgICAgdG90YWxBbW91bnRPZkVhcmx5UHVyY2hhc2VzKCkgKyBhbW91bnQgPiBQVVJDSEFTRV9BTU9VTlRfQ0FQKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAocHVyY2hhc2VkQXQgPT0gMCB8fCBwdXJjaGFzZWRBdCA+IG5vdykgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICBlYXJseVB1cmNoYXNlcy5wdXNoKEVhcmx5UHVyY2hhc2UocHVyY2hhc2VyLCBhbW91bnQsIHB1cmNoYXNlZEF0KSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IENsb3NlIGVhcmx5IHB1cmNoYXNlIHRlcm0NCiAgICBmdW5jdGlvbiBjbG9zZUVhcmx5UHVyY2hhc2UoKQ0KICAgICAgICBleHRlcm5hbA0KICAgICAgICBub0V0aGVyDQogICAgICAgIG9ubHlPd25lcg0KICAgICAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgZWFybHlQdXJjaGFzZUNsb3NlZEF0ID0gbm93Ow0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFNldHVwIGZ1bmN0aW9uIHNldHMgZXh0ZXJuYWwgY29udHJhY3QncyBhZGRyZXNzDQogICAgLy8vIEBwYXJhbSBzdGFyYmFzZUNyb3dkc2FsZUFkZHJlc3MgVG9rZW4gYWRkcmVzcw0KICAgIGZ1bmN0aW9uIHNldHVwKGFkZHJlc3Mgc3RhcmJhc2VDcm93ZHNhbGVBZGRyZXNzKQ0KICAgICAgICBleHRlcm5hbA0KICAgICAgICBub0V0aGVyDQogICAgICAgIG9ubHlPd25lcg0KICAgICAgICByZXR1cm5zIChib29sKQ0KICAgIHsNCiAgICAgICAgaWYgKGFkZHJlc3Moc3RhcmJhc2VDcm93ZHNhbGUpID09IDApIHsNCiAgICAgICAgICAgIHN0YXJiYXNlQ3Jvd2RzYWxlID0gQWJzdHJhY3RTdGFyYmFzZUNyb3dkc2FsZShzdGFyYmFzZUNyb3dkc2FsZUFkZHJlc3MpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yIGZ1bmN0aW9uDQogICAgZnVuY3Rpb24gU3RhcmJhc2VFYXJseVB1cmNoYXNlKCkgbm9FdGhlciB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICAvLy8gQGRldiBGYWxsYmFjayBmdW5jdGlvbiBhbHdheXMgZmFpbHMNCiAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgIHRocm93Ow0KICAgIH0NCn0='