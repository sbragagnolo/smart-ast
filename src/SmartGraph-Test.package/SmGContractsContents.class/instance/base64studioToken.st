base 64 content
base64studioToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCmNvbnRyYWN0IHRva2VuUmVjaXBpZW50IHsgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSk7IH0NCg0KDQovKioNCiAqIEB0aXRsZSBTYWZlTWF0aA0KICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3INCiAqLw0KbGlicmFyeSBTYWZlTWF0aCB7DQogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOw0KICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7DQogICAgcmV0dXJuIGM7DQogIH0NCg0KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDANCiAgICB1aW50MjU2IGMgPSBhIC8gYjsNCiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZA0KICAgIHJldHVybiBjOw0KICB9DQoNCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgYXNzZXJ0KGIgPD0gYSk7DQogICAgcmV0dXJuIGEgLSBiOw0KICB9DQoNCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgdWludDI1NiBjID0gYSArIGI7DQogICAgYXNzZXJ0KGMgPj0gYSk7DQogICAgcmV0dXJuIGM7DQogIH0NCn0NCg0KDQogICBjb250cmFjdCBTdHVkaW9Ub2tlbiAgew0KICAgICAgIA0KICAgICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2Ow0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdUb2tlbiAwLjEnOw0KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsNCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsNCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQogICANCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCiAgICBib29sIHB1YmxpYyBwYXVzZUZvckRpdmlkZW5kID0gZmFsc2U7DQogICAgDQogICAgDQogICAgDQoNCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8NCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7DQogICAgbWFwcGluZyAoIHVpbnQgPT4gYWRkcmVzcyApIHB1YmxpYyBhY2NvdW50SW5kZXg7DQogICAgdWludCBhY2NvdW50Q291bnQ7DQogICAgDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOw0KDQogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQoNCiAgICAvKiBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudCAqLw0KICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOw0KDQogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovDQogICAgZnVuY3Rpb24gU3R1ZGlvVG9rZW4oDQogICAgICAgKSB7DQogICAgICAgICAgICANCiAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHkgPSA1MDAwMDAwMDsNCiAgICAgICAgdWludDggZGVjaW1hbFVuaXRzID0gMDsgICANCiAgICAgICAgYXBwZW5kVG9rZW5Ib2xkZXJzICggbXNnLnNlbmRlciApOyAgICANCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zDQogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5DQogICAgICAgIG5hbWUgPSAiU3R1ZGlvIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3Nlcw0KICAgICAgICBzeW1ib2wgPSAiU1RETyI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzDQogICAgICAgIGRlY2ltYWxzID0gZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMNCiAgICAgICAgDQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZ2V0QmFsYW5jZSAoIGFkZHJlc3MgdG9rZW5Ib2xkZXIgKSByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHJldHVybiBiYWxhbmNlT2ZbIHRva2VuSG9sZGVyIF07DQogICAgfQ0KICAgIA0KICAgIA0KICAgIGZ1bmN0aW9uIGdldEFjY291bnRDb3VudCAoICkgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICByZXR1cm4gYWNjb3VudENvdW50Ow0KICAgIH0NCiAgICANCiAgICANCiAgICBmdW5jdGlvbiBnZXRBZGRyZXNzICggdWludDI1NiBzbG90ICkgcmV0dXJucyAoIGFkZHJlc3MgKSB7DQogICAgICAgIHJldHVybiBhY2NvdW50SW5kZXhbIHNsb3QgXTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZ2V0VG90YWxTdXBwbHkgKCApIHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5Ow0KICAgIH0NCiAgICANCiAgICANCiAgIA0KICAgIA0KICAgDQogICAgZnVuY3Rpb24gYXBwZW5kVG9rZW5Ib2xkZXJzICggYWRkcmVzcyB0b2tlbkhvbGRlciApIHByaXZhdGUgew0KICAgICAgICANCiAgICAgICAgaWYgKCBiYWxhbmNlT2ZbIHRva2VuSG9sZGVyIF0gPT0gMCApeyANCiAgICAgICAgICAgIGFjY291bnRJbmRleFsgYWNjb3VudENvdW50IF0gPSB0b2tlbkhvbGRlcjsNCiAgICAgICAgICAgIGFjY291bnRDb3VudCsrOw0KICAgICAgICB9DQogICAgICAgIA0KICAgIH0NCiAgICANCg0KICAgIC8qIFNlbmQgY29pbnMgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsNCiAgICAgICAgaWYgKF90byA9PSAweDApIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQNCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gNCiAgICAgICAgaWYgKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZU9mW190b10pIHRocm93Ow0KICAgICAgICBpZiAoICBwYXVzZUZvckRpdmlkZW5kID09IHRydWUgKSB0aHJvdzsvLyBDaGVjayBmb3Igb3ZlcmZsb3dzDQogICAgICAgIGFwcGVuZFRva2VuSG9sZGVycyAoIF90byk7DQogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyDQogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQNCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQ0KICAgIH0NCg0KICAgIC8qIEFsbG93IGFub3RoZXIgY29udHJhY3QgdG8gc3BlbmQgc29tZSB0b2tlbnMgaW4geW91ciBiZWhhbGYgKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKQ0KICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLyogQXBwcm92ZSBhbmQgdGhlbiBjb21tdW5pY2F0ZSB0aGUgYXBwcm92ZWQgY29udHJhY3QgaW4gYSBzaW5nbGUgdHggKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkNCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7DQogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7DQogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9ICAgICAgICANCg0KICAgIC8qIEEgY29udHJhY3QgYXR0ZW1wdHMgdG8gZ2V0IHRoZSBjb2lucyAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBpZiAoX3RvID09IDB4MCkgdGhyb3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQNCiAgICAgICAgaWYgKGJhbGFuY2VPZltfZnJvbV0gPCBfdmFsdWUpIHRocm93OyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoDQogICAgICAgIGlmIChiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZltfdG9dKSB0aHJvdzsgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MNCiAgICAgICAgaWYgKF92YWx1ZSA+IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pIHRocm93OyAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlDQogICAgICAgIGlmICggIHBhdXNlRm9yRGl2aWRlbmQgPT0gdHJ1ZSApIHRocm93Oy8vIENoZWNrIGZvciBvdmVyZmxvd3MNCiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyDQogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50DQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoDQogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcg0KICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5DQogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBpZiAoYmFsYW5jZU9mW19mcm9tXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaA0KICAgICAgICBpZiAoX3ZhbHVlID4gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSkgdGhyb3c7ICAgIC8vIENoZWNrIGFsbG93YW5jZQ0KICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcg0KICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkNCiAgICAgICAgQnVybihfZnJvbSwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICAgIA0KICAgICBtb2RpZmllciBvbmx5T3duZXIgew0KICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOw0KICAgICAgICBfOw0KICAgIH0NCiAgICANCiAgICANCiAgICANCiAgICANCiAgICBmdW5jdGlvbiBwYXVzZUZvckRpdmlkZW5kKCkgb25seU93bmVyew0KICAgICAgICANCiAgICAgICAgaWYgKCBwYXVzZUZvckRpdmlkZW5kID09IHRydWUgKSBwYXVzZUZvckRpdmlkZW5kID0gZmFsc2U7IGVsc2UgcGF1c2VGb3JEaXZpZGVuZCA9IHRydWU7DQogICAgICAgIA0KICAgIH0NCiAgICANCiAgICANCiAgICANCiAgICANCiAgICANCiAgICANCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcCAoIGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7DQogICAgICAgIA0KICAgICAgICBvd25lciA9IG5ld093bmVyOw0KICAgICAgICANCiAgICAgICAgDQogICAgfQ0KICAgIA0KICAgIA0KICAgIA0KICAgIA0KfQ0KDQoNCmNvbnRyYWN0IERpdmlkZW5kIHsNCiAgICBTdHVkaW9Ub2tlbiBzdHVkaW87IC8vIFN0dWRpb0lDTyBjb250cmFjdCBpbnN0YW5jZQ0KICAgIGFkZHJlc3Mgc3R1ZGlvX2NvbnRyYWN0Ow0KICAgDQogIA0KICAgIHVpbnQgcHVibGljIGFjY291bnRDb3VudDsNCiAgICBldmVudCBMb2codWludCk7DQogICAgYWRkcmVzcyBvd25lcjsNCg0KDQogICAgdWludDI1NiBwdWJsaWMgZXRoZXJfcHJvZml0Ow0KICAgIHVpbnQyNTYgcHVibGljIHByb2ZpdF9wZXJfdG9rZW47DQogICAgdWludDI1NiBob2xkZXJfdG9rZW5fYmFsYW5jZTsNCiAgICB1aW50MjU2IGhvbGRlcl9wcm9maXQ7DQogICAgDQogICAgDQogICAgDQogICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsNCiAgICANCiAgICANCiAgICBldmVudCBNZXNzYWdlKHVpbnQyNTYgaG9sZGVyX3Byb2ZpdCk7DQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkX2Zyb20sIGFkZHJlc3MgaW5kZXhlZF90bywgdWludCB2YWx1ZSk7DQoNCiAgICAvLyBtb2RpZmllciBmb3Igb3duZXINCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICBfOw0KICAgIH0NCiAgICAvLyBjb25zdHJ1Y3RvciB3aGljaCB0YWtlcyBhZGRyZXNzIG9mIHNtYXJ0IGNvbnRyYWN0DQogICAgZnVuY3Rpb24gRGl2aWRlbmQoYWRkcmVzcyBTdHVkaW9jb250cmFjdCkgew0KICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7DQogICAgICAgIHN0dWRpbyA9IFN0dWRpb1Rva2VuKFN0dWRpb2NvbnRyYWN0KTsNCiAgICB9DQogICAgLy8gdW5uYW1lZCBmdW5jdGlvbiB3aGljaCB0YWtlcyBldGhlcg0KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7DQogICAgICAgDQogICAgICAgIHN0dWRpby5wYXVzZUZvckRpdmlkZW5kKCk7DQoNCiAgICAgICAgYWNjb3VudENvdW50ID0gc3R1ZGlvLmdldEFjY291bnRDb3VudCgpOw0KICAgICAgICANCiAgICAgICAgICBMb2coYWNjb3VudENvdW50KTsNCg0KICAgICAgICAgICAgZXRoZXJfcHJvZml0ID0gbXNnLnZhbHVlOw0KDQogICAgICAgICAgICBwcm9maXRfcGVyX3Rva2VuID0gZXRoZXJfcHJvZml0IC8gc3R1ZGlvLmdldFRvdGFsU3VwcGx5KCk7DQoNCiAgICAgICAgICAgIE1lc3NhZ2UocHJvZml0X3Blcl90b2tlbik7DQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZm9yICggdWludCBpPTA7IGkgPCBhY2NvdW50Q291bnQgOyBpKysgKSB7DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIGFkZHJlc3MgdG9rZW5Ib2xkZXIgPSBzdHVkaW8uZ2V0QWRkcmVzcyhpKTsNCiAgICAgICAgICAgICAgIGJhbGFuY2VPZlsgdG9rZW5Ib2xkZXIgXSArPSAgc3R1ZGlvLmdldEJhbGFuY2UoIHRva2VuSG9sZGVyICkgKiBwcm9maXRfcGVyX3Rva2VuOw0KICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgIA0KDQogICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgDQogICAgICAgICBzdHVkaW8ucGF1c2VGb3JEaXZpZGVuZCgpOw0KICAgIH0NCiAgICANCiAgICANCiAgICANCiAgICBmdW5jdGlvbiB3aXRoZHJhd0RpdmlkZW5kcyAoKXsNCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGJhbGFuY2VPZlsgbXNnLnNlbmRlciBdKTsNCiAgICAgICAgYmFsYW5jZU9mWyBtc2cuc2VuZGVyIF0gPSAwOw0KICAgICAgICANCiAgICAgICAgDQogICAgfQ0KICAgIA0KICANCiAgICANCg0KDQp9'