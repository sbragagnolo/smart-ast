base 64 content
base64swarmRedistribution2
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KDQpjb250cmFjdCBSRVMgeyANCg0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBuYW1lOw0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsNCiAgICANCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsNCiAgICANCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8NCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7DQogICAgDQogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQogICAgDQoNCiAgICAvKiBCb3VnaHQgb3Igc29sZCAqLw0KDQogICAgZXZlbnQgQm91Z2h0KGFkZHJlc3MgZnJvbSwgdWludCBhbW91bnQpOw0KICAgIGV2ZW50IFNvbGQoYWRkcmVzcyBmcm9tLCB1aW50IGFtb3VudCk7DQogICAgZXZlbnQgQm91Z2h0VmlhSm9oYW4oYWRkcmVzcyBmcm9tLCB1aW50IGFtb3VudCk7DQoNCiAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIG5hbWUsIHN5bWJvbCBhbmQgZGVjaW1hbHMgKi8NCg0KICAgIGZ1bmN0aW9uIFJFUygpIHsNCiAgICAgICAgbmFtZSA9ICJSRVMiOyAgICAgDQogICAgICAgIHN5bWJvbCA9ICJSRVMiOw0KICAgICAgICBkZWNpbWFscyA9IDE4Ow0KICAgIH0NCg0KfQ0KDQpjb250cmFjdCBTd2FybVJlZGlzdHJpYnV0aW9uIGlzIFJFUyB7DQogICAgDQogICAgYWRkcmVzcyBwdWJsaWMgSm9oYW5OeWdyZW47DQogICAgYm9vbCBwdWJsaWMgY2FtcGFpZ25PcGVuOyAgICANCg0KICAgIHN0cnVjdCBkaXZpZGVuZFBhdGh3YXkgew0KICAgICAgYWRkcmVzcyBmcm9tOw0KICAgICAgdWludCBhbW91bnQ7DQogICAgICB1aW50IHRpbWVTdGFtcDsNCiAgICB9DQoNCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gZGl2aWRlbmRQYXRod2F5W10pIHB1YmxpYyBkaXZpZGVuZFBhdGh3YXlzOw0KICAgIA0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdG90YWxCYXNpY0luY29tZTsNCg0KICAgIHVpbnQgdGF4UmF0ZTsNCg0KICAgIHN0cnVjdCBOb2RlIHsNCiAgICAgIGFkZHJlc3Mgbm9kZTsNCiAgICAgIGFkZHJlc3MgcGFyZW50Ow0KICAgICAgdWludCBpbmRleDsNCiAgICB9DQogICAgDQogICAgLyogR2VuZXJhdGUgYSBzd2FybSB0cmVlICovDQogICAgTm9kZVtdIHN3YXJtVHJlZTsNCiAgICANCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgaW5Td2FybVRyZWU7DQogICAgDQogICAgYm9vbCBKb2hhbkluU3dhcm07DQoNCiAgICBldmVudCBTd2FybShhZGRyZXNzIGluZGV4ZWQgbGVhZiwgYWRkcmVzcyBpbmRleGVkIG5vZGUsIHVpbnQyNTYgc2hhcmUpOw0KDQogICAgZnVuY3Rpb24gU3dhcm1SZWRpc3RyaWJ1dGlvbigpIHsNCiAgICAgIA0KICAgIC8qIFRheC1yYXRlIGluIHBhcnRzIHBlciB0aG91c2FuZCAqLw0KICAgIHRheFJhdGUgPSAyMDsNCiAgICBKb2hhbk55Z3JlbiA9IDB4OTQ4MTc2Q0I0MkI2NWQ4MzVFZTQzMjQ5MTRCMTA0QjY2ZkI5M0I1MjsNCiAgICBjYW1wYWlnbk9wZW4gPSB0cnVlOw0KICAgIA0KICAgIH0NCiAgICANCiAgICBtb2RpZmllciBvbmx5Sm9oYW4gew0KICAgICAgaWYobXNnLnNlbmRlciAhPSBKb2hhbk55Z3JlbikgdGhyb3c7DQogICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzT3BlbiB7DQogICAgICBpZihjYW1wYWlnbk9wZW4gIT0gdHJ1ZSkgdGhyb3c7DQogICAgICBfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjbG9zZUNhbXBhaWduKCkgb25seUpvaGFuIHsNCiAgICAgICAgY2FtcGFpZ25PcGVuID0gZmFsc2U7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYnV5KCkgaXNPcGVuIHB1YmxpYyBwYXlhYmxlIHsNCiAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7DQogICAgICB0b3RhbFN1cHBseSArPSBtc2cudmFsdWU7DQogICAgICBCb3VnaHQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsNCiAgICB9ICANCg0KICAgIGZ1bmN0aW9uIGJ1eVZpYUpvaGFuKCkgaXNPcGVuIHB1YmxpYyBwYXlhYmxlIHsNCiAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7DQogICAgICB0b3RhbFN1cHBseSArPSBtc2cudmFsdWU7ICANCg0KICAgICAgLyogQ3JlYXRlIHRoZSBkaXZpZGVuZCBwYXRod2F5ICovDQogICAgICBkaXZpZGVuZFBhdGh3YXlzW21zZy5zZW5kZXJdLnB1c2goZGl2aWRlbmRQYXRod2F5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogSm9oYW5OeWdyZW4sIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICBtc2cudmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVTdGFtcDogbm93DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7DQoNCiAgICAgIEJvdWdodFZpYUpvaGFuKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2VsbCh1aW50MjU2IF92YWx1ZSkgcHVibGljIHsNCiAgICAgIGlmKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7DQogICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgIA0KICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoX3ZhbHVlKSkgdGhyb3c7DQoNCiAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsNCiAgICAgIFNvbGQobXNnLnNlbmRlciwgX3ZhbHVlKTsNCg0KICAgIH0NCg0KICAgIC8qIFNlbmQgY29pbnMgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGlzT3BlbiB7DQogICAgICAgIC8qIHJlamVjdCB0cmFuc2FjdGlvbiB0byBzZWxmIHRvIHByZXZlbnQgZGl2aWRlbmQgcGF0aHdheSBsb29wcyovDQogICAgICAgIGlmKF90byA9PSBtc2cuc2VuZGVyKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIC8qIGlmIHRoZSBzZW5kZXIgZG9lbnN0IGhhdmUgZW5vdWdoIGJhbGFuY2UgdGhlbiBzdG9wICovDQogICAgICAgIGlmIChiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHRocm93Ow0KICAgICAgICBpZiAoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZbX3RvXSkgdGhyb3c7DQogICAgICAgIA0KICAgICAgICAvKiBDYWxjdWxhdGUgdGF4ICovDQogICAgICAgIHVpbnQyNTYgdGF4Q29sbGVjdGVkID0gX3ZhbHVlICogdGF4UmF0ZSAvIDEwMDA7DQogICAgICAgIHVpbnQyNTYgc2VudEFtb3VudDsNCg0KICAgICAgICAvKiBDcmVhdGUgdGhlIGRpdmlkZW5kIHBhdGh3YXkgKi8NCiAgICAgICAgZGl2aWRlbmRQYXRod2F5c1tfdG9dLnB1c2goZGl2aWRlbmRQYXRod2F5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBtc2cuc2VuZGVyLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICBfdmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YW1wOiBub3cNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICANCiAgICAgICAgaWYoc3dhcm1SZWRpc3RyaWJ1dGlvbihfdG8sIHRheENvbGxlY3RlZCkgPT0gdHJ1ZSkgew0KICAgICAgICAgIHNlbnRBbW91bnQgPSBfdmFsdWU7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgLyogUmV0dXJuIHRheCAqLw0KICAgICAgICAgIHNlbnRBbW91bnQgPSBfdmFsdWUgLSB0YXhDb2xsZWN0ZWQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICAgLyogQWRkIGFuZCBzdWJ0cmFjdCBuZXcgYmFsYW5jZXMgKi8NCg0KICAgICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBzZW50QW1vdW50Ow0KICAgICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZSAtIHRheENvbGxlY3RlZDsNCiAgICAgICAgDQoNCiAgICAgICAgLyogTm90aWZpeSBhbnlvbmUgbGlzdGVuaW5nIHRoYXQgdGhpcyB0cmFuc2ZlciB0b29rIHBsYWNlICovDQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgc2VudEFtb3VudCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3dhcm1SZWRpc3RyaWJ1dGlvbihhZGRyZXNzIF90bywgdWludDI1NiBfdGF4Q29sbGVjdGVkKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7DQogICAgICAgICAgIGl0ZXJhdGVUaHJvdWdoU3dhcm0oX3RvLCBub3cpOw0KICAgICAgICAgICBpZihzd2FybVRyZWUubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgcmV0dXJuIGRvU3dhcm0oX3RvLCBfdGF4Q29sbGVjdGVkKTsNCiAgICAgICAgICAgfQ0KICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCg0KICAgIGZ1bmN0aW9uIGl0ZXJhdGVUaHJvdWdoU3dhcm0oYWRkcmVzcyBfbm9kZSwgdWludCBfdGltZVN0YW1wKSBpbnRlcm5hbCB7DQogICAgICBpZihkaXZpZGVuZFBhdGh3YXlzW19ub2RlXS5sZW5ndGggIT0gMCkgew0KICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IGRpdmlkZW5kUGF0aHdheXNbX25vZGVdLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYoaW5Td2FybVRyZWVbZGl2aWRlbmRQYXRod2F5c1tfbm9kZV1baV0uZnJvbV0gPT0gZmFsc2UpIHsgDQogICAgICAgICAgICANCiAgICAgICAgICAgIHVpbnQgdGltZVN0YW1wID0gZGl2aWRlbmRQYXRod2F5c1tfbm9kZV1baV0udGltZVN0YW1wOw0KICAgICAgICAgICAgaWYodGltZVN0YW1wIDw9IF90aW1lU3RhbXApIHsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgaWYoZGl2aWRlbmRQYXRod2F5c1tfbm9kZV1baV0uZnJvbSA9PSBKb2hhbk55Z3JlbikgSm9oYW5JblN3YXJtID0gdHJ1ZTsNCiAgICANCiAgICAgICAgICAgICAgICBOb2RlIG1lbW9yeSBub2RlID0gTm9kZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogZGl2aWRlbmRQYXRod2F5c1tfbm9kZV1baV0uZnJvbSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBfbm9kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICBzd2FybVRyZWUucHVzaChub2RlKTsNCiAgICAgICAgICAgICAgICAgIGluU3dhcm1UcmVlW25vZGUubm9kZV0gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgaXRlcmF0ZVRocm91Z2hTd2FybShub2RlLm5vZGUsIHRpbWVTdGFtcCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkb1N3YXJtKGFkZHJlc3MgX2xlYWYsIHVpbnQyNTYgX3RheENvbGxlY3RlZCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgew0KICAgICAgDQogICAgICB1aW50MjU2IHNoYXJlOw0KICAgICAgaWYoSm9oYW5JblN3YXJtKSBzaGFyZSA9IF90YXhDb2xsZWN0ZWQ7DQogICAgICBlbHNlIHNoYXJlID0gMDsNCiAgICANCiAgICAgIGZvcih1aW50IGkgPSAwOyBpIDwgc3dhcm1UcmVlLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIA0KICAgICAgICBhZGRyZXNzIG5vZGUgPSBzd2FybVRyZWVbaV0ubm9kZTsNCiAgICAgICAgYWRkcmVzcyBwYXJlbnQgPSBzd2FybVRyZWVbaV0ucGFyZW50Ow0KICAgICAgICB1aW50IGluZGV4ID0gc3dhcm1UcmVlW2ldLmluZGV4Ow0KICAgICAgICANCiAgICAgICAgYm9vbCBpc0pvaGFuOw0KICAgICAgICBpZihub2RlID09IEpvaGFuTnlncmVuKSBpc0pvaGFuID0gdHJ1ZTsNCg0KICAgICAgICBpZihpc0pvaGFuKSB7DQogICAgICAgICAgYmFsYW5jZU9mW3N3YXJtVHJlZVtpXS5ub2RlXSArPSBzaGFyZTsNCiAgICAgICAgdG90YWxCYXNpY0luY29tZVtub2RlXSArPSBzaGFyZTsNCiAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICBpZihkaXZpZGVuZFBhdGh3YXlzW3BhcmVudF1baW5kZXhdLmFtb3VudCAtIF90YXhDb2xsZWN0ZWQgPiAwKSB7DQogICAgICAgICAgZGl2aWRlbmRQYXRod2F5c1twYXJlbnRdW2luZGV4XS5hbW91bnQgLT0gX3RheENvbGxlY3RlZDsgDQogICAgICAgIH0NCiAgICAgICAgZWxzZSByZW1vdmVEaXZpZGVuZFBhdGh3YXkocGFyZW50LCBpbmRleCk7DQogICAgICAgIA0KICAgICAgICBpblN3YXJtVHJlZVtub2RlXSA9IGZhbHNlOw0KICAgICAgICANCiAgICAgICAgLyogTm90aWZpeSBhbnlvbmUgbGlzdGVuaW5nIHRoYXQgdGhpcyBzd2FybSB0b29rIHBsYWNlICovDQogICAgICAgIGlmKGlzSm9oYW4pIFN3YXJtKF9sZWFmLCBzd2FybVRyZWVbaV0ubm9kZSwgc2hhcmUpOw0KICAgICAgfQ0KICAgICAgZGVsZXRlIHN3YXJtVHJlZTsNCiAgICAgIGJvb2wgSm9oYW5XYXNJblN3YXJtID0gSm9oYW5JblN3YXJtOw0KICAgICAgZGVsZXRlIEpvaGFuSW5Td2FybTsNCg0KICAgICAgaWYoIUpvaGFuV2FzSW5Td2FybSkgcmV0dXJuIGZhbHNlOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHJlbW92ZURpdmlkZW5kUGF0aHdheShhZGRyZXNzIG5vZGUsIHVpbnQgaW5kZXgpIGludGVybmFsIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgZGl2aWRlbmRQYXRod2F5c1tub2RlXVtpbmRleF07DQogICAgICAgICAgICAgICAgZm9yICh1aW50IGkgPSBpbmRleDsgaSA8IGRpdmlkZW5kUGF0aHdheXNbbm9kZV0ubGVuZ3RoIC0gMTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkaXZpZGVuZFBhdGh3YXlzW25vZGVdW2ldID0gZGl2aWRlbmRQYXRod2F5c1tub2RlXVtpICsgMV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGRpdmlkZW5kUGF0aHdheXNbbm9kZV0ubGVuZ3RoLS07DQogICAgICAgIH0NCg0KfQ=='