base 64 content
base64swarmRedistribution5
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KDQpjb250cmFjdCBSRVMgeyANCg0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBuYW1lOw0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsNCiAgICANCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsNCiAgICANCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8NCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7DQogICAgDQogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQogICAgDQoNCiAgICAvKiBCb3VnaHQgb3Igc29sZCAqLw0KDQogICAgZXZlbnQgQm91Z2h0KGFkZHJlc3MgZnJvbSwgdWludCBhbW91bnQpOw0KICAgIGV2ZW50IFNvbGQoYWRkcmVzcyBmcm9tLCB1aW50IGFtb3VudCk7DQogICAgZXZlbnQgQm91Z2h0VmlhSm9oYW4oYWRkcmVzcyBmcm9tLCB1aW50IGFtb3VudCk7DQoNCiAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIG5hbWUsIHN5bWJvbCBhbmQgZGVjaW1hbHMgKi8NCg0KICAgIGZ1bmN0aW9uIFJFUygpIHsNCiAgICAgICAgbmFtZSA9ICJSRVMiOyAgICAgDQogICAgICAgIHN5bWJvbCA9ICJSRVMiOw0KICAgICAgICBkZWNpbWFscyA9IDE4Ow0KICAgIH0NCg0KfQ0KDQpjb250cmFjdCBTd2FybVJlZGlzdHJpYnV0aW9uIGlzIFJFUyB7DQogICAgDQogICAgYWRkcmVzcyBwdWJsaWMgSm9oYW5OeWdyZW47DQogICAgYm9vbCBwdWJsaWMgY2FtcGFpZ25PcGVuOyAgICANCg0KICAgIHN0cnVjdCBkaXZpZGVuZFBhdGh3YXkgew0KICAgICAgYWRkcmVzcyBmcm9tOw0KICAgICAgdWludCBhbW91bnQ7DQogICAgICB1aW50IHRpbWVTdGFtcDsNCiAgICB9DQoNCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gZGl2aWRlbmRQYXRod2F5W10pIHB1YmxpYyBkaXZpZGVuZFBhdGh3YXlzOw0KICAgIA0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdG90YWxCYXNpY0luY29tZTsNCg0KICAgIHVpbnQgdGF4UmF0ZTsNCg0KICAgIHN0cnVjdCBOb2RlIHsNCiAgICAgIGFkZHJlc3Mgbm9kZTsNCiAgICAgIGFkZHJlc3MgcGFyZW50Ow0KICAgICAgdWludCBpbmRleDsNCiAgICB9DQogICAgDQogICAgLyogR2VuZXJhdGUgYSBzd2FybSB0cmVlICovDQogICAgTm9kZVtdIHN3YXJtVHJlZTsNCiAgICANCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgaW5Td2FybVRyZWU7DQogICAgDQogICAgYm9vbCBKb2hhbkluU3dhcm07DQoNCiAgICBldmVudCBTd2FybShhZGRyZXNzIGluZGV4ZWQgbGVhZiwgYWRkcmVzcyBpbmRleGVkIG5vZGUsIHVpbnQyNTYgc2hhcmUpOw0KDQogICAgZnVuY3Rpb24gU3dhcm1SZWRpc3RyaWJ1dGlvbigpIHsNCiAgICAgIA0KICAgIC8qIFRheC1yYXRlIGluIHBhcnRzIHBlciB0aG91c2FuZCAqLw0KICAgIHRheFJhdGUgPSAyMDsNCiAgICBKb2hhbk55Z3JlbiA9IDB4OTQ4MTc2Q0I0MkI2NWQ4MzVFZTQzMjQ5MTRCMTA0QjY2ZkI5M0I1MjsNCiAgICBjYW1wYWlnbk9wZW4gPSB0cnVlOw0KICAgIA0KICAgIH0NCiAgICANCiAgICBtb2RpZmllciBvbmx5Sm9oYW4gew0KICAgICAgaWYobXNnLnNlbmRlciAhPSBKb2hhbk55Z3JlbikgdGhyb3c7DQogICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIGlzT3BlbiB7DQogICAgICBpZihjYW1wYWlnbk9wZW4gIT0gdHJ1ZSkgdGhyb3c7DQogICAgICBfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VKb2hhbk55Z3JlbnNBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlKb2hhbiB7DQogICAgICBKb2hhbk55Z3JlbiA9IF9uZXdBZGRyZXNzOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjbG9zZUNhbXBhaWduKCkgb25seUpvaGFuIHsNCiAgICAgICAgY2FtcGFpZ25PcGVuID09IGZhbHNlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJ1eSgpIGlzT3BlbiBwdWJsaWMgcGF5YWJsZSB7DQogICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBtc2cudmFsdWU7DQogICAgICB0b3RhbFN1cHBseSArPSBtc2cudmFsdWU7DQogICAgICBCb3VnaHQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsNCiAgICB9ICANCg0KICAgIGZ1bmN0aW9uIGJ1eVZpYUpvaGFuKCkgaXNPcGVuIHB1YmxpYyBwYXlhYmxlIHsNCiAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IG1zZy52YWx1ZTsNCiAgICAgIHRvdGFsU3VwcGx5ICs9IG1zZy52YWx1ZTsgIA0KDQogICAgICAvKiBDcmVhdGUgdGhlIGRpdmlkZW5kIHBhdGh3YXkgKi8NCiAgICAgIGRpdmlkZW5kUGF0aHdheXNbbXNnLnNlbmRlcl0ucHVzaChkaXZpZGVuZFBhdGh3YXkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBKb2hhbk55Z3JlbiwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogIG1zZy52YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YW1wOiBub3cNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsNCg0KICAgICAgQm91Z2h0VmlhSm9oYW4obXNnLnNlbmRlciwgbXNnLnZhbHVlKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZWxsKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgew0KICAgICAgaWYoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsNCiAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgDQogICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChfdmFsdWUpKSB0aHJvdzsNCg0KICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOw0KICAgICAgU29sZChtc2cuc2VuZGVyLCBfdmFsdWUpOw0KDQogICAgfQ0KDQogICAgLyogU2VuZCBjb2lucyAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaXNPcGVuIHsNCiAgICAgICAgLyogcmVqZWN0IHRyYW5zYWN0aW9uIHRvIHNlbGYgdG8gcHJldmVudCBkaXZpZGVuZCBwYXRod2F5IGxvb3BzKi8NCiAgICAgICAgaWYoX3RvID09IG1zZy5zZW5kZXIpIHRocm93Ow0KICAgICAgICANCiAgICAgICAgLyogaWYgdGhlIHNlbmRlciBkb2Vuc3QgaGF2ZSBlbm91Z2ggYmFsYW5jZSB0aGVuIHN0b3AgKi8NCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7DQogICAgICAgIGlmIChiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZltfdG9dKSB0aHJvdzsNCiAgICAgICAgDQogICAgICAgIC8qIENhbGN1bGF0ZSB0YXggKi8NCiAgICAgICAgdWludDI1NiB0YXhDb2xsZWN0ZWQgPSBfdmFsdWUgKiB0YXhSYXRlIC8gMTAwMDsNCiAgICAgICAgdWludDI1NiBzZW50QW1vdW50Ow0KDQogICAgICAgIC8qIENyZWF0ZSB0aGUgZGl2aWRlbmQgcGF0aHdheSAqLw0KICAgICAgICBkaXZpZGVuZFBhdGh3YXlzW190b10ucHVzaChkaXZpZGVuZFBhdGh3YXkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IG1zZy5zZW5kZXIsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogIF92YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lU3RhbXA6IG5vdw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7DQogICAgICAgIA0KICAgICAgICBpZihzd2FybVJlZGlzdHJpYnV0aW9uKF90bywgdGF4Q29sbGVjdGVkKSA9PSB0cnVlKSB7DQogICAgICAgICAgc2VudEFtb3VudCA9IF92YWx1ZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAvKiBSZXR1cm4gdGF4ICovDQogICAgICAgICAgc2VudEFtb3VudCA9IF92YWx1ZSAtIHRheENvbGxlY3RlZDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgICAvKiBBZGQgYW5kIHN1YnRyYWN0IG5ldyBiYWxhbmNlcyAqLw0KDQogICAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IHNlbnRBbW91bnQ7DQogICAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlIC0gdGF4Q29sbGVjdGVkOw0KICAgICAgICANCg0KICAgICAgICAvKiBOb3RpZml5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UgKi8NCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBzZW50QW1vdW50KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzd2FybVJlZGlzdHJpYnV0aW9uKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90YXhDb2xsZWN0ZWQpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgICAgaXRlcmF0ZVRocm91Z2hTd2FybShfdG8sIG5vdyk7DQogICAgICAgICAgIGlmKHN3YXJtVHJlZS5sZW5ndGggIT0gMCkgew0KICAgICAgICAgICByZXR1cm4gZG9Td2FybShfdG8sIF90YXhDb2xsZWN0ZWQpOw0KICAgICAgICAgICB9DQogICAgICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KDQogICAgZnVuY3Rpb24gaXRlcmF0ZVRocm91Z2hTd2FybShhZGRyZXNzIF9ub2RlLCB1aW50IF90aW1lU3RhbXApIGludGVybmFsIHsNCiAgICAgIGlmKGRpdmlkZW5kUGF0aHdheXNbX25vZGVdLmxlbmd0aCAhPSAwKSB7DQogICAgICAgIGZvcih1aW50IGkgPSAwOyBpIDwgZGl2aWRlbmRQYXRod2F5c1tfbm9kZV0ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZihpblN3YXJtVHJlZVtkaXZpZGVuZFBhdGh3YXlzW19ub2RlXVtpXS5mcm9tXSA9PSBmYWxzZSkgeyANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdWludCB0aW1lU3RhbXAgPSBkaXZpZGVuZFBhdGh3YXlzW19ub2RlXVtpXS50aW1lU3RhbXA7DQogICAgICAgICAgICBpZih0aW1lU3RhbXAgPD0gX3RpbWVTdGFtcCkgew0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBpZihkaXZpZGVuZFBhdGh3YXlzW19ub2RlXVtpXS5mcm9tID09IEpvaGFuTnlncmVuKSBKb2hhbkluU3dhcm0gPSB0cnVlOw0KICAgIA0KICAgICAgICAgICAgICAgIE5vZGUgbWVtb3J5IG5vZGUgPSBOb2RlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBkaXZpZGVuZFBhdGh3YXlzW19ub2RlXVtpXS5mcm9tLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IF9ub2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpDQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIHN3YXJtVHJlZS5wdXNoKG5vZGUpOw0KICAgICAgICAgICAgICAgICAgaW5Td2FybVRyZWVbbm9kZS5ub2RlXSA9IHRydWU7DQogICAgICAgICAgICAgICAgICBpdGVyYXRlVGhyb3VnaFN3YXJtKG5vZGUubm9kZSwgdGltZVN0YW1wKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRvU3dhcm0oYWRkcmVzcyBfbGVhZiwgdWludDI1NiBfdGF4Q29sbGVjdGVkKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7DQogICAgICANCiAgICAgIHVpbnQyNTYgc2hhcmU7DQogICAgICBpZihKb2hhbkluU3dhcm0pIHNoYXJlID0gX3RheENvbGxlY3RlZDsNCiAgICAgIGVsc2Ugc2hhcmUgPSAwOw0KICAgIA0KICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBzd2FybVRyZWUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgDQogICAgICAgIGFkZHJlc3Mgbm9kZSA9IHN3YXJtVHJlZVtpXS5ub2RlOw0KICAgICAgICBhZGRyZXNzIHBhcmVudCA9IHN3YXJtVHJlZVtpXS5wYXJlbnQ7DQogICAgICAgIHVpbnQgaW5kZXggPSBzd2FybVRyZWVbaV0uaW5kZXg7DQogICAgICAgIA0KICAgICAgICBib29sIGlzSm9oYW47DQogICAgICAgIGlmKG5vZGUgPT0gSm9oYW5OeWdyZW4pIGlzSm9oYW4gPSB0cnVlOw0KDQogICAgICAgIGlmKGlzSm9oYW4pIHsNCiAgICAgICAgICBiYWxhbmNlT2Zbc3dhcm1UcmVlW2ldLm5vZGVdICs9IHNoYXJlOw0KICAgICAgICB0b3RhbEJhc2ljSW5jb21lW25vZGVdICs9IHNoYXJlOw0KICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgIGlmKGRpdmlkZW5kUGF0aHdheXNbcGFyZW50XVtpbmRleF0uYW1vdW50IC0gX3RheENvbGxlY3RlZCA+IDApIHsNCiAgICAgICAgICBkaXZpZGVuZFBhdGh3YXlzW3BhcmVudF1baW5kZXhdLmFtb3VudCAtPSBfdGF4Q29sbGVjdGVkOyANCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHJlbW92ZURpdmlkZW5kUGF0aHdheShwYXJlbnQsIGluZGV4KTsNCiAgICAgICAgDQogICAgICAgIGluU3dhcm1UcmVlW25vZGVdID0gZmFsc2U7DQogICAgICAgIA0KICAgICAgICAvKiBOb3RpZml5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHN3YXJtIHRvb2sgcGxhY2UgKi8NCiAgICAgICAgaWYoaXNKb2hhbikgU3dhcm0oX2xlYWYsIHN3YXJtVHJlZVtpXS5ub2RlLCBzaGFyZSk7DQogICAgICB9DQogICAgICBkZWxldGUgc3dhcm1UcmVlOw0KICAgICAgYm9vbCBKb2hhbldhc0luU3dhcm0gPSBKb2hhbkluU3dhcm07DQogICAgICBkZWxldGUgSm9oYW5JblN3YXJtOw0KDQogICAgICBpZighSm9oYW5XYXNJblN3YXJtKSByZXR1cm4gZmFsc2U7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gcmVtb3ZlRGl2aWRlbmRQYXRod2F5KGFkZHJlc3Mgbm9kZSwgdWludCBpbmRleCkgaW50ZXJuYWwgew0KICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXZpZGVuZFBhdGh3YXlzW25vZGVdW2luZGV4XTsNCiAgICAgICAgICAgICAgICBmb3IgKHVpbnQgaSA9IGluZGV4OyBpIDwgZGl2aWRlbmRQYXRod2F5c1tub2RlXS5sZW5ndGggLSAxOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpdmlkZW5kUGF0aHdheXNbbm9kZV1baV0gPSBkaXZpZGVuZFBhdGh3YXlzW25vZGVdW2kgKyAxXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZGl2aWRlbmRQYXRod2F5c1tub2RlXS5sZW5ndGgtLTsNCiAgICAgICAgfQ0KDQp9'