base 64 content
base64swarmRedistribution7
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KDQpjb250cmFjdCBSRVMgeyANCg0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBuYW1lOw0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOw0KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsNCiAgICANCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsNCiAgICANCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8NCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7DQogICAgDQogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQogICAgDQoNCiAgICAvKiBCb3VnaHQgb3Igc29sZCAqLw0KDQogICAgZXZlbnQgQm91Z2h0KGFkZHJlc3MgZnJvbSwgdWludCBhbW91bnQpOw0KICAgIGV2ZW50IFNvbGQoYWRkcmVzcyBmcm9tLCB1aW50IGFtb3VudCk7DQoNCiAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIG5hbWUsIHN5bWJvbCBhbmQgZGVjaW1hbHMgKi8NCg0KICAgIGZ1bmN0aW9uIFJFUygpIHsNCiAgICAgICAgbmFtZSA9ICJSRVMiOyAgICAgDQogICAgICAgIHN5bWJvbCA9ICJSRVMiOw0KICAgICAgICBkZWNpbWFscyA9IDE4Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJ1eSgpIHB1YmxpYyBwYXlhYmxlIHsNCiAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IG1zZy52YWx1ZTsNCiAgICAgIHRvdGFsU3VwcGx5ICs9IG1zZy52YWx1ZTsNCiAgICAgIEJvdWdodChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOw0KICAgIH0gIA0KDQp9DQoNCmNvbnRyYWN0IFN3YXJtUmVkaXN0cmlidXRpb24gaXMgUkVTIHsNCiAgICANCiAgICBhZGRyZXNzIEpvaGFuTnlncmVuOw0KICAgICAgICANCiAgICBzdHJ1Y3QgZGl2aWRlbmRQYXRod2F5IHsNCiAgICAgIGFkZHJlc3MgZnJvbTsNCiAgICAgIHVpbnQgYW1vdW50Ow0KICAgICAgdWludCB0aW1lU3RhbXA7DQogICAgfQ0KDQogICAgbWFwcGluZyhhZGRyZXNzID0+IGRpdmlkZW5kUGF0aHdheVtdKSBwdWJsaWMgZGl2aWRlbmRQYXRod2F5czsNCiAgICANCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRvdGFsQmFzaWNJbmNvbWU7DQoNCiAgICB1aW50IHRheFJhdGU7DQoNCiAgICBzdHJ1Y3QgTm9kZSB7DQogICAgICBhZGRyZXNzIG5vZGU7DQogICAgICBhZGRyZXNzIHBhcmVudDsNCiAgICAgIHVpbnQgaW5kZXg7DQogICAgfQ0KICAgIA0KICAgIC8qIEdlbmVyYXRlIGEgc3dhcm0gdHJlZSAqLw0KICAgIE5vZGVbXSBwdWJsaWMgc3dhcm1UcmVlOw0KICAgIA0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBpblN3YXJtVHJlZTsNCiAgICANCiAgICBib29sIEpvaGFuSW5Td2FybTsNCg0KICAgIGV2ZW50IFN3YXJtKGFkZHJlc3MgaW5kZXhlZCBsZWFmLCBhZGRyZXNzIGluZGV4ZWQgbm9kZSwgdWludDI1NiBzaGFyZSk7DQoNCiAgICBmdW5jdGlvbiBTd2FybVJlZGlzdHJpYnV0aW9uKCkgew0KICAgICAgDQogICAgLyogVGF4LXJhdGUgaW4gcGFydHMgcGVyIHRob3VzYW5kICovDQogICAgdGF4UmF0ZSA9IDIwOw0KICAgIEpvaGFuTnlncmVuID0gMHg5NDgxNzZDQjQyQjY1ZDgzNUVlNDMyNDkxNEIxMDRCNjZmQjkzQjUyOw0KICAgIH0NCiAgICANCiAgICBtb2RpZmllciBvbmx5Sm9oYW4gew0KICAgICAgaWYobXNnLnNlbmRlciAhPSBKb2hhbk55Z3JlbikgdGhyb3c7DQogICAgICBfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VKb2hhbk55Z3JlbnNBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlKb2hhbiB7DQogICAgICBKb2hhbk55Z3JlbiA9IF9uZXdBZGRyZXNzOw0KICAgIH0NCg0KICAgIA0KICAgIGZ1bmN0aW9uIHNlbGwodWludDI1NiBfdmFsdWUpIHB1YmxpYyB7DQogICAgICBpZihiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHRocm93Ow0KICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCg0KICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOw0KICAgICAgU29sZChtc2cuc2VuZGVyLCBfdmFsdWUpOw0KDQogICAgfQ0KDQogICAgLyogU2VuZCBjb2lucyAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgew0KICAgICAgICAvKiByZWplY3QgdHJhbnNhY3Rpb24gdG8gc2VsZiB0byBwcmV2ZW50IGRpdmlkZW5kIHBhdGh3YXkgbG9vcHMqLw0KICAgICAgICBpZihfdG8gPT0gbXNnLnNlbmRlcikgdGhyb3c7DQogICAgICAgIA0KICAgICAgICAvKiBpZiB0aGUgc2VuZGVyIGRvZW5zdCBoYXZlIGVub3VnaCBiYWxhbmNlIHRoZW4gc3RvcCAqLw0KICAgICAgICBpZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsNCiAgICAgICAgaWYgKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZU9mW190b10pIHRocm93Ow0KICAgICAgICANCiAgICAgICAgLyogQ2FsY3VsYXRlIHRheCAqLw0KICAgICAgICB1aW50MjU2IHRheENvbGxlY3RlZCA9IF92YWx1ZSAqIHRheFJhdGUgLyAxMDAwOw0KICAgICAgICB1aW50MjU2IHNlbnRBbW91bnQ7DQoNCiAgICAgICAgLyogQ3JlYXRlIHRoZSBkaXZpZGVuZCBwYXRod2F5ICovDQogICAgICAgIGRpdmlkZW5kUGF0aHdheXNbX3RvXS5wdXNoKGRpdmlkZW5kUGF0aHdheSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogbXNnLnNlbmRlciwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAgX3ZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVTdGFtcDogbm93DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsNCiAgICAgICAgDQogICAgICAgIGlmKHN3YXJtUmVkaXN0cmlidXRpb24oX3RvLCB0YXhDb2xsZWN0ZWQpID09IHRydWUpIHsNCiAgICAgICAgICBzZW50QW1vdW50ID0gX3ZhbHVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIC8qIFJldHVybiB0YXggKi8NCiAgICAgICAgICBzZW50QW1vdW50ID0gX3ZhbHVlIC0gdGF4Q29sbGVjdGVkOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAgIC8qIEFkZCBhbmQgc3VidHJhY3QgbmV3IGJhbGFuY2VzICovDQoNCiAgICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gc2VudEFtb3VudDsNCiAgICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWUgLSB0YXhDb2xsZWN0ZWQ7DQogICAgICAgIA0KDQogICAgICAgIC8qIE5vdGlmaXkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZSAqLw0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIHNlbnRBbW91bnQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHN3YXJtUmVkaXN0cmlidXRpb24oYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3RheENvbGxlY3RlZCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICAgICBpdGVyYXRlVGhyb3VnaFN3YXJtKF90bywgbm93KTsNCiAgICAgICAgICAgaWYoc3dhcm1UcmVlLmxlbmd0aCAhPSAwKSB7DQogICAgICAgICAgIHJldHVybiBkb1N3YXJtKF90bywgX3RheENvbGxlY3RlZCk7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7DQogICAgICB9DQoNCiAgICBmdW5jdGlvbiBpdGVyYXRlVGhyb3VnaFN3YXJtKGFkZHJlc3MgX25vZGUsIHVpbnQgX3RpbWVTdGFtcCkgaW50ZXJuYWwgew0KICAgICAgaWYoZGl2aWRlbmRQYXRod2F5c1tfbm9kZV0ubGVuZ3RoICE9IDApIHsNCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBkaXZpZGVuZFBhdGh3YXlzW19ub2RlXS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmKGluU3dhcm1UcmVlW2RpdmlkZW5kUGF0aHdheXNbX25vZGVdW2ldLmZyb21dID09IGZhbHNlKSB7IA0KICAgICAgICAgICAgDQogICAgICAgICAgICB1aW50IHRpbWVTdGFtcCA9IGRpdmlkZW5kUGF0aHdheXNbX25vZGVdW2ldLnRpbWVTdGFtcDsNCiAgICAgICAgICAgIGlmKHRpbWVTdGFtcCA8PSBfdGltZVN0YW1wKSB7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIGlmKGRpdmlkZW5kUGF0aHdheXNbX25vZGVdW2ldLmZyb20gPT0gSm9oYW5OeWdyZW4pIEpvaGFuSW5Td2FybSA9IHRydWU7DQogICAgDQogICAgICAgICAgICAgICAgTm9kZSBtZW1vcnkgbm9kZSA9IE5vZGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IGRpdmlkZW5kUGF0aHdheXNbX25vZGVdW2ldLmZyb20sIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogX25vZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgc3dhcm1UcmVlLnB1c2gobm9kZSk7DQogICAgICAgICAgICAgICAgICBpdGVyYXRlVGhyb3VnaFN3YXJtKG5vZGUubm9kZSwgdGltZVN0YW1wKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRvU3dhcm0oYWRkcmVzcyBfbGVhZiwgdWludDI1NiBfdGF4Q29sbGVjdGVkKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7DQogICAgICANCiAgICAgIHVpbnQyNTYgc2hhcmU7DQogICAgICBpZihKb2hhbkluU3dhcm0pIHNoYXJlID0gX3RheENvbGxlY3RlZDsNCiAgICAgIGVsc2Ugc2hhcmUgPSAwOw0KICAgIA0KICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBzd2FybVRyZWUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgDQogICAgICAgIGFkZHJlc3Mgbm9kZSA9IHN3YXJtVHJlZVtpXS5ub2RlOw0KICAgICAgICBhZGRyZXNzIHBhcmVudCA9IHN3YXJtVHJlZVtpXS5wYXJlbnQ7DQogICAgICAgIHVpbnQgaW5kZXggPSBzd2FybVRyZWVbaV0uaW5kZXg7DQogICAgICAgIA0KICAgICAgICBib29sIGlzSm9oYW47DQogICAgICAgIGlmKG5vZGUgPT0gSm9oYW5OeWdyZW4pIGlzSm9oYW4gPSB0cnVlOw0KDQogICAgICAgIGlmKGlzSm9oYW4pIHsNCiAgICAgICAgICBiYWxhbmNlT2Zbc3dhcm1UcmVlW2ldLm5vZGVdICs9IHNoYXJlOw0KICAgICAgICB0b3RhbEJhc2ljSW5jb21lW25vZGVdICs9IHNoYXJlOw0KICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgIGlmKGRpdmlkZW5kUGF0aHdheXNbcGFyZW50XVtpbmRleF0uYW1vdW50IC0gX3RheENvbGxlY3RlZCA+IDApIHsNCiAgICAgICAgICBkaXZpZGVuZFBhdGh3YXlzW3BhcmVudF1baW5kZXhdLmFtb3VudCAtPSBfdGF4Q29sbGVjdGVkOyANCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHJlbW92ZURpdmlkZW5kUGF0aHdheShwYXJlbnQsIGluZGV4KTsNCiAgICAgICAgDQogICAgICAgIC8qIE5vdGlmaXkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgc3dhcm0gdG9vayBwbGFjZSAqLw0KICAgICAgICBpZihpc0pvaGFuKSBTd2FybShfbGVhZiwgc3dhcm1UcmVlW2ldLm5vZGUsIHNoYXJlKTsNCiAgICAgIH0NCiAgICAgIGRlbGV0ZSBzd2FybVRyZWU7DQogICAgICBib29sIEpvaGFuV2FzSW5Td2FybSA9IEpvaGFuSW5Td2FybTsNCiAgICAgIGRlbGV0ZSBKb2hhbkluU3dhcm07DQoNCiAgICAgIGlmKCFKb2hhbldhc0luU3dhcm0pIHJldHVybiBmYWxzZTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiByZW1vdmVEaXZpZGVuZFBhdGh3YXkoYWRkcmVzcyBub2RlLCB1aW50IGluZGV4KSBpbnRlcm5hbCB7DQogICAgICAgICAgICAgICAgZGVsZXRlIGRpdmlkZW5kUGF0aHdheXNbbm9kZV1baW5kZXhdOw0KICAgICAgICAgICAgICAgIGZvciAodWludCBpID0gaW5kZXg7IGkgPCBkaXZpZGVuZFBhdGh3YXlzW25vZGVdLmxlbmd0aCAtIDE7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGl2aWRlbmRQYXRod2F5c1tub2RlXVtpXSA9IGRpdmlkZW5kUGF0aHdheXNbbm9kZV1baSArIDFdOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBkaXZpZGVuZFBhdGh3YXlzW25vZGVdLmxlbmd0aC0tOw0KICAgICAgICB9DQoNCn0='