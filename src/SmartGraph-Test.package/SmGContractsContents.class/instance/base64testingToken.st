base 64 content
base64testingToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCB0ZXN0aW5nVG9rZW4gew0KICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovDQogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICJUb2tlbiAwLjEiOw0KICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJUZXN0aW5nIFRva2VuIjsNCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJUVCI7DQogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMjsNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDEwMDAwOw0KICAgIA0KICAgIC8qb3RoZXIgdmFycyovDQoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOw0KCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHdlaVdhbnRlZE9mOw0KCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRva2Vuc09mZmVyZWRPZjsNCgltYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB0cmFkZUFjdGl2ZTsNCglhZGRyZXNzIHB1YmxpYyBiYW5rOw0KCXVpbnQyNTYgcHVibGljIGV0aFRheFJhdGUgPSAxMDsNCgl1aW50MjU2IHB1YmxpYyB0b2tlblRheFJhdGUgPSA1Ow0KCWZ1bmN0aW9uIHRlc3RpbmdUb2tlbigpIHsNCgkJYmFuayA9IG1zZy5zZW5kZXI7DQoJCWJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IDEwMDAwMDsNCgl9DQoJDQoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQoJDQoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsNCgkgICAgcmV0dXJuIGJhbGFuY2VPZltfb3duZXJdOw0KCX0NCgkNCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgeyAvL2dpdmUgdG9rZW5zIHRvIHNvbWVvbmUNCgkJaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXTxfdmFsdWUpIHJldHVybiBmYWxzZTsNCgkJaWYgKGJhbGFuY2VPZltfdG9dK192YWx1ZTxiYWxhbmNlT2ZbX3RvXSkgcmV0dXJuIGZhbHNlOw0KCQlpZiAoX3ZhbHVlPDApIHJldHVybiBmYWxzZTsNCgkJYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCgkJYmFsYW5jZU9mW190b10gKz0gKF92YWx1ZSooMTAwLXRva2VuVGF4UmF0ZSkpLzEwMDsNCgkJYmFsYW5jZU9mW2JhbmtdICs9IChfdmFsdWUqdG9rZW5UYXhSYXRlKS8xMDA7DQoJCS8vbm93IGNoZWNrIGZvciByb3VuZGluZyBkb3duIHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBwZXJtYW5lbnQgbG9zcyBvZiBjb2lucw0KCQlpZiAoKF92YWx1ZSp0b2tlblRheFJhdGUpJTEwMCAhPSAwKSBiYWxhbmNlT2ZbYmFua10rPTE7DQoJCVRyYW5zZmVyKG1zZy5zZW5kZXIsX3RvLF92YWx1ZSk7DQoJCXJldHVybiB0cnVlOw0KCX0NCgkNCgltYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3M9PnVpbnQyNTYpKSBhcHByb3ZhbExpc3Q7DQoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQoJCWlmIChiYWxhbmNlT2ZbX2Zyb21dPF92YWx1ZSkgcmV0dXJuIGZhbHNlOw0KCQlpZiAoYmFsYW5jZU9mW190b10rX3ZhbHVlPGJhbGFuY2VPZltfdG9dKSByZXR1cm4gZmFsc2U7DQoJCWlmIChfdmFsdWU8MCkgcmV0dXJuIGZhbHNlOw0KCQlpZiAoYXBwcm92YWxMaXN0W19mcm9tXVttc2cuc2VuZGVyXTxfdmFsdWUpIHJldHVybiBmYWxzZTsNCgkJYXBwcm92YWxMaXN0W19mcm9tXVttc2cuc2VuZGVyXS09X3ZhbHVlOw0KCQliYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsNCgkJYmFsYW5jZU9mW190b10gKz0gKF92YWx1ZSooMTAwLXRva2VuVGF4UmF0ZSkpLzEwMDsNCgkJYmFsYW5jZU9mW2JhbmtdICs9IChfdmFsdWUqdG9rZW5UYXhSYXRlKS8xMDA7DQoJCS8vbm93IGNoZWNrIGZvciByb3VuZGluZyBkb3duIHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBwZXJtYW5lbnQgbG9zcyBvZiBjb2lucw0KCQlpZiAoKF92YWx1ZSp0b2tlblRheFJhdGUpJTEwMCAhPSAwKSBiYWxhbmNlT2ZbYmFua10rPTE7DQoJCVRyYW5zZmVyKF9mcm9tLF90byxfdmFsdWUpOw0KCQlyZXR1cm4gdHJ1ZTsNCgl9DQoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQoJICAgIGFwcHJvdmFsTGlzdFttc2cuc2VuZGVyXVtfc3BlbmRlcl09X3ZhbHVlOw0KCSAgICBBcHByb3ZhbChtc2cuc2VuZGVyLF9zcGVuZGVyLF92YWx1ZSk7DQoJICAgIHJldHVybiB0cnVlOw0KCX0NCglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7DQoJICAgIHJldHVybiBhcHByb3ZhbExpc3RbX293bmVyXVtfc3BlbmRlcl07DQoJfQ0KCQ0KCWZ1bmN0aW9uIG9mZmVyVHJhZGUodWludDI1NiBfd2VpV2FudGVkLCB1aW50MjU2IF90b2tlbnNPZmZlcmVkKSB7IC8vb2ZmZXIgdGhlIGFtdCBvZiBldGhlciB5b3Ugd2FudCBhbmQgdGhlIGFtdCBvZiB0b2tlbnMgeW91ZCBnaXZlDQoJICAgIHdlaVdhbnRlZE9mW21zZy5zZW5kZXJdID0gX3dlaVdhbnRlZDsNCgkgICAgdG9rZW5zT2ZmZXJlZE9mW21zZy5zZW5kZXJdID0gX3Rva2Vuc09mZmVyZWQ7DQoJICAgIHRyYWRlQWN0aXZlW21zZy5zZW5kZXJdID0gdHJ1ZTsNCgl9DQoJZnVuY3Rpb24gYWdyZWVUb1RyYWRlKGFkZHJlc3MgX2Zyb20pIHBheWFibGUgeyAvL2Nob29zZSBhIHRyYWRlIHRvIGFncmVlIHRvIGFuZCBleGVjdXRlIGl0DQoJICAgIGlmICghdHJhZGVBY3RpdmVbX2Zyb21dKSB0aHJvdzsNCgkgICAgaWYgKHdlaVdhbnRlZE9mW19mcm9tXSE9bXNnLnZhbHVlKSB0aHJvdzsNCgkgICAgaWYgKGJhbGFuY2VPZltfZnJvbV08dG9rZW5zT2ZmZXJlZE9mW19mcm9tXSkgdGhyb3c7DQoJICAgIGlmICghX2Zyb20uc2VuZCgobXNnLnZhbHVlKigxMDAtZXRoVGF4UmF0ZSkpLzEwMCkpIHRocm93Ow0KCSAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IHRva2Vuc09mZmVyZWRPZltfZnJvbV07DQoJICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSArPSAodG9rZW5zT2ZmZXJlZE9mW19mcm9tXSooMTAwLXRva2VuVGF4UmF0ZSkpLzEwMDsNCgkJYmFsYW5jZU9mW2JhbmtdICs9ICh0b2tlbnNPZmZlcmVkT2ZbX2Zyb21dKnRva2VuVGF4UmF0ZSkvMTAwOw0KCQl0cmFkZUFjdGl2ZVtfZnJvbV0gPSBmYWxzZTsNCgkJVHJhbnNmZXIoX2Zyb20sbXNnLnNlbmRlcix0b2tlbnNPZmZlcmVkT2ZbX2Zyb21dKTsNCgkJLy9ub3cgY2hlY2sgZm9yIHJvdW5kaW5nIGRvd24gd2hpY2ggd291bGQgcmVzdWx0IGluIHBlcm1hbmVudCBsb3NzIG9mIGNvaW5zDQoJCWlmICgodG9rZW5zT2ZmZXJlZE9mW19mcm9tXSp0b2tlblRheFJhdGUpJTEwMCAhPSAwKSBiYWxhbmNlT2ZbYmFua10rPTE7DQoJfQ0KCQ0KCW1vZGlmaWVyIGJhbmtPbmx5IHsNCgkJaWYgKG1zZy5zZW5kZXIgIT0gYmFuaykgdGhyb3c7DQoJCV87DQoJfQ0KCQ0KCWZ1bmN0aW9uIHNldFRheGVzKHVpbnQyNTYgX2V0aFRheFJhdGUsIHVpbnQyNTYgX3Rva2VuVGF4UmF0ZSkgYmFua09ubHkgeyAvL3RoZSBiYW5rIGNhbiBjaGFuZ2UgdGhlIHRheCByYXRlcw0KCQlldGhUYXhSYXRlID0gX2V0aFRheFJhdGU7DQoJCXRva2VuVGF4UmF0ZSA9IF90b2tlblRheFJhdGU7DQoJfQ0KCWZ1bmN0aW9uIGV4dHJhY3RXZWkodWludDI1NiBfd2VpKSBiYW5rT25seSB7IC8vd2l0aGRyYXcgbW9uZXkgZnJvbSB0aGUgY29udHJhY3QNCgkJaWYgKCFtc2cuc2VuZGVyLnNlbmQoX3dlaSkpIHRocm93Ow0KCX0NCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9iYW5rKSBiYW5rT25seSB7IC8vY2hhbmdlIG93bmVyDQoJCWJhbmsgPSBfYmFuazsNCgl9DQoJDQoJZnVuY3Rpb24gKCkgew0KCSAgICB0aHJvdzsNCgl9DQp9'