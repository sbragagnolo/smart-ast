base 64 content
base64tokenEscrow
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KLyoqDQogKiBAdGl0bGUgSW50ZXJmYWNlIHRvIGNvbW11bmljYXRlIHdpdGggSUNPIHRva2VuIGNvbnRyYWN0DQogKi8NCmNvbnRyYWN0IElUb2tlbiB7DQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb21Pd25lcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQp9DQoNCi8qKg0KICogQHRpdGxlIFByZXNhbGUgdG9rZW4gY29udHJhY3QNCiAqLw0KY29udHJhY3QgVG9rZW5Fc2Nyb3cgew0KCS8vIFRva2VuLXJlbGF0ZWQgcHJvcGVydGllcy9kZXNjcmlwdGlvbiB0byBkaXNwbGF5IGluIFdhbGxldCBjbGllbnQgLyBVSQ0KCXN0cmluZyBwdWJsaWMgc3RhbmRhcmQgPSAnUEJLWFRva2VuIDAuMyc7DQoJc3RyaW5nIHB1YmxpYyBuYW1lID0gJ1BCS1hUb2tlbic7DQoJc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAnUEJLWCc7DQoJdWludCBwdWJsaWMgZGVjaW1hbHMgPSAyOw0KICAgIAl1aW50IHB1YmxpYyB0b3RhbFN1cHBseSA9IDMwMDAwMDAwMDsNCgkNCglJVG9rZW4gaWNvVG9rZW47DQoJDQoJZXZlbnQgQ29udmVydGVkKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsgLy8gRXZlbnQgdG8gaW5mb3JtIGFib3V0IHRoZSBmYWN0IG9mIHRva2VuIGJ1cm5pbmcvZGVzdHJveWluZw0KICAgIAlldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsNCglldmVudCBFcnJvcihieXRlczMyIGVycm9yKTsNCgkNCgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VGb3I7IC8vIFByZXNhbGUgdG9rZW4gYmFsYW5jZSBmb3IgZWFjaCBvZiBob2xkZXJzDQoJDQoJYWRkcmVzcyBvd25lcjsgIC8vIENvbnRyYWN0IG93bmVyDQoJDQoJdWludCBwdWJsaWMgZXhjaGFuZ2VSYXRlOyAvLyBwcmVJQ08gLT4gSUNPIHRva2VuIGV4Y2hhbmdlIHJhdGUNCg0KCS8vIFRva2VuIHN1cHBseSBhbmQgZGlzY291bnQgcG9saWN5IHN0cnVjdHVyZQ0KCXN0cnVjdCBUb2tlblN1cHBseSB7DQoJCXVpbnQgbGltaXQ7ICAgICAgICAgICAgICAgICAvLyBUb3RhbCBhbW91bnQgb2YgdG9rZW5zDQoJCXVpbnQgdG90YWxTdXBwbHk7ICAgICAgICAgICAvLyBDdXJyZW50IGFtb3VudCBvZiBzb2xkIHRva2Vucw0KCQl1aW50IHRva2VuUHJpY2VJbldlaTsgIC8vIE51bWJlciBvZiB0b2tlbiBwZXIgMSBFdGgNCgl9DQoJDQoJVG9rZW5TdXBwbHlbM10gcHVibGljIHRva2VuU3VwcGxpZXM7DQoNCgkvLyBNb2RpZmllcnMNCgltb2RpZmllciBvd25lcm9ubHkgeyBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgXzsgfQ0KDQoJLyoqDQoJICogQGRldiBTZXQvY2hhbmdlIGNvbnRyYWN0IG93bmVyDQoJICogQHBhcmFtIF9vd25lciBvd25lciBhZGRyZXNzDQoJICovDQoJZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfb3duZXIpIG93bmVyb25seSB7DQoJCW93bmVyID0gX293bmVyOw0KCX0NCgkNCglmdW5jdGlvbiBzZXRSYXRlKHVpbnQgX2V4Y2hhbmdlUmF0ZSkgb3duZXJvbmx5IHsNCgkJZXhjaGFuZ2VSYXRlID0gX2V4Y2hhbmdlUmF0ZTsNCgl9DQoJDQoJZnVuY3Rpb24gc2V0VG9rZW4oYWRkcmVzcyBfaWNvVG9rZW4pIG93bmVyb25seSB7DQoJCWljb1Rva2VuID0gSVRva2VuKF9pY29Ub2tlbik7DQoJfQ0KCQ0KCS8qKg0KCSAqIEBkZXYgUmV0dXJucyBiYWxhbmNlL3Rva2VuIHF1YW5pdHkgb3duZWQgYnkgYWRkcmVzcw0KCSAqIEBwYXJhbSBfYWRkcmVzcyBBY2NvdW50IGFkZHJlc3MgdG8gZ2V0IGJhbGFuY2UgZm9yDQoJICogQHJldHVybiBiYWxhbmNlIHZhbHVlIC8gdG9rZW4gcXVhbnRpdHkNCgkgKi8NCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfYWRkcmVzcykgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7DQoJCXJldHVybiBiYWxhbmNlRm9yW19hZGRyZXNzXTsNCgl9DQoJDQoJLyoqDQoJICogQGRldiBUcmFuc2ZlcnMgdG9rZW5zIGZyb20gY2FsbGVyL21ldGhvZCBpbnZva2VyL21lc3NhZ2Ugc2VuZGVyIHRvIHNwZWNpZmllZCByZWNpcGllbnQNCgkgKiBAcGFyYW0gX3RvIFJlY2lwaWVudCBhZGRyZXNzDQoJICogQHBhcmFtIF92YWx1ZSBUb2tlbiBxdWFudGl0eSB0byB0cmFuc2Zlcg0KCSAqIEByZXR1cm4gc3VjY2Vzcy9mYWlsdXJlIG9mIHRyYW5zZmVyDQoJICovCQ0KCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQoJCWlmKF90byAhPSBvd25lcikgew0KCQkJaWYgKGJhbGFuY2VGb3JbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaA0KCQkJaWYgKGJhbGFuY2VGb3JbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VGb3JbX3RvXSkgcmV0dXJuIGZhbHNlOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzDQoJCQlpZiAobXNnLnNlbmRlciA9PSBvd25lcikgew0KCQkJCXRyYW5zZmVyQnlPd25lcihfdmFsdWUpOw0KCQkJfQ0KCQkJYmFsYW5jZUZvclttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyDQoJCQliYWxhbmNlRm9yW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudA0KCQkJVHJhbnNmZXIob3duZXIsX3RvLF92YWx1ZSk7DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfQ0KCQlyZXR1cm4gZmFsc2U7DQoJfQ0KCQ0KCWZ1bmN0aW9uIHRyYW5zZmVyQnlPd25lcih1aW50IF92YWx1ZSkgcHJpdmF0ZSB7DQoJCWZvciAodWludCBkaXNjb3VudEluZGV4ID0gMDsgZGlzY291bnRJbmRleCA8IHRva2VuU3VwcGxpZXMubGVuZ3RoOyBkaXNjb3VudEluZGV4KyspIHsNCgkJCVRva2VuU3VwcGx5IHN0b3JhZ2UgdG9rZW5TdXBwbHkgPSB0b2tlblN1cHBsaWVzW2Rpc2NvdW50SW5kZXhdOw0KCQkJaWYodG9rZW5TdXBwbHkudG90YWxTdXBwbHkgPCB0b2tlblN1cHBseS5saW1pdCkgew0KCQkJCWlmICh0b2tlblN1cHBseS50b3RhbFN1cHBseSArIF92YWx1ZSA+IHRva2VuU3VwcGx5LmxpbWl0KSB7DQoJCQkJCV92YWx1ZSAtPSB0b2tlblN1cHBseS5saW1pdCAtIHRva2VuU3VwcGx5LnRvdGFsU3VwcGx5Ow0KCQkJCQl0b2tlblN1cHBseS50b3RhbFN1cHBseSA9IHRva2VuU3VwcGx5LmxpbWl0Ow0KCQkJCX0gZWxzZSB7DQoJCQkJCXRva2VuU3VwcGx5LnRvdGFsU3VwcGx5ICs9IF92YWx1ZTsNCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KCQ0KCS8qKg0KCSAqIEBkZXYgQnVybnMvZGVzdHJveXMgc3BlY2lmaWVkIGFtb3VudCBvZiBQcmVzYWxlIHRva2VucyBmb3IgY2FsbGVyL21ldGhvZCBpbnZva2VyL21lc3NhZ2Ugc2VuZGVyDQoJICogQHJldHVybiBzdWNjZXNzL2ZhaWx1cmUgb2YgdHJhbnNmZXINCgkgKi8JDQoJZnVuY3Rpb24gY29udmVydCgpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KCQlpZiAoYmFsYW5jZUZvclttc2cuc2VuZGVyXSA9PSAwKSByZXR1cm4gZmFsc2U7ICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoDQoJCWlmICghZXhjaGFuZ2VUb0ljbyhtc2cuc2VuZGVyKSkgcmV0dXJuIGZhbHNlOyAvLyBUcnkgdG8gZXhjaGFuZ2UgcHJlSUNPIHRva2VucyB0byBJQ08gdG9rZW5zDQoJCUNvbnZlcnRlZChtc2cuc2VuZGVyLCBiYWxhbmNlRm9yW21zZy5zZW5kZXJdKTsNCgkJYmFsYW5jZUZvclttc2cuc2VuZGVyXSA9IDA7ICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcg0KCQlyZXR1cm4gdHJ1ZTsNCgl9IA0KCQ0KCS8qKg0KCSAqIEBkZXYgQ29udmVydHMvZXhjaGFuZ2VzIHNvbGQgUHJlc2FsZSB0b2tlbnMgdG8gSUNPIG9uZXMgYWNjb3JkaW5nIHRvIHByb3ZpZGVkIGV4Y2hhbmdlIHJhdGUNCgkgKiBAcGFyYW0gb3duZXIgYWRkcmVzcw0KCQkgKi8NCglmdW5jdGlvbiBleGNoYW5nZVRvSWNvKGFkZHJlc3Mgb3duZXIpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgew0KCSAgICBpZihpY29Ub2tlbiAhPSBhZGRyZXNzKDApKSB7DQoJCSAgICByZXR1cm4gaWNvVG9rZW4udHJhbnNmZXJGcm9tT3duZXIob3duZXIsIGJhbGFuY2VGb3Jbb3duZXJdICogZXhjaGFuZ2VSYXRlKTsNCgkgICAgfQ0KCSAgICByZXR1cm4gZmFsc2U7DQoJfQ0KDQoJLyoqDQoJICogQGRldiBQcmVzYWxlIGNvbnRyYWN0IGNvbnN0cnVjdG9yDQoJICovDQoJZnVuY3Rpb24gVG9rZW5Fc2Nyb3coKSB7DQoJCW93bmVyID0gbXNnLnNlbmRlcjsNCgkJDQoJCWJhbGFuY2VGb3JbbXNnLnNlbmRlcl0gPSAzMDAwMDAwMDA7IC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zDQoJCQ0KCQkvLyBEaXNjb3VudCBwb2xpY3kNCgkJdG9rZW5TdXBwbGllc1swXSA9IFRva2VuU3VwcGx5KDEwMDAwMDAwMCwgMCwgMTE0Mjg1NzE0Mjg1NzEpOyAvLyBGaXJzdCBtaWxsaW9uIG9mIHRva2VucyB3aWxsIGdvIDExMjEwNzYyMzMxODM4IHdlaSBmb3IgMSB0b2tlbg0KCQl0b2tlblN1cHBsaWVzWzFdID0gVG9rZW5TdXBwbHkoMTAwMDAwMDAwLCAwLCAxMTg0ODM0MTIzMjIyNyk7IC8vIFNlY29uZCBtaWxsaW9uIG9mIHRva2VucyB3aWxsIGdvIDEyMTA2NTM3NTMwMjY2IHdlaSBmb3IgMSB0b2tlbg0KCQl0b2tlblN1cHBsaWVzWzJdID0gVG9rZW5TdXBwbHkoMTAwMDAwMDAwLCAwLCAxMjUwMDAwMDAwMDAwMCk7IC8vIFRoaXJkIG1pbGxpb24gb2YgdG9rZW5zIHdpbGwgZ28gMTMyNDUwMzMxMTI1ODIgd2VpIGZvciAxIHRva2VuDQoJDQoJCS8vQmFsYW5jZXMgcmVjb3ZlcnkNCgkJdHJhbnNmZXJGcm9tT3duZXIoMHhhMGM2YzczZTA5YjE4ZDk2OTI3YTM0MjdmOThmZjA3YWEzOTUzOWUyLDg3NSk7DQoJCXRyYW5zZmVyQnlPd25lcig4NzUpOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweGEwYzZjNzNlMDliMThkOTY5MjdhMzQyN2Y5OGZmMDdhYTM5NTM5ZTIsMjE1MCk7DQoJCXRyYW5zZmVyQnlPd25lcigyMTUwKTsNCgkJdHJhbnNmZXJGcm9tT3duZXIoMHhhMGM2YzczZTA5YjE4ZDk2OTI3YTM0MjdmOThmZjA3YWEzOTUzOWUyLDk3NSk7DQoJCXRyYW5zZmVyQnlPd25lcig5NzUpOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweGEwYzZjNzNlMDliMThkOTY5MjdhMzQyN2Y5OGZmMDdhYTM5NTM5ZTIsODc1MDAwKTsNCgkJdHJhbnNmZXJCeU93bmVyKDg3NTAwMCk7DQoJCXRyYW5zZmVyRnJvbU93bmVyKDB4YTRhOTBmOGQxMmFlMjM1ODEyYTQ3NzBlMGRhNzZmNWJjMmZkYjIyOSwzNTAwMDAwKTsNCgkJdHJhbnNmZXJCeU93bmVyKDM1MDAwMDApOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweGJkMDhjMjI1MzA2ZjZiMzQxY2U1YTg5NjM5MmUwZjQyOGIzMTc5OWMsNDM3NTApOw0KCQl0cmFuc2ZlckJ5T3duZXIoNDM3NTApOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweGY5NDhmYzViZTJkMmZkOGE3ZWUyMDE1NGExOGZhZTE0NWFmZDY5MDUsMzMxNjk4MSk7DQoJCXRyYW5zZmVyQnlPd25lcigzMzE2OTgxKTsNCgkJdHJhbnNmZXJGcm9tT3duZXIoMHgyM2YxNTk4MmMxMTEzNjIxMjUzMTlmZDRmMzVhYzllMWVkMmRlOWQ2LDI2MjUpOw0KCQl0cmFuc2ZlckJ5T3duZXIoMjYyNSk7DQoJCXRyYW5zZmVyRnJvbU93bmVyKDB4MjNmMTU5ODJjMTExMzYyMTI1MzE5ZmQ0ZjM1YWM5ZTFlZDJkZTlkNiw1MjUwKTsNCgkJdHJhbnNmZXJCeU93bmVyKDUyNTApOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweDZlYmZmNjZhNjg2NTVkODg3MzNkZjYxYjhlMzVmYmNiZDY3MDAxOGUsNTg2MjUpOw0KCQl0cmFuc2ZlckJ5T3duZXIoNTg2MjUpOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweDFhYWEyOWRmZmZmYzhjZTBmMGViNDIwMzFmNDY2ZGJjM2M1MTU1Y2UsMTA0Mzg3NSk7DQoJCXRyYW5zZmVyQnlPd25lcigxMDQzODc1KTsNCgkJdHJhbnNmZXJGcm9tT3duZXIoMHg1ZDQ3ODcxZGYwMDA4MzAwMDgxMWE0MjE0YzM4ZDc2MDllOGIxMTIxLDMzMDAwMDApOw0KCQl0cmFuc2ZlckJ5T3duZXIoMzMwMDAwMCk7DQoJCXRyYW5zZmVyRnJvbU93bmVyKDB4MzBjZWQwYzYxY2NlY2RkMTcyNDY4NDBlMGQwYWNiMzQyYjliZDJlNiwyNjEwNzApOw0KCQl0cmFuc2ZlckJ5T3duZXIoMjYxMDcwKTsNCgkJdHJhbnNmZXJGcm9tT3duZXIoMHgxMDc5ODI3ZGFlZmU2MDlkYzc3MjEwMjNmODExYjdiYjg2ZTM2NWE4LDIwNTE4NzUpOw0KCQl0cmFuc2ZlckJ5T3duZXIoMjA1MTg3NSk7DQoJCXRyYW5zZmVyRnJvbU93bmVyKDB4NmMwYjZhNWFjODFlMDdmODkyMzhkYTY1OGE5ZjBlNjFiZTZhMDA3NiwxMDUwMDAwMCk7DQoJCXRyYW5zZmVyQnlPd25lcigxMDUwMDAwMCk7DQoJCXRyYW5zZmVyRnJvbU93bmVyKDB4ZDE2ZTI5NjM3YTI5ZDIwZDllMjFiMTQ2ZmNmYzQwYWNhNDc2NTZlNSwxNzUwKTsNCgkJdHJhbnNmZXJCeU93bmVyKDE3NTApOw0KCQl0cmFuc2ZlckZyb21Pd25lcigweDRjOWJhMzNkY2JiNTg3NmUxYTgzZDYwMTE0ZjQyYzk0OWRhNGVlMjIsNzc4NzUwMCk7DQoJCXRyYW5zZmVyQnlPd25lcig3Nzg3NTAwKTsNCgkJdHJhbnNmZXJGcm9tT3duZXIoMHgwZDhjYzgwZWZlNWIxMzY4NjViOTc4ODM5M2Q4MjhmZDdmZmI1ODg3LDEwMDAwMDAwMCk7DQoJCXRyYW5zZmVyQnlPd25lcigxMDAwMDAwMDApOw0KCQ0KCX0NCiAgDQoJLy8gSW5jb21pbmcgdHJhbnNmZXIgZnJvbSB0aGUgUHJlc2FsZSB0b2tlbiBidXllcg0KCWZ1bmN0aW9uKCkgcGF5YWJsZSB7DQoJCQ0KCQl1aW50IHRva2VuQW1vdW50OyAvLyBBbW91bnQgb2YgdG9rZW5zIHdoaWNoIGlzIHBvc3NpYmxlIHRvIGJ1eSBmb3IgaW5jb21pbmcgdHJhbnNmZXIvcGF5bWVudA0KCQl1aW50IGFtb3VudFRvQmVQYWlkOyAvLyBBbW91bnQgdG8gYmUgcGFpZA0KCQl1aW50IGFtb3VudFRyYW5zZmVyZWQgPSBtc2cudmFsdWU7IC8vIENvc3QvcHJpY2UgaW4gV0VJIG9mIGluY29taW5nIHRyYW5zZmVyL3BheW1lbnQNCgkJDQoJCWlmIChhbW91bnRUcmFuc2ZlcmVkIDw9IDApIHsNCgkJICAgICAgCUVycm9yKCdubyBldGggd2FzIHRyYW5zZmVyZWQnKTsNCiAgICAgICAgICAgICAgCQltc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7DQoJCSAgCXJldHVybjsNCgkJfQ0KDQoJCWlmKGJhbGFuY2VGb3Jbb3duZXJdIDw9IDApIHsNCgkJICAgICAgCUVycm9yKCdhbGwgdG9rZW5zIHNvbGQnKTsNCiAgICAgICAgICAgICAgCQltc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7DQoJCSAgICAgIAlyZXR1cm47DQoJCX0NCgkJDQoJCS8vIERldGVybWluZSBhbW91bnQgb2YgdG9rZW5zIGNhbiBiZSBib3VnaHQgYWNjb3JkaW5nIHRvIGF2YWlsYWJsZSBzdXBwbHkgYW5kIGRpc2NvdW50IHBvbGljeQ0KCQlmb3IgKHVpbnQgZGlzY291bnRJbmRleCA9IDA7IGRpc2NvdW50SW5kZXggPCB0b2tlblN1cHBsaWVzLmxlbmd0aDsgZGlzY291bnRJbmRleCsrKSB7DQoJCQkvLyBJZiBpdCdzIG5vdCBwb3NzaWJsZSB0byBidXkgYW55IHRva2VucyBhdCBhbGwgc2tpcCB0aGUgcmVzdCBvZiBkaXNjb3VudCBwb2xpY3kNCgkJCQ0KCQkJVG9rZW5TdXBwbHkgc3RvcmFnZSB0b2tlblN1cHBseSA9IHRva2VuU3VwcGxpZXNbZGlzY291bnRJbmRleF07DQoJCQkNCgkJCWlmKHRva2VuU3VwcGx5LnRvdGFsU3VwcGx5IDwgdG9rZW5TdXBwbHkubGltaXQpIHsNCgkJCQ0KCQkJCXVpbnQgdG9rZW5zUG9zc2libGVUb0J1eSA9IGFtb3VudFRyYW5zZmVyZWQgLyB0b2tlblN1cHBseS50b2tlblByaWNlSW5XZWk7DQoNCiAgICAgICAgICAgICAgICBpZiAodG9rZW5zUG9zc2libGVUb0J1eSA+IGJhbGFuY2VGb3Jbb3duZXJdKSANCiAgICAgICAgICAgICAgICAgICAgdG9rZW5zUG9zc2libGVUb0J1eSA9IGJhbGFuY2VGb3Jbb3duZXJdOw0KDQoJCQkJaWYgKHRva2VuU3VwcGx5LnRvdGFsU3VwcGx5ICsgdG9rZW5zUG9zc2libGVUb0J1eSA+IHRva2VuU3VwcGx5LmxpbWl0KSB7DQoJCQkJCXRva2Vuc1Bvc3NpYmxlVG9CdXkgPSB0b2tlblN1cHBseS5saW1pdCAtIHRva2VuU3VwcGx5LnRvdGFsU3VwcGx5Ow0KCQkJCX0NCg0KCQkJCXRva2VuU3VwcGx5LnRvdGFsU3VwcGx5ICs9IHRva2Vuc1Bvc3NpYmxlVG9CdXk7DQoJCQkJdG9rZW5BbW91bnQgKz0gdG9rZW5zUG9zc2libGVUb0J1eTsNCg0KCQkJCXVpbnQgZGVsdGEgPSB0b2tlbnNQb3NzaWJsZVRvQnV5ICogdG9rZW5TdXBwbHkudG9rZW5QcmljZUluV2VpOw0KDQoJCQkJYW1vdW50VG9CZVBhaWQgKz0gZGVsdGE7DQogICAgICAgICAgICAgICAgCQlhbW91bnRUcmFuc2ZlcmVkIC09IGRlbHRhOw0KCQkJDQoJCQl9DQoJCX0NCgkJDQoJCS8vIERvIG5vdCB3YXN0ZSBnYXMgaWYgdGhlcmUgaXMgbm8gdG9rZW5zIHRvIGJ1eQ0KCQlpZiAodG9rZW5BbW91bnQgPT0gMCkgew0KCQkgICAgCUVycm9yKCdubyB0b2tlbiB0byBidXknKTsNCiAgICAgICAgICAgIAkJbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUpOw0KCQkJcmV0dXJuOw0KICAgICAgICAJfQ0KCQkNCgkJLy8gVHJhbnNmZXIgdG9rZW5zIHRvIGJ1eWVyDQoJCXRyYW5zZmVyRnJvbU93bmVyKG1zZy5zZW5kZXIsIHRva2VuQW1vdW50KTsNCg0KCQkvLyBUcmFuc2ZlciBtb25leSB0byBzZWxsZXINCgkJb3duZXIudHJhbnNmZXIoYW1vdW50VG9CZVBhaWQpOw0KCQkNCgkJLy8gUmVmdW5kIGJ1eWVyIGlmIG92ZXJwYWlkIC8gbm8gdG9rZW5zIHRvIHNlbGwNCgkJbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUgLSBhbW91bnRUb0JlUGFpZCk7DQoJfQ0KICANCgkvKioNCgkgKiBAZGV2IFJlbW92ZXMvZGVsZXRlcyBjb250cmFjdA0KCSAqLw0KCWZ1bmN0aW9uIGtpbGwoKSBvd25lcm9ubHkgew0KCQlzdWljaWRlKG1zZy5zZW5kZXIpOw0KCX0NCiAgDQoJLyoqDQoJICogQGRldiBUcmFuc2ZlcnMgdG9rZW5zIGZyb20gb3duZXIgdG8gc3BlY2lmaWVkIHJlY2lwaWVudA0KCSAqIEBwYXJhbSBfdG8gUmVjaXBpZW50IGFkZHJlc3MNCgkgKiBAcGFyYW0gX3ZhbHVlIFRva2VuIHF1YW50aXR5IHRvIHRyYW5zZmVyDQoJICogQHJldHVybiBzdWNjZXNzL2ZhaWx1cmUgb2YgdHJhbnNmZXINCgkgKi8NCglmdW5jdGlvbiB0cmFuc2ZlckZyb21Pd25lcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHByaXZhdGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQoJCWlmIChiYWxhbmNlRm9yW293bmVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG93bmVyIGhhcyBlbm91Z2gNCgkJaWYgKGJhbGFuY2VGb3JbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VGb3JbX3RvXSkgcmV0dXJuIGZhbHNlOyAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cw0KCQliYWxhbmNlRm9yW293bmVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBvd25lcg0KCQliYWxhbmNlRm9yW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudA0KICAgICAgICAJVHJhbnNmZXIob3duZXIsX3RvLF92YWx1ZSk7DQoJCXJldHVybiB0cnVlOw0KCX0NCiAgDQp9'