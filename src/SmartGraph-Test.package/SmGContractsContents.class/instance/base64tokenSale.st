base 64 content
base64tokenSale
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLy8gQnkgY29udHJpYnV0aW5nIHlvdSBhZ3JlZSB0byBvdXIgdGVybXMgJiBjb25kaXRpb25zLg0KLy8gaHR0cHM6Ly9oYXJib3VyLnRva2VuYXRlLmlvL0hhcmJvdXJUZXJtc09mU2FsZS5wZGYNCg0KbGlicmFyeSBTYWZlTWF0aCB7DQogICAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHVpbnQgYyA9IGEgKiBiOw0KICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOw0KICAgICAgICByZXR1cm4gYzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgYXNzZXJ0KGIgPiAwKTsNCiAgICAgICAgdWludCBjID0gYSAvIGI7DQogICAgICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOw0KICAgICAgICByZXR1cm4gYzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7DQogICAgICAgIHJldHVybiBhIC0gYjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgdWludCBjID0gYSArIGI7DQogICAgICAgIGFzc2VydChjID49IGEpOw0KICAgICAgICByZXR1cm4gYzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgew0KICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsNCiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7DQogICAgICAgIGlmICghYXNzZXJ0aW9uKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KY29udHJhY3Qgb3duYWJsZSB7DQoNCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsNCg0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7DQogICAgICAgIGlmICghaXNPd25lcihtc2cuc2VuZGVyKSkgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgZnVuY3Rpb24gb3duYWJsZSgpIHsNCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgew0KICAgICAgICBvd25lciA9IF9uZXdPd25lcjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpc093bmVyKGFkZHJlc3MgX2FkZHJlc3MpIHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIG93bmVyID09IF9hZGRyZXNzOw0KICAgIH0NCn0NCg0KY29udHJhY3QgQnVybmFibGUgew0KDQogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQgYW1vdW50KTsNCiAgICBmdW5jdGlvbiBidXJuKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIHB1YmxpYzsNCg0KfQ0KDQpjb250cmFjdCBFUkMyMCB7DQogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7DQogICAgDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOw0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsNCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsNCiAgICANCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsNCn0NCg0KY29udHJhY3QgTWludGFibGUgew0KDQogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOw0KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljOw0KfQ0KDQpjb250cmFjdCBUb2tlbiBpcyBFUkMyMCwgTWludGFibGUsIEJ1cm5hYmxlLCBvd25hYmxlIHsNCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsNCg0KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsNCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsNCg0KICAgIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMTg7DQogICAgdWludCBwdWJsaWMgbWF4U3VwcGx5Ow0KICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5Ow0KICAgIHVpbnQgcHVibGljIGZyZWV6ZU1pbnRVbnRpbDsNCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOw0KDQogICAgbW9kaWZpZXIgY2FuTWludCB7DQogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgPCBtYXhTdXBwbHkpOw0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIG1vZGlmaWVyIG1pbnRJc05vdEZyb3plbiB7DQogICAgICAgIHJlcXVpcmUoZnJlZXplTWludFVudGlsIDwgbm93KTsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBUb2tlbihzdHJpbmcgX25hbWUsIHN0cmluZyBfc3ltYm9sLCB1aW50IF9tYXhTdXBwbHkpIHsNCiAgICAgICAgbmFtZSA9IF9uYW1lOw0KICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOw0KICAgICAgICBtYXhTdXBwbHkgPSBfbWF4U3VwcGx5Ow0KICAgICAgICB0b3RhbFN1cHBseSA9IDA7DQogICAgICAgIGZyZWV6ZU1pbnRVbnRpbCA9IDA7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHJldHVybiB0b3RhbFN1cHBseTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsNCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBpZiAoX3ZhbHVlIDw9IDApIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7DQogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOw0KDQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBpZiAoX3ZhbHVlIDw9IDApIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsNCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7DQoNCiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsNCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIGNhbk1pbnQgbWludElzTm90RnJvemVuIG9ubHlPd25lciB7DQogICAgICAgIGlmIChtYXhTdXBwbHkgPCB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCkpIHRocm93Ow0KDQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOw0KICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7DQoNCiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciB7DQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF9hbW91bnQpOw0KICAgICAgICBiYWxhbmNlc1tfb3duZXJdID0gYmFsYW5jZXNbX293bmVyXS5zdWIoX2Ftb3VudCk7DQoNCiAgICAgICAgQnVybihfb3duZXIsIF9hbW91bnQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGZyZWV6ZU1pbnRpbmdGb3IodWludCBfd2Vla3MpIHB1YmxpYyBvbmx5T3duZXIgew0KICAgICAgICBmcmVlemVNaW50VW50aWwgPSBub3cgKyBfd2Vla3MgKiAxIHdlZWtzOw0KICAgIH0NCn0NCg0KY29udHJhY3QgVG9rZW5TYWxlIGlzIG93bmFibGUgew0KICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50Ow0KDQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUlOVF9MT0NLX0RVUkFUSU9OX0lOX1dFRUtTID0gMjY7DQoNCiAgICBUb2tlbiBwdWJsaWMgdG9rZW47DQoNCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsNCg0KICAgIHVpbnQgcHVibGljIGNhcDsNCiAgICB1aW50IHB1YmxpYyBjb2xsZWN0ZWQ7DQogICAgdWludCBwdWJsaWMgcHJpY2U7DQogICAgdWludCBwdWJsaWMgcHVyY2hhc2VMaW1pdDsNCg0KICAgIHVpbnQgcHVibGljIHdoaXRlbGlzdFN0YXJ0QmxvY2s7DQogICAgdWludCBwdWJsaWMgc3RhcnRCbG9jazsNCiAgICB1aW50IHB1YmxpYyBlbmRCbG9jazsNCg0KICAgIGJvb2wgcHVibGljIGNhcFJlYWNoZWQgPSBmYWxzZTsNCiAgICBib29sIHB1YmxpYyBpc0ZpbmFsaXplZCA9IGZhbHNlOw0KDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBjb250cmlidXRlZDsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHdoaXRlbGlzdGVkOw0KDQogICAgZXZlbnQgR29hbFJlYWNoZWQodWludCBhbW91bnRSYWlzZWQpOw0KICAgIGV2ZW50IE5ld0NvbnRyaWJ1dGlvbihhZGRyZXNzIGluZGV4ZWQgaG9sZGVyLCB1aW50MjU2IHRva2VucywgdWludDI1NiBjb250cmlidXRlZCk7DQogICAgZXZlbnQgUmVmdW5kZWQoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50IGFtb3VudCk7DQoNCiAgICBtb2RpZmllciBvbmx5QWZ0ZXJTYWxlIHsgcmVxdWlyZShibG9jay5udW1iZXIgPiBlbmRCbG9jayk7IF87IH0NCg0KICAgIG1vZGlmaWVyIG9ubHlXaGVuRmluYWxpemVkIHsgcmVxdWlyZShpc0ZpbmFsaXplZCk7IF87IH0NCg0KICAgIG1vZGlmaWVyIG9ubHlEdXJpbmdTYWxlIHsNCiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gc3RhcnRCbG9jayhtc2cuc2VuZGVyKSk7DQogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyIDw9IGVuZEJsb2NrKTsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5V2hlbkVuZGVkIHsNCiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8IGVuZEJsb2NrICYmICFjYXBSZWFjaGVkKSB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBUb2tlblNhbGUoDQogICAgICAgIHVpbnQgX2NhcCwNCiAgICAgICAgdWludCBfd2hpdGVsaXN0U3RhcnRCbG9jaywNCiAgICAgICAgdWludCBfc3RhcnRCbG9jaywNCiAgICAgICAgdWludCBfZW5kQmxvY2ssDQogICAgICAgIGFkZHJlc3MgX3Rva2VuLA0KICAgICAgICB1aW50IF9wcmljZSwNCiAgICAgICAgdWludCBfcHVyY2hhc2VMaW1pdCwNCiAgICAgICAgYWRkcmVzcyBfYmVuZWZpY2lhcnkNCiAgICApDQogICAgew0KICAgICAgICBjYXAgPSBfY2FwICogMSBldGhlcjsNCiAgICAgICAgcHJpY2UgPSBfcHJpY2U7DQogICAgICAgIHB1cmNoYXNlTGltaXQgPSAoX3B1cmNoYXNlTGltaXQgKiAxIGV0aGVyKSAqIHByaWNlOw0KICAgICAgICB0b2tlbiA9IFRva2VuKF90b2tlbik7DQogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5Ow0KDQogICAgICAgIHdoaXRlbGlzdFN0YXJ0QmxvY2sgPSBfd2hpdGVsaXN0U3RhcnRCbG9jazsNCiAgICAgICAgc3RhcnRCbG9jayA9IF9zdGFydEJsb2NrOw0KICAgICAgICBlbmRCbG9jayA9IF9lbmRCbG9jazsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsNCiAgICAgICAgZG9QdXJjaGFzZShtc2cuc2VuZGVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBwdWJsaWMgb25seVdoZW5GaW5hbGl6ZWQgew0KICAgICAgICBpZiAoY2FwUmVhY2hlZCkgdGhyb3c7DQoNCiAgICAgICAgdWludCBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKG1zZy5zZW5kZXIpOw0KICAgICAgICBpZiAoYmFsYW5jZSA9PSAwKSB0aHJvdzsNCg0KICAgICAgICB1aW50IHJlZnVuZCA9IGJhbGFuY2UuZGl2KHByaWNlKTsNCiAgICAgICAgaWYgKHJlZnVuZCA+IHRoaXMuYmFsYW5jZSkgew0KICAgICAgICAgICAgcmVmdW5kID0gdGhpcy5iYWxhbmNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdG9rZW4uYnVybihtc2cuc2VuZGVyLCBiYWxhbmNlKTsNCiAgICAgICAgY29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPSAwOw0KDQogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmVmdW5kKTsNCiAgICAgICAgUmVmdW5kZWQobXNnLnNlbmRlciwgcmVmdW5kKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIHB1YmxpYyBvbmx5V2hlbkVuZGVkIG9ubHlPd25lciB7DQogICAgICAgIHJlcXVpcmUoIWlzRmluYWxpemVkKTsNCiAgICAgICAgaXNGaW5hbGl6ZWQgPSB0cnVlOw0KDQogICAgICAgIGlmICghY2FwUmVhY2hlZCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5zZW5kKGNvbGxlY3RlZCkpIHRocm93Ow0KICAgICAgICB0b2tlbi5mcmVlemVNaW50aW5nRm9yKE1JTlRfTE9DS19EVVJBVElPTl9JTl9XRUVLUyk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZG9QdXJjaGFzZShhZGRyZXNzIF9vd25lcikgaW50ZXJuYWwgb25seUR1cmluZ1NhbGUgew0KICAgICAgICBpZiAobXNnLnZhbHVlIDw9IDApIHRocm93Ow0KICAgICAgICBpZiAoY29sbGVjdGVkID49IGNhcCkgdGhyb3c7DQoNCiAgICAgICAgdWludCB2YWx1ZSA9IG1zZy52YWx1ZTsNCiAgICAgICAgaWYgKGNvbGxlY3RlZC5hZGQodmFsdWUpID4gY2FwKSB7DQogICAgICAgICAgICB1aW50IGRpZmZlcmVuY2UgPSBjYXAuc3ViKGNvbGxlY3RlZCk7DQogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHZhbHVlLnN1YihkaWZmZXJlbmNlKSk7DQogICAgICAgICAgICB2YWx1ZSA9IGRpZmZlcmVuY2U7DQogICAgICAgIH0NCg0KICAgICAgICB1aW50IHRva2VucyA9IHZhbHVlLm11bChwcmljZSk7DQogICAgICAgIGlmICh0b2tlbi5iYWxhbmNlT2YobXNnLnNlbmRlcikgKyB0b2tlbnMgPiBwdXJjaGFzZUxpbWl0KSB0aHJvdzsNCg0KICAgICAgICBjb2xsZWN0ZWQgPSBjb2xsZWN0ZWQuYWRkKHZhbHVlKTsNCiAgICAgICAgdG9rZW4ubWludChtc2cuc2VuZGVyLCB0b2tlbnMpOw0KICAgICAgICBOZXdDb250cmlidXRpb24oX293bmVyLCB0b2tlbnMsIHZhbHVlKTsNCg0KICAgICAgICBpZiAoY29sbGVjdGVkICE9IGNhcCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgR29hbFJlYWNoZWQoY29sbGVjdGVkKTsNCiAgICAgICAgY2FwUmVhY2hlZCA9IHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWRkVG9XaGl0ZWxpc3QoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7DQogICAgICAgIHdoaXRlbGlzdGVkW19hZGRyZXNzXSA9IHRydWU7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3RhcnRCbG9jayhhZGRyZXNzIGNvbnRyaWJ1dG9yKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7DQogICAgICAgIGlmICh3aGl0ZWxpc3RlZFtjb250cmlidXRvcl0pIHsNCiAgICAgICAgICAgIHJldHVybiB3aGl0ZWxpc3RTdGFydEJsb2NrOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHN0YXJ0QmxvY2s7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdG9rZW5UcmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlXaGVuRmluYWxpemVkIHsNCiAgICAgICAgaWYgKCFjYXBSZWFjaGVkKSB0aHJvdzsgLy8gb25seSB0cmFuc2ZlciBpZiBjYXAgcmVhY2hlZCwgb3RoZXJ3aXNlIHdlIG5lZWQgYnVybmluZyBmb3IgcmVmdW5kDQogICAgICAgIHRva2VuLnRyYW5zZmVyT3duZXJzaGlwKF9uZXdPd25lcik7DQogICAgfQ0KfQ=='