base 64 content
base64tokenTraderFactory10
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4wOw0KDQovL2h0dHBzOi8vZ2l0aHViLmNvbS9uZXh1c2Rldi9lcmMyMC9ibG9iL21hc3Rlci9jb250cmFjdHMvZXJjMjAuc29sDQoNCmNvbnRyYWN0IEVSQzIwQ29uc3RhbnQgew0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpOw0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZiggYWRkcmVzcyB3aG8gKSBjb25zdGFudCByZXR1cm5zICh1aW50IHZhbHVlKTsNCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IF9hbGxvd2FuY2UpOw0KfQ0KY29udHJhY3QgRVJDMjBTdGF0ZWZ1bCB7DQogICAgZnVuY3Rpb24gdHJhbnNmZXIoIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsNCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7DQp9DQpjb250cmFjdCBFUkMyMEV2ZW50cyB7DQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOw0KfQ0KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBDb25zdGFudCwgRVJDMjBTdGF0ZWZ1bCwgRVJDMjBFdmVudHMge30NCg0KY29udHJhY3Qgb3duZWQgew0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQogICAgZnVuY3Rpb24gb3duZWQoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICB9DQoNCiAgICBtb2RpZmllciBvbmx5T3duZXIgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsNCiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsNCiAgICB9DQp9DQoNCi8vIGNvbnRyYWN0IGNhbiBidXkgb3Igc2VsbCB0b2tlbnMgZm9yIEVUSA0KLy8gcHJpY2VzIGFyZSBpbiBhbW91bnQgb2Ygd2VpIHBlciBiYXRjaCBvZiB0b2tlbiB1bml0cw0KDQpjb250cmFjdCBUb2tlblRyYWRlciBpcyBvd25lZCB7DQoNCiAgICBhZGRyZXNzIHB1YmxpYyBhc3NldDsgICAgICAgLy8gYWRkcmVzcyBvZiB0b2tlbg0KICAgIHVpbnQyNTYgcHVibGljIGJ1eVByaWNlOyAgIC8vIGNvbnRhY3QgYnV5cyBsb3RzIG9mIHRva2VuIGF0IHRoaXMgcHJpY2UNCiAgICB1aW50MjU2IHB1YmxpYyBzZWxsUHJpY2U7ICAvLyBjb250cmFjdCBzZWxscyBsb3RzIGF0IHRoaXMgcHJpY2UNCiAgICB1aW50MjU2IHB1YmxpYyB1bml0czsgICAgICAgLy8gbG90IHNpemUgKHRva2VuLXdlaSkNCg0KICAgIGJvb2wgcHVibGljIHNlbGxzVG9rZW5zOyAgICAvLyBpcyBjb250cmFjdCBzZWxsaW5nDQogICAgYm9vbCBwdWJsaWMgYnV5c1Rva2VuczsgICAgIC8vIGlzIGNvbnRyYWN0IGJ1eWluZw0KDQogICAgZXZlbnQgQWN0aXZhdGVkRXZlbnQoYm9vbCBzZWxscywgYm9vbCBidXlzKTsNCiAgICBldmVudCBVcGRhdGVFdmVudCgpOw0KDQogICAgZnVuY3Rpb24gVG9rZW5UcmFkZXIgKA0KICAgICAgICBhZGRyZXNzIF9hc3NldCwgDQogICAgICAgIHVpbnQyNTYgX2J1eVByaWNlLCANCiAgICAgICAgdWludDI1NiBfc2VsbFByaWNlLCANCiAgICAgICAgdWludDI1NiBfdW5pdHMsDQogICAgICAgIGJvb2wgICAgX3NlbGxzVG9rZW5zLA0KICAgICAgICBib29sICAgIF9idXlzVG9rZW5zDQogICAgICAgICkNCiAgICB7DQogICAgICAgICAgYXNzZXQgICAgICAgICA9IF9hc3NldDsgDQogICAgICAgICAgYnV5UHJpY2UgICAgID0gX2J1eVByaWNlOyANCiAgICAgICAgICBzZWxsUHJpY2UgICAgPSBfc2VsbFByaWNlOw0KICAgICAgICAgIHVuaXRzICAgICAgICAgPSBfdW5pdHM7IA0KICAgICAgICAgIHNlbGxzVG9rZW5zICAgPSBfc2VsbHNUb2tlbnM7DQogICAgICAgICAgYnV5c1Rva2VucyAgICA9IF9idXlzVG9rZW5zOw0KDQogICAgICAgICAgQWN0aXZhdGVkRXZlbnQoc2VsbHNUb2tlbnMsYnV5c1Rva2Vucyk7DQogICAgfQ0KDQogICAgLy8gbW9kaWZ5IHRyYWRpbmcgYmVoYXZpb3INCiAgICBmdW5jdGlvbiBhY3RpdmF0ZSAoDQogICAgICAgIGJvb2wgICAgX3NlbGxzVG9rZW5zLA0KICAgICAgICBib29sICAgIF9idXlzVG9rZW5zDQogICAgICAgICkgb25seU93bmVyDQogICAgew0KICAgICAgICAgIHNlbGxzVG9rZW5zICAgPSBfc2VsbHNUb2tlbnM7DQogICAgICAgICAgYnV5c1Rva2VucyAgICA9IF9idXlzVG9rZW5zOw0KDQogICAgICAgICAgQWN0aXZhdGVkRXZlbnQoc2VsbHNUb2tlbnMsYnV5c1Rva2Vucyk7DQogICAgfQ0KDQogICAgLy8gYWxsb3dzIG93bmVyIHRvIGRlcG9zaXQgRVRIDQogICAgLy8gZGVwb3NpdCB0b2tlbnMgYnkgc2VuZGluZyB0aGVtIGRpcmVjdGx5IHRvIGNvbnRyYWN0DQogICAgLy8gYnV5ZXJzIG11c3Qgbm90IHNlbmQgdG9rZW5zIHRvIHRoZSBjb250cmFjdCwgdXNlOiBzZWxsKC4uLikNCiAgICBmdW5jdGlvbiBkZXBvc2l0KCkgcGF5YWJsZSBvbmx5T3duZXIgew0KICAgICAgICBVcGRhdGVFdmVudCgpOw0KICAgIH0NCg0KICAgIC8vIGFsbG93IG93bmVyIHRvIHJlbW92ZSB0cmFkZSB0b2tlbg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3QXNzZXQodWludDI1NiBfdmFsdWUpIG9ubHlPd25lciByZXR1cm5zIChib29sIG9rKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIEVSQzIwKGFzc2V0KS50cmFuc2Zlcihvd25lcixfdmFsdWUpOw0KICAgICAgICBVcGRhdGVFdmVudCgpOw0KICAgIH0NCg0KICAgIC8vIGFsbG93IG93bmVyIHRvIHJlbW92ZSBhcmJpdHJhcnkgdG9rZW5zDQogICAgLy8gaW5jbHVkZWQganVzdCBpbiBjYXNlIGNvbnRyYWN0IHJlY2VpdmVzIHdyb25nIHRva2VuDQogICAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbihhZGRyZXNzIF90b2tlbiwgdWludDI1NiBfdmFsdWUpIG9ubHlPd25lciByZXR1cm5zIChib29sIG9rKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIEVSQzIwKF90b2tlbikudHJhbnNmZXIob3duZXIsX3ZhbHVlKTsNCiAgICAgICAgVXBkYXRlRXZlbnQoKTsNCiAgICB9DQoNCiAgICAvLyBhbGxvdyBvd25lciB0byByZW1vdmUgRVRIDQogICAgZnVuY3Rpb24gd2l0aGRyYXcodWludDI1NiBfdmFsdWUpIG9ubHlPd25lciByZXR1cm5zIChib29sIG9rKQ0KICAgIHsNCiAgICAgICAgaWYodGhpcy5iYWxhbmNlID49IF92YWx1ZSkgew0KICAgICAgICAgICAgcmV0dXJuIG93bmVyLnNlbmQoX3ZhbHVlKTsNCiAgICAgICAgfQ0KICAgICAgICBVcGRhdGVFdmVudCgpOw0KICAgIH0NCg0KICAgIC8vdXNlciBidXlzIHRva2VuIHdpdGggRVRIDQogICAgZnVuY3Rpb24gYnV5KCkgcGF5YWJsZSB7DQogICAgICAgIGlmKHNlbGxzVG9rZW5zIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpIA0KICAgICAgICB7DQogICAgICAgICAgICB1aW50IG9yZGVyICAgPSBtc2cudmFsdWUgLyBzZWxsUHJpY2U7IA0KICAgICAgICAgICAgdWludCBjYW5fc2VsbCA9IEVSQzIwKGFzc2V0KS5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSkgLyB1bml0czsNCg0KICAgICAgICAgICAgaWYob3JkZXIgPiBjYW5fc2VsbCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB1aW50MjU2IGNoYW5nZSA9IG1zZy52YWx1ZSAtIChjYW5fc2VsbCAqIHNlbGxQcmljZSk7DQogICAgICAgICAgICAgICAgb3JkZXIgPSBjYW5fc2VsbDsNCiAgICAgICAgICAgICAgICBpZighbXNnLnNlbmRlci5zZW5kKGNoYW5nZSkpIHRocm93Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZihvcmRlciA+IDApIHsNCiAgICAgICAgICAgICAgICBpZighRVJDMjAoYXNzZXQpLnRyYW5zZmVyKG1zZy5zZW5kZXIsb3JkZXIgKiB1bml0cykpIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgVXBkYXRlRXZlbnQoKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHRocm93OyAgLy8gcmV0dXJuIHVzZXIgZnVuZHMgaWYgdGhlIGNvbnRyYWN0IGlzIG5vdCBzZWxsaW5nDQogICAgfQ0KDQogICAgLy8gdXNlciBzZWxscyB0b2tlbiBmb3IgRVRIDQogICAgLy8gdXNlciBtdXN0IHNldCBhbGxvd2FuY2UgZm9yIHRoaXMgY29udHJhY3QgYmVmb3JlIGNhbGxpbmcNCiAgICBmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSB7DQogICAgICAgIGlmIChidXlzVG9rZW5zIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpIHsNCiAgICAgICAgICAgIHVpbnQyNTYgY2FuX2J1eSA9IHRoaXMuYmFsYW5jZSAvIGJ1eVByaWNlOyAgLy8gdG9rZW4gbG90cyBjb250cmFjdCBjYW4gYnV5DQogICAgICAgICAgICB1aW50MjU2IG9yZGVyID0gYW1vdW50IC8gdW5pdHM7ICAgICAgICAgICAgIC8vIHRva2VuIGxvdHMgYXZhaWxhYmxlDQoNCiAgICAgICAgICAgIGlmKG9yZGVyID4gY2FuX2J1eSkgb3JkZXIgPSBjYW5fYnV5OyAgICAgICAgLy8gYWRqdXN0IG9yZGVyIGZvciBmdW5kcw0KDQogICAgICAgICAgICBpZiAob3JkZXIgPiAwKQ0KICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAvLyBleHRyYWN0IHVzZXIgdG9rZW5zDQogICAgICAgICAgICAgICAgaWYoIUVSQzIwKGFzc2V0KS50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgYWRkcmVzcyh0aGlzKSwgYW1vdW50KSkgdGhyb3c7DQoNCiAgICAgICAgICAgICAgICAvLyBwYXkgdXNlcg0KICAgICAgICAgICAgICAgIGlmKCFtc2cuc2VuZGVyLnNlbmQob3JkZXIgKiBidXlQcmljZSkpIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgVXBkYXRlRXZlbnQoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIHNlbmRpbmcgRVRIIHRvIGNvbnRyYWN0IHNlbGxzIEVUSCB0byB1c2VyDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIGJ1eSgpOw0KICAgIH0NCn0NCg0KLy8gVGhpcyBjb250cmFjdCBkZXBsb3lzIFRva2VuVHJhZGVyIGNvbnRyYWN0cyBhbmQgbG9ncyB0aGUgZXZlbnQNCi8vIHRyYWRlIHBhaXJzIGFyZSBpZGVudGlmaWVkIHdpdGggc2hhMyhhc3NldCx1bml0cykNCg0KY29udHJhY3QgVG9rZW5UcmFkZXJGYWN0b3J5IHsNCg0KICAgIGV2ZW50IFRyYWRlTGlzdGluZyhieXRlczMyIGJvb2tpZCwgYWRkcmVzcyBvd25lciwgYWRkcmVzcyBhZGRyKTsNCiAgICBldmVudCBOZXdCb29rKGJ5dGVzMzIgYm9va2lkLCBhZGRyZXNzIGFzc2V0LCB1aW50MjU2IHVuaXRzKTsNCg0KICAgIG1hcHBpbmcoIGFkZHJlc3MgPT4gYm9vbCApIHB1YmxpYyB2ZXJpZnk7DQogICAgbWFwcGluZyggYnl0ZXMzMiA9PiBib29sICkgcGFpckV4aXRzOw0KDQogICAgZnVuY3Rpb24gY3JlYXRlVHJhZGVDb250cmFjdCggICAgICAgDQogICAgICAgIGFkZHJlc3MgX2Fzc2V0LCANCiAgICAgICAgdWludDI1NiBfYnV5UHJpY2UsIA0KICAgICAgICB1aW50MjU2IF9zZWxsUHJpY2UsIA0KICAgICAgICB1aW50MjU2IF91bml0cywNCiAgICAgICAgYm9vbCAgICBfc2VsbHNUb2tlbnMsDQogICAgICAgIGJvb2wgICAgX2J1eXNUb2tlbnMNCiAgICAgICAgKSByZXR1cm5zIChhZGRyZXNzKSANCiAgICB7DQogICAgICAgIGlmKF9idXlQcmljZSA+IF9zZWxsUHJpY2UpIHRocm93OyAvLyBtdXN0IG1ha2UgcHJvZml0IG9uIHNwcmVhZA0KICAgICAgICBpZihfdW5pdHMgPT0gMCkgdGhyb3c7ICAgICAgICAgICAgICAvLyBjYW4ndCBzZWxsIHplcm8gdW5pdHMNCg0KICAgICAgICBhZGRyZXNzIHRyYWRlciA9IG5ldyBUb2tlblRyYWRlciAoDQogICAgICAgICAgICAgICAgICAgICBfYXNzZXQsIA0KICAgICAgICAgICAgICAgICAgICAgX2J1eVByaWNlLCANCiAgICAgICAgICAgICAgICAgICAgIF9zZWxsUHJpY2UsIA0KICAgICAgICAgICAgICAgICAgICAgX3VuaXRzLA0KICAgICAgICAgICAgICAgICAgICAgX3NlbGxzVG9rZW5zLA0KICAgICAgICAgICAgICAgICAgICAgX2J1eXNUb2tlbnMpOw0KDQogICAgICAgIHZhciBib29raWQgPSBzaGEzKF9hc3NldCxfdW5pdHMpOw0KDQogICAgICAgIHZlcmlmeVt0cmFkZXJdID0gdHJ1ZTsgLy8gcmVjb3JkIHRoYXQgdGhpcyBmYWN0b3J5IGNyZWF0ZWQgdGhlIHRyYWRlcg0KDQogICAgICAgIFRva2VuVHJhZGVyKHRyYWRlcikudHJhbnNmZXJPd25lcnNoaXAobXNnLnNlbmRlcik7IC8vIHNldCB0aGUgb3duZXIgdG8gd2hvZXZlciBjYWxsZWQgdGhlIGZ1bmN0aW9uDQoNCiAgICAgICAgaWYocGFpckV4aXRzW2Jvb2tpZF0gPT0gZmFsc2UpIHsNCiAgICAgICAgICAgIHBhaXJFeGl0c1tib29raWRdID0gdHJ1ZTsNCiAgICAgICAgICAgIE5ld0Jvb2soYm9va2lkLCBfYXNzZXQsIF91bml0cyk7DQogICAgICAgIH0NCg0KICAgICAgICBUcmFkZUxpc3RpbmcoYm9va2lkLG1zZy5zZW5kZXIsdHJhZGVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgIHRocm93OyAgICAgLy8gUHJldmVudHMgYWNjaWRlbnRhbCBzZW5kaW5nIG9mIGV0aGVyIHRvIHRoZSBmYWN0b3J5DQogICAgfQ0KfQ=='