base 64 content
base64townCrier
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC45Ow0KDQpjb250cmFjdCBUb3duQ3JpZXIgew0KICAgIHN0cnVjdCBSZXF1ZXN0IHsgLy8gdGhlIGRhdGEgc3RydWN0dXJlIGZvciBlYWNoIHJlcXVlc3QNCiAgICAgICAgYWRkcmVzcyByZXF1ZXN0ZXI7IC8vIHRoZSBhZGRyZXNzIG9mIHRoZSByZXF1ZXN0ZXINCiAgICAgICAgdWludCBmZWU7IC8vIHRoZSBhbW91bnQgb2Ygd2VpIHRoZSByZXF1ZXN0ZXIgcGF5cyBmb3IgdGhlIHJlcXVlc3QNCiAgICAgICAgYWRkcmVzcyBjYWxsYmFja0FkZHI7IC8vIHRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdCB0byBjYWxsIGZvciBkZWxpdmVyaW5nIHJlc3BvbnNlDQogICAgICAgIGJ5dGVzNCBjYWxsYmFja0ZJRDsgLy8gdGhlIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uDQogICAgICAgIGJ5dGVzMzIgcGFyYW1zSGFzaDsgLy8gdGhlIGhhc2ggb2YgdGhlIHJlcXVlc3QgcGFyYW1ldGVycw0KICAgIH0NCiAgIA0KICAgIGV2ZW50IFVwZ3JhZGUoYWRkcmVzcyBuZXdBZGRyKTsNCiAgICBldmVudCBSZXNldCh1aW50IGdhc19wcmljZSwgdWludCBtaW5fZmVlLCB1aW50IGNhbmNlbGxhdGlvbl9mZWUpOyANCiAgICBldmVudCBSZXF1ZXN0SW5mbyh1aW50NjQgaWQsIHVpbnQ4IHJlcXVlc3RUeXBlLCBhZGRyZXNzIHJlcXVlc3RlciwgdWludCBmZWUsIGFkZHJlc3MgY2FsbGJhY2tBZGRyLCBieXRlczMyIHBhcmFtc0hhc2gsIHVpbnQgdGltZXN0YW1wLCBieXRlczMyW10gcmVxdWVzdERhdGEpOyAvLyBsb2cgb2YgcmVxdWVzdHMsIHRoZSBUb3duIENyaWVyIHNlcnZlciB3YXRjaGVzIHRoaXMgZXZlbnQgYW5kIHByb2Nlc3NlcyByZXF1ZXN0cw0KICAgIGV2ZW50IERlbGl2ZXJJbmZvKHVpbnQ2NCByZXF1ZXN0SWQsIHVpbnQgZmVlLCB1aW50IGdhc1ByaWNlLCB1aW50IGdhc0xlZnQsIHVpbnQgY2FsbGJhY2tHYXMsIGJ5dGVzMzIgcGFyYW1zSGFzaCwgdWludDY0IGVycm9yLCBieXRlczMyIHJlc3BEYXRhKTsgLy8gbG9nIG9mIHJlc3BvbnNlcw0KICAgIGV2ZW50IENhbmNlbCh1aW50NjQgcmVxdWVzdElkLCBhZGRyZXNzIGNhbmNlbGxlciwgYWRkcmVzcyByZXF1ZXN0ZXIsIHVpbnQgZmVlLCBpbnQgZmxhZyk7IC8vIGxvZyBvZiBjYW5jZWxsYXRpb25zDQoNCiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBTR1hfQUREUkVTUyA9IDB4MTg1MTM3MDJjQ2Q5MjhGMkEzZWI2M2Q5MDBhRGYwM2M5Y2M4MTU5MzsvLyBhZGRyZXNzIG9mIHRoZSBTR1ggYWNjb3VudA0KDQogICAgdWludCBwdWJsaWMgR0FTX1BSSUNFID0gNSAqIDEwKioxMDsNCiAgICB1aW50IHB1YmxpYyBNSU5fRkVFID0gMzAwMDAgKiBHQVNfUFJJQ0U7IC8vIG1pbmltdW0gZmVlIHJlcXVpcmVkIGZvciB0aGUgcmVxdWVzdGVyIHRvIHBheSBzdWNoIHRoYXQgU0dYIGNvdWxkIGNhbGwgZGVsaXZlcigpIHRvIHNlbmQgYSByZXNwb25zZQ0KICAgIHVpbnQgcHVibGljIENBTkNFTExBVElPTl9GRUUgPSAyNTAwMCAqIEdBU19QUklDRTsgLy8gY2hhcmdlZCB3aGVuIHRoZSByZXF1ZXN0ZXIgY2FuY2VscyBhIHJlcXVlc3QgdGhhdCBpcyBub3QgcmVzcG9uZGVkDQoNCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBDQU5DRUxMRURfRkVFX0ZMQUcgPSAxOw0KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IERFTElWRVJFRF9GRUVfRkxBRyA9IDA7DQogICAgaW50IHB1YmxpYyBjb25zdGFudCBGQUlMX0ZMQUcgPSAtMiAqKiAyNTA7DQogICAgaW50IHB1YmxpYyBjb25zdGFudCBTVUNDRVNTX0ZMQUcgPSAxOw0KDQogICAgYm9vbCBwdWJsaWMga2lsbHN3aXRjaDsNCg0KICAgIGJvb2wgcHVibGljIGV4dGVybmFsQ2FsbEZsYWc7DQoNCiAgICB1aW50NjQgcHVibGljIHJlcXVlc3RDbnQ7DQogICAgdWludDY0IHB1YmxpYyB1bnJlc3BvbmRlZENudDsNCiAgICBSZXF1ZXN0WzIqKjY0XSBwdWJsaWMgcmVxdWVzdHM7DQoNCiAgICBpbnQgcHVibGljIG5ld1ZlcnNpb24gPSAwOw0KDQogICAgLy8gQ29udHJhY3RzIHRoYXQgcmVjZWl2ZSBFdGhlciBidXQgZG8gbm90IGRlZmluZSBhIGZhbGxiYWNrIGZ1bmN0aW9uIHRocm93DQogICAgLy8gYW4gZXhjZXB0aW9uLCBzZW5kaW5nIGJhY2sgdGhlIEV0aGVyICh0aGlzIHdhcyBkaWZmZXJlbnQgYmVmb3JlIFNvbGlkaXR5DQogICAgLy8gdjAuNC4wKS4gU28gaWYgeW91IHdhbnQgeW91ciBjb250cmFjdCB0byByZWNlaXZlIEV0aGVyLCB5b3UgaGF2ZSB0bw0KICAgIC8vIGltcGxlbWVudCBhIGZhbGxiYWNrIGZ1bmN0aW9uLg0KICAgIGZ1bmN0aW9uICgpIHt9DQoNCiAgICBmdW5jdGlvbiBUb3duQ3JpZXIoKSBwdWJsaWMgew0KICAgICAgICAvLyBTdGFydCByZXF1ZXN0IElEcyBhdCAxIGZvciB0d28gcmVhc29uczoNCiAgICAgICAgLy8gICAxLiBXZSBjYW4gdXNlIDAgdG8gZGVub3RlIGFuIGludmFsaWQgcmVxdWVzdCAoaWRzIGFyZSB1bnNpZ25lZCkNCiAgICAgICAgLy8gICAyLiBTdG9yYWdlIGlzIG1vcmUgZXhwZW5zaXZlIHdoZW4gY2hhbmdpbmcgc29tZXRoaW5nIGZyb20gemVybyB0byBub24temVybywNCiAgICAgICAgLy8gICAgICBzbyB0aGlzIG1lYW5zIHRoZSBmaXJzdCByZXF1ZXN0IGlzbid0IHJhbmRvbWx5IG1vcmUgZXhwZW5zaXZlLg0KICAgICAgICByZXF1ZXN0Q250ID0gMTsNCiAgICAgICAgcmVxdWVzdHNbMF0ucmVxdWVzdGVyID0gbXNnLnNlbmRlcjsNCiAgICAgICAga2lsbHN3aXRjaCA9IGZhbHNlOw0KICAgICAgICB1bnJlc3BvbmRlZENudCA9IDA7DQogICAgICAgIGV4dGVybmFsQ2FsbEZsYWcgPSBmYWxzZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1cGdyYWRlKGFkZHJlc3MgbmV3QWRkcikgew0KICAgICAgICBpZiAobXNnLnNlbmRlciA9PSByZXF1ZXN0c1swXS5yZXF1ZXN0ZXIgJiYgdW5yZXNwb25kZWRDbnQgPT0gMCkgew0KICAgICAgICAgICAgbmV3VmVyc2lvbiA9IC1pbnQobmV3QWRkcik7DQogICAgICAgICAgICBraWxsc3dpdGNoID0gdHJ1ZTsNCiAgICAgICAgICAgIFVwZ3JhZGUobmV3QWRkcik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZXNldCh1aW50IHByaWNlLCB1aW50IG1pbkdhcywgdWludCBjYW5jZWxsYXRpb25HYXMpIHB1YmxpYyB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyID09IHJlcXVlc3RzWzBdLnJlcXVlc3RlciAmJiB1bnJlc3BvbmRlZENudCA9PSAwKSB7DQogICAgICAgICAgICBHQVNfUFJJQ0UgPSBwcmljZTsNCiAgICAgICAgICAgIE1JTl9GRUUgPSBwcmljZSAqIG1pbkdhczsNCiAgICAgICAgICAgIENBTkNFTExBVElPTl9GRUUgPSBwcmljZSAqIGNhbmNlbGxhdGlvbkdhczsNCiAgICAgICAgICAgIFJlc2V0KEdBU19QUklDRSwgTUlOX0ZFRSwgQ0FOQ0VMTEFUSU9OX0ZFRSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdXNwZW5kKCkgcHVibGljIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gcmVxdWVzdHNbMF0ucmVxdWVzdGVyKSB7DQogICAgICAgICAgICBraWxsc3dpdGNoID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHJlc3RhcnQoKSBwdWJsaWMgew0KICAgICAgICBpZiAobXNnLnNlbmRlciA9PSByZXF1ZXN0c1swXS5yZXF1ZXN0ZXIgJiYgbmV3VmVyc2lvbiA9PSAwKSB7DQogICAgICAgICAgICBraWxsc3dpdGNoID0gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIHB1YmxpYyB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyID09IHJlcXVlc3RzWzBdLnJlcXVlc3RlciAmJiB1bnJlc3BvbmRlZENudCA9PSAwKSB7DQogICAgICAgICAgICBpZiAoIXJlcXVlc3RzWzBdLnJlcXVlc3Rlci5jYWxsLnZhbHVlKHRoaXMuYmFsYW5jZSkoKSkgew0KICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcmVxdWVzdCh1aW50OCByZXF1ZXN0VHlwZSwgYWRkcmVzcyBjYWxsYmFja0FkZHIsIGJ5dGVzNCBjYWxsYmFja0ZJRCwgdWludCB0aW1lc3RhbXAsIGJ5dGVzMzJbXSByZXF1ZXN0RGF0YSkgcHVibGljIHBheWFibGUgcmV0dXJucyAoaW50KSB7DQogICAgICAgIGlmIChleHRlcm5hbENhbGxGbGFnKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChraWxsc3dpdGNoKSB7DQogICAgICAgICAgICBleHRlcm5hbENhbGxGbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgIGlmICghbXNnLnNlbmRlci5jYWxsLnZhbHVlKG1zZy52YWx1ZSkoKSkgew0KICAgICAgICAgICAgICAgIHRocm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZXh0ZXJuYWxDYWxsRmxhZyA9IGZhbHNlOw0KICAgICAgICAgICAgcmV0dXJuIG5ld1ZlcnNpb247DQogICAgICAgIH0NCg0KICAgICAgICBpZiAobXNnLnZhbHVlIDwgTUlOX0ZFRSkgew0KICAgICAgICAgICAgZXh0ZXJuYWxDYWxsRmxhZyA9IHRydWU7DQogICAgICAgICAgICAvLyBJZiB0aGUgYW1vdW50IG9mIGV0aGVyIHNlbnQgYnkgdGhlIHJlcXVlc3RlciBpcyB0b28gbGl0dGxlIG9yIA0KICAgICAgICAgICAgLy8gdG9vIG11Y2gsIHJlZnVuZCB0aGUgcmVxdWVzdGVyIGFuZCBkaXNjYXJkIHRoZSByZXF1ZXN0Lg0KICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLmNhbGwudmFsdWUobXNnLnZhbHVlKSgpKSB7DQogICAgICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBleHRlcm5hbENhbGxGbGFnID0gZmFsc2U7DQogICAgICAgICAgICByZXR1cm4gRkFJTF9GTEFHOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSByZXF1ZXN0Lg0KICAgICAgICAgICAgdWludDY0IHJlcXVlc3RJZCA9IHJlcXVlc3RDbnQ7DQogICAgICAgICAgICByZXF1ZXN0Q250Kys7DQogICAgICAgICAgICB1bnJlc3BvbmRlZENudCsrOw0KDQogICAgICAgICAgICBieXRlczMyIHBhcmFtc0hhc2ggPSBzaGEzKHJlcXVlc3RUeXBlLCByZXF1ZXN0RGF0YSk7DQogICAgICAgICAgICByZXF1ZXN0c1tyZXF1ZXN0SWRdLnJlcXVlc3RlciA9IG1zZy5zZW5kZXI7DQogICAgICAgICAgICByZXF1ZXN0c1tyZXF1ZXN0SWRdLmZlZSA9IG1zZy52YWx1ZTsNCiAgICAgICAgICAgIHJlcXVlc3RzW3JlcXVlc3RJZF0uY2FsbGJhY2tBZGRyID0gY2FsbGJhY2tBZGRyOw0KICAgICAgICAgICAgcmVxdWVzdHNbcmVxdWVzdElkXS5jYWxsYmFja0ZJRCA9IGNhbGxiYWNrRklEOw0KICAgICAgICAgICAgcmVxdWVzdHNbcmVxdWVzdElkXS5wYXJhbXNIYXNoID0gcGFyYW1zSGFzaDsNCg0KICAgICAgICAgICAgLy8gTG9nIHRoZSByZXF1ZXN0IGZvciB0aGUgVG93biBDcmllciBzZXJ2ZXIgdG8gcHJvY2Vzcy4NCiAgICAgICAgICAgIFJlcXVlc3RJbmZvKHJlcXVlc3RJZCwgcmVxdWVzdFR5cGUsIG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgY2FsbGJhY2tBZGRyLCBwYXJhbXNIYXNoLCB0aW1lc3RhbXAsIHJlcXVlc3REYXRhKTsNCiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0SWQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkZWxpdmVyKHVpbnQ2NCByZXF1ZXN0SWQsIGJ5dGVzMzIgcGFyYW1zSGFzaCwgdWludDY0IGVycm9yLCBieXRlczMyIHJlc3BEYXRhKSBwdWJsaWMgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBTR1hfQUREUkVTUyB8fA0KICAgICAgICAgICAgICAgIHJlcXVlc3RJZCA8PSAwIHx8DQogICAgICAgICAgICAgICAgcmVxdWVzdHNbcmVxdWVzdElkXS5yZXF1ZXN0ZXIgPT0gMCB8fA0KICAgICAgICAgICAgICAgIHJlcXVlc3RzW3JlcXVlc3RJZF0uZmVlID09IERFTElWRVJFRF9GRUVfRkxBRykgew0KICAgICAgICAgICAgLy8gSWYgdGhlIHJlc3BvbnNlIGlzIG5vdCBkZWxpdmVyZWQgYnkgdGhlIFNHWCBhY2NvdW50IG9yIHRoZSANCiAgICAgICAgICAgIC8vIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiByZXNwb25kZWQgdG8sIGRpc2NhcmQgdGhlIHJlc3BvbnNlLg0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgdWludCBmZWUgPSByZXF1ZXN0c1tyZXF1ZXN0SWRdLmZlZTsNCiAgICAgICAgaWYgKHJlcXVlc3RzW3JlcXVlc3RJZF0ucGFyYW1zSGFzaCAhPSBwYXJhbXNIYXNoKSB7DQogICAgICAgICAgICAvLyBJZiB0aGUgaGFzaCBvZiByZXF1ZXN0IHBhcmFtZXRlcnMgaW4gdGhlIHJlc3BvbnNlIGlzIG5vdCANCiAgICAgICAgICAgIC8vIGNvcnJlY3QsIGRpc2NhcmQgdGhlIHJlc3BvbnNlIGZvciBzZWN1cml0eSBjb25jZXJuLg0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9IGVsc2UgaWYgKGZlZSA9PSBDQU5DRUxMRURfRkVFX0ZMQUcpIHsNCiAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGNhbmNlbGxlZCBieSB0aGUgcmVxdWVzdGVyLCBjYW5jZWxsYXRpb24gDQogICAgICAgICAgICAvLyBmZWUgZ29lcyB0byB0aGUgU0dYIGFjY291bnQgYW5kIHNldCB0aGUgcmVxdWVzdCBhcyBoYXZpbmcNCiAgICAgICAgICAgIC8vIGJlZW4gcmVzcG9uZGVkIHRvLg0KICAgICAgICAgICAgU0dYX0FERFJFU1Muc2VuZChDQU5DRUxMQVRJT05fRkVFKTsNCiAgICAgICAgICAgIHJlcXVlc3RzW3JlcXVlc3RJZF0uZmVlID0gREVMSVZFUkVEX0ZFRV9GTEFHOw0KICAgICAgICAgICAgdW5yZXNwb25kZWRDbnQtLTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIHJlcXVlc3RzW3JlcXVlc3RJZF0uZmVlID0gREVMSVZFUkVEX0ZFRV9GTEFHOw0KICAgICAgICB1bnJlc3BvbmRlZENudC0tOw0KDQogICAgICAgIGlmIChlcnJvciA8IDIpIHsNCiAgICAgICAgICAgIC8vIEVpdGhlciBubyBlcnJvciBvY2N1cnMsIG9yIHRoZSByZXF1ZXN0ZXIgc2VudCBhbiBpbnZhbGlkIHF1ZXJ5Lg0KICAgICAgICAgICAgLy8gU2VuZCB0aGUgZmVlIHRvIHRoZSBTR1ggYWNjb3VudCBmb3IgaXRzIGRlbGl2ZXJpbmcuDQogICAgICAgICAgICBTR1hfQUREUkVTUy5zZW5kKGZlZSk7ICAgICAgICAgDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBFcnJvciBpbiBUQywgcmVmdW5kIHRoZSByZXF1ZXN0ZXIuDQogICAgICAgICAgICBleHRlcm5hbENhbGxGbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgIHJlcXVlc3RzW3JlcXVlc3RJZF0ucmVxdWVzdGVyLmNhbGwuZ2FzKDIzMDApLnZhbHVlKGZlZSkoKTsNCiAgICAgICAgICAgIGV4dGVybmFsQ2FsbEZsYWcgPSBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHVpbnQgY2FsbGJhY2tHYXMgPSAoZmVlIC0gTUlOX0ZFRSkgLyB0eC5nYXNwcmljZTsgLy8gZ2FzIGxlZnQgZm9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbg0KICAgICAgICBEZWxpdmVySW5mbyhyZXF1ZXN0SWQsIGZlZSwgdHguZ2FzcHJpY2UsIG1zZy5nYXMsIGNhbGxiYWNrR2FzLCBwYXJhbXNIYXNoLCBlcnJvciwgcmVzcERhdGEpOyAvLyBsb2cgdGhlIHJlc3BvbnNlIGluZm9ybWF0aW9uDQogICAgICAgIGlmIChjYWxsYmFja0dhcyA+IG1zZy5nYXMgLSA1MDAwKSB7DQogICAgICAgICAgICBjYWxsYmFja0dhcyA9IG1zZy5nYXMgLSA1MDAwOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBleHRlcm5hbENhbGxGbGFnID0gdHJ1ZTsNCiAgICAgICAgcmVxdWVzdHNbcmVxdWVzdElkXS5jYWxsYmFja0FkZHIuY2FsbC5nYXMoY2FsbGJhY2tHYXMpKHJlcXVlc3RzW3JlcXVlc3RJZF0uY2FsbGJhY2tGSUQsIHJlcXVlc3RJZCwgZXJyb3IsIHJlc3BEYXRhKTsgLy8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaW4gdGhlIGFwcGxpY2F0aW9uIGNvbnRyYWN0DQogICAgICAgIGV4dGVybmFsQ2FsbEZsYWcgPSBmYWxzZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjYW5jZWwodWludDY0IHJlcXVlc3RJZCkgcHVibGljIHJldHVybnMgKGludCkgew0KICAgICAgICBpZiAoZXh0ZXJuYWxDYWxsRmxhZykgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoa2lsbHN3aXRjaCkgew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCg0KICAgICAgICB1aW50IGZlZSA9IHJlcXVlc3RzW3JlcXVlc3RJZF0uZmVlOw0KICAgICAgICBpZiAocmVxdWVzdHNbcmVxdWVzdElkXS5yZXF1ZXN0ZXIgPT0gbXNnLnNlbmRlciAmJiBmZWUgPj0gQ0FOQ0VMTEFUSU9OX0ZFRSkgew0KICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3Qgd2FzIHNlbnQgYnkgdGhpcyB1c2VyIGFuZCBoYXMgbW9uZXkgbGVmdCBvbiBpdCwNCiAgICAgICAgICAgIC8vIHRoZW4gY2FuY2VsIGl0Lg0KICAgICAgICAgICAgcmVxdWVzdHNbcmVxdWVzdElkXS5mZWUgPSBDQU5DRUxMRURfRkVFX0ZMQUc7DQogICAgICAgICAgICBleHRlcm5hbENhbGxGbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgIGlmICghbXNnLnNlbmRlci5jYWxsLnZhbHVlKGZlZSAtIENBTkNFTExBVElPTl9GRUUpKCkpIHsNCiAgICAgICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGV4dGVybmFsQ2FsbEZsYWcgPSBmYWxzZTsNCiAgICAgICAgICAgIENhbmNlbChyZXF1ZXN0SWQsIG1zZy5zZW5kZXIsIHJlcXVlc3RzW3JlcXVlc3RJZF0ucmVxdWVzdGVyLCByZXF1ZXN0c1tyZXF1ZXN0SWRdLmZlZSwgMSk7DQogICAgICAgICAgICByZXR1cm4gU1VDQ0VTU19GTEFHOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgQ2FuY2VsKHJlcXVlc3RJZCwgbXNnLnNlbmRlciwgcmVxdWVzdHNbcmVxdWVzdElkXS5yZXF1ZXN0ZXIsIGZlZSwgLTEpOw0KICAgICAgICAgICAgcmV0dXJuIEZBSUxfRkxBRzsNCiAgICAgICAgfQ0KICAgIH0NCn0='