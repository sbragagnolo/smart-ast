base 64 content
base64uGToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC44Ow0KDQpjb250cmFjdCBUb2tlbiB7DQogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7DQogICAgaXMgcmVwbGFjZWQgd2l0aDoNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsNCiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5Lg0KICAgIFRoaXMgaXMgbW92ZWQgdG8gdGhlIGJhc2UgY29udHJhY3Qgc2luY2UgcHVibGljIGdldHRlciBmdW5jdGlvbnMgYXJlIG5vdA0KICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdA0KICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4NCiAgICAqLw0KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zDQogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7DQoNCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkDQogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7DQoNCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgDQogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudA0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQNCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWANCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXINCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50DQogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZA0KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMNCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2Zlcg0KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7DQoNCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zDQogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMNCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50DQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7DQoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCn0NCg0KDQpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsNCg0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLg0KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLg0KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4NCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgew0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vc2FtZSBhcyBhYm92ZS4gUmVwbGFjZSB0aGlzIGxpbmUgd2l0aCB0aGUgZm9sbG93aW5nIGlmIHlvdSB3YW50IHRvIHByb3RlY3QgYWdhaW5zdCB3cmFwcGluZyB1aW50cy4NCiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7DQogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykgew0KICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KfQ0KDQpjb250cmFjdCBVR1Rva2VuIGlzIFN0YW5kYXJkVG9rZW4gew0KDQogICAgZnVuY3Rpb24gKCkgew0KICAgICAgICAvL2lmIGV0aGVyIGlzIHNlbnQgdG8gdGhpcyBhZGRyZXNzLCBzZW5kIGl0IGJhY2suDQogICAgICAgIHRocm93Ow0KICAgIH0NCg0KICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJVRyBUb2tlbiI7ICAgICAgICAgICAgICAgICAgIC8vZmFuY3kgbmFtZTogZWcgU2ltb24gQnVja3MNCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAgICAgLy9Ib3cgbWFueSBkZWNpbWFscyB0byBzaG93LiBpZS4gVGhlcmUgY291bGQgMTAwMCBiYXNlIHVuaXRzIHdpdGggMyBkZWNpbWFscy4gTWVhbmluZyAwLjk4MCBTQlggPSA5ODAgYmFzZSB1bml0cy4gSXQncyBsaWtlIGNvbXBhcmluZyAxIHdlaSB0byAxIGV0aGVyLg0KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlVHVCI7ICAgICAgICAgICAgICAgICAvL0FuIGlkZW50aWZpZXI6IGVnIFNCWA0KICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICd2MC4xJzsgICAgICAgLy91ZyAwLjEgc3RhbmRhcmQuIEp1c3QgYW4gYXJiaXRyYXJ5IHZlcnNpb25pbmcgc2NoZW1lLg0KDQogICAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcjsgLy8gVGhlIGFkZHJlc3Mgb2YgdGhlIGZvdW5kZXINCiAgICB1aW50MjU2IHB1YmxpYyBhbGxvY2F0ZVN0YXJ0QmxvY2s7IC8vIFRoZSBzdGFydCBibG9jayBudW1iZXIgdGhhdCBzdGFydHMgdG8gYWxsb2NhdGUgdG9rZW4gdG8gdXNlcnMuDQogICAgdWludDI1NiBwdWJsaWMgYWxsb2NhdGVFbmRCbG9jazsgLy8gVGhlIGVuZCBibG9jayBudWJtZXIgdGhhdCBhbGxvY2F0ZSB0b2tlbiB0byB1c2VycywgbGFzdGVkIGZvciBhIHdlZWsuDQoNCiAgICAvLyBUaGUgbm9uY2UgZm9yIGF2b2lkIHRyYW5zZmVyIHJlcGxheSBhdHRhY2tzDQogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIG5vbmNlczsNCg0KICAgIGZ1bmN0aW9uIFVHVG9rZW4oKSB7DQogICAgICAgIGZvdW5kZXIgPSBtc2cuc2VuZGVyOw0KICAgICAgICBhbGxvY2F0ZVN0YXJ0QmxvY2sgPSBibG9jay5udW1iZXI7DQogICAgICAgIGFsbG9jYXRlRW5kQmxvY2sgPSBhbGxvY2F0ZVN0YXJ0QmxvY2sgKyA1MDgyOyAvLyBhYm91dCBvbmUgZGF5DQogICAgfQ0KDQogICAgLyoNCiAgICAgKiBQcm94eSB0cmFuc2ZlciB1ZyB0b2tlbi4gV2hlbiBzb21lIHVzZXJzIG9mIHRoZSBldGhlcmV1bSBhY2NvdW50IGhhcyBubyBldGhlciwNCiAgICAgKiBoZSBvciBzaGUgY2FuIGF1dGhvcml6ZSB0aGUgYWdlbnQgZm9yIGJyb2FkY2FzdCB0cmFuc2FjdGlvbnMsIGFuZCBhZ2VudHMgbWF5IGNoYXJnZSBhZ2VuY3kgZmVlcw0KICAgICAqIEBwYXJhbSBfZnJvbQ0KICAgICAqIEBwYXJhbSBfdG8NCiAgICAgKiBAcGFyYW0gX3ZhbHVlDQogICAgICogQHBhcmFtIGZlZVVndA0KICAgICAqIEBwYXJhbSBfdg0KICAgICAqIEBwYXJhbSBfcg0KICAgICAqIEBwYXJhbSBfcw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyUHJveHkoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9mZWVVZ3QsDQogICAgICAgIHVpbnQ4IF92LGJ5dGVzMzIgX3IsIGJ5dGVzMzIgX3MpIHJldHVybnMgKGJvb2wpew0KDQogICAgICAgIGlmKGJhbGFuY2VzW19mcm9tXSA8IF9mZWVVZ3QgKyBfdmFsdWUpIHRocm93Ow0KDQogICAgICAgIHVpbnQyNTYgbm9uY2UgPSBub25jZXNbX2Zyb21dOw0KICAgICAgICBieXRlczMyIGggPSBzaGEzKF9mcm9tLF90byxfdmFsdWUsX2ZlZVVndCxub25jZSk7DQogICAgICAgIGlmKF9mcm9tICE9IGVjcmVjb3ZlcihoLF92LF9yLF9zKSkgdGhyb3c7DQoNCiAgICAgICAgaWYoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VzW190b10NCiAgICAgICAgICAgIHx8IGJhbGFuY2VzW21zZy5zZW5kZXJdICsgX2ZlZVVndCA8IGJhbGFuY2VzW21zZy5zZW5kZXJdKSB0aHJvdzsNCiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7DQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQoNCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gX2ZlZVVndDsNCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIG1zZy5zZW5kZXIsIF9mZWVVZ3QpOw0KDQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWUgKyBfZmVlVWd0Ow0KICAgICAgICBub25jZXNbX2Zyb21dID0gbm9uY2UgKyAxOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKg0KICAgICAqIFByb3h5IGFwcHJvdmUgdGhhdCBzb21lIG9uZSBjYW4gYXV0aG9yaXplIHRoZSBhZ2VudCBmb3IgYnJvYWRjYXN0IHRyYW5zYWN0aW9uDQogICAgICogd2hpY2ggY2FsbCBhcHByb3ZlIG1ldGhvZCwgYW5kIGFnZW50cyBtYXkgY2hhcmdlIGFnZW5jeSBmZWVzDQogICAgICogQHBhcmFtIF9mcm9tIFRoZSAgYWRkcmVzcyB3aGljaCBzaG91bGQgdHJhbmZlciB1Z3QgdG8gb3RoZXJzDQogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBzcGVuZGVyIHdobyBhbGxvd2VkIGJ5IF9mcm9tDQogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgdmFsdWUgdGhhdCBzaG91bGQgYmUgdHJhbmZlcmVkLg0KICAgICAqIEBwYXJhbSBfdg0KICAgICAqIEBwYXJhbSBfcg0KICAgICAqIEBwYXJhbSBfcw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFwcHJvdmVQcm94eShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwNCiAgICAgICAgdWludDggX3YsYnl0ZXMzMiBfciwgYnl0ZXMzMiBfcykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQoNCiAgICAgICAgdWludDI1NiBub25jZSA9IG5vbmNlc1tfZnJvbV07DQogICAgICAgIGJ5dGVzMzIgaGFzaCA9IHNoYTMoX2Zyb20sX3NwZW5kZXIsX3ZhbHVlLG5vbmNlKTsNCiAgICAgICAgaWYoX2Zyb20gIT0gZWNyZWNvdmVyKGhhc2gsX3YsX3IsX3MpKSB0aHJvdzsNCiAgICAgICAgYWxsb3dlZFtfZnJvbV1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChfZnJvbSwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIG5vbmNlc1tfZnJvbV0gPSBub25jZSArIDE7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KDQogICAgLyoNCiAgICAgKiBHZXQgdGhlIG5vbmNlDQogICAgICogQHBhcmFtIF9hZGRyDQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0Tm9uY2UoYWRkcmVzcyBfYWRkcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nil7DQogICAgICAgIHJldHVybiBub25jZXNbX2FkZHJdOw0KICAgIH0NCg0KICAgIC8qIEFwcHJvdmVzIGFuZCB0aGVuIGNhbGxzIHRoZSByZWNlaXZpbmcgY29udHJhY3QgKi8NCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCg0KICAgICAgICAvL2NhbGwgdGhlIHJlY2VpdmVBcHByb3ZhbCBmdW5jdGlvbiBvbiB0aGUgY29udHJhY3QgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQuIFRoaXMgY3JhZnRzIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgbWFudWFsbHkgc28gb25lIGRvZXNuJ3QgaGF2ZSB0byBpbmNsdWRlIGEgY29udHJhY3QgaW4gaGVyZSBqdXN0IGZvciB0aGlzLg0KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkNCiAgICAgICAgLy9pdCBpcyBhc3N1bWVkIHRoYXQgd2hlbiBkb2VzIHRoaXMgdGhhdCB0aGUgY2FsbCAqc2hvdWxkKiBzdWNjZWVkLCBvdGhlcndpc2Ugb25lIHdvdWxkIHVzZSB2YW5pbGxhIGFwcHJvdmUgaW5zdGVhZC4NCiAgICAgICAgaWYoIV9zcGVuZGVyLmNhbGwoYnl0ZXM0KGJ5dGVzMzIoc2hhMygicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpIHsgdGhyb3c7IH0NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLyogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIGNvbnRyYWN0IGNvZGUqLw0KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsY29kZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCg0KICAgICAgICAvL0NhbGwgdGhlIGNvbnRyYWN0IGNvZGUNCiAgICAgICAgaWYoIV9zcGVuZGVyLmNhbGwoX2V4dHJhRGF0YSkpIHsgdGhyb3c7IH0NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLy8gQWxsb2NhdGUgdG9rZW5zIHRvIHRoZSB1c2Vycw0KICAgIC8vIEBwYXJhbSBfb3duZXJzIFRoZSBvd25lcnMgbGlzdCBvZiB0aGUgdG9rZW4NCiAgICAvLyBAcGFyYW0gX3ZhbHVlcyBUaGUgdmFsdWUgbGlzdCBvZiB0aGUgdG9rZW4NCiAgICBmdW5jdGlvbiBhbGxvY2F0ZVRva2VucyhhZGRyZXNzW10gX293bmVycywgdWludDI1NltdIF92YWx1ZXMpIHsNCg0KICAgICAgICBpZihtc2cuc2VuZGVyICE9IGZvdW5kZXIpIHRocm93Ow0KICAgICAgICBpZihibG9jay5udW1iZXIgPCBhbGxvY2F0ZVN0YXJ0QmxvY2sgfHwgYmxvY2subnVtYmVyID4gYWxsb2NhdGVFbmRCbG9jaykgdGhyb3c7DQogICAgICAgIGlmKF9vd25lcnMubGVuZ3RoICE9IF92YWx1ZXMubGVuZ3RoKSB0aHJvdzsNCg0KICAgICAgICBmb3IodWludDI1NiBpID0gMDsgaSA8IF9vd25lcnMubGVuZ3RoIDsgaSsrKXsNCiAgICAgICAgICAgIGFkZHJlc3Mgb3duZXIgPSBfb3duZXJzW2ldOw0KICAgICAgICAgICAgdWludDI1NiB2YWx1ZSA9IF92YWx1ZXNbaV07DQogICAgICAgICAgICBpZih0b3RhbFN1cHBseSArIHZhbHVlIDw9IHRvdGFsU3VwcGx5IHx8IGJhbGFuY2VzW293bmVyXSArIHZhbHVlIDw9IGJhbGFuY2VzW293bmVyXSkgdGhyb3c7DQogICAgICAgICAgICB0b3RhbFN1cHBseSArPSB2YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW293bmVyXSArPSB2YWx1ZTsNCiAgICAgICAgfQ0KICAgIH0NCn0='