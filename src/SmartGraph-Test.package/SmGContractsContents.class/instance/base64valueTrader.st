base 64 content
base64valueTrader
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4wOw0KDQpjb250cmFjdCBTYWZlTWF0aCB7DQogIC8vaW50ZXJuYWxzDQoNCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiBjKSB7DQogICAgYyA9IGEgKiBiOw0KICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7DQogIH0NCg0KICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IGMpIHsNCiAgICBhc3NlcnQoYiA8PSBhKTsNCiAgICBjID0gYSAtIGI7DQogIH0NCg0KICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IGMpIHsNCiAgICBjID0gYSArIGI7DQogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7DQogIH0NCg0KICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsNCiAgICBpZiAoIWFzc2VydGlvbikgdGhyb3c7DQogIH0NCn0NCg0KY29udHJhY3QgVG9rZW4gew0KICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zDQogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9DQoNCiAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZA0KICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQ0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkge30NCg0KICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgDQogIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQNCiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZA0KICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QNCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9DQoNCiAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gDQogIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcg0KICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50DQogIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQNCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90DQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30NCg0KICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMNCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMNCiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB3ZWkgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyDQogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdA0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9DQoNCiAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2Vucw0KICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2Vucw0KICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50DQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9DQoNCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOw0KDQogIHVpbnQgcHVibGljIGRlY2ltYWxzOw0KICBzdHJpbmcgcHVibGljIG5hbWU7DQp9DQoNCmNvbnRyYWN0IFZhbHVlVG9rZW4gaXMgU2FmZU1hdGgsVG9rZW57DQogICAgDQogICAgc3RyaW5nIG5hbWUgPSAiVmFsdWUiOw0KICAgIHVpbnQgZGVjaW1hbHMgPSAwOw0KICAgIA0KICAgIHVpbnQyNTYgc3VwcGx5Tm93ID0gMDsgDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBpbnRlcm5hbCBiYWxhbmNlczsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQogICAgDQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KXsNCiAgICAgICAgcmV0dXJuIHN1cHBseU5vdzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2Upew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3Mpew0KICAgICAgICBpZiAoYmFsYW5jZU9mKG1zZy5zZW5kZXIpID49IF92YWx1ZSkgew0KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VPZihtc2cuc2VuZGVyKSwgX3ZhbHVlKTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VPZihfdG8pLCBfdmFsdWUpOw0KICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICAgICAgICANCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsNCiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKSB7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlT2YoX3RvKSwgX3ZhbHVlKTsNCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mKF9mcm9tKSwgX3ZhbHVlKTsNCiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSwgX3ZhbHVlKTsNCiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7DQogICAgICAgIGlmKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSl7DQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKXsNCiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGNyZWF0ZVZhbHVlKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsNCiAgICAgICAgYmFsYW5jZXNbX293bmVyXSA9IHNhZmVBZGQoYmFsYW5jZXNbX293bmVyXSwgX3ZhbHVlKTsNCiAgICAgICAgc3VwcGx5Tm93ID0gc2FmZUFkZChzdXBwbHlOb3csIF92YWx1ZSk7DQogICAgICAgIE1pbnQoX293bmVyLCBfdmFsdWUpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBkZXN0cm95VmFsdWUoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3Mpew0KICAgICAgICBiYWxhbmNlc1tfb3duZXJdID0gc2FmZVN1YihiYWxhbmNlc1tfb3duZXJdLCBfdmFsdWUpOw0KICAgICAgICBzdXBwbHlOb3cgPSBzYWZlU3ViKHN1cHBseU5vdywgX3ZhbHVlKTsNCiAgICAgICAgQnVybihfb3duZXIsIF92YWx1ZSk7DQogICAgfQ0KICAgIA0KICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludDI1NiBfdmFsdWUpOw0KICAgIA0KICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludDI1NiBfdmFsdWUpOw0KICAgIA0KfQ0KDQovLy8gQHRpdGxlIFF1aWNrIHRyYWRpbmcgYW5kIGludGVyZXN0LXlpZWxkaW5nIHNhdmluZ3MuDQpjb250cmFjdCBWYWx1ZVRyYWRlciBpcyBTYWZlTWF0aCxWYWx1ZVRva2Vuew0KICAgIA0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgew0KICAgICAgICAvLyB0aGlzIGNvbnRyYWN0IGVhdHMgYW55IG1vbmV5IHNlbnQgdG8gaXQgaW5jb3JyZWN0bHkuDQogICAgICAgIC8vIHRoYW5rIHlvdSBmb3IgdGhlIGRvbmF0aW9uLg0KICAgIH0NCiAgICANCiAgICAvLyB1c2UgdGhpcyB0byBtYW5hZ2UgdG9rZW5zDQogICAgc3RydWN0IFRva2VuRGF0YSB7DQogICAgICAgIGJvb2wgaXNWYWxpZDsgLy8gaXMgdGhpcyB0b2tlbiBjdXJyZW50bHkgYWNjZXB0ZWQNCiAgICAgICAgdWludDI1NiBiYXNlUHJpY2U7IC8vYmFzZSBwcmljZSBvZiB0aGlzIHRva2VuDQogICAgICAgIHVpbnQyNTYgYmFzZUxpcXVpZGl0eTsgLy90YXJnZXQgbGlxdWlkaXR5IG9mIHRoaXMgdG9rZW4gKHByaWNlID0gYmFzZVByaWNlICtwc2YpDQogICAgICAgIHVpbnQyNTYgcHJpY2VTY2FsZUZhY3RvcjsgLy9ob3cgcXVpY2tseSBkb2VzIHByaWNlIGluY3JlYXNlIGFib3ZlIGJhc2UNCiAgICAgICAgYm9vbCBoYXNEaXZpZGVuZDsNCiAgICAgICAgYWRkcmVzcyBkaXZDb250cmFjdEFkZHJlc3M7DQogICAgICAgIGJ5dGVzIGRpdkRhdGE7DQogICAgfQ0KICAgIA0KICAgIGFkZHJlc3Mgb3duZXI7DQogICAgYWRkcmVzcyBldGhlckNvbnRyYWN0Ow0KICAgIHVpbnQyNTYgdHJhZGVDb2VmZmljaWVudDsgLy8gMS0odGhpcy8xMDAwMCkgPSBmZWUgZm9yIGluc3RhbnQgdHJhZGVzLCAibmVnYXRpdmUiIGZlZXMgcG9zc2libGUuDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBUb2tlbkRhdGEpIHRva2VuTWFuYWdlOw0KICAgIGJvb2wgcHVibGljIGJ1cm5pbmcgPSBmYWxzZTsgLy9hZnRlciBkcmFpbmluZyBpcyBmaW5pc2hlZCwgYnVybiB0byByZXRyaWV2ZSB0b2tlbnMsIGFsbG93IHN1aWNpZGUuDQogICAgYm9vbCBwdWJsaWMgZHJhaW5pbmcgPSBmYWxzZTsgLy9wcmV2ZW50IGNyZWF0aW9uIG9mIG5ldyB2YWx1ZQ0KICAgIA0KICAgIG1vZGlmaWVyIG93bmVkKCl7DQogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IG93bmVyKTsNCiAgICAgICAgXzsNCiAgICB9DQogICAgDQogICAgbW9kaWZpZXIgYnVybkJsb2NrKCl7DQogICAgICAgIGFzc2VydCghYnVybmluZyk7DQogICAgICAgIF87DQogICAgfQ0KICAgIA0KICAgIG1vZGlmaWVyIGRyYWluQmxvY2soKXsNCiAgICAgICAgYXNzZXJ0KCFkcmFpbmluZyk7DQogICAgICAgIF87DQogICAgfQ0KICAgIA0KICAgIC8veW91IGNhbm5vdCB0dXJuIG9mZiBkcmFpbmluZyB3aXRob3V0IHR1cm5pbmcgb2ZmIGJ1cm5pbmcgZmlyc3QuDQogICAgZnVuY3Rpb24gdG9nZ2xlRHJhaW4oKSBidXJuQmxvY2sgb3duZWQgew0KICAgICAgICBkcmFpbmluZyA9ICFkcmFpbmluZzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdG9nZ2xlQnVybigpIG93bmVkIHsNCiAgICAgICAgYXNzZXJ0KGRyYWluaW5nKTsNCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VPZihvd25lcikgPT0gc3VwcGx5Tm93KTsNCiAgICAgICAgYnVybmluZyA9ICFidXJuaW5nOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBkaWUoKSBvd25lZCBidXJuQmxvY2t7DQogICAgICAgIC8vTUFLRSBTVVJFIFRPIFJFVFJJRVZFIFRPS0VOIEJBTEFOQ0VTIEJFRk9SRSBET0lORyBUSElTIQ0KICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuKGFkZHJlc3MgdG9rZW5fLCB1aW50MjU2IGJQXywgdWludDI1NiBiTF8sIHVpbnQyNTYgcEZfKSBvd25lZCB7DQogICAgICAgIA0KICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLmlzVmFsaWQgPSB0cnVlOw0KICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLmJhc2VQcmljZSA9IGJQXzsNCiAgICAgICAgdG9rZW5NYW5hZ2VbdG9rZW5fXS5iYXNlTGlxdWlkaXR5ID0gYkxfOw0KICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLnByaWNlU2NhbGVGYWN0b3IgPSBwRl87DQogICAgICAgIA0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjb25maWd1cmVUb2tlbkRpdmlkZW5kKGFkZHJlc3MgdG9rZW5fLCBib29sIGhEXywgYWRkcmVzcyBkQV8sIGJ5dGVzIGREXykgb3duZWQgew0KICAgIA0KICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLmhhc0RpdmlkZW5kID0gaERfOw0KICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLmRpdkNvbnRyYWN0QWRkcmVzcyA9IGRBXzsNCiAgICAgICAgdG9rZW5NYW5hZ2VbdG9rZW5fXS5kaXZEYXRhID0gZERfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjYWxsRGl2aWRlbmQoYWRkcmVzcyB0b2tlbl8pIG93bmVkIHsNCiAgICAgICAgLy90aGlzIGlzIGEgZGFuZ2Vyb3VzIGFuZCBpcnJlc3BvbnNpYmxlIGZlYXR1cmUsDQogICAgICAgIC8vZ2l2ZXMgb3duZXIgYWJpbGl0eSB0byBkbyB2aXJ0dWFsbHkgYW55dGhpbmcgDQogICAgICAgIC8vKGJhciBydW5uaW5nIGF3YXkgd2l0aCBhbGwgdGhlIGV0aGVyKQ0KICAgICAgICAvL0kgY2FuJ3QgdGhpbmsgb2YgYSBiZXR0ZXIgc29sdXRpb24gdW50aWwgdGhlcmUgaXMgYSBzdGFuZGFyZCBmb3IgZGl2aWRlbmQtcGF5aW5nIGNvbnRyYWN0cy4NCiAgICAgICAgYXNzZXJ0KHRva2VuTWFuYWdlW3Rva2VuX10uaGFzRGl2aWRlbmQpOw0KICAgICAgICBhc3NlcnQodG9rZW5NYW5hZ2VbdG9rZW5fXS5kaXZDb250cmFjdEFkZHJlc3MuY2FsbC52YWx1ZSgwKSh0b2tlbk1hbmFnZVt0b2tlbl9dLmRpdkRhdGEpKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gaW52YWxpZGF0ZVRva2VuKGFkZHJlc3MgdG9rZW5fKSBvd25lZCB7DQogICAgICAgIHRva2VuTWFuYWdlW3Rva2VuX10uaXNWYWxpZCA9IGZhbHNlOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG93bmVyXykgb3duZWQgew0KICAgICAgICBvd25lciA9IG93bmVyXzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY2hhbmdlRmVlKHVpbnQyNTYgdHJhZGVGZWUpIG93bmVkIHsNCiAgICAgICAgdHJhZGVDb2VmZmljaWVudCA9IHRyYWRlRmVlOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VFdGhlckNvbnRyYWN0KGFkZHJlc3MgZUMpIG93bmVkIHsNCiAgICAgICAgZXRoZXJDb250cmFjdCA9IGVDOw0KICAgIH0NCiAgICANCiAgICBldmVudCBCdXkoYWRkcmVzcyB0b2tlbkFkZHJlc3MsIGFkZHJlc3MgYnV5ZXIsIHVpbnQyNTYgYW1vdW50LCB1aW50MjU2IHJlbWFpbmluZyk7DQogICAgZXZlbnQgU2VsbChhZGRyZXNzIHRva2VuQWRkcmVzcywgYWRkcmVzcyBidXllciwgdWludDI1NiBhbW91bnQsIHVpbnQyNTYgcmVtYWluaW5nKTsNCiAgICBldmVudCBUcmFkZShhZGRyZXNzIGZyb21Ub2tBZGRyZXNzLCBhZGRyZXNzIHRvVG9rQWRkcmVzcywgYWRkcmVzcyBidXllciwgdWludDI1NiBhbW91bnQpOw0KDQogICAgZnVuY3Rpb24gVmFsdWVUcmFkZXIoKXsNCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICAgICAgICBidXJuaW5nID0gZmFsc2U7DQogICAgICAgIGRyYWluaW5nID0gZmFsc2U7DQogICAgfQ0KICAgIA0KICAgIA0KICAgIA0KICAgIGZ1bmN0aW9uIHZhbHVlV2l0aEZlZSh1aW50MjU2IHRlbXBWYWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiBkb25lVmFsdWUpew0KICAgICAgICBkb25lVmFsdWUgPSBzYWZlTXVsKHRlbXBWYWx1ZSx0cmFkZUNvZWZmaWNpZW50KS8xMDAwMDsNCiAgICAgICAgaWYodHJhZGVDb2VmZmljaWVudCA8IDEwMDAwKXsNCiAgICAgICAgICAgIC8vc2VuZCBmZWVzIHRvIG93bmVyIChpbiB2YWx1ZSB0b2tlbnMpLg0KICAgICAgICAgICAgY3JlYXRlVmFsdWUob3duZXIsc2FmZVN1Yih0ZW1wVmFsdWUsZG9uZVZhbHVlKSk7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY3VycmVudFByaWNlKGFkZHJlc3MgdG9rZW4pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcHJpY2Upew0KICAgICAgICBpZihkcmFpbmluZyl7DQogICAgICAgICAgICBwcmljZSA9IDE7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgIGFzc2VydCh0b2tlbk1hbmFnZVt0b2tlbl0uaXNWYWxpZCk7DQogICAgICAgIHVpbnQyNTYgYmFzZVByaWNlID0gdG9rZW5NYW5hZ2VbdG9rZW5dLmJhc2VQcmljZTsNCiAgICAgICAgdWludDI1NiBiYXNlTGlxdWlkaXR5ID0gdG9rZW5NYW5hZ2VbdG9rZW5dLmJhc2VMaXF1aWRpdHk7DQogICAgICAgIHVpbnQyNTYgcHJpY2VTY2FsZUZhY3RvciA9IHRva2VuTWFuYWdlW3Rva2VuXS5wcmljZVNjYWxlRmFjdG9yOw0KICAgICAgICB1aW50MjU2IGN1cnJlbnRMaXF1aWRpdHk7DQogICAgICAgIGlmKHRva2VuID09IGV0aGVyQ29udHJhY3Qpew0KICAgICAgICAgICAgY3VycmVudExpcXVpZGl0eSA9IHRoaXMuYmFsYW5jZTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBjdXJyZW50TGlxdWlkaXR5ID0gVG9rZW4odG9rZW4pLmJhbGFuY2VPZih0aGlzKTsNCiAgICAgICAgfQ0KICAgICAgICBwcmljZSA9IHNhZmVBZGQoYmFzZVByaWNlLHNhZmVNdWwocHJpY2VTY2FsZUZhY3RvcixiYXNlTGlxdWlkaXR5L2N1cnJlbnRMaXF1aWRpdHkpKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjdXJyZW50TGlxdWlkaXR5KGFkZHJlc3MgdG9rZW4pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgbGlxdWlkaXR5KXsNCiAgICAgICAgbGlxdWlkaXR5ID0gVG9rZW4odG9rZW4pLmJhbGFuY2VPZih0aGlzKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdmFsdWVUb1Rva2VuKGFkZHJlc3MgdG9rZW4sIHVpbnQyNTYgYW1vdW50KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHZhbHVlKXsNCiAgICAgICAgdmFsdWUgPSBhbW91bnQvY3VycmVudFByaWNlKHRva2VuKTsNCiAgICAgICAgYXNzZXJ0KHZhbHVlICE9IDApOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB0b2tlblRvVmFsdWUoYWRkcmVzcyB0b2tlbiwgdWludDI1NiBhbW91bnQpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgdmFsdWUpew0KICAgICAgICB2YWx1ZSA9IHNhZmVNdWwoYW1vdW50LGN1cnJlbnRQcmljZSh0b2tlbikpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBzZWxsVG9rZW4oYWRkcmVzcyB0b2tlbiwgdWludDI1NiBhbW91bnQpIGRyYWluQmxvY2sgew0KICAgIC8vcmVtZW1iZXIgdG8gY2FsbCBUb2tlbihhZGRyZXNzKS5hcHByb3ZlKHRoaXMsIGFtb3VudCkgb3IgdGhpcyBjb250cmFjdCB3aWxsIG5vdCBiZSBhYmxlIHRvIGRvIHRoZSB0cmFuc2ZlciBvbiB5b3VyIGJlaGFsZi4NCiAgICAgICAgYXNzZXJ0KHZlcmlmaWVkVHJhbnNmZXJGcm9tKHRva2VuLG1zZy5zZW5kZXIsYW1vdW50KSk7DQogICAgICAgIGFzc2VydChjcmVhdGVWYWx1ZShtc2cuc2VuZGVyLCB0b2tlblRvVmFsdWUodG9rZW4sYW1vdW50KSkpOw0KICAgICAgICBTZWxsKHRva2VuLCBtc2cuc2VuZGVyLCBhbW91bnQsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBidXlUb2tlbihhZGRyZXNzIHRva2VuLCB1aW50MjU2IGFtb3VudCkgew0KICAgICAgICBhc3NlcnQoISh2YWx1ZVRvVG9rZW4odG9rZW4sYmFsYW5jZXNbbXNnLnNlbmRlcl0pIDwgYW1vdW50KSk7DQogICAgICAgIGFzc2VydChkZXN0cm95VmFsdWUobXNnLnNlbmRlciwgdG9rZW5Ub1ZhbHVlKHRva2VuLGFtb3VudCkpKTsNCiAgICAgICAgYXNzZXJ0KFRva2VuKHRva2VuKS50cmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpKTsNCiAgICAgICAgQnV5KHRva2VuLCBtc2cuc2VuZGVyLCBhbW91bnQsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc2VsbEV0aGVyKCkgcGF5YWJsZSBkcmFpbkJsb2NrIHsNCiAgICAgICAgYXNzZXJ0KGNyZWF0ZVZhbHVlKG1zZy5zZW5kZXIsIHRva2VuVG9WYWx1ZShldGhlckNvbnRyYWN0LG1zZy52YWx1ZSkpKTsNCiAgICAgICAgU2VsbChldGhlckNvbnRyYWN0LCBtc2cuc2VuZGVyLCBtc2cudmFsdWUsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gYnV5RXRoZXIodWludDI1NiBhbW91bnQpIHsNCiAgICAgICAgYXNzZXJ0KHZhbHVlVG9Ub2tlbihldGhlckNvbnRyYWN0LGJhbGFuY2VzW21zZy5zZW5kZXJdKSA+PSBhbW91bnQpOw0KICAgICAgICBhc3NlcnQoZGVzdHJveVZhbHVlKG1zZy5zZW5kZXIsIHRva2VuVG9WYWx1ZShldGhlckNvbnRyYWN0LGFtb3VudCkpKTsNCiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIuY2FsbC52YWx1ZShhbW91bnQpKCkpOw0KICAgICAgICBCdXkoZXRoZXJDb250cmFjdCwgbXNnLnNlbmRlciwgYW1vdW50LCBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7DQogICAgfQ0KICAgIA0KICAgIC8vaW5wdXQgYSBtaXh0dXJlIG9mIGEgdG9rZW4gYW5kIGV0aGVyLCByZWNpZXZlIHRoZSBvdXRwdXQgdG9rZW4NCiAgICBmdW5jdGlvbiBxdWlja1RyYWRlKGFkZHJlc3MgdG9rZW5Gcm9tLCBhZGRyZXNzIHRva2VuVG8sIHVpbnQyNTYgaW5wdXQpIHBheWFibGUgZHJhaW5CbG9jayB7DQogICAgICAgIC8vcmVtZW1iZXIgdG8gY2FsbCBUb2tlbihhZGRyZXNzKS5hcHByb3ZlKHRoaXMsIGFtb3VudCkgb3IgdGhpcyBjb250cmFjdCB3aWxsIG5vdCBiZSBhYmxlIHRvIGRvIHRoZSAodG9rZW4pIHRyYW5zZmVyIG9uIHlvdXIgYmVoYWxmLg0KICAgICAgICB1aW50MjU2IGluVmFsdWU7DQogICAgICAgIHVpbnQyNTYgdGVtcEluVmFsdWUgPSBzYWZlQWRkKHRva2VuVG9WYWx1ZShldGhlckNvbnRyYWN0LG1zZy52YWx1ZSksDQogICAgICAgIHRva2VuVG9WYWx1ZSh0b2tlbkZyb20saW5wdXQpKTsNCiAgICAgICAgaW5WYWx1ZSA9IHZhbHVlV2l0aEZlZSh0ZW1wSW5WYWx1ZSk7DQogICAgICAgIHVpbnQyNTYgb3V0VmFsdWUgPSB2YWx1ZVRvVG9rZW4odG9rZW5UbyxpblZhbHVlKTsNCiAgICAgICAgYXNzZXJ0KHZlcmlmaWVkVHJhbnNmZXJGcm9tKHRva2VuRnJvbSxtc2cuc2VuZGVyLGlucHV0KSk7DQogICAgICAgIGlmICh0b2tlblRvID09IGV0aGVyQ29udHJhY3Qpew0KICAgICAgICAgIGFzc2VydChtc2cuc2VuZGVyLmNhbGwudmFsdWUob3V0VmFsdWUpKCkpOyAgDQogICAgICAgIH0gZWxzZSBhc3NlcnQoVG9rZW4odG9rZW5UbykudHJhbnNmZXIobXNnLnNlbmRlciwgb3V0VmFsdWUpKTsNCiAgICAgICAgVHJhZGUodG9rZW5Gcm9tLCB0b2tlblRvLCBtc2cuc2VuZGVyLCBpblZhbHVlKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdmVyaWZpZWRUcmFuc2ZlckZyb20oYWRkcmVzcyB0b2tlbkZyb20sIGFkZHJlc3Mgc2VuZGVyQWRkLCB1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsNCiAgICB1aW50MjU2IGJhbGFuY2VCZWZvcmUgPSBUb2tlbih0b2tlbkZyb20pLmJhbGFuY2VPZih0aGlzKTsNCiAgICBzdWNjZXNzID0gVG9rZW4odG9rZW5Gcm9tKS50cmFuc2ZlckZyb20oc2VuZGVyQWRkLCB0aGlzLCBhbW91bnQpOw0KICAgIHVpbnQyNTYgYmFsYW5jZUFmdGVyID0gVG9rZW4odG9rZW5Gcm9tKS5iYWxhbmNlT2YodGhpcyk7DQogICAgYXNzZXJ0KChzYWZlU3ViKGJhbGFuY2VBZnRlcixiYWxhbmNlQmVmb3JlKT09YW1vdW50KSk7DQogICAgfQ0KDQogICAgDQp9DQoNCi8vbWFuYWdlIFZhbHVlVHJhZGVyIGluIGFuIGF1dG9tYXRlZCB3YXkhDQovL2ZpeGVkIGFtb3VudCBvZiAoMikgaG9sZGVycy9tYW5hZ2VycywNCi8vYmVjYXVzZSBJJ20gdG9vIGxhenkgdG8gbWFrZSBhbnl0aGluZyBtb3JlIGNvbXBsZXguDQpjb250cmFjdCBTaG9wS2VlcGVyIGlzIFNhZmVNYXRoew0KICAgIA0KICAgIFZhbHVlVHJhZGVyIHB1YmxpYyBzaG9wOw0KICAgIGFkZHJlc3MgaG9sZGVyQTsgLy9hY3R1YWxseSBtYW5hZ2VzIHRoZSB0cmFkZXIsIHJlY2lldmVzIGVxdWFsIHNoYXJlIG9mIHByb2ZpdHMNCiAgICBhZGRyZXNzIGhvbGRlckI7IC8vb25seSByZWNpZXZlcyBtYW5hZ2VzIG93biBwcm9maXRzLCAoZm9yIHByb2ZpdC1jb250YWluZXIgdHlwZSBjb250cmFjdHMpDQogICAgDQogICAgDQogICAgbW9kaWZpZXIgb25seUhvbGRlcnMoKXsNCiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gaG9sZGVyQSB8fCBtc2cuc2VuZGVyID09IGhvbGRlckIpOw0KICAgICAgICBfOw0KICAgIH0NCiAgICANCiAgICBtb2RpZmllciBvbmx5QSgpew0KICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBob2xkZXJBKTsNCiAgICAgICAgXzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24oKXsNCiAgICAgICAgLy90aGlzIGNvbnRyYWN0IGlzIG5vdCBncmVlZHksIHNob3VsZCBub3QgaG9sZCBhbnkgdmFsdWUuDQogICAgICAgIHRocm93Ow0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBTaG9wS2VlcGVyKGFkZHJlc3Mgb3RoZXIpew0KICAgICAgICBzaG9wID0gbmV3IFZhbHVlVHJhZGVyKCk7DQogICAgICAgIGhvbGRlckEgPSBtc2cuc2VuZGVyOw0KICAgICAgICBob2xkZXJCID0gb3RoZXI7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGdpdmVBd2F5T3duZXJzaGlwKGFkZHJlc3MgbmV3SG9sZGVyKSBvbmx5SG9sZGVycyB7DQogICAgICAgIGlmKG1zZy5zZW5kZXIgPT0gaG9sZGVyQil7DQogICAgICAgICAgICBob2xkZXJCID0gbmV3SG9sZGVyOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaG9sZGVyQSA9IG5ld0hvbGRlcjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBzcGxpdFByb2ZpdHMoKXsNCiAgICAgICAgdWludDI1NiB1bnByb2Nlc3NlZFByb2ZpdCA9IHNob3AuYmFsYW5jZU9mKHRoaXMpOw0KICAgICAgICB1aW50MjU2IGVxdWFsU2hhcmUgPSB1bnByb2Nlc3NlZFByb2ZpdC8yOw0KICAgICAgICBhc3NlcnQoc2hvcC50cmFuc2Zlcihob2xkZXJBLGVxdWFsU2hhcmUpKTsNCiAgICAgICAgYXNzZXJ0KHNob3AudHJhbnNmZXIoaG9sZGVyQixlcXVhbFNoYXJlKSk7DQogICAgfQ0KICAgIA0KICAgIC8vTWFuYWdlbWVudCBpbnRlcmZhY2UgYmVsb3cNCiAgICANCiAgICBmdW5jdGlvbiB0b2dnbGVEcmFpbigpIG9ubHlBIHsNCiAgICAgICAgc2hvcC50b2dnbGVEcmFpbigpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB0b2dnbGVCdXJuKCkgb25seUEgew0KICAgICAgICBzaG9wLnRvZ2dsZUJ1cm4oKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZGllKCkgb25seUEgew0KICAgICAgICBzaG9wLmRpZSgpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuKGFkZHJlc3MgdG9rZW5fLCB1aW50MjU2IGJQXywgdWludDI1NiBiTF8sIHVpbnQyNTYgcEZfKSBvbmx5SG9sZGVycyB7DQogICAgICAgIHNob3AudmFsaWRhdGVUb2tlbih0b2tlbl8sYlBfLGJMXyxwRl8pOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjb25maWd1cmVUb2tlbkRpdmlkZW5kKGFkZHJlc3MgdG9rZW5fLCBib29sIGhEXywgYWRkcmVzcyBkQV8sIGJ5dGVzIGREXykgb25seUEgew0KICAgICAgICBzaG9wLmNvbmZpZ3VyZVRva2VuRGl2aWRlbmQodG9rZW5fLGhEXyxkQV8sZERfKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY2FsbERpdmlkZW5kKGFkZHJlc3MgdG9rZW5fKSBvbmx5QSB7DQogICAgICAgIHNob3AuY2FsbERpdmlkZW5kKHRva2VuXyk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGludmFsaWRhdGVUb2tlbihhZGRyZXNzIHRva2VuXykgb25seUhvbGRlcnMgew0KICAgICAgICBzaG9wLmludmFsaWRhdGVUb2tlbih0b2tlbl8pOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG93bmVyXykgb25seUEgew0KICAgICAgICBpZihob2xkZXJCID09IGhvbGRlckEpeyANCiAgICAgICAgICAgIC8vaWYgaG9sZGVyIGhhcyBmdWxsIG93bmVyc2hpcCwgdGhleSBjYW4gZGlzY2FyZCB0aGlzIG1hbmFnZW1lbnQgY29udHJhY3QNCiAgICAgICAgICAgIHNob3AuY2hhbmdlT3duZXIob3duZXJfKTsgDQogICAgICAgIH0NCiAgICAgICAgaG9sZGVyQSA9IG93bmVyXzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gY2hhbmdlU2hvcChhZGRyZXNzIG5ld1Nob3ApIG9ubHlBIHsNCiAgICAgICAgaWYoaG9sZGVyQiA9PSBob2xkZXJBKXsNCiAgICAgICAgICAgIC8vaWYgaG9sZGVyIGhhcyBmdWxsIG93bmVyc2hpcCwgdGhleSBjYW4gcmVlbmdhZ2UgdGhlIHNob3AgY29udHJhY3QNCiAgICAgICAgICAgIHNob3AgPSBWYWx1ZVRyYWRlcihuZXdTaG9wKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VGZWUodWludDI1NiB0cmFkZUZlZSkgb25seUhvbGRlcnMgew0KICAgICAgICBzaG9wLmNoYW5nZUZlZSh0cmFkZUZlZSk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGNoYW5nZUV0aGVyQ29udHJhY3QoYWRkcmVzcyBlQykgb25seUhvbGRlcnMgew0KICAgICAgICBzaG9wLmNoYW5nZUV0aGVyQ29udHJhY3QoZUMpOw0KICAgIH0NCn0NCg0KLy90aGlzIGNvbnRyYWN0IHNob3VsZCBiZSBob2xkZXJCIGluIHRoZSBzaG9wS2VlcGVyIGNvbnRyYWN0Lg0KY29udHJhY3QgUHJvZml0Q29udGFpbmVyQWRhcHRlciBpcyBTYWZlTWF0aHsNCiAgICANCiAgICBhZGRyZXNzIG93bmVyOw0KICAgIGFkZHJlc3Mgc2hvcExvY2F0aW9uOw0KICAgIGFkZHJlc3Mgc2hvcEtlZXBlckxvY2F0aW9uOw0KICAgIGFkZHJlc3MgcHJvZml0Q29udGFpbmVyTG9jYXRpb247DQogICAgDQogICAgbW9kaWZpZXIgb3duZWQoKXsNCiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOw0KICAgICAgICBfOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VTaG9wKGFkZHJlc3MgbmV3U2hvcCkgb3duZWQgew0KICAgICAgICBzaG9wTG9jYXRpb24gPSBuZXdTaG9wOw0KICAgIH0NCiAgICANCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VLZWVwZXIoYWRkcmVzcyBuZXdLZWVwZXIpIG93bmVkIHsNCiAgICAgICAgc2hvcEtlZXBlckxvY2F0aW9uID0gbmV3S2VlcGVyOw0KICAgIH0NCiAgICANCiAgICANCiAgICBmdW5jdGlvbiBjaGFuZ2VDb250YWluZXIoYWRkcmVzcyBuZXdDb250YWluZXIpIG93bmVkIHsNCiAgICAgICAgcHJvZml0Q29udGFpbmVyTG9jYXRpb24gPSBuZXdDb250YWluZXI7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIFByb2ZpdENvbnRhaW5lckFkYXB0ZXIoYWRkcmVzcyBzTCwgYWRkcmVzcyBzS0wsIGFkZHJlc3MgcENMKXsNCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICAgICAgICBzaG9wTG9jYXRpb24gPSBzTDsNCiAgICAgICAgc2hvcEtlZXBlckxvY2F0aW9uID0gc0tMOw0KICAgICAgICBwcm9maXRDb250YWluZXJMb2NhdGlvbiA9IHBDTDsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdGFrZUV0aGVyUHJvZml0cygpew0KICAgICAgICBTaG9wS2VlcGVyKHNob3BLZWVwZXJMb2NhdGlvbikuc3BsaXRQcm9maXRzKCk7DQogICAgICAgIFZhbHVlVHJhZGVyIHNob3AgPSBWYWx1ZVRyYWRlcihzaG9wTG9jYXRpb24pOw0KICAgICAgICBzaG9wLmJ1eUV0aGVyKHNob3AuYmFsYW5jZU9mKHRoaXMpKTsNCiAgICAgICAgYXNzZXJ0KHByb2ZpdENvbnRhaW5lckxvY2F0aW9uLmNhbGwudmFsdWUodGhpcy5iYWxhbmNlKSgpKTsNCiAgICB9DQogICAgDQogICAgLy93YXJuaW5nOiB5b3VyIHByb2ZpdCBjb250YWluZXIgbmVlZHMgdG8gYmUgYWJsZSB0byBoYW5kbGUgdG9rZW5zIG9yIHRoaXMgaXMgbG9zdCBmb3JldmVyDQogICAgZnVuY3Rpb24gdGFrZVRva2VuUHJvZml0cyhhZGRyZXNzIHRva2VuKXsNCiAgICAgICAgU2hvcEtlZXBlcihzaG9wS2VlcGVyTG9jYXRpb24pLnNwbGl0UHJvZml0cygpOw0KICAgICAgICBWYWx1ZVRyYWRlciBzaG9wID0gVmFsdWVUcmFkZXIoc2hvcExvY2F0aW9uKTsNCiAgICAgICAgc2hvcC5idXlUb2tlbih0b2tlbixzaG9wLmJhbGFuY2VPZih0aGlzKSk7DQogICAgICAgIGFzc2VydChUb2tlbih0b2tlbikudHJhbnNmZXIocHJvZml0Q29udGFpbmVyTG9jYXRpb24sVG9rZW4odG9rZW4pLmJhbGFuY2VPZih0aGlzKSkpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBnaXZlQXdheUhvbGRlcnNoaXAoYWRkcmVzcyBob2xkZXJCKSBvd25lZCB7DQogICAgICAgIFNob3BLZWVwZXIoc2hvcEtlZXBlckxvY2F0aW9uKS5naXZlQXdheU93bmVyc2hpcChob2xkZXJCKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZ2l2ZUF3YXlPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb3duZWQgew0KICAgICAgICBvd25lciA9IG5ld093bmVyOw0KICAgIH0NCiAgICANCn0='