base 64 content
base64vault
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC42Ow0KDQoNCi8qDQogICAgQ29weXJpZ2h0IDIwMTYsIEpvcmRpIEJheWxpbmENCg0KICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5DQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkNCiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvcg0KICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uDQoNCiAgICBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwNCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZg0KICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUNCiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLg0KDQogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UNCiAgICBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4NCiAqLw0KDQovLy8gQHRpdGxlIFZhdWx0IENvbnRyYWN0DQovLy8gQGF1dGhvciBKb3JkaSBCYXlsaW5hDQovLy8gQG5vdGljZSBUaGlzIGNvbnRyYWN0IGhvbGRzIGZ1bmRzIGZvciBDYW1wYWlnbnMgYW5kIGF1dG9tYXRlcyBwYXltZW50cy4gRm9yDQovLy8gIHRoaXMgaXRlcmF0aW9uIHRoZSBmdW5kcyB3aWxsIGNvbWUgc3RyYWlnaHQgZnJvbSB0aGUgR2l2ZXRoIE11bHRpc2lnIGFzIGENCi8vLyAgc2FmZXR5IHByZWNhdXRpb24sIGJ1dCBvbmNlIGZ1bGx5IHRlc3RlZCBhbmQgb3B0aW1pemVkIHRoaXMgY29udHJhY3Qgd2lsbA0KLy8vICBiZSBhIHNhZmUgcGxhY2UgdG8gc3RvcmUgZnVuZHMgZXF1aXBwZWQgd2l0aCBvcHRpb25hbCB2YXJpYWJsZSB0aW1lIGRlbGF5cw0KLy8vICB0byBhbGxvdyBmb3IgYW4gb3B0aW9uYWwgZXNjYXBlIGhhdGNoDQoNCi8vLyBAZGV2IGBPd25lZGAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IHRoYXQgYXNzaWducyBhbiBgb3duZXJgIHRoYXQgY2FuIGJlDQovLy8gIGxhdGVyIGNoYW5nZWQNCmNvbnRyYWN0IE93bmVkIHsNCiAgICAvLy8gQGRldiBgb3duZXJgIGlzIHRoZSBvbmx5IGFkZHJlc3MgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcw0KICAgIC8vLyBtb2RpZmllcg0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7IGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsgXzsgfQ0KDQogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7DQoNCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgbWVzc2FnZSBzZW5kZXIgdG8gYmUgYG93bmVyYA0KICAgIGZ1bmN0aW9uIE93bmVkKCkgeyBvd25lciA9IG1zZy5zZW5kZXI7fQ0KDQogICAgLy8vIEBub3RpY2UgYG93bmVyYCBjYW4gc3RlcCBkb3duIGFuZCBhc3NpZ24gc29tZSBvdGhlciBhZGRyZXNzIHRvIHRoaXMgcm9sZQ0KICAgIC8vLyBAcGFyYW0gX25ld093bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgb3duZXIuIDB4MCBjYW4gYmUgdXNlZCB0byBjcmVhdGUNCiAgICAvLy8gIGFuIHVub3duZWQgbmV1dHJhbCB2YXVsdCwgaG93ZXZlciB0aGF0IGNhbm5vdCBiZSB1bmRvbmUNCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsNCiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7DQogICAgICAgIE5ld093bmVyKG1zZy5zZW5kZXIsIF9uZXdPd25lcik7DQogICAgfQ0KDQogICAgZXZlbnQgTmV3T3duZXIoYWRkcmVzcyBpbmRleGVkIG9sZE93bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOw0KfQ0KLy8vIEBkZXYgYEVzY2FwYWJsZWAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IGJ1aWx0IG9mZiBvZiB0aGUgYE93bmVkYA0KLy8vICBjb250cmFjdCB0aGF0IGNyZWF0ZXMgYW4gZXNjYXBlIGhhdGNoIGZ1bmN0aW9uIHRvIHNlbmQgaXRzIGV0aGVyIHRvDQovLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCB3aGVuIGNhbGxlZCBieSB0aGUgYGVzY2FwZUhhdGNoQ2FsbGVyYCBpbiB0aGUgY2FzZSB0aGF0DQovLy8gIHNvbWV0aGluZyB1bmV4cGVjdGVkIGhhcHBlbnMNCmNvbnRyYWN0IEVzY2FwYWJsZSBpcyBPd25lZCB7DQogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hDYWxsZXI7DQogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbjsNCg0KICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgYW5kIHRoZQ0KICAgIC8vLyAgYGVzY2FwZUhhdGNoQ2FsbGVyYA0KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoRGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgYSBzYWZlIGxvY2F0aW9uICh1c3UgYQ0KICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdA0KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoQ2FsbGVyIFRoZSBhZGRyZXNzIG9mIGEgdHJ1c3RlZCBhY2NvdW50IG9yIGNvbnRyYWN0IHRvDQogICAgLy8vICBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZQ0KICAgIC8vLyAgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUhhdGNoQ2FsbGVyYCBjYW5ub3QgbW92ZQ0KICAgIC8vLyAgZnVuZHMgb3V0IG9mIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYA0KICAgIGZ1bmN0aW9uIEVzY2FwYWJsZShhZGRyZXNzIF9lc2NhcGVIYXRjaENhbGxlciwgYWRkcmVzcyBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbikgew0KICAgICAgICBlc2NhcGVIYXRjaENhbGxlciA9IF9lc2NhcGVIYXRjaENhbGxlcjsNCiAgICAgICAgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbiA9IF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uOw0KICAgIH0NCg0KICAgIC8vLyBAZGV2IFRoZSBhZGRyZXNzZXMgcHJlYXNzaWduZWQgdGhlIGBlc2NhcGVIYXRjaENhbGxlcmAgcm9sZQ0KICAgIC8vLyAgaXMgdGhlIG9ubHkgYWRkcmVzc2VzIHRoYXQgY2FuIGNhbGwgYSBmdW5jdGlvbiB3aXRoIHRoaXMgbW9kaWZpZXINCiAgICBtb2RpZmllciBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsNCiAgICAgICAgaWYgKChtc2cuc2VuZGVyICE9IGVzY2FwZUhhdGNoQ2FsbGVyKSYmKG1zZy5zZW5kZXIgIT0gb3duZXIpKQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIF87DQogICAgfQ0KDQogICAgLy8vIEBub3RpY2UgVGhlIGBlc2NhcGVIYXRjaCgpYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYXMgYSBsYXN0IHJlc29ydCBpZiBhDQogICAgLy8vIHNlY3VyaXR5IGlzc3VlIGlzIHVuY292ZXJlZCBvciBzb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5lZA0KICAgIGZ1bmN0aW9uIGVzY2FwZUhhdGNoKCkgb25seUVzY2FwZUhhdGNoQ2FsbGVyT3JPd25lciB7DQogICAgICAgIHVpbnQgdG90YWwgPSB0aGlzLmJhbGFuY2U7DQogICAgICAgIC8vIFNlbmQgdGhlIHRvdGFsIGJhbGFuY2Ugb2YgdGhpcyBjb250cmFjdCB0byB0aGUgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gDQogICAgICAgIGlmICghZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbi5zZW5kKHRvdGFsKSkgew0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIH0NCiAgICAgICAgRXNjYXBlSGF0Y2hDYWxsZWQodG90YWwpOw0KICAgIH0NCiAgICAvLy8gQG5vdGljZSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGFzc2lnbmVkIHRvIGNhbGwgYGVzY2FwZUhhdGNoKClgDQogICAgLy8vIEBwYXJhbSBfbmV3RXNjYXBlSGF0Y2hDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QgdG8NCiAgICAvLy8gIGNhbGwgYGVzY2FwZUhhdGNoKClgIHRvIHNlbmQgdGhlIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gdGhlDQogICAgLy8vICBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgaXQgd291bGQgYmUgaWRlYWwgdGhhdCBgZXNjYXBlSGF0Y2hDYWxsZXJgIGNhbm5vdA0KICAgIC8vLyAgbW92ZSBmdW5kcyBvdXQgb2YgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gDQogICAgZnVuY3Rpb24gY2hhbmdlRXNjYXBlQ2FsbGVyKGFkZHJlc3MgX25ld0VzY2FwZUhhdGNoQ2FsbGVyKSBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsNCiAgICAgICAgZXNjYXBlSGF0Y2hDYWxsZXIgPSBfbmV3RXNjYXBlSGF0Y2hDYWxsZXI7DQogICAgfQ0KDQogICAgZXZlbnQgRXNjYXBlSGF0Y2hDYWxsZWQodWludCBhbW91bnQpOw0KfQ0KDQovLy8gQGRldiBgVmF1bHRgIGlzIGEgaGlnaGVyIGxldmVsIGNvbnRyYWN0IGJ1aWx0IG9mZiBvZiB0aGUgYEVzY2FwYWJsZWANCi8vLyAgY29udHJhY3QgdGhhdCBob2xkcyBmdW5kcyBmb3IgQ2FtcGFpZ25zIGFuZCBhdXRvbWF0ZXMgcGF5bWVudHMuDQpjb250cmFjdCBWYXVsdCBpcyBFc2NhcGFibGUgew0KDQogICAgLy8vIEBkZXYgYFBheW1lbnRgIGlzIGEgcHVibGljIHN0cnVjdHVyZSB0aGF0IGRlc2NyaWJlcyB0aGUgZGV0YWlscyBvZg0KICAgIC8vLyAgZWFjaCBwYXltZW50IG1ha2luZyBpdCBlYXN5IHRvIHRyYWNrIHRoZSBtb3ZlbWVudCBvZiBmdW5kcw0KICAgIC8vLyAgdHJhbnNwYXJlbnRseQ0KICAgIHN0cnVjdCBQYXltZW50IHsNCiAgICAgICAgc3RyaW5nIG5hbWU7ICAgICAvLyBXaGF0IGlzIHRoZSBwdXJwb3NlIG9mIHRoaXMgcGF5bWVudA0KICAgICAgICBieXRlczMyIHJlZmVyZW5jZTsgIC8vIFJlZmVyZW5jZSBvZiB0aGUgcGF5bWVudC4NCiAgICAgICAgYWRkcmVzcyBzcGVuZGVyOyAgICAgICAgLy8gV2hvIGlzIHNlbmRpbmcgdGhlIGZ1bmRzDQogICAgICAgIHVpbnQgZWFybGllc3RQYXlUaW1lOyAgIC8vIFRoZSBlYXJsaWVzdCBhIHBheW1lbnQgY2FuIGJlIG1hZGUgKFVuaXggVGltZSkNCiAgICAgICAgYm9vbCBjYW5jZWxlZDsgICAgICAgICAvLyBJZiBUcnVlIHRoZW4gdGhlIHBheW1lbnQgaGFzIGJlZW4gY2FuY2VsZWQNCiAgICAgICAgYm9vbCBwYWlkOyAgICAgICAgICAgICAgLy8gSWYgVHJ1ZSB0aGVuIHRoZSBwYXltZW50IGhhcyBiZWVuIHBhaWQNCiAgICAgICAgYWRkcmVzcyByZWNpcGllbnQ7ICAgICAgLy8gV2hvIGlzIHJlY2VpdmluZyB0aGUgZnVuZHMNCiAgICAgICAgdWludCBhbW91bnQ7ICAgICAgICAgICAgLy8gVGhlIGFtb3VudCBvZiB3ZWkgc2VudCBpbiB0aGUgcGF5bWVudA0KICAgICAgICB1aW50IHNlY3VyaXR5R3VhcmREZWxheTsvLyBUaGUgc2Vjb25kcyBgc2VjdXJpdHlHdWFyZGAgY2FuIGRlbGF5IHBheW1lbnQNCiAgICB9DQoNCiAgICBQYXltZW50W10gcHVibGljIGF1dGhvcml6ZWRQYXltZW50czsNCg0KICAgIGFkZHJlc3MgcHVibGljIHNlY3VyaXR5R3VhcmQ7DQogICAgdWludCBwdWJsaWMgYWJzb2x1dGVNaW5UaW1lTG9jazsNCiAgICB1aW50IHB1YmxpYyB0aW1lTG9jazsNCiAgICB1aW50IHB1YmxpYyBtYXhTZWN1cml0eUd1YXJkRGVsYXk7DQoNCiAgICAvLy8gQGRldiBUaGUgd2hpdGUgbGlzdCBvZiBhcHByb3ZlZCBhZGRyZXNzZXMgYWxsb3dlZCB0byBzZXQgdXAgJiYgcmVjZWl2ZQ0KICAgIC8vLyAgcGF5bWVudHMgZnJvbSB0aGlzIHZhdWx0DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWxsb3dlZFNwZW5kZXJzOw0KDQogICAgLy8vIEBkZXYgVGhlIGFkZHJlc3MgYXNzaWduZWQgdGhlIHJvbGUgb2YgYHNlY3VyaXR5R3VhcmRgIGlzIHRoZSBvbmx5DQogICAgLy8vICBhZGRyZXNzZXMgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcyBtb2RpZmllcg0KICAgIG1vZGlmaWVyIG9ubHlTZWN1cml0eUd1YXJkIHsgaWYgKG1zZy5zZW5kZXIgIT0gc2VjdXJpdHlHdWFyZCkgdGhyb3c7IF87IH0NCg0KICAgIC8vIEBkZXYgRXZlbnRzIHRvIG1ha2UgdGhlIHBheW1lbnQgbW92ZW1lbnRzIGVhc3kgdG8gZmluZCBvbiB0aGUgYmxvY2tjaGFpbg0KICAgIGV2ZW50IFBheW1lbnRBdXRob3JpemVkKHVpbnQgaW5kZXhlZCBpZFBheW1lbnQsIGFkZHJlc3MgaW5kZXhlZCByZWNpcGllbnQsIHVpbnQgYW1vdW50KTsNCiAgICBldmVudCBQYXltZW50RXhlY3V0ZWQodWludCBpbmRleGVkIGlkUGF5bWVudCwgYWRkcmVzcyBpbmRleGVkIHJlY2lwaWVudCwgdWludCBhbW91bnQpOw0KICAgIGV2ZW50IFBheW1lbnRDYW5jZWxlZCh1aW50IGluZGV4ZWQgaWRQYXltZW50KTsNCiAgICBldmVudCBFdGhlclJlY2VpdmVkKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50IGFtb3VudCk7DQogICAgZXZlbnQgU3BlbmRlckF1dGhvcml6YXRpb24oYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIGJvb2wgYXV0aG9yaXplZCk7DQoNCi8vLy8vLy8vLw0KLy8gQ29uc3RydWN0b3INCi8vLy8vLy8vLw0KDQogICAgLy8vIEBub3RpY2UgVGhlIENvbnN0cnVjdG9yIGNyZWF0ZXMgdGhlIFZhdWx0IG9uIHRoZSBibG9ja2NoYWluDQogICAgLy8vIEBwYXJhbSBfZXNjYXBlSGF0Y2hDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QgdG8NCiAgICAvLy8gIGNhbGwgYGVzY2FwZUhhdGNoKClgIHRvIHNlbmQgdGhlIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gdGhlDQogICAgLy8vICBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgaXQgd291bGQgYmUgaWRlYWwgaWYgYGVzY2FwZUhhdGNoQ2FsbGVyYCBjYW5ub3QgbW92ZQ0KICAgIC8vLyAgZnVuZHMgb3V0IG9mIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYA0KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoRGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgYSBzYWZlIGxvY2F0aW9uICh1c3UgYQ0KICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdCBpbiBhbiBlbWVyZ2VuY3kNCiAgICAvLy8gQHBhcmFtIF9hYnNvbHV0ZU1pblRpbWVMb2NrIFRoZSBtaW5pbXVtIG51bWJlciBvZiBzZWNvbmRzIGB0aW1lbG9ja2AgY2FuDQogICAgLy8vICBiZSBzZXQgdG8sIGlmIHNldCB0byAwIHRoZSBgb3duZXJgIGNhbiByZW1vdmUgdGhlIGB0aW1lTG9ja2AgY29tcGxldGVseQ0KICAgIC8vLyBAcGFyYW0gX3RpbWVMb2NrIEluaXRpYWwgbnVtYmVyIG9mIHNlY29uZHMgdGhhdCBwYXltZW50cyBhcmUgZGVsYXllZA0KICAgIC8vLyAgYWZ0ZXIgdGhleSBhcmUgYXV0aG9yaXplZCAoYSBzZWN1cml0eSBwcmVjYXV0aW9uKQ0KICAgIC8vLyBAcGFyYW0gX3NlY3VyaXR5R3VhcmQgQWRkcmVzcyB0aGF0IHdpbGwgYmUgYWJsZSB0byBkZWxheSB0aGUgcGF5bWVudHMNCiAgICAvLy8gIGJleW9uZCB0aGUgaW5pdGlhbCB0aW1lbG9jayByZXF1aXJlbWVudHM7IGNhbiBiZSBzZXQgdG8gMHgwIHRvIHJlbW92ZQ0KICAgIC8vLyAgdGhlIGBzZWN1cml0eUd1YXJkYCBmdW5jdGlvbmFsaXR5DQogICAgLy8vIEBwYXJhbSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5IFRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWNvbmRzIGluIHRvdGFsDQogICAgLy8vICAgdGhhdCBgc2VjdXJpdHlHdWFyZGAgY2FuIGRlbGF5IGEgcGF5bWVudCBzbyB0aGF0IHRoZSBvd25lciBjYW4gY2FuY2VsDQogICAgLy8vICAgdGhlIHBheW1lbnQgaWYgbmVlZGVkDQogICAgZnVuY3Rpb24gVmF1bHQoDQogICAgICAgIGFkZHJlc3MgX2VzY2FwZUhhdGNoQ2FsbGVyLA0KICAgICAgICBhZGRyZXNzIF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uLA0KICAgICAgICB1aW50IF9hYnNvbHV0ZU1pblRpbWVMb2NrLA0KICAgICAgICB1aW50IF90aW1lTG9jaywNCiAgICAgICAgYWRkcmVzcyBfc2VjdXJpdHlHdWFyZCwNCiAgICAgICAgdWludCBfbWF4U2VjdXJpdHlHdWFyZERlbGF5KSBFc2NhcGFibGUoX2VzY2FwZUhhdGNoQ2FsbGVyLCBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbikNCiAgICB7DQogICAgICAgIGFic29sdXRlTWluVGltZUxvY2sgPSBfYWJzb2x1dGVNaW5UaW1lTG9jazsNCiAgICAgICAgdGltZUxvY2sgPSBfdGltZUxvY2s7DQogICAgICAgIHNlY3VyaXR5R3VhcmQgPSBfc2VjdXJpdHlHdWFyZDsNCiAgICAgICAgbWF4U2VjdXJpdHlHdWFyZERlbGF5ID0gX21heFNlY3VyaXR5R3VhcmREZWxheTsNCiAgICB9DQoNCi8vLy8vLy8vLw0KLy8gSGVscGVyIGZ1bmN0aW9ucw0KLy8vLy8vLy8vDQoNCiAgICAvLy8gQG5vdGljZSBTdGF0ZXMgdGhlIHRvdGFsIG51bWJlciBvZiBhdXRob3JpemVkIHBheW1lbnRzIGluIHRoaXMgY29udHJhY3QNCiAgICAvLy8gQHJldHVybiBUaGUgbnVtYmVyIG9mIHBheW1lbnRzIGV2ZXIgYXV0aG9yaXplZCBldmVuIGlmIHRoZXkgd2VyZSBjYW5jZWxlZA0KICAgIGZ1bmN0aW9uIG51bWJlck9mQXV0aG9yaXplZFBheW1lbnRzKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgew0KICAgICAgICByZXR1cm4gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aDsNCiAgICB9DQoNCi8vLy8vLw0KLy8gUmVjZWl2ZSBFdGhlcg0KLy8vLy8vDQoNCiAgICAvLy8gQG5vdGljZSBDYWxsZWQgYW55dGltZSBldGhlciBpcyBzZW50IHRvIHRoZSBjb250cmFjdCAmJiBjcmVhdGVzIGFuIGV2ZW50DQogICAgLy8vIHRvIG1vcmUgZWFzaWx5IHRyYWNrIHRoZSBpbmNvbWluZyB0cmFuc2FjdGlvbnMNCiAgICBmdW5jdGlvbiByZWNlaXZlRXRoZXIoKSBwYXlhYmxlIHsNCiAgICAgICAgRXRoZXJSZWNlaXZlZChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOw0KICAgIH0NCg0KICAgIC8vLyBAbm90aWNlIFRoZSBmYWxsIGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW5ldmVyIGV0aGVyIGlzIHNlbnQgdG8gdGhpcw0KICAgIC8vLyAgY29udHJhY3QNCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsNCiAgICAgICAgcmVjZWl2ZUV0aGVyKCk7DQogICAgfQ0KDQovLy8vLy8vLw0KLy8gU3BlbmRlciBJbnRlcmZhY2UNCi8vLy8vLy8vDQoNCiAgICAvLy8gQG5vdGljZSBvbmx5IGBhbGxvd2VkU3BlbmRlcnNbXWAgQ3JlYXRlcyBhIG5ldyBgUGF5bWVudGANCiAgICAvLy8gQHBhcmFtIF9uYW1lIEJyaWVmIGRlc2NyaXB0aW9uIG9mIHRoZSBwYXltZW50IHRoYXQgaXMgYXV0aG9yaXplZA0KICAgIC8vLyBAcGFyYW0gX3JlZmVyZW5jZSBFeHRlcm5hbCByZWZlcmVuY2Ugb2YgdGhlIHBheW1lbnQNCiAgICAvLy8gQHBhcmFtIF9yZWNpcGllbnQgRGVzdGluYXRpb24gb2YgdGhlIHBheW1lbnQNCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgQW1vdW50IHRvIGJlIHBhaWQgaW4gd2VpDQogICAgLy8vIEBwYXJhbSBfcGF5bWVudERlbGF5IE51bWJlciBvZiBzZWNvbmRzIHRoZSBwYXltZW50IGlzIHRvIGJlIGRlbGF5ZWQsIGlmDQogICAgLy8vICB0aGlzIHZhbHVlIGlzIGJlbG93IGB0aW1lTG9ja2AgdGhlbiB0aGUgYHRpbWVMb2NrYCBkZXRlcm1pbmVzIHRoZSBkZWxheQ0KICAgIC8vLyBAcmV0dXJuIFRoZSBQYXltZW50IElEIG51bWJlciBmb3IgdGhlIG5ldyBhdXRob3JpemVkIHBheW1lbnQNCiAgICBmdW5jdGlvbiBhdXRob3JpemVQYXltZW50KA0KICAgICAgICBzdHJpbmcgX25hbWUsDQogICAgICAgIGJ5dGVzMzIgX3JlZmVyZW5jZSwNCiAgICAgICAgYWRkcmVzcyBfcmVjaXBpZW50LA0KICAgICAgICB1aW50IF9hbW91bnQsDQogICAgICAgIHVpbnQgX3BheW1lbnREZWxheQ0KICAgICkgcmV0dXJucyh1aW50KSB7DQoNCiAgICAgICAgLy8gRmFpbCBpZiB5b3UgYXJlbnQgb24gdGhlIGBhbGxvd2VkU3BlbmRlcnNgIHdoaXRlIGxpc3QNCiAgICAgICAgaWYgKCFhbGxvd2VkU3BlbmRlcnNbbXNnLnNlbmRlcl0gKSB0aHJvdzsNCiAgICAgICAgdWludCBpZFBheW1lbnQgPSBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoOyAgICAgICAvLyBVbmlxdWUgUGF5bWVudCBJRA0KICAgICAgICBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKys7DQoNCiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBsaW5lcyBmaWxsIG91dCB0aGUgcGF5bWVudCBzdHJ1Y3QNCiAgICAgICAgUGF5bWVudCBwID0gYXV0aG9yaXplZFBheW1lbnRzW2lkUGF5bWVudF07DQogICAgICAgIHAuc3BlbmRlciA9IG1zZy5zZW5kZXI7DQoNCiAgICAgICAgLy8gT3ZlcmZsb3cgcHJvdGVjdGlvbg0KICAgICAgICBpZiAoX3BheW1lbnREZWxheSA+IDEwKioxOCkgdGhyb3c7DQoNCiAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgZWFybGllc3QgdGhlIHJlY2lwaWVudCBjYW4gcmVjZWl2ZSBwYXltZW50IChVbml4IHRpbWUpDQogICAgICAgIHAuZWFybGllc3RQYXlUaW1lID0gX3BheW1lbnREZWxheSA+PSB0aW1lTG9jayA/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArIF9wYXltZW50RGVsYXkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyB0aW1lTG9jazsNCiAgICAgICAgcC5yZWNpcGllbnQgPSBfcmVjaXBpZW50Ow0KICAgICAgICBwLmFtb3VudCA9IF9hbW91bnQ7DQogICAgICAgIHAubmFtZSA9IF9uYW1lOw0KICAgICAgICBwLnJlZmVyZW5jZSA9IF9yZWZlcmVuY2U7DQogICAgICAgIFBheW1lbnRBdXRob3JpemVkKGlkUGF5bWVudCwgcC5yZWNpcGllbnQsIHAuYW1vdW50KTsNCiAgICAgICAgcmV0dXJuIGlkUGF5bWVudDsNCiAgICB9DQoNCiAgICAvLy8gQG5vdGljZSBvbmx5IGBhbGxvd2VkU3BlbmRlcnNbXWAgVGhlIHJlY2lwaWVudCBvZiBhIHBheW1lbnQgY2FsbHMgdGhpcw0KICAgIC8vLyAgZnVuY3Rpb24gdG8gc2VuZCB0aGVtc2VsdmVzIHRoZSBldGhlciBhZnRlciB0aGUgYGVhcmxpZXN0UGF5VGltZWAgaGFzDQogICAgLy8vICBleHBpcmVkDQogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IFRoZSBwYXltZW50IElEIHRvIGJlIGV4ZWN1dGVkDQogICAgZnVuY3Rpb24gY29sbGVjdEF1dGhvcml6ZWRQYXltZW50KHVpbnQgX2lkUGF5bWVudCkgew0KDQogICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGBfaWRQYXltZW50YCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcGF5bWVudHMgc3RydWN0DQogICAgICAgIGlmIChfaWRQYXltZW50ID49IGF1dGhvcml6ZWRQYXltZW50cy5sZW5ndGgpIHRocm93Ow0KDQogICAgICAgIFBheW1lbnQgcCA9IGF1dGhvcml6ZWRQYXltZW50c1tfaWRQYXltZW50XTsNCg0KICAgICAgICAvLyBDaGVja2luZyBmb3IgcmVhc29ucyBub3QgdG8gZXhlY3V0ZSB0aGUgcGF5bWVudA0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBwLnJlY2lwaWVudCkgdGhyb3c7DQogICAgICAgIGlmICghYWxsb3dlZFNwZW5kZXJzW3Auc3BlbmRlcl0pIHRocm93Ow0KICAgICAgICBpZiAobm93IDwgcC5lYXJsaWVzdFBheVRpbWUpIHRocm93Ow0KICAgICAgICBpZiAocC5jYW5jZWxlZCkgdGhyb3c7DQogICAgICAgIGlmIChwLnBhaWQpIHRocm93Ow0KICAgICAgICBpZiAodGhpcy5iYWxhbmNlIDwgcC5hbW91bnQpIHRocm93Ow0KDQogICAgICAgIHAucGFpZCA9IHRydWU7IC8vIFNldCB0aGUgcGF5bWVudCB0byBiZWluZyBwYWlkDQogICAgICAgIGlmICghcC5yZWNpcGllbnQuc2VuZChwLmFtb3VudCkpIHsgIC8vIE1ha2UgdGhlIHBheW1lbnQNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIFBheW1lbnRFeGVjdXRlZChfaWRQYXltZW50LCBwLnJlY2lwaWVudCwgcC5hbW91bnQpOw0KICAgICB9DQoNCi8vLy8vLy8vLw0KLy8gU2VjdXJpdHlHdWFyZCBJbnRlcmZhY2UNCi8vLy8vLy8vLw0KDQogICAgLy8vIEBub3RpY2UgYG9ubHlTZWN1cml0eUd1YXJkYCBEZWxheXMgYSBwYXltZW50IGZvciBhIHNldCBudW1iZXIgb2Ygc2Vjb25kcw0KICAgIC8vLyBAcGFyYW0gX2lkUGF5bWVudCBJRCBvZiB0aGUgcGF5bWVudCB0byBiZSBkZWxheWVkDQogICAgLy8vIEBwYXJhbSBfZGVsYXkgVGhlIG51bWJlciBvZiBzZWNvbmRzIHRvIGRlbGF5IHRoZSBwYXltZW50DQogICAgZnVuY3Rpb24gZGVsYXlQYXltZW50KHVpbnQgX2lkUGF5bWVudCwgdWludCBfZGVsYXkpIG9ubHlTZWN1cml0eUd1YXJkIHsNCiAgICAgICAgaWYgKF9pZFBheW1lbnQgPj0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aCkgdGhyb3c7DQoNCiAgICAgICAgLy8gT3ZlcmZsb3cgdGVzdA0KICAgICAgICBpZiAoX2RlbGF5ID4gMTAqKjE4KSB0aHJvdzsNCg0KICAgICAgICBQYXltZW50IHAgPSBhdXRob3JpemVkUGF5bWVudHNbX2lkUGF5bWVudF07DQoNCiAgICAgICAgaWYgKChwLnNlY3VyaXR5R3VhcmREZWxheSArIF9kZWxheSA+IG1heFNlY3VyaXR5R3VhcmREZWxheSkgfHwNCiAgICAgICAgICAgIChwLnBhaWQpIHx8DQogICAgICAgICAgICAocC5jYW5jZWxlZCkpDQogICAgICAgICAgICB0aHJvdzsNCg0KICAgICAgICBwLnNlY3VyaXR5R3VhcmREZWxheSArPSBfZGVsYXk7DQogICAgICAgIHAuZWFybGllc3RQYXlUaW1lICs9IF9kZWxheTsNCiAgICB9DQoNCi8vLy8vLy8vDQovLyBPd25lciBJbnRlcmZhY2UNCi8vLy8vLy8NCg0KICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIENhbmNlbCBhIHBheW1lbnQgYWxsIHRvZ2V0aGVyDQogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IElEIG9mIHRoZSBwYXltZW50IHRvIGJlIGNhbmNlbGVkLg0KICAgIGZ1bmN0aW9uIGNhbmNlbFBheW1lbnQodWludCBfaWRQYXltZW50KSBvbmx5T3duZXIgew0KICAgICAgICBpZiAoX2lkUGF5bWVudCA+PSBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKSB0aHJvdzsNCg0KICAgICAgICBQYXltZW50IHAgPSBhdXRob3JpemVkUGF5bWVudHNbX2lkUGF5bWVudF07DQoNCg0KICAgICAgICBpZiAocC5jYW5jZWxlZCkgdGhyb3c7DQogICAgICAgIGlmIChwLnBhaWQpIHRocm93Ow0KDQogICAgICAgIHAuY2FuY2VsZWQgPSB0cnVlOw0KICAgICAgICBQYXltZW50Q2FuY2VsZWQoX2lkUGF5bWVudCk7DQogICAgfQ0KDQogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgQWRkcyBhIHNwZW5kZXIgdG8gdGhlIGBhbGxvd2VkU3BlbmRlcnNbXWAgd2hpdGUgbGlzdA0KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbnRyYWN0IGJlaW5nIGF1dGhvcml6ZWQvdW5hdXRob3JpemVkDQogICAgLy8vIEBwYXJhbSBfYXV0aG9yaXplIGB0cnVlYCBpZiBhdXRob3JpemluZyBhbmQgYGZhbHNlYCBpZiB1bmF1dGhvcml6aW5nDQogICAgZnVuY3Rpb24gYXV0aG9yaXplU3BlbmRlcihhZGRyZXNzIF9zcGVuZGVyLCBib29sIF9hdXRob3JpemUpIG9ubHlPd25lciB7DQogICAgICAgIGFsbG93ZWRTcGVuZGVyc1tfc3BlbmRlcl0gPSBfYXV0aG9yaXplOw0KICAgICAgICBTcGVuZGVyQXV0aG9yaXphdGlvbihfc3BlbmRlciwgX2F1dGhvcml6ZSk7DQogICAgfQ0KDQogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgU2V0cyB0aGUgYWRkcmVzcyBvZiBgc2VjdXJpdHlHdWFyZGANCiAgICAvLy8gQHBhcmFtIF9uZXdTZWN1cml0eUd1YXJkIEFkZHJlc3Mgb2YgdGhlIG5ldyBzZWN1cml0eSBndWFyZA0KICAgIGZ1bmN0aW9uIHNldFNlY3VyaXR5R3VhcmQoYWRkcmVzcyBfbmV3U2VjdXJpdHlHdWFyZCkgb25seU93bmVyIHsNCiAgICAgICAgc2VjdXJpdHlHdWFyZCA9IF9uZXdTZWN1cml0eUd1YXJkOw0KICAgIH0NCg0KICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIENoYW5nZXMgYHRpbWVMb2NrYDsgdGhlIG5ldyBgdGltZUxvY2tgIGNhbm5vdCBiZQ0KICAgIC8vLyAgbG93ZXIgdGhhbiBgYWJzb2x1dGVNaW5UaW1lTG9ja2ANCiAgICAvLy8gQHBhcmFtIF9uZXdUaW1lTG9jayBTZXRzIHRoZSBuZXcgbWluaW11bSBkZWZhdWx0IGB0aW1lTG9ja2AgaW4gc2Vjb25kczsNCiAgICAvLy8gIHBlbmRpbmcgcGF5bWVudHMgbWFpbnRhaW4gdGhlaXIgYGVhcmxpZXN0UGF5VGltZWANCiAgICBmdW5jdGlvbiBzZXRUaW1lbG9jayh1aW50IF9uZXdUaW1lTG9jaykgb25seU93bmVyIHsNCiAgICAgICAgaWYgKF9uZXdUaW1lTG9jayA8IGFic29sdXRlTWluVGltZUxvY2spIHRocm93Ow0KICAgICAgICB0aW1lTG9jayA9IF9uZXdUaW1lTG9jazsNCiAgICB9DQoNCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBDaGFuZ2VzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWNvbmRzDQogICAgLy8vIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgYSBwYXltZW50DQogICAgLy8vIEBwYXJhbSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5IFRoZSBuZXcgbWF4aW11bSBkZWxheSBpbiBzZWNvbmRzIHRoYXQNCiAgICAvLy8gIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgdGhlIHBheW1lbnQncyBleGVjdXRpb24gaW4gdG90YWwNCiAgICBmdW5jdGlvbiBzZXRNYXhTZWN1cml0eUd1YXJkRGVsYXkodWludCBfbWF4U2VjdXJpdHlHdWFyZERlbGF5KSBvbmx5T3duZXIgew0KICAgICAgICBtYXhTZWN1cml0eUd1YXJkRGVsYXkgPSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5Ow0KICAgIH0NCn0='