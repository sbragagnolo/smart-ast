base 64 content
base64vilijavisShares
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KY29udHJhY3QgRm9yZWlnblRva2VuIHsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQp9DQoNCmNvbnRyYWN0IFZpbGlqYXZpc1NoYXJlcyB7DQogICAgYWRkcmVzcyBvd25lciA9IG1zZy5zZW5kZXI7DQoNCiAgICBmdW5jdGlvbiBuYW1lKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7IA0KICAgICAgICByZXR1cm4gIlZpbGlqYXZpcyBTaGFyZXMiOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsgDQogICAgICAgIHJldHVybiAiVkxKIjsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgew0KICAgICAgICByZXR1cm4gMTg7DQogICAgfQ0KICAgIA0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7DQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KDQogICAgZnVuY3Rpb24gaXNDcm93ZHNhbGVBbGxvd2VkKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgew0KICAgICAgICByZXR1cm4gKGN1cnJlbnRSb3VuZEluZGV4ID4gMCkgJiYgKGN1cnJlbnRSb3VuZE11bHRpcGxpZXIgPiAwKSAmJiAoY3VycmVudFJvdW5kQnVkZ2V0ID4gMCk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHJvdW5kUGFyYW1ldGVycyh1aW50MjU2IF9yb3VuZEluZGV4KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2LCB1aW50MjU2KSB7DQogICAgICAgIGlmIChfcm91bmRJbmRleCA9PSAxKSB7DQogICAgICAgICAgICByZXR1cm4gKDIwMCwgICA1MDAgZXRoZXIpOw0KICAgICAgICB9DQogICAgICAgIGlmIChfcm91bmRJbmRleCA9PSAyKSB7DQogICAgICAgICAgICByZXR1cm4gKDE3NSwgIDI1MDAgZXRoZXIpOw0KICAgICAgICB9DQogICAgICAgIGlmIChfcm91bmRJbmRleCA9PSAzKSB7DQogICAgICAgICAgICByZXR1cm4gKDE2MCwgIDYwMDAgZXRoZXIpOw0KICAgICAgICB9DQogICAgICAgIGlmIChfcm91bmRJbmRleCA9PSA0KSB7DQogICAgICAgICAgICByZXR1cm4gKDE1MCwgMTEwMDAgZXRoZXIpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAoMCwgMCk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGN1cnJlbnRSb3VuZFBhcmFtZXRlcnMoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2LCB1aW50MjU2KSB7DQogICAgICAgIHJldHVybiByb3VuZFBhcmFtZXRlcnMoY3VycmVudFJvdW5kSW5kZXgpOw0KICAgIH0NCiAgICANCiAgICB1aW50MjU2IHB1YmxpYyBjdXJyZW50Um91bmRJbmRleCA9IDA7DQogICAgdWludDI1NiBwdWJsaWMgY3VycmVudFJvdW5kTXVsdGlwbGllciA9IDA7DQogICAgdWludDI1NiBwdWJsaWMgY3VycmVudFJvdW5kQnVkZ2V0ID0gMDsNCg0KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQ29udHJpYnV0aW9uID0gMDsNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbElzc3VlZCA9IDA7DQoNCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsNCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsNCg0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgKDIgKiAzMikgKyA0KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChfdmFsdWUgPT0gMCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdWludDI1NiBmcm9tQmFsYW5jZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOw0KDQogICAgICAgIGJvb2wgc3VmZmljaWVudEZ1bmRzID0gZnJvbUJhbGFuY2UgPj0gX3ZhbHVlOw0KICAgICAgICBib29sIG92ZXJmbG93ZWQgPSBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZXNbX3RvXTsNCiAgICAgICAgDQogICAgICAgIGlmIChzdWZmaWNpZW50RnVuZHMgJiYgIW92ZXJmbG93ZWQpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgKDMgKiAzMikgKyA0KSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChfdmFsdWUgPT0gMCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICB1aW50MjU2IGZyb21CYWxhbmNlID0gYmFsYW5jZXNbX2Zyb21dOw0KICAgICAgICB1aW50MjU2IGFsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOw0KDQogICAgICAgIGJvb2wgc3VmZmljaWVudEZ1bmRzID0gZnJvbUJhbGFuY2UgPD0gX3ZhbHVlOw0KICAgICAgICBib29sIHN1ZmZpY2llbnRBbGxvd2FuY2UgPSBhbGxvd2FuY2UgPD0gX3ZhbHVlOw0KICAgICAgICBib29sIG92ZXJmbG93ZWQgPSBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXTsNCg0KICAgICAgICBpZiAoc3VmZmljaWVudEZ1bmRzICYmIHN1ZmZpY2llbnRBbGxvd2FuY2UgJiYgIW92ZXJmbG93ZWQpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIGlmIChfdmFsdWUgIT0gMCAmJiBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICANCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIA0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3Rm9yZWlnblRva2VucyhhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSByZXR1cm5zIChib29sKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgRm9yZWlnblRva2VuIHRva2VuID0gRm9yZWlnblRva2VuKF90b2tlbkNvbnRyYWN0KTsNCg0KICAgICAgICB1aW50MjU2IGFtb3VudCA9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsNCiAgICAgICAgDQogICAgICAgIHJldHVybiB0b2tlbi50cmFuc2Zlcihvd25lciwgYW1vdW50KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdGFydENyb3dkc2FsZSgpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAoY3VycmVudFJvdW5kSW5kZXggPT0gMCkgew0KICAgICAgICAgICAgY3VycmVudFJvdW5kSW5kZXggPSAxOw0KICAgICAgICAgICAgKGN1cnJlbnRSb3VuZE11bHRpcGxpZXIsIGN1cnJlbnRSb3VuZEJ1ZGdldCkgPSBjdXJyZW50Um91bmRQYXJhbWV0ZXJzKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHN0b3BDcm93ZHNhbGUoKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYgKGN1cnJlbnRSb3VuZEluZGV4ID09IDApIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBkbyB7DQogICAgICAgICAgICBjdXJyZW50Um91bmRJbmRleCsrOw0KICAgICAgICB9IHdoaWxlIChpc0Nyb3dkc2FsZUFsbG93ZWQoKSk7DQogICAgICAgIA0KICAgICAgICBjdXJyZW50Um91bmRNdWx0aXBsaWVyID0gMDsNCiAgICAgICAgY3VycmVudFJvdW5kQnVkZ2V0ID0gMDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRTdGF0cygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIGJvb2wpIHsNCiAgICAgICAgdWludDI1NiBtYXhDb250cmlidXRpb24gPSAwOw0KICAgICAgICB1aW50MjU2IG1heElzc3VlZCA9IDA7DQoNCiAgICAgICAgdWludDI1NiBtdWx0aXBsaWVyOw0KICAgICAgICB1aW50MjU2IGJ1ZGdldDsNCg0KICAgICAgICB1aW50MjU2IHJvdW5kID0gMTsNCiAgICAgICAgZG8gew0KICAgICAgICAgICAgKG11bHRpcGxpZXIsIGJ1ZGdldCkgPSByb3VuZFBhcmFtZXRlcnMocm91bmQpOw0KICAgICAgICAgICAgbWF4Q29udHJpYnV0aW9uICs9IGJ1ZGdldDsNCiAgICAgICAgICAgIG1heElzc3VlZCArPSBidWRnZXQgKiBtdWx0aXBsaWVyOw0KICAgICAgICAgICAgcm91bmQrKzsNCiAgICAgICAgfSB3aGlsZSAoKG11bHRpcGxpZXIgPiAwKSAmJiAoYnVkZ2V0ID4gMCkpOw0KICAgICAgICANCiAgICAgICAgdmFyIChjdXJyZW50Um91bmRNdWx0aXBsaWVyLCBjdXJyZW50Um91bmRCdWRnZXQpID0gY3VycmVudFJvdW5kUGFyYW1ldGVycygpOw0KDQogICAgICAgIHJldHVybiAodG90YWxDb250cmlidXRpb24sIG1heENvbnRyaWJ1dGlvbiwgdG90YWxJc3N1ZWQsIG1heElzc3VlZCwgY3VycmVudFJvdW5kTXVsdGlwbGllciwgY3VycmVudFJvdW5kQnVkZ2V0LCBpc0Nyb3dkc2FsZUFsbG93ZWQoKSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfb3duZXIpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBvd25lciA9IF9vd25lcjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbigpIHBheWFibGUgew0KICAgICAgICBpZiAoIWlzQ3Jvd2RzYWxlQWxsb3dlZCgpKSB7DQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IDEgc3phYm8pIHsNCiAgICAgICAgICAgIHRocm93Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICB1aW50MjU2IGV0aGVyc1JlY2VpdmVkID0gbXNnLnZhbHVlOw0KICAgICAgICB1aW50MjU2IGV0aGVyc0NvbnRyaWJ1dGVkID0gMDsNCiAgICAgICAgDQogICAgICAgIHVpbnQyNTYgdG9rZW5zSXNzdWVkID0gMDsNCiAgICAgICAgICAgIA0KICAgICAgICBkbyB7DQogICAgICAgICAgICBpZiAoZXRoZXJzUmVjZWl2ZWQgPj0gY3VycmVudFJvdW5kQnVkZ2V0KSB7DQogICAgICAgICAgICAgICAgZXRoZXJzQ29udHJpYnV0ZWQgKz0gY3VycmVudFJvdW5kQnVkZ2V0Ow0KICAgICAgICAgICAgICAgIHRva2Vuc0lzc3VlZCArPSBjdXJyZW50Um91bmRCdWRnZXQgKiBjdXJyZW50Um91bmRNdWx0aXBsaWVyOw0KDQogICAgICAgICAgICAgICAgZXRoZXJzUmVjZWl2ZWQgLT0gY3VycmVudFJvdW5kQnVkZ2V0Ow0KDQogICAgICAgICAgICAgICAgY3VycmVudFJvdW5kSW5kZXggKz0gMTsNCiAgICAgICAgICAgICAgICAoY3VycmVudFJvdW5kTXVsdGlwbGllciwgY3VycmVudFJvdW5kQnVkZ2V0KSA9IGN1cnJlbnRSb3VuZFBhcmFtZXRlcnMoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZXRoZXJzQ29udHJpYnV0ZWQgKz0gZXRoZXJzUmVjZWl2ZWQ7DQogICAgICAgICAgICAgICAgdG9rZW5zSXNzdWVkICs9IGV0aGVyc1JlY2VpdmVkICogY3VycmVudFJvdW5kTXVsdGlwbGllcjsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjdXJyZW50Um91bmRCdWRnZXQgLT0gZXRoZXJzUmVjZWl2ZWQ7DQoNCiAgICAgICAgICAgICAgICBldGhlcnNSZWNlaXZlZCA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0gd2hpbGUgKChldGhlcnNSZWNlaXZlZCA+IDApICYmIChpc0Nyb3dkc2FsZUFsbG93ZWQoKSkpOw0KICAgICAgICANCiAgICAgICAgb3duZXIudHJhbnNmZXIoZXRoZXJzQ29udHJpYnV0ZWQpOw0KICAgICAgICANCiAgICAgICAgaWYgKGV0aGVyc1JlY2VpdmVkID4gMCkgew0KICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhlcnNSZWNlaXZlZCk7DQogICAgICAgIH0NCg0KICAgICAgICB0b3RhbENvbnRyaWJ1dGlvbiArPSBldGhlcnNDb250cmlidXRlZDsNCg0KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlbnNJc3N1ZWQ7DQogICAgICAgIHRvdGFsSXNzdWVkICs9IHRva2Vuc0lzc3VlZDsNCiAgICAgICAgDQogICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIG1zZy5zZW5kZXIsIHRva2Vuc0lzc3VlZCk7DQogICAgfQ0KfQ=='