base 64 content
base64voteFactory
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgVm90ZUZhY3Rvcnkgew0KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOw0KICAgIHVpbnQgcHVibGljIG51bVBvbGxzOw0KICAgIHVpbnQgcHVibGljIG5leHRFbmRUaW1lOw0KICAgIFZvdGUgcHVibGljIHllc0NvbnRyYWN0Ow0KICAgIFZvdGUgcHVibGljIG5vQ29udHJhY3Q7DQogICAgbWFwcGluZyh1aW50ID0+IHN0cmluZykgcHVibGljIHZvdGVEZXNjcmlwdGlvbjsNCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyh1aW50ID0+IGJvb2wpKSBwdWJsaWMgaGFzVm90ZWQ7DQogICAgbWFwcGluZyh1aW50ID0+IHVpbnQpIHB1YmxpYyBudW1Wb3RlcnM7IC8vIG51bWJlciBvZiB2b3RlcnMgcGVyIHJvdW5kDQogICAgbWFwcGluZyh1aW50ID0+IG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSkgcHVibGljIHZvdGVyOyAvLyBbdm90ZUlkXVt2b3Rlck51bWJlcl0gPT4gYWRkcmVzcw0KICAgIG1hcHBpbmcodWludCA9PiB1aW50KSBwdWJsaWMgeWVzQ291bnQ7IC8vIG51bWJlciBvZiB5ZXMgZm9yIGEgZ2l2ZW4gcm91bmQNCiAgICBtYXBwaW5nKHVpbnQgPT4gdWludCkgcHVibGljIG5vQ291bnQ7DQogICAgDQogICAgZXZlbnQgdHJhbnNmZXJyZWRPd25lcihhZGRyZXNzIG5ld093bmVyKTsNCiAgICBldmVudCBzdGFydGVkTmV3Vm90ZShhZGRyZXNzIGluaXRpYXRvciwgdWludCBkdXJhdGlvbiwgc3RyaW5nIGRlc2NyaXB0aW9uLCB1aW50IHZvdGVJZCk7DQogICAgZXZlbnQgdm90ZWQoYWRkcmVzcyB2b3RlciwgYm9vbCBpc1llcyk7DQogICAgDQogICAgbW9kaWZpZXIgb25seU93bmVyIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpDQogICAgICAgICAgICB0aHJvdzsNCiAgICAgICAgXzsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcihhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgew0KICAgICAgICBvd25lciA9IG5ld093bmVyOw0KICAgICAgICB0cmFuc2ZlcnJlZE93bmVyKG5ld093bmVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBwYXlPdXQoKSBvbmx5T3duZXIgew0KICAgICAgICAvLyBqdXN0IGluIGNhc2Ugd2UgYWNjdW11bGF0ZSBhIGJhbGFuY2UgaGVyZSwgd2UgaGF2ZSB0byBiZSBhYmxlIHRvIHJldHJpZXZlIGl0DQogICAgICAgIG93bmVyLnNlbmQodGhpcy5iYWxhbmNlKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gVm90ZUZhY3RvcnkoKSB7DQogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsNCiAgICAgICAgLy8gY29uc3RydWN0b3IgZGVwbG95cyB5ZXMgYW5kIG5vIGNvbnRyYWN0DQogICAgICAgIHllc0NvbnRyYWN0ID0gbmV3IFZvdGUoKTsNCiAgICAgICAgbm9Db250cmFjdCA9IG5ldyBWb3RlKCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsNCiAgICAgICAgLy8gZGVmYXVsdCBmdW5jdGlvbiBzdGFydHMgbmV3IHBvbGwgaWYgcHJldmlvdXMgcG9sbCBpcyBvdmVyIGZvciBhdCBsZWFzdCAxMCBtaW51dGVzDQogICAgICAgIGlmIChuZXh0RW5kVGltZSA8IG5vdyArIDEwIG1pbnV0ZXMpDQogICAgICAgICAgICBzdGFydE5ld1ZvdGUoMTAgbWludXRlcywgIlZvdGUgb24gdGF4IHJlaW1idXJzZW1lbnRzIik7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIG5ld1ZvdGUodWludCBkdXJhdGlvbiwgc3RyaW5nIGRlc2NyaXB0aW9uKSBvbmx5T3duZXIgew0KICAgICAgICAvLyBvbmx5IGFkbWluIGlzIGFibGUgdG8gc3RhcnQgdm90ZSB3aXRoIGFyYml0cmFyeSBkdXJhdGlvbg0KICAgICAgICBzdGFydE5ld1ZvdGUoZHVyYXRpb24sIGRlc2NyaXB0aW9uKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gc3RhcnROZXdWb3RlKHVpbnQgZHVyYXRpb24sIHN0cmluZyBkZXNjcmlwdGlvbikgaW50ZXJuYWwgew0KICAgICAgICAvLyBkbyBub3QgYWxsb3cgdG8gc3RhcnQgbmV3IHZvdGUgaWYgdGhlcmUncyBzdGlsbCBzb21ldGhpbmcgb25nb2luZw0KICAgICAgICBpZiAobm93IDw9IG5leHRFbmRUaW1lKQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIG5leHRFbmRUaW1lID0gbm93ICsgZHVyYXRpb247DQogICAgICAgIHZvdGVEZXNjcmlwdGlvbltudW1Qb2xsc10gPSBkZXNjcmlwdGlvbjsNCiAgICAgICAgc3RhcnRlZE5ld1ZvdGUobXNnLnNlbmRlciwgZHVyYXRpb24sIGRlc2NyaXB0aW9uLCArK251bVBvbGxzKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gdm90ZShib29sIGlzWWVzLCBhZGRyZXNzIHZvdGVTZW5kZXIpIHsNCiAgICAgICAgDQogICAgICAgIC8vIHZvdGluZyBzaG91bGQganVzdCBiZSBhYmxlIHZpYSB2b3RpbmcgY29udHJhY3QgKHVzZSB0aGVtIGFzIFNXSVMgY29udHJhY3RzKQ0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBhZGRyZXNzKHllc0NvbnRyYWN0KSAmJiBtc2cuc2VuZGVyICE9IGFkZHJlc3Mobm9Db250cmFjdCkpDQogICAgICAgICAgICB0aHJvdzsNCg0KICAgICAgICAvLyB0aHJvdyBpZiB0aW1lIGlzIG92ZXINCiAgICAgICAgaWYgKG5vdyA+IG5leHRFbmRUaW1lKQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgICAgICANCiAgICAgICAgLy8gdGhyb3cgaWYgc2VuZGVyIGhhcyBhbHJlYWR5IHZvdGVkIGJlZm9yZQ0KICAgICAgICBpZiAoaGFzVm90ZWRbdm90ZVNlbmRlcl1bbnVtUG9sbHNdKQ0KICAgICAgICAgICAgdGhyb3c7DQogICAgICAgIA0KICAgICAgICBoYXNWb3RlZFt2b3RlU2VuZGVyXVtudW1Qb2xsc10gPSB0cnVlOw0KICAgICAgICB2b3RlcltudW1Qb2xsc11bbnVtVm90ZXJzW251bVBvbGxzXSsrXSA9IHZvdGVTZW5kZXI7DQogICAgICAgIA0KICAgICAgICBpZiAoaXNZZXMpDQogICAgICAgICAgICB5ZXNDb3VudFtudW1Qb2xsc10rKzsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgbm9Db3VudFtudW1Qb2xsc10rKzsNCg0KICAgICAgICB2b3RlZCh2b3RlU2VuZGVyLCBpc1llcyk7DQogICAgfQ0KfQ0KDQpjb250cmFjdCBWb3RlIHsNCiAgICBWb3RlRmFjdG9yeSBwdWJsaWMgbXlWb3RlRmFjdG9yeTsNCg0KICAgIGZ1bmN0aW9uIFZvdGUoKSB7DQogICAgICAgIC8vIGNvbnN0cnVjdG9yIGV4cGVjdHMgdG8gYmUgY2FsbGVkIGJ5IFZvdGVGYWN0b3J5IGNvbnRyYWN0DQogICAgICAgIG15Vm90ZUZhY3RvcnkgPSBWb3RlRmFjdG9yeShtc2cuc2VuZGVyKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIC8vIG1ha2UgcGF5YWJsZSBzbyB0aGF0IHdhbGxldHMgdGhhdCBjYW5ub3Qgc2VuZCB0eCB3aXRoIDAgV2VpIHN0aWxsIHdvcmsNCiAgICAgICAgbXlWb3RlRmFjdG9yeS52b3RlKHRoaXMgPT0gbXlWb3RlRmFjdG9yeS55ZXNDb250cmFjdCgpLCBtc2cuc2VuZGVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBwYXlPdXQoKSB7DQogICAgICAgIC8vIGp1c3QgdG8gY29sbGVjdCBhY2NpZGVudGFsbHkgYWNjdW11bGF0ZWQgZnVuZHMNCiAgICAgICAgbXNnLnNlbmRlci5zZW5kKHRoaXMuYmFsYW5jZSk7DQogICAgfQ0KfQ=='