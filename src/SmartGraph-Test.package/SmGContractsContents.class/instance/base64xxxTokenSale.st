base 64 content
base64xxxTokenSale
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsNCg0KLyoqDQogKiBAdGl0bGUgU2FmZU1hdGgNCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yDQogKi8NCmxpYnJhcnkgU2FmZU1hdGggew0KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICB1aW50MjU2IGMgPSBhICogYjsNCiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOw0KICAgIHJldHVybiBjOw0KICB9DQoNCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7DQogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwDQogICAgdWludDI1NiBjID0gYSAvIGI7DQogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQNCiAgICByZXR1cm4gYzsNCiAgfQ0KDQogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1Nikgew0KICAgIGFzc2VydChiIDw9IGEpOw0KICAgIHJldHVybiBhIC0gYjsNCiAgfQ0KDQogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1Nikgew0KICAgIHVpbnQyNTYgYyA9IGEgKyBiOw0KICAgIGFzc2VydChjID49IGEpOw0KICAgIHJldHVybiBjOw0KICB9DQp9DQoNCi8qKg0KICogQHRpdGxlIE93bmFibGUNCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wgDQogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLiANCiAqLw0KY29udHJhY3QgT3duYWJsZSB7DQogIGFkZHJlc3MgcHVibGljIG93bmVyOw0KDQoNCiAgLyoqIA0KICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXINCiAgICogYWNjb3VudC4NCiAgICovDQogIGZ1bmN0aW9uIE93bmFibGUoKSB7DQogICAgb3duZXIgPSBtc2cuc2VuZGVyOw0KICB9DQoNCg0KICAvKioNCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiANCiAgICovDQogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsNCiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOw0KICAgIF87DQogIH0NCg0KDQogIC8qKg0KICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLg0KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiANCiAgICovDQogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7DQogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsNCiAgICAgIG93bmVyID0gbmV3T3duZXI7DQogICAgfQ0KICB9DQoNCn0NCg0KDQovKioNCiAqIEB0aXRsZSBFUkMyMEJhc2ljDQogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UNCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkNCiAqLw0KY29udHJhY3QgRVJDMjBCYXNpYyB7DQogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Ow0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsNCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7DQp9DQoNCi8qKg0KICogQHRpdGxlIEJhc2ljIHRva2VuDQogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiANCiAqLw0KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsNCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7DQoNCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOw0KDQogIC8qKg0KICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MNCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLg0KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4NCiAgKi8NCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsNCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsNCiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KICAvKioNCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLg0KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiANCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLg0KICAqLw0KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgew0KICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOw0KICB9DQoNCn0NCg0KDQovKioNCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UNCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMA0KICovDQpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsNCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7DQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOw0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOw0KfQ0KDQovKioNCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbg0KICoNCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLg0KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjANCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wNCiAqLw0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7DQoNCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOw0KDQoNCiAgLyoqDQogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcg0KICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tDQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bw0KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkDQogICAqLw0KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsNCg0KICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldA0KICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsNCg0KICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOw0KICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsNCiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7DQogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8qKg0KICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLg0KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuDQogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuDQogICAqLw0KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7DQoNCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYA0KICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90DQogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6DQogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5DQogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7DQoNCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsNCiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8qKg0KICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuDQogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4NCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuDQogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4NCiAgICovDQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsNCiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsNCiAgfQ0KDQp9DQoNCg0KLyoqDQogKiBAdGl0bGUgTWludGFibGUgdG9rZW4NCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24NCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwDQogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbA0KICovDQoNCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7DQogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7DQogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOw0KDQogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOw0KDQoNCiAgbW9kaWZpZXIgY2FuTWludCgpIHsNCiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOw0KICAgIF87DQogIH0NCg0KICAvKioNCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2Vucw0KICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNpZXZlIHRoZSBtaW50ZWQgdG9rZW5zLg0KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50Lg0KICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLg0KICAgKi8NCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCByZXR1cm5zIChib29sKSB7DQogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7DQogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOw0KICAgIE1pbnQoX3RvLCBfYW1vdW50KTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogIC8qKg0KICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHN0b3AgbWludGluZyBuZXcgdG9rZW5zLg0KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4NCiAgICovDQogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgew0KICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7DQogICAgTWludEZpbmlzaGVkKCk7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCn0NCg0KY29udHJhY3QgWHh4VG9rZW4gaXMgTWludGFibGVUb2tlbiB7DQogICAgLy8gVG9rZW4gSW5mby4NCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiWFhYIFRva2VuIjsNCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJYWFgiOw0KICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4Ow0KfQ0KDQpjb250cmFjdCBYeHhUb2tlblNhbGUgaXMgT3duYWJsZSB7DQogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7DQoNCiAgICAvLyBTYWxlIHBlcmlvZC4NCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydERhdGU7DQogICAgdWludDI1NiBwdWJsaWMgZW5kRGF0ZTsNCg0KICAgIC8vIENhcCBVU0QgMjVtaWwgQCAyMDAgRVRIL1VTRA0KICAgIHVpbnQyNTYgcHVibGljIGNhcDsNCg0KICAgIC8vIEFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZC4NCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7DQoNCiAgICAvLyBBbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaS4NCiAgICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7DQoNCiAgICAvLyBBY3R1YWwgVG9rZW4gY29udHJhY3QNCiAgICBYeHhUb2tlbiBwdWJsaWMgdG9rZW47DQoNCiAgICAvLyBFdmVudA0KICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LA0KICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOw0KICAgIGV2ZW50IFRva2VuUmVzZXJ2ZU1pbnRlZCh1aW50MjU2IGFtb3VudCk7DQoNCiAgICAvLyBNb2RpZmllcnMNCiAgICBtb2RpZmllciBpbml0aWFsaXplZCgpIHsNCiAgICAgICAgcmVxdWlyZShhZGRyZXNzKHRva2VuKSAhPSAweDApOw0KICAgICAgICBfOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFh4eFRva2VuU2FsZSgpIHsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpbml0aWFsaXplKFh4eFRva2VuIF90b2tlbiwgYWRkcmVzcyBfd2FsbGV0LA0KICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfc3RhcnQsIHVpbnQyNTYgX2VuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgX2NhcCkgb25seU93bmVyIHsNCiAgICAgICAgcmVxdWlyZShhZGRyZXNzKHRva2VuKSA9PSBhZGRyZXNzKDApKTsNCiAgICAgICAgcmVxdWlyZShfdG9rZW4ub3duZXIoKSA9PSBhZGRyZXNzKHRoaXMpKTsNCiAgICAgICAgcmVxdWlyZShfc3RhcnQgPj0gZ2V0Q3VycmVudFRpbWVzdGFtcCgpKTsNCiAgICAgICAgcmVxdWlyZShfc3RhcnQgPCBfZW5kKTsNCiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IDB4MCk7DQoNCiAgICAgICAgdG9rZW4gPSBfdG9rZW47DQogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7DQogICAgICAgIHN0YXJ0RGF0ZSA9IF9zdGFydDsNCiAgICAgICAgZW5kRGF0ZSA9IF9lbmQ7DQogICAgICAgIGNhcCA9IF9jYXA7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWVzdGFtcCgpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgcmV0dXJuIG5vdzsNCiAgICB9DQoNCiAgICAvLyBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zDQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7DQogICAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRSYXRlQXQodWludDI1NiBhdCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgew0KICAgICAgICBpZiAoYXQgPCBzdGFydERhdGUpIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKHN0YXJ0RGF0ZSArIDcgZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiAyMDAwOw0KICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKHN0YXJ0RGF0ZSArIDE0IGRheXMpKSB7DQogICAgICAgICAgICByZXR1cm4gMTgwMDsNCiAgICAgICAgfSBlbHNlIGlmIChhdCA8IChzdGFydERhdGUgKyAyMSBkYXlzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDE3MDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoc3RhcnREYXRlICsgMjggZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiAxNjAwOw0KICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKHN0YXJ0RGF0ZSArIDM1IGRheXMpKSB7DQogICAgICAgICAgICByZXR1cm4gMTUwMDsNCiAgICAgICAgfSBlbHNlIGlmIChhdCA8IChzdGFydERhdGUgKyA0OSBkYXlzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDE0MDA7DQogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoc3RhcnREYXRlICsgNjMgZGF5cykpIHsNCiAgICAgICAgICAgIHJldHVybiAxMzAwOw0KICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKHN0YXJ0RGF0ZSArIDc3IGRheXMpKSB7DQogICAgICAgICAgICByZXR1cm4gMTIwMDsNCiAgICAgICAgfSBlbHNlIGlmIChhdCA8PSBlbmREYXRlKSB7DQogICAgICAgICAgICByZXR1cm4gMTEwMDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHBheWFibGUgew0KICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7DQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlICE9IDApOw0KICAgICAgICByZXF1aXJlKHNhbGVBY3RpdmUoKSk7DQoNCiAgICAgICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7DQogICAgICAgIHVpbnQyNTYgdXBkYXRlZFdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsNCg0KICAgICAgICAvLyBDYW4gbm90IGV4Y2VlZCBjYXAuDQogICAgICAgIHJlcXVpcmUodXBkYXRlZFdlaVJhaXNlZCA8PSBjYXApOw0KDQogICAgICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgY3JlYXRlZA0KICAgICAgICB1aW50MjU2IGFjdHVhbFJhdGUgPSBnZXRSYXRlQXQoZ2V0Q3VycmVudFRpbWVzdGFtcCgpKTsNCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSB3ZWlBbW91bnQubXVsKGFjdHVhbFJhdGUpOw0KDQogICAgICAgIC8vIFVwZGF0ZSBzdGF0ZS4NCiAgICAgICAgd2VpUmFpc2VkID0gdXBkYXRlZFdlaVJhaXNlZDsNCg0KICAgICAgICAvLyBNaW50IFRva2VuIGFuZCBnaXZlIGl0IHRvIHNlbmRlci4NCiAgICAgICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgdG9rZW5zKTsNCiAgICAgICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgd2VpQW1vdW50LCB0b2tlbnMpOw0KDQogICAgICAgIC8vIEZvcndhcmQgdGhlIGZ1bmQgdG8gZnVuZCBjb2xsZWN0aW9uIHdhbGxldC4NCiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgew0KICAgICAgICByZXF1aXJlKCFzYWxlQWN0aXZlKCkpOw0KDQogICAgICAgIC8vIEFsbG9jYXRlIDIwJSBmb3IgQWlyUG9ybiAoZm9yIGRldmVsb3BtZW50LCBtYXJrZXRpbmcsIGV0Yy4uLikNCiAgICAgICAgdWludDI1NiB4eHhUb1Jlc2VydmUgPSBTYWZlTWF0aC5kaXYodG9rZW4udG90YWxTdXBwbHkoKSwgNSk7DQogICAgICAgIHRva2VuLm1pbnQod2FsbGV0LCB4eHhUb1Jlc2VydmUpOw0KICAgICAgICBUb2tlblJlc2VydmVNaW50ZWQoeHh4VG9SZXNlcnZlKTsNCg0KICAgICAgICAvLyBGaW5pc2ggbWludGluZyBhcyB3ZSBubyBsb25nZXIgd2FudCB0byBtaW50IGFueSBuZXcgdG9rZW4gYWZ0ZXIgdGhlDQogICAgICAgIC8vIHNhbGUuDQogICAgICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzYWxlQWN0aXZlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsNCiAgICAgICAgcmV0dXJuIChnZXRDdXJyZW50VGltZXN0YW1wKCkgPj0gc3RhcnREYXRlICYmDQogICAgICAgICAgICAgICAgZ2V0Q3VycmVudFRpbWVzdGFtcCgpIDw9IGVuZERhdGUgJiYgd2VpUmFpc2VkIDwgY2FwKTsNCiAgICB9DQp9'