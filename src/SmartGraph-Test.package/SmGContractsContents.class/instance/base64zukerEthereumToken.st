base 64 content
base64zukerEthereumToken
	^'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMDsNCg0KY29udHJhY3QgRm9yZWlnblRva2VuIHsNCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOw0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7DQp9DQoNCmNvbnRyYWN0IFp1a2VyRXRoZXJldW1Ub2tlbiB7DQogICAgYWRkcmVzcyBvd25lciA9IG1zZy5zZW5kZXI7DQoNCiAgICBib29sIHB1YmxpYyBwdXJjaGFzaW5nQWxsb3dlZCA9IGZhbHNlOw0KDQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsNCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7DQoNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbENvbnRyaWJ1dGlvbiA9IDA7DQogICAgdWludDI1NiBwdWJsaWMgdG90YWxCb251c1Rva2Vuc0lzc3VlZCA9IDA7DQoNCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDA7DQoNCiAgICBmdW5jdGlvbiBuYW1lKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7IHJldHVybiAiWlVLRVIgQ09JTiI7IH0NCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsgcmV0dXJuICJaVUtLSyI7IH0NCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7IHJldHVybiAxODsgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgeyByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7DQogICAgICAgIC8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sNCiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgKDIgKiAzMikgKyA0KSB7IHRocm93OyB9DQoNCiAgICAgICAgaWYgKF92YWx1ZSA9PSAwKSB7IHJldHVybiBmYWxzZTsgfQ0KDQogICAgICAgIHVpbnQyNTYgZnJvbUJhbGFuY2UgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsNCg0KICAgICAgICBib29sIHN1ZmZpY2llbnRGdW5kcyA9IGZyb21CYWxhbmNlID49IF92YWx1ZTsNCiAgICAgICAgYm9vbCBvdmVyZmxvd2VkID0gYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VzW190b107DQogICAgICAgIA0KICAgICAgICBpZiAoc3VmZmljaWVudEZ1bmRzICYmICFvdmVyZmxvd2VkKSB7DQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7DQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjaw0KICAgICAgICBpZihtc2cuZGF0YS5sZW5ndGggPCAoMyAqIDMyKSArIDQpIHsgdGhyb3c7IH0NCg0KICAgICAgICBpZiAoX3ZhbHVlID09IDApIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgICAgIA0KICAgICAgICB1aW50MjU2IGZyb21CYWxhbmNlID0gYmFsYW5jZXNbX2Zyb21dOw0KICAgICAgICB1aW50MjU2IGFsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOw0KDQogICAgICAgIGJvb2wgc3VmZmljaWVudEZ1bmRzID0gZnJvbUJhbGFuY2UgPD0gX3ZhbHVlOw0KICAgICAgICBib29sIHN1ZmZpY2llbnRBbGxvd2FuY2UgPSBhbGxvd2FuY2UgPD0gX3ZhbHVlOw0KICAgICAgICBib29sIG92ZXJmbG93ZWQgPSBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXTsNCg0KICAgICAgICBpZiAoc3VmZmljaWVudEZ1bmRzICYmIHN1ZmZpY2llbnRBbGxvd2FuY2UgJiYgIW92ZXJmbG93ZWQpIHsNCiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOw0KICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQ0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsNCiAgICAgICAgLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzcGVuZC9hcHByb3ZhbCByYWNlIGNvbmRpdGlvbg0KICAgICAgICBpZiAoX3ZhbHVlICE9IDAgJiYgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgICAgDQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOw0KICAgICAgICANCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsNCiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07DQogICAgfQ0KDQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7DQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7DQoNCiAgICBmdW5jdGlvbiBlbmFibGVQdXJjaGFzaW5nKCkgew0KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgeyB0aHJvdzsgfQ0KDQogICAgICAgIHB1cmNoYXNpbmdBbGxvd2VkID0gdHJ1ZTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXNhYmxlUHVyY2hhc2luZygpIHsNCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsgdGhyb3c7IH0NCg0KICAgICAgICBwdXJjaGFzaW5nQWxsb3dlZCA9IGZhbHNlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHdpdGhkcmF3Rm9yZWlnblRva2VucyhhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSByZXR1cm5zIChib29sKSB7DQogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7IHRocm93OyB9DQoNCiAgICAgICAgRm9yZWlnblRva2VuIHRva2VuID0gRm9yZWlnblRva2VuKF90b2tlbkNvbnRyYWN0KTsNCg0KICAgICAgICB1aW50MjU2IGFtb3VudCA9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsNCiAgICAgICAgcmV0dXJuIHRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFN0YXRzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiwgdWludDI1NiwgdWludDI1NiwgYm9vbCkgew0KICAgICAgICByZXR1cm4gKHRvdGFsQ29udHJpYnV0aW9uLCB0b3RhbFN1cHBseSwgdG90YWxCb251c1Rva2Vuc0lzc3VlZCwgcHVyY2hhc2luZ0FsbG93ZWQpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7DQogICAgICAgIGlmICghcHVyY2hhc2luZ0FsbG93ZWQpIHsgdGhyb3c7IH0NCiAgICAgICAgDQogICAgICAgIGlmIChtc2cudmFsdWUgPT0gMCkgeyByZXR1cm47IH0NCg0KICAgICAgICBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOw0KICAgICAgICB0b3RhbENvbnRyaWJ1dGlvbiArPSBtc2cudmFsdWU7DQoNCiAgICAgICAgdWludDI1NiB0b2tlbnNJc3N1ZWQgPSAobXNnLnZhbHVlICogMTAwMCk7DQoNCiAgICAgICAgaWYgKG1zZy52YWx1ZSA+PSAxMCBmaW5uZXkpIHsNCiAgICAgICAgICAgIHRva2Vuc0lzc3VlZCArPSB0b3RhbENvbnRyaWJ1dGlvbjsNCg0KICAgICAgICAgICAgYnl0ZXMyMCBib251c0hhc2ggPSByaXBlbWQxNjAoYmxvY2suY29pbmJhc2UsIGJsb2NrLm51bWJlciwgYmxvY2sudGltZXN0YW1wKTsNCiAgICAgICAgICAgIGlmIChib251c0hhc2hbMF0gPT0gMCkgew0KICAgICAgICAgICAgICAgIHVpbnQ4IGJvbnVzTXVsdGlwbGllciA9DQogICAgICAgICAgICAgICAgICAgICgoYm9udXNIYXNoWzFdICYgMHgwMSAhPSAwKSA/IDEgOiAwKSArICgoYm9udXNIYXNoWzFdICYgMHgwMiAhPSAwKSA/IDEgOiAwKSArDQogICAgICAgICAgICAgICAgICAgICgoYm9udXNIYXNoWzFdICYgMHgwNCAhPSAwKSA/IDEgOiAwKSArICgoYm9udXNIYXNoWzFdICYgMHgwOCAhPSAwKSA/IDEgOiAwKSArDQogICAgICAgICAgICAgICAgICAgICgoYm9udXNIYXNoWzFdICYgMHgxMCAhPSAwKSA/IDEgOiAwKSArICgoYm9udXNIYXNoWzFdICYgMHgyMCAhPSAwKSA/IDEgOiAwKSArDQogICAgICAgICAgICAgICAgICAgICgoYm9udXNIYXNoWzFdICYgMHg0MCAhPSAwKSA/IDEgOiAwKSArICgoYm9udXNIYXNoWzFdICYgMHg4MCAhPSAwKSA/IDEgOiAwKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB1aW50MjU2IGJvbnVzVG9rZW5zSXNzdWVkID0gKG1zZy52YWx1ZSAqIDEwMDApICogYm9udXNNdWx0aXBsaWVyOw0KICAgICAgICAgICAgICAgIHRva2Vuc0lzc3VlZCArPSBib251c1Rva2Vuc0lzc3VlZDsNCg0KICAgICAgICAgICAgICAgIHRvdGFsQm9udXNUb2tlbnNJc3N1ZWQgKz0gYm9udXNUb2tlbnNJc3N1ZWQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0b3RhbFN1cHBseSArPSB0b2tlbnNJc3N1ZWQ7DQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHRva2Vuc0lzc3VlZDsNCiAgICAgICAgDQogICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIG1zZy5zZW5kZXIsIHRva2Vuc0lzc3VlZCk7DQogICAgfQ0KfQ=='